var ls=Object.defineProperty;var Hi=$=>{throw TypeError($)};var us=($,i,N)=>i in $?ls($,i,{enumerable:!0,configurable:!0,writable:!0,value:N}):$[i]=N;var an=($,i,N)=>us($,typeof i!="symbol"?i+"":i,N),fi=($,i,N)=>i.has($)||Hi("Cannot "+N);var Pe=($,i,N)=>(fi($,i,"read from private field"),N?N.call($):i.get($)),At=($,i,N)=>i.has($)?Hi("Cannot add the same private member more than once"):i instanceof WeakSet?i.add($):i.set($,N),wt=($,i,N,Q)=>(fi($,i,"write to private field"),Q?Q.call($,N):i.set($,N),N),dt=($,i,N)=>(fi($,i,"access private method"),N);var gi=($,i,N,Q)=>({set _(re){wt($,i,re,N)},get _(){return Pe($,i,Q)}});import{_ as _export_sfc,n as nextTick,o as openBlock,c as createElementBlock,a as createBaseVNode,w as withDirectives,v as vModelText,b as createCommentVNode,d as createTextVNode,t as toDisplayString,F as Fragment,r as renderList,e as createStaticVNode,p as pushScopeId,f as popScopeId}from"./index-5MNcRppY.js";function getAugmentedNamespace($){if($.__esModule)return $;var i=$.default;if(typeof i=="function"){var N=function Q(){return this instanceof Q?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};N.prototype=i.prototype}else N={};return Object.defineProperty(N,"__esModule",{value:!0}),Object.keys($).forEach(function(Q){var re=Object.getOwnPropertyDescriptor($,Q);Object.defineProperty(N,Q,re.get?re:{enumerable:!0,get:function(){return $[Q]}})}),N}function commonjsRequire($){throw new Error('Could not dynamically require "'+$+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,N){module.exports=N()})(globalThis,()=>(()=>{var __webpack_modules__=[,($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.UNSUPPORTED_FEATURES=i.TextRenderingMode=i.StreamType=i.RenderingIntentFlag=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FontType=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.AnnotationType=i.AnnotationStateModelType=i.AnnotationReviewState=i.AnnotationReplyType=i.AnnotationMode=i.AnnotationMarkedState=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.arrayByteLength=M,i.arraysToBytes=te,i.assert=v,i.bytesToString=Z,i.createPromiseCapability=$e,i.createValidAbsoluteUrl=k,i.escapeString=Fe,i.getModificationDate=Ue,i.getVerbosityLevel=h,i.info=H,i.isArrayBuffer=qe,i.isArrayEqual=Xe,i.isAscii=Oe,i.objectFromMap=fe,i.objectSize=ae,i.setVerbosityLevel=o,i.shadow=U,i.string32=W,i.stringToBytes=q,i.stringToPDFString=Ce,i.stringToUTF16BEString=Ie,i.stringToUTF8String=Me,i.unreachable=x,i.utf8StringToString=Le,i.warn=L,N(2);const Q=[1,0,0,1,0,0];i.IDENTITY_MATRIX=Q;const re=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=re;const Se=1.35;i.LINE_FACTOR=Se;const Ae=.35;i.LINE_DESCENT_FACTOR=Ae;const A={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=A;const se={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=se;const t="pdfjs_internal_editor_";i.AnnotationEditorPrefix=t;const m={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};i.AnnotationEditorType=m;const ie={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};i.AnnotationEditorParamsType=ie;const z={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=z;const e={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=e;const j={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=j;const f={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=f;const T={MARKED:"Marked",REVIEW:"Review"};i.AnnotationStateModelType=T;const E={MARKED:"Marked",UNMARKED:"Unmarked"};i.AnnotationMarkedState=E;const _={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};i.AnnotationReviewState=_;const y={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=y;const n={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=n;const u={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=u;const p={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=p;const s={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=s;const r={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=r;const l={O:"PageOpen",C:"PageClose"};i.PageActionEventType=l;const c={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};i.StreamType=c;const d={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};i.FontType=d;const K={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=K;const g={NONE:0,BINARY:1,STREAM:2};i.CMapCompressionType=g;const G={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=G;const O={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};i.UNSUPPORTED_FEATURES=O;const w={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=w;let R=K.WARNINGS;function o(De){Number.isInteger(De)&&(R=De)}function h(){return R}function H(De){R>=K.INFOS&&console.log(`Info: ${De}`)}function L(De){R>=K.WARNINGS&&console.log(`Warning: ${De}`)}function x(De){throw new Error(De)}function v(De,Te){De||x(Te)}function F(De){if(!De)return!1;switch(De.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function k(De,Te=null,Ee=null){if(!De)return null;try{if(Ee&&typeof De=="string"){if(Ee.addDefaultProtocol&&De.startsWith("www.")){const tt=De.match(/\./g);tt&&tt.length>=2&&(De=`http://${De}`)}if(Ee.tryConvertEncoding)try{De=Me(De)}catch{}}const ze=Te?new URL(De,Te):new URL(De);if(F(ze))return ze}catch{}return null}function U(De,Te,Ee){return Object.defineProperty(De,Te,{value:Ee,enumerable:!0,configurable:!0,writable:!1}),Ee}const ee=function(){function Te(Ee,ze){this.constructor===Te&&x("Cannot initialize BaseException."),this.message=Ee,this.name=ze}return Te.prototype=new Error,Te.constructor=Te,Te}();i.BaseException=ee;class J extends ee{constructor(Te,Ee){super(Te,"PasswordException"),this.code=Ee}}i.PasswordException=J;class I extends ee{constructor(Te,Ee){super(Te,"UnknownErrorException"),this.details=Ee}}i.UnknownErrorException=I;class X extends ee{constructor(Te){super(Te,"InvalidPDFException")}}i.InvalidPDFException=X;class ne extends ee{constructor(Te){super(Te,"MissingPDFException")}}i.MissingPDFException=ne;class P extends ee{constructor(Te,Ee){super(Te,"UnexpectedResponseException"),this.status=Ee}}i.UnexpectedResponseException=P;class V extends ee{constructor(Te){super(Te,"FormatError")}}i.FormatError=V;class Y extends ee{constructor(Te){super(Te,"AbortException")}}i.AbortException=Y;function Z(De){(typeof De!="object"||De===null||De.length===void 0)&&x("Invalid argument for bytesToString");const Te=De.length,Ee=8192;if(Te<Ee)return String.fromCharCode.apply(null,De);const ze=[];for(let tt=0;tt<Te;tt+=Ee){const ft=Math.min(tt+Ee,Te),Be=De.subarray(tt,ft);ze.push(String.fromCharCode.apply(null,Be))}return ze.join("")}function q(De){typeof De!="string"&&x("Invalid argument for stringToBytes");const Te=De.length,Ee=new Uint8Array(Te);for(let ze=0;ze<Te;++ze)Ee[ze]=De.charCodeAt(ze)&255;return Ee}function M(De){if(De.length!==void 0)return De.length;if(De.byteLength!==void 0)return De.byteLength;x("Invalid argument for arrayByteLength")}function te(De){const Te=De.length;if(Te===1&&De[0]instanceof Uint8Array)return De[0];let Ee=0;for(let ft=0;ft<Te;ft++)Ee+=M(De[ft]);let ze=0;const tt=new Uint8Array(Ee);for(let ft=0;ft<Te;ft++){let Be=De[ft];Be instanceof Uint8Array||(typeof Be=="string"?Be=q(Be):Be=new Uint8Array(Be));const Ne=Be.byteLength;tt.set(Be,ze),ze+=Ne}return tt}function W(De){return String.fromCharCode(De>>24&255,De>>16&255,De>>8&255,De&255)}function ae(De){return Object.keys(De).length}function fe(De){const Te=Object.create(null);for(const[Ee,ze]of De)Te[Ee]=ze;return Te}function de(){const De=new Uint8Array(4);return De[0]=1,new Uint32Array(De.buffer,0,1)[0]===1}function ue(){try{return new Function(""),!0}catch{return!1}}class he{static get isLittleEndian(){return U(this,"isLittleEndian",de())}static get isEvalSupported(){return U(this,"isEvalSupported",ue())}static get isOffscreenCanvasSupported(){return U(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}i.FeatureTest=he;const me=[...Array(256).keys()].map(De=>De.toString(16).padStart(2,"0"));class xe{static makeHexColor(Te,Ee,ze){return`#${me[Te]}${me[Ee]}${me[ze]}`}static scaleMinMax(Te,Ee){let ze;Te[0]?(Te[0]<0&&(ze=Ee[0],Ee[0]=Ee[1],Ee[1]=ze),Ee[0]*=Te[0],Ee[1]*=Te[0],Te[3]<0&&(ze=Ee[2],Ee[2]=Ee[3],Ee[3]=ze),Ee[2]*=Te[3],Ee[3]*=Te[3]):(ze=Ee[0],Ee[0]=Ee[2],Ee[2]=ze,ze=Ee[1],Ee[1]=Ee[3],Ee[3]=ze,Te[1]<0&&(ze=Ee[2],Ee[2]=Ee[3],Ee[3]=ze),Ee[2]*=Te[1],Ee[3]*=Te[1],Te[2]<0&&(ze=Ee[0],Ee[0]=Ee[1],Ee[1]=ze),Ee[0]*=Te[2],Ee[1]*=Te[2]),Ee[0]+=Te[4],Ee[1]+=Te[4],Ee[2]+=Te[5],Ee[3]+=Te[5]}static transform(Te,Ee){return[Te[0]*Ee[0]+Te[2]*Ee[1],Te[1]*Ee[0]+Te[3]*Ee[1],Te[0]*Ee[2]+Te[2]*Ee[3],Te[1]*Ee[2]+Te[3]*Ee[3],Te[0]*Ee[4]+Te[2]*Ee[5]+Te[4],Te[1]*Ee[4]+Te[3]*Ee[5]+Te[5]]}static applyTransform(Te,Ee){const ze=Te[0]*Ee[0]+Te[1]*Ee[2]+Ee[4],tt=Te[0]*Ee[1]+Te[1]*Ee[3]+Ee[5];return[ze,tt]}static applyInverseTransform(Te,Ee){const ze=Ee[0]*Ee[3]-Ee[1]*Ee[2],tt=(Te[0]*Ee[3]-Te[1]*Ee[2]+Ee[2]*Ee[5]-Ee[4]*Ee[3])/ze,ft=(-Te[0]*Ee[1]+Te[1]*Ee[0]+Ee[4]*Ee[1]-Ee[5]*Ee[0])/ze;return[tt,ft]}static getAxialAlignedBoundingBox(Te,Ee){const ze=xe.applyTransform(Te,Ee),tt=xe.applyTransform(Te.slice(2,4),Ee),ft=xe.applyTransform([Te[0],Te[3]],Ee),Be=xe.applyTransform([Te[2],Te[1]],Ee);return[Math.min(ze[0],tt[0],ft[0],Be[0]),Math.min(ze[1],tt[1],ft[1],Be[1]),Math.max(ze[0],tt[0],ft[0],Be[0]),Math.max(ze[1],tt[1],ft[1],Be[1])]}static inverseTransform(Te){const Ee=Te[0]*Te[3]-Te[1]*Te[2];return[Te[3]/Ee,-Te[1]/Ee,-Te[2]/Ee,Te[0]/Ee,(Te[2]*Te[5]-Te[4]*Te[3])/Ee,(Te[4]*Te[1]-Te[5]*Te[0])/Ee]}static apply3dTransform(Te,Ee){return[Te[0]*Ee[0]+Te[1]*Ee[1]+Te[2]*Ee[2],Te[3]*Ee[0]+Te[4]*Ee[1]+Te[5]*Ee[2],Te[6]*Ee[0]+Te[7]*Ee[1]+Te[8]*Ee[2]]}static singularValueDecompose2dScale(Te){const Ee=[Te[0],Te[2],Te[1],Te[3]],ze=Te[0]*Ee[0]+Te[1]*Ee[2],tt=Te[0]*Ee[1]+Te[1]*Ee[3],ft=Te[2]*Ee[0]+Te[3]*Ee[2],Be=Te[2]*Ee[1]+Te[3]*Ee[3],Ne=(ze+Be)/2,ke=Math.sqrt((ze+Be)**2-4*(ze*Be-ft*tt))/2,rt=Ne+ke||1,ot=Ne-ke||1;return[Math.sqrt(rt),Math.sqrt(ot)]}static normalizeRect(Te){const Ee=Te.slice(0);return Te[0]>Te[2]&&(Ee[0]=Te[2],Ee[2]=Te[0]),Te[1]>Te[3]&&(Ee[1]=Te[3],Ee[3]=Te[1]),Ee}static intersect(Te,Ee){const ze=Math.max(Math.min(Te[0],Te[2]),Math.min(Ee[0],Ee[2])),tt=Math.min(Math.max(Te[0],Te[2]),Math.max(Ee[0],Ee[2]));if(ze>tt)return null;const ft=Math.max(Math.min(Te[1],Te[3]),Math.min(Ee[1],Ee[3])),Be=Math.min(Math.max(Te[1],Te[3]),Math.max(Ee[1],Ee[3]));return ft>Be?null:[ze,ft,tt,Be]}static bezierBoundingBox(Te,Ee,ze,tt,ft,Be,Ne,ke){const rt=[],ot=[[],[]];let st,xt,et,ut,kt,Qe,vt,ht;for(let Ct=0;Ct<2;++Ct){if(Ct===0?(xt=6*Te-12*ze+6*ft,st=-3*Te+9*ze-9*ft+3*Ne,et=3*ze-3*Te):(xt=6*Ee-12*tt+6*Be,st=-3*Ee+9*tt-9*Be+3*ke,et=3*tt-3*Ee),Math.abs(st)<1e-12){if(Math.abs(xt)<1e-12)continue;ut=-et/xt,0<ut&&ut<1&&rt.push(ut);continue}vt=xt*xt-4*et*st,ht=Math.sqrt(vt),!(vt<0)&&(kt=(-xt+ht)/(2*st),0<kt&&kt<1&&rt.push(kt),Qe=(-xt-ht)/(2*st),0<Qe&&Qe<1&&rt.push(Qe))}let Ut=rt.length,Ot;const It=Ut;for(;Ut--;)ut=rt[Ut],Ot=1-ut,ot[0][Ut]=Ot*Ot*Ot*Te+3*Ot*Ot*ut*ze+3*Ot*ut*ut*ft+ut*ut*ut*Ne,ot[1][Ut]=Ot*Ot*Ot*Ee+3*Ot*Ot*ut*tt+3*Ot*ut*ut*Be+ut*ut*ut*ke;return ot[0][It]=Te,ot[1][It]=Ee,ot[0][It+1]=Ne,ot[1][It+1]=ke,ot[0].length=ot[1].length=It+2,[Math.min(...ot[0]),Math.min(...ot[1]),Math.max(...ot[0]),Math.max(...ot[1])]}}i.Util=xe;const we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ce(De){if(De[0]>="ï"){let Ee;if(De[0]==="þ"&&De[1]==="ÿ"?Ee="utf-16be":De[0]==="ÿ"&&De[1]==="þ"?Ee="utf-16le":De[0]==="ï"&&De[1]==="»"&&De[2]==="¿"&&(Ee="utf-8"),Ee)try{const ze=new TextDecoder(Ee,{fatal:!0}),tt=q(De);return ze.decode(tt)}catch(ze){L(`stringToPDFString: "${ze}".`)}}const Te=[];for(let Ee=0,ze=De.length;Ee<ze;Ee++){const tt=we[De.charCodeAt(Ee)];Te.push(tt?String.fromCharCode(tt):De.charAt(Ee))}return Te.join("")}function Fe(De){return De.replace(/([()\\\n\r])/g,Te=>Te===`
`?"\\n":Te==="\r"?"\\r":`\\${Te}`)}function Oe(De){return/^[\x00-\x7F]*$/.test(De)}function Ie(De){const Te=["þÿ"];for(let Ee=0,ze=De.length;Ee<ze;Ee++){const tt=De.charCodeAt(Ee);Te.push(String.fromCharCode(tt>>8&255),String.fromCharCode(tt&255))}return Te.join("")}function Me(De){return decodeURIComponent(escape(De))}function Le(De){return unescape(encodeURIComponent(De))}function qe(De){return typeof De=="object"&&De!==null&&De.byteLength!==void 0}function Xe(De,Te){if(De.length!==Te.length)return!1;for(let Ee=0,ze=De.length;Ee<ze;Ee++)if(De[Ee]!==Te[Ee])return!1;return!0}function Ue(De=new Date){return[De.getUTCFullYear().toString(),(De.getUTCMonth()+1).toString().padStart(2,"0"),De.getUTCDate().toString().padStart(2,"0"),De.getUTCHours().toString().padStart(2,"0"),De.getUTCMinutes().toString().padStart(2,"0"),De.getUTCSeconds().toString().padStart(2,"0")].join("")}function $e(){const De=Object.create(null);let Te=!1;return Object.defineProperty(De,"settled",{get(){return Te}}),De.promise=new Promise(function(Ee,ze){De.resolve=function(tt){Te=!0,Ee(tt)},De.reject=function(tt){Te=!0,ze(tt)}}),De}},($,i,N)=>{N(3)},($,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isNodeJS=void 0;const N=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=N},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var $,N,Q,re,Se,Ae,A,se,t,pi,ie,z;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:j,NodeCMapReaderFactory:f,NodeStandardFontDataFactory:T}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=j,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=f,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=T}let createPDFNetworkStream;function setPDFNetworkStreamFactory(j){createPDFNetworkStream=j}function getDocument(j){const f=new PDFDocumentLoadingTask;let T;if(typeof j=="string"||j instanceof URL)T={url:j};else if((0,_util.isArrayBuffer)(j))T={data:j};else if(j instanceof PDFDataRangeTransport)T={range:j};else{if(typeof j!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!j.url&&!j.data&&!j.range)throw new Error("Invalid parameter object: need either .data, .range or .url");T=j}const E=Object.create(null);let _=null,y=null;for(const u in T){const p=T[u];switch(u){case"url":if(typeof window<"u")try{E[u]=new URL(p,window.location).href;continue}catch(s){(0,_util.warn)(`Cannot create valid URL: "${s}".`)}else if(typeof p=="string"||p instanceof URL){E[u]=p.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":_=p;continue;case"worker":y=p;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&p instanceof Buffer)E[u]=new Uint8Array(p);else{if(p instanceof Uint8Array)break;if(typeof p=="string")E[u]=(0,_util.stringToBytes)(p);else if(typeof p=="object"&&p!==null&&!isNaN(p.length))E[u]=new Uint8Array(p);else if((0,_util.isArrayBuffer)(p))E[u]=new Uint8Array(p);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}E[u]=p}if(E.CMapReaderFactory=E.CMapReaderFactory||DefaultCMapReaderFactory,E.StandardFontDataFactory=E.StandardFontDataFactory||DefaultStandardFontDataFactory,E.ignoreErrors=E.stopAtErrors!==!0,E.fontExtraProperties=E.fontExtraProperties===!0,E.pdfBug=E.pdfBug===!0,E.enableXfa=E.enableXfa===!0,(!Number.isInteger(E.rangeChunkSize)||E.rangeChunkSize<1)&&(E.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof E.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(E.docBaseUrl))&&(E.docBaseUrl=null),(!Number.isInteger(E.maxImageSize)||E.maxImageSize<-1)&&(E.maxImageSize=-1),typeof E.cMapUrl!="string"&&(E.cMapUrl=null),typeof E.standardFontDataUrl!="string"&&(E.standardFontDataUrl=null),typeof E.useWorkerFetch!="boolean"&&(E.useWorkerFetch=E.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&E.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof E.isEvalSupported!="boolean"&&(E.isEvalSupported=!0),typeof E.disableFontFace!="boolean"&&(E.disableFontFace=_is_node.isNodeJS),typeof E.useSystemFonts!="boolean"&&(E.useSystemFonts=!_is_node.isNodeJS&&!E.disableFontFace),(typeof E.ownerDocument!="object"||E.ownerDocument===null)&&(E.ownerDocument=globalThis.document),typeof E.disableRange!="boolean"&&(E.disableRange=!1),typeof E.disableStream!="boolean"&&(E.disableStream=!1),typeof E.disableAutoFetch!="boolean"&&(E.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(E.verbosity),!y){const u={verbosity:E.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};y=u.port?PDFWorker.fromPort(u):new PDFWorker(u),f._worker=y}const n=f.docId;return y.promise.then(function(){if(f.destroyed)throw new Error("Loading aborted");const u=_fetchDocument(y,E,_,n),p=new Promise(function(s){let r;_?r=new _transport_stream.PDFDataTransportStream({length:E.length,initialData:E.initialData,progressiveDone:E.progressiveDone,contentDispositionFilename:E.contentDispositionFilename,disableRange:E.disableRange,disableStream:E.disableStream},_):E.data||(r=createPDFNetworkStream({url:E.url,length:E.length,httpHeaders:E.httpHeaders,withCredentials:E.withCredentials,rangeChunkSize:E.rangeChunkSize,disableRange:E.disableRange,disableStream:E.disableStream})),s(r)});return Promise.all([u,p]).then(function([s,r]){if(f.destroyed)throw new Error("Loading aborted");const l=new _message_handler.MessageHandler(n,s,y.port),c=new WorkerTransport(l,f,r,E);f._transport=c,l.send("Ready",null)})}).catch(f._capability.reject),f}async function _fetchDocument(j,f,T,E){if(j.destroyed)throw new Error("Worker was destroyed");T&&(f.length=T.length,f.initialData=T.initialData,f.progressiveDone=T.progressiveDone,f.contentDispositionFilename=T.contentDispositionFilename);const _=await j.messageHandler.sendWithPromise("GetDocRequest",{docId:E,apiVersion:"2.16.105",source:{data:f.data,url:f.url,password:f.password,disableAutoFetch:f.disableAutoFetch,rangeChunkSize:f.rangeChunkSize,length:f.length},maxImageSize:f.maxImageSize,disableFontFace:f.disableFontFace,docBaseUrl:f.docBaseUrl,ignoreErrors:f.ignoreErrors,isEvalSupported:f.isEvalSupported,fontExtraProperties:f.fontExtraProperties,enableXfa:f.enableXfa,useSystemFonts:f.useSystemFonts,cMapUrl:f.useWorkerFetch?f.cMapUrl:null,standardFontDataUrl:f.useWorkerFetch?f.standardFontDataUrl:null});if(f.data&&(f.data=null),j.destroyed)throw new Error("Worker was destroyed");return _}const i=class i{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${gi(i,$)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var f;this.destroyed=!0,await((f=this._transport)==null?void 0:f.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};$=new WeakMap,At(i,$,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(f,T,E=!1,_=null){this.length=f,this.initialData=T,this.progressiveDone=E,this.contentDispositionFilename=_,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(f){this._rangeListeners.push(f)}addProgressListener(f){this._progressListeners.push(f)}addProgressiveReadListener(f){this._progressiveReadListeners.push(f)}addProgressiveDoneListener(f){this._progressiveDoneListeners.push(f)}onDataRange(f,T){for(const E of this._rangeListeners)E(f,T)}onDataProgress(f,T){this._readyCapability.promise.then(()=>{for(const E of this._progressListeners)E(f,T)})}onDataProgressiveRead(f){this._readyCapability.promise.then(()=>{for(const T of this._progressiveReadListeners)T(f)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const f of this._progressiveDoneListeners)f()})}transportReady(){this._readyCapability.resolve()}requestDataRange(f,T){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(f,T){this._pdfInfo=f,this._transport=T,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(f){return this._transport.getPage(f)}getPageIndex(f){return this._transport.getPageIndex(f)}getDestinations(){return this._transport.getDestinations()}getDestination(f){return this._transport.getDestination(f)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(f=!1){return this._transport.startCleanup(f||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(f,T,E,_,y=!1){this._pageIndex=f,this._pageInfo=T,this._ownerDocument=_,this._transport=E,this._stats=y?new _display_utils.StatTimer:null,this._pdfBug=y,this.commonObjs=E.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:f,rotation:T=this.rotate,offsetX:E=0,offsetY:_=0,dontFlip:y=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:f,rotation:T,offsetX:E,offsetY:_,dontFlip:y})}getAnnotations({intent:f="display"}={}){const T=this._transport.getRenderingIntent(f);let E=this._annotationPromises.get(T.cacheKey);return E||(E=this._transport.getAnnotations(this._pageIndex,T.renderingIntent),this._annotationPromises.set(T.cacheKey,E),E=E.then(_=>{for(const y of _)y.titleObj!==void 0&&Object.defineProperty(y,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),y.titleObj.str}}),y.contentsObj!==void 0&&Object.defineProperty(y,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),y.contentsObj.str}});return _})),E}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var f;return((f=this._transport._htmlForXfa)==null?void 0:f.children[this._pageIndex])||null}render({canvasContext:f,viewport:T,intent:E="display",annotationMode:_=_util.AnnotationMode.ENABLE,transform:y=null,imageLayer:n=null,canvasFactory:u=null,background:p=null,optionalContentConfigPromise:s=null,annotationCanvasMap:r=null,pageColors:l=null,printAnnotationStorage:c=null}){var o,h;((o=arguments[0])==null?void 0:o.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&_===_util.AnnotationMode.ENABLE&&(_=_util.AnnotationMode.ENABLE_FORMS)),((h=arguments[0])==null?void 0:h.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&_===_util.AnnotationMode.ENABLE&&(_=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const d=this._transport.getRenderingIntent(E,_,c);this.pendingCleanup=!1,s||(s=this._transport.getOptionalContentConfig());let K=this._intentStates.get(d.cacheKey);K||(K=Object.create(null),this._intentStates.set(d.cacheKey,K)),K.streamReaderCancelTimeout&&(clearTimeout(K.streamReaderCancelTimeout),K.streamReaderCancelTimeout=null);const g=u||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),G=!!(d.renderingIntent&_util.RenderingIntentFlag.PRINT);K.displayReadyCapability||(K.displayReadyCapability=(0,_util.createPromiseCapability)(),K.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(d));const O=H=>{K.renderTasks.delete(w),(this.cleanupAfterRender||G)&&(this.pendingCleanup=!0),this._tryCleanup(),H?(w.capability.reject(H),this._abortOperatorList({intentState:K,reason:H instanceof Error?H:new Error(H)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},w=new InternalRenderTask({callback:O,params:{canvasContext:f,viewport:T,transform:y,imageLayer:n,background:p},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:r,operatorList:K.operatorList,pageIndex:this._pageIndex,canvasFactory:g,useRequestAnimationFrame:!G,pdfBug:this._pdfBug,pageColors:l});(K.renderTasks||(K.renderTasks=new Set)).add(w);const R=w.task;return Promise.all([K.displayReadyCapability.promise,s]).then(([H,L])=>{if(this.pendingCleanup){O();return}this._stats&&this._stats.time("Rendering"),w.initializeGraphics({transparency:H,optionalContentConfig:L}),w.operatorListChanged()}).catch(O),R}getOperatorList({intent:f="display",annotationMode:T=_util.AnnotationMode.ENABLE,printAnnotationStorage:E=null}={}){function _(){n.operatorList.lastChunk&&(n.opListReadCapability.resolve(n.operatorList),n.renderTasks.delete(u))}const y=this._transport.getRenderingIntent(f,T,E,!0);let n=this._intentStates.get(y.cacheKey);n||(n=Object.create(null),this._intentStates.set(y.cacheKey,n));let u;return n.opListReadCapability||(u=Object.create(null),u.operatorListChanged=_,n.opListReadCapability=(0,_util.createPromiseCapability)(),(n.renderTasks||(n.renderTasks=new Set)).add(u),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(y)),n.opListReadCapability.promise}streamTextContent({disableCombineTextItems:f=!1,includeMarkedContent:T=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:f!==!0,includeMarkedContent:T===!0},{highWaterMark:100,size(_){return _.items.length}})}getTextContent(f={}){if(this._transport._htmlForXfa)return this.getXfa().then(E=>_xfa_text.XfaText.textContent(E));const T=this.streamTextContent(f);return new Promise(function(E,_){function y(){n.read().then(function({value:p,done:s}){if(s){E(u);return}Object.assign(u.styles,p.styles),u.items.push(...p.items),y()},_)}const n=T.getReader(),u={items:[],styles:Object.create(null)};y()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const f=[];for(const T of this._intentStates.values())if(this._abortOperatorList({intentState:T,reason:new Error("Page was destroyed."),force:!0}),!T.opListReadCapability)for(const E of T.renderTasks)f.push(E.completed),E.cancel();this.objs.clear();for(const T of this._bitmaps)T.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(f)}cleanup(f=!1){return this.pendingCleanup=!0,this._tryCleanup(f)}_tryCleanup(f=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:T,operatorList:E}of this._intentStates.values())if(T.size>0||!E.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,f&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const T of this._bitmaps)T.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(f,T){const E=this._intentStates.get(T);E&&(this._stats&&this._stats.timeEnd("Page Request"),E.displayReadyCapability&&E.displayReadyCapability.resolve(f))}_renderPageChunk(f,T){for(let E=0,_=f.length;E<_;E++)T.operatorList.fnArray.push(f.fnArray[E]),T.operatorList.argsArray.push(f.argsArray[E]);T.operatorList.lastChunk=f.lastChunk,T.operatorList.separateAnnots=f.separateAnnots;for(const E of T.renderTasks)E.operatorListChanged();f.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:f,cacheKey:T,annotationStorageMap:E}){const y=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:f,cacheKey:T,annotationStorage:E}).getReader(),n=this._intentStates.get(T);n.streamReader=y;const u=()=>{y.read().then(({value:p,done:s})=>{if(s){n.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,n),u())},p=>{if(n.streamReader=null,!this._transport.destroyed){if(n.operatorList){n.operatorList.lastChunk=!0;for(const s of n.renderTasks)s.operatorListChanged();this._tryCleanup()}if(n.displayReadyCapability)n.displayReadyCapability.reject(p);else if(n.opListReadCapability)n.opListReadCapability.reject(p);else throw p}})};u()}_abortOperatorList({intentState:f,reason:T,force:E=!1}){if(f.streamReader){if(!E){if(f.renderTasks.size>0)return;if(T instanceof _display_utils.RenderingCancelledException){f.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:f,reason:T,force:!0}),f.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(f.streamReader.cancel(new _util.AbortException(T.message)).catch(()=>{}),f.streamReader=null,!this._transport.destroyed){for(const[_,y]of this._intentStates)if(y===f){this._intentStates.delete(_);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(f,T){const E={data:structuredClone(f,T)};this._deferred.then(()=>{for(const _ of this._listeners)_.call(this,E)})}addEventListener(f,T){this._listeners.push(T)}removeEventListener(f,T){const E=this._listeners.indexOf(T);this._listeners.splice(E,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const j=(N=document==null?void 0:document.currentScript)==null?void 0:N.src;j&&(PDFWorkerUtil.fallbackWorkerSrc=j.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(j,f){let T;try{if(T=new URL(j),!T.origin||T.origin==="null")return!1}catch{return!1}const E=new URL(f,T);return T.origin===E.origin},PDFWorkerUtil.createCDNWrapper=function(j){const f=`importScripts("${j}");`;return URL.createObjectURL(new Blob([f]))}}const _PDFWorker=class _PDFWorker{constructor({name:j=null,port:f=null,verbosity:T=(0,_util.getVerbosityLevel)()}={}){if(f&&Pe(_PDFWorker,Q).has(f))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=j,this.destroyed=!1,this.verbosity=T,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,f){Pe(_PDFWorker,Q).set(f,this),this._initializeFromPort(f);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(j){this._port=j,this._messageHandler=new _message_handler.MessageHandler("main","worker",j),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:j}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,j)||(j=PDFWorkerUtil.createCDNWrapper(new URL(j,window.location).href));const f=new Worker(j),T=new _message_handler.MessageHandler("main","worker",f),E=()=>{f.removeEventListener("error",_),T.destroy(),f.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},_=()=>{this._webWorker||E()};f.addEventListener("error",_),T.on("test",n=>{if(f.removeEventListener("error",_),this.destroyed){E();return}n?(this._messageHandler=T,this._port=f,this._webWorker=f,this._readyCapability.resolve(),T.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),T.destroy(),f.terminate())}),T.on("ready",n=>{if(f.removeEventListener("error",_),this.destroyed){E();return}try{y()}catch{this._setupFakeWorker()}});const y=()=>{const n=new Uint8Array;T.send("test",n,[n.buffer])};y();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(j=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const f=new LoopbackPort;this._port=f;const T=`fake${PDFWorkerUtil.fakeWorkerId++}`,E=new _message_handler.MessageHandler(T+"_worker",T,f);j.setup(E,f);const _=new _message_handler.MessageHandler(T,T+"_worker",f);this._messageHandler=_,this._readyCapability.resolve(),_.send("configure",{verbosity:this.verbosity})}).catch(j=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${j.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Pe(_PDFWorker,Q).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(j){if(!(j!=null&&j.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Pe(this,Q).has(j.port)?Pe(this,Q).get(j.port):new _PDFWorker(j)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var j;try{return((j=globalThis.pdfjsWorker)==null?void 0:j.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};Q=new WeakMap,At(_PDFWorker,Q,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(f,T,E,_){At(this,re,null);At(this,Se,new Map);At(this,Ae,new Map);At(this,A,null);this.messageHandler=f,this.loadingTask=T,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:T.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:_.ownerDocument,styleElement:_.styleElement}),this._params=_,_.useWorkerFetch||(this.CMapReaderFactory=new _.CMapReaderFactory({baseUrl:_.cMapUrl,isCompressed:_.cMapPacked}),this.StandardFontDataFactory=new _.StandardFontDataFactory({baseUrl:_.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=E,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Pe(this,re)}getRenderingIntent(f,T=_util.AnnotationMode.ENABLE,E=null,_=!1){let y=_util.RenderingIntentFlag.DISPLAY,n=null;switch(f){case"any":y=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":y=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${f}`)}switch(T){case _util.AnnotationMode.DISABLE:y+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:y+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:y+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,n=(y&_util.RenderingIntentFlag.PRINT&&E instanceof _annotation_storage.PrintAnnotationStorage?E:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${T}`)}return _&&(y+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:y,cacheKey:`${y}_${_annotation_storage.AnnotationStorage.getHash(n)}`,annotationStorageMap:n}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const f=[];for(const E of Pe(this,Se).values())f.push(E._destroy());Pe(this,Se).clear(),Pe(this,Ae).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const T=this.messageHandler.sendWithPromise("Terminate",null);return f.push(T),Promise.all(f).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),wt(this,A,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:f,loadingTask:T}=this;f.on("GetReader",(E,_)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=y=>{this._lastProgress={loaded:y.loaded,total:y.total}},_.onPull=()=>{this._fullReader.read().then(function({value:y,done:n}){if(n){_.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(y),"GetReader - expected an ArrayBuffer."),_.enqueue(new Uint8Array(y),1,[y])}).catch(y=>{_.error(y)})},_.onCancel=y=>{this._fullReader.cancel(y),_.ready.catch(n=>{if(!this.destroyed)throw n})}}),f.on("ReaderHeadersReady",E=>{const _=(0,_util.createPromiseCapability)(),y=this._fullReader;return y.headersReady.then(()=>{var n;(!y.isStreamingSupported||!y.isRangeSupported)&&(this._lastProgress&&((n=T.onProgress)==null||n.call(T,this._lastProgress)),y.onProgress=u=>{var p;(p=T.onProgress)==null||p.call(T,{loaded:u.loaded,total:u.total})}),_.resolve({isStreamingSupported:y.isStreamingSupported,isRangeSupported:y.isRangeSupported,contentLength:y.contentLength})},_.reject),_.promise}),f.on("GetRangeReader",(E,_)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const y=this._networkStream.getRangeReader(E.begin,E.end);if(!y){_.close();return}_.onPull=()=>{y.read().then(function({value:n,done:u}){if(u){_.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(n),"GetRangeReader - expected an ArrayBuffer."),_.enqueue(new Uint8Array(n),1,[n])}).catch(n=>{_.error(n)})},_.onCancel=n=>{y.cancel(n),_.ready.catch(u=>{if(!this.destroyed)throw u})}}),f.on("GetDoc",({pdfInfo:E})=>{this._numPages=E.numPages,this._htmlForXfa=E.htmlForXfa,delete E.htmlForXfa,T._capability.resolve(new PDFDocumentProxy(E,this))}),f.on("DocException",function(E){let _;switch(E.name){case"PasswordException":_=new _util.PasswordException(E.message,E.code);break;case"InvalidPDFException":_=new _util.InvalidPDFException(E.message);break;case"MissingPDFException":_=new _util.MissingPDFException(E.message);break;case"UnexpectedResponseException":_=new _util.UnexpectedResponseException(E.message,E.status);break;case"UnknownErrorException":_=new _util.UnknownErrorException(E.message,E.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}T._capability.reject(_)}),f.on("PasswordRequest",E=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),T.onPassword){const _=y=>{y instanceof Error?this._passwordCapability.reject(y):this._passwordCapability.resolve({password:y})};try{T.onPassword(_,E.code)}catch(y){this._passwordCapability.reject(y)}}else this._passwordCapability.reject(new _util.PasswordException(E.message,E.code));return this._passwordCapability.promise}),f.on("DataLoaded",E=>{var _;(_=T.onProgress)==null||_.call(T,{loaded:E.length,total:E.length}),this.downloadInfoCapability.resolve(E)}),f.on("StartRenderPage",E=>{if(this.destroyed)return;Pe(this,Se).get(E.pageIndex)._startRenderPage(E.transparency,E.cacheKey)}),f.on("commonobj",([E,_,y])=>{var n;if(!this.destroyed&&!this.commonObjs.has(E))switch(_){case"Font":const u=this._params;if("error"in y){const r=y.error;(0,_util.warn)(`Error during font loading: ${r}`),this.commonObjs.resolve(E,r);break}let p=null;u.pdfBug&&((n=globalThis.FontInspector)!=null&&n.enabled)&&(p={registerFont(r,l){globalThis.FontInspector.fontAdded(r,l)}});const s=new _font_loader.FontFaceObject(y,{isEvalSupported:u.isEvalSupported,disableFontFace:u.disableFontFace,ignoreErrors:u.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:p});this.fontLoader.bind(s).catch(r=>f.sendWithPromise("FontFallback",{id:E})).finally(()=>{!u.fontExtraProperties&&s.data&&(s.data=null),this.commonObjs.resolve(E,s)});break;case"FontPath":case"Image":this.commonObjs.resolve(E,y);break;default:throw new Error(`Got unknown common object type ${_}`)}}),f.on("obj",([E,_,y,n])=>{var p;if(this.destroyed)return;const u=Pe(this,Se).get(_);if(!u.objs.has(E))switch(y){case"Image":u.objs.resolve(E,n);const s=8e6;if(n){let r;if(n.bitmap){const{bitmap:l,width:c,height:d}=n;r=c*d*4,u._bitmaps.add(l)}else r=((p=n.data)==null?void 0:p.length)||0;r>s&&(u.cleanupAfterRender=!0)}break;case"Pattern":u.objs.resolve(E,n);break;default:throw new Error(`Got unknown object type ${y}`)}}),f.on("DocProgress",E=>{var _;this.destroyed||(_=T.onProgress)==null||_.call(T,{loaded:E.loaded,total:E.total})}),f.on("DocStats",E=>{this.destroyed||wt(this,re,Object.freeze({streamTypes:Object.freeze(E.streamTypes),fontTypes:Object.freeze(E.fontTypes)}))}),f.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),f.on("FetchBuiltInCMap",E=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(E):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),f.on("FetchStandardFontData",E=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(E):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:f}){var T,E;this.destroyed||(E=(T=this.loadingTask).onUnsupportedFeature)==null||E.call(T,f)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(f){if(!Number.isInteger(f)||f<=0||f>this._numPages)return Promise.reject(new Error("Invalid page request."));const T=f-1,E=Pe(this,Ae).get(T);if(E)return E;const _=this.messageHandler.sendWithPromise("GetPage",{pageIndex:T}).then(y=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(T,y,this,this._params.ownerDocument,this._params.pdfBug);return Pe(this,Se).set(T,n),n});return Pe(this,Ae).set(T,_),_}getPageIndex(f){return typeof f!="object"||f===null||!Number.isInteger(f.num)||f.num<0||!Number.isInteger(f.gen)||f.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:f.num,gen:f.gen})}getAnnotations(f,T){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:f,intent:T})}saveDocument(){var f;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((f=this._fullReader)==null?void 0:f.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(f){return typeof f!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:f})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(f){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:f})}getStructTree(f){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:f})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(f=>new _optional_content_config.OptionalContentConfig(f))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Pe(this,A)||wt(this,A,this.messageHandler.sendWithPromise("GetMetadata",null).then(f=>{var T,E;return{info:f[0],metadata:f[1]?new _metadata.Metadata(f[1]):null,contentDispositionFilename:((T=this._fullReader)==null?void 0:T.filename)??null,contentLength:((E=this._fullReader)==null?void 0:E.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(f=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const T of Pe(this,Se).values())if(!T.cleanup())throw new Error(`startCleanup: Page ${T.pageNumber} is currently rendering.`);this.commonObjs.clear(),f||this.fontLoader.clear(),wt(this,A,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const f=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:f.disableAutoFetch,enableXfa:f.enableXfa})}}re=new WeakMap,Se=new WeakMap,Ae=new WeakMap,A=new WeakMap;class PDFObjects{constructor(){At(this,t);At(this,se,Object.create(null))}get(f,T=null){if(T){const _=dt(this,t,pi).call(this,f);return _.capability.promise.then(()=>T(_.data)),null}const E=Pe(this,se)[f];if(!(E!=null&&E.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${f}.`);return E.data}has(f){const T=Pe(this,se)[f];return(T==null?void 0:T.capability.settled)||!1}resolve(f,T=null){const E=dt(this,t,pi).call(this,f);E.data=T,E.capability.resolve()}clear(){wt(this,se,Object.create(null))}}se=new WeakMap,t=new WeakSet,pi=function(f){const T=Pe(this,se)[f];return T||(Pe(this,se)[f]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(f){At(this,ie,null);wt(this,ie,f),this.onContinue=null}get promise(){return Pe(this,ie).capability.promise}cancel(){Pe(this,ie).cancel()}get separateAnnots(){const{separateAnnots:f}=Pe(this,ie).operatorList;if(!f)return!1;const{annotationCanvasMap:T}=Pe(this,ie);return f.form||f.canvas&&(T==null?void 0:T.size)>0}}ie=new WeakMap,exports.RenderTask=RenderTask;const e=class e{constructor({callback:f,params:T,objs:E,commonObjs:_,annotationCanvasMap:y,operatorList:n,pageIndex:u,canvasFactory:p,useRequestAnimationFrame:s=!1,pdfBug:r=!1,pageColors:l=null}){this.callback=f,this.params=T,this.objs=E,this.commonObjs=_,this.annotationCanvasMap=y,this.operatorListIdx=null,this.operatorList=n,this._pageIndex=u,this.canvasFactory=p,this._pdfBug=r,this.pageColors=l,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=s===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=T.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:f=!1,optionalContentConfig:T}){var p;if(this.cancelled)return;if(this._canvas){if(Pe(e,z).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Pe(e,z).add(this._canvas)}this._pdfBug&&((p=globalThis.StepperManager)!=null&&p.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:E,viewport:_,transform:y,imageLayer:n,background:u}=this.params;this.gfx=new _canvas.CanvasGraphics(E,this.commonObjs,this.objs,this.canvasFactory,n,T,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:y,viewport:_,transparency:f,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(f=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Pe(e,z).delete(this._canvas),this.callback(f||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Pe(e,z).delete(this._canvas),this.callback())))}};z=new WeakMap,At(e,z,new WeakSet);let InternalRenderTask=e;const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},($,i,N)=>{var se,Xi,m;Object.defineProperty(i,"__esModule",{value:!0}),i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var Q=N(1),re=N(6),Se=N(10);class Ae{constructor(){At(this,se);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(z,e){const j=this._storage.get(z);return j===void 0?e:Object.assign(e,j)}getRawValue(z){return this._storage.get(z)}remove(z){if(this._storage.delete(z),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this._storage.values())if(e instanceof re.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(z,e){const j=this._storage.get(z);let f=!1;if(j!==void 0)for(const[T,E]of Object.entries(e))j[T]!==E&&(f=!0,j[T]=E);else f=!0,this._storage.set(z,e);f&&dt(this,se,Xi).call(this),e instanceof re.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(z){return this._storage.has(z)}getAll(){return this._storage.size>0?(0,Q.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new A(this)}get serializable(){if(this._storage.size===0)return null;const z=new Map;for(const[e,j]of this._storage){const f=j instanceof re.AnnotationEditor?j.serialize():j;f&&z.set(e,f)}return z}static getHash(z){if(!z)return"";const e=new Se.MurmurHash3_64;for(const[j,f]of z)e.update(`${j}:${JSON.stringify(f)}`);return e.hexdigest()}}se=new WeakSet,Xi=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=Ae;class A extends Ae{constructor(e){super();At(this,m,null);wt(this,m,structuredClone(e.serializable))}get print(){(0,Q.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Pe(this,m)}}m=new WeakMap,i.PrintAnnotationStorage=A},($,i,N)=>{var Ae,A,se,t,m,ie;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var Q=N(7),re=N(1);const z=class z{constructor(j){At(this,Ae,this.focusin.bind(this));At(this,A,this.focusout.bind(this));At(this,se,!1);At(this,t,!1);At(this,m,!1);At(this,ie,z._zIndex++);this.constructor===z&&(0,re.unreachable)("Cannot initialize AnnotationEditor."),this.parent=j.parent,this.id=j.id,this.width=this.height=null,this.pageIndex=j.parent.pageIndex,this.name=j.name,this.div=null;const[f,T]=this.parent.viewportBaseDimensions;this.x=j.x/f,this.y=j.y/T,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,re.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Pe(this,ie)}focusin(j){Pe(this,se)?wt(this,se,!1):this.parent.setSelected(this)}focusout(j){if(!this.isAttachedToDOM)return;const f=j.relatedTarget;f!=null&&f.closest(`#${this.id}`)||(j.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(j){const f=this.parent.div.getBoundingClientRect();this.startX=j.clientX-f.x,this.startY=j.clientY-f.y,j.dataTransfer.setData("text/plain",this.id),j.dataTransfer.effectAllowed="move"}setAt(j,f,T,E){const[_,y]=this.parent.viewportBaseDimensions;[T,E]=this.screenToPageTranslation(T,E),this.x=(j+T)/_,this.y=(f+E)/y,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(j,f){const[T,E]=this.parent.viewportBaseDimensions;[j,f]=this.screenToPageTranslation(j,f),this.x+=j/T,this.y+=f/E,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(j,f){const{rotation:T}=this.parent.viewport;switch(T){case 90:return[f,-j];case 180:return[-j,-f];case 270:return[-f,j];default:return[j,f]}}setDims(j,f){const[T,E]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*j/T}%`,this.div.style.height=`${100*f/E}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Pe(this,Ae)),this.div.addEventListener("focusout",Pe(this,A));const[j,f]=this.getInitialTranslation();return this.translate(j,f),(0,Q.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(j){const f=Q.KeyboardManager.platform.isMac;if(j.button!==0||j.ctrlKey&&f){j.preventDefault();return}j.ctrlKey&&!f||j.shiftKey||j.metaKey&&f?this.parent.toggleSelected(this):this.parent.setSelected(this),wt(this,se,!0)}getRect(j,f){const[T,E]=this.parent.viewportBaseDimensions,[_,y]=this.parent.pageDimensions,n=_*j/T,u=y*f/E,p=this.x*_,s=this.y*y,r=this.width*_,l=this.height*y;switch(this.rotation){case 0:return[p+n,y-s-u-l,p+n+r,y-s-u];case 90:return[p+u,y-s+n,p+u+l,y-s+n+r];case 180:return[p-n-r,y-s+u,p-n,y-s+u+l];case 270:return[p-u-l,y-s-n-r,p-u,y-s-n];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(j,f){const[T,E,_,y]=j,n=_-T,u=y-E;switch(this.rotation){case 0:return[T,f-y,n,u];case 90:return[T,f-E,u,n];case 180:return[_,f-E,n,u];case 270:return[_,f-y,u,n];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){wt(this,m,!0)}disableEditMode(){wt(this,m,!1)}isInEditMode(){return Pe(this,m)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var j;(j=this.div)==null||j.addEventListener("focusin",Pe(this,Ae))}serialize(){(0,re.unreachable)("An editor must be serializable")}static deserialize(j,f){const T=new this.prototype.constructor({parent:f,id:f.getNextId()});T.rotation=j.rotation;const[E,_]=f.pageDimensions,[y,n,u,p]=T.getRectInCurrentCoords(j.rect,_);return T.x=y/E,T.y=n/_,T.width=u/E,T.height=p/_,T}remove(){this.div.removeEventListener("focusin",Pe(this,Ae)),this.div.removeEventListener("focusout",Pe(this,A)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var j;(j=this.div)==null||j.classList.add("selectedEditor")}unselect(){var j;(j=this.div)==null||j.classList.remove("selectedEditor")}updateParams(j,f){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return Pe(this,t)}set isEditing(j){wt(this,t,j),j?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};Ae=new WeakMap,A=new WeakMap,se=new WeakMap,t=new WeakMap,m=new WeakMap,ie=new WeakMap,an(z,"_colorManager",new Q.ColorManager),an(z,"_zIndex",1);let Se=z;i.AnnotationEditor=Se},($,i,N)=>{var e,j,f,T,E,_,Gi,u,s,r,l,c,d,K,g,G,O,w,R,o,h,H,L,x,v,F,zi,mi,xn,ti,Vi,Wi,xi,ni,ri;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=Se,i.opacityToHex=Ae;var Q=N(1),re=N(8);function Se(Z,q,M){for(const te of M)q.addEventListener(te,Z[te].bind(Z))}function Ae(Z){return Math.round(Math.min(255,Math.max(1,255*Z))).toString(16).padStart(2,"0")}class A{constructor(){At(this,e,0)}getId(){return`${Q.AnnotationEditorPrefix}${gi(this,e)._++}`}}e=new WeakMap;class se{constructor(q=128){At(this,j,[]);At(this,f,!1);At(this,T);At(this,E,-1);wt(this,T,q)}add({cmd:q,undo:M,mustExec:te,type:W=NaN,overwriteIfSameType:ae=!1,keepUndo:fe=!1}){if(te&&q(),Pe(this,f))return;const de={cmd:q,undo:M,type:W};if(Pe(this,E)===-1){Pe(this,j).length>0&&(Pe(this,j).length=0),wt(this,E,0),Pe(this,j).push(de);return}if(ae&&Pe(this,j)[Pe(this,E)].type===W){fe&&(de.undo=Pe(this,j)[Pe(this,E)].undo),Pe(this,j)[Pe(this,E)]=de;return}const ue=Pe(this,E)+1;ue===Pe(this,T)?Pe(this,j).splice(0,1):(wt(this,E,ue),ue<Pe(this,j).length&&Pe(this,j).splice(ue)),Pe(this,j).push(de)}undo(){Pe(this,E)!==-1&&(wt(this,f,!0),Pe(this,j)[Pe(this,E)].undo(),wt(this,f,!1),wt(this,E,Pe(this,E)-1))}redo(){Pe(this,E)<Pe(this,j).length-1&&(wt(this,E,Pe(this,E)+1),wt(this,f,!0),Pe(this,j)[Pe(this,E)].cmd(),wt(this,f,!1))}hasSomethingToUndo(){return Pe(this,E)!==-1}hasSomethingToRedo(){return Pe(this,E)<Pe(this,j).length-1}destroy(){wt(this,j,null)}}j=new WeakMap,f=new WeakMap,T=new WeakMap,E=new WeakMap,i.CommandManager=se;const n=class n{constructor(q){At(this,_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const M=n.platform.isMac;for(const[te,W]of q)for(const ae of te){const fe=ae.startsWith("mac+");M&&fe?(this.callbacks.set(ae.slice(4),W),this.allKeys.add(ae.split("+").at(-1))):!M&&!fe&&(this.callbacks.set(ae,W),this.allKeys.add(ae.split("+").at(-1)))}}static get platform(){const q=typeof navigator<"u"?navigator.platform:"";return(0,Q.shadow)(this,"platform",{isWin:q.includes("Win"),isMac:q.includes("Mac")})}exec(q,M){if(!this.allKeys.has(M.key))return;const te=this.callbacks.get(dt(this,_,Gi).call(this,M));te&&(te.bind(q)(),M.stopPropagation(),M.preventDefault())}};_=new WeakSet,Gi=function(q){q.altKey&&this.buffer.push("alt"),q.ctrlKey&&this.buffer.push("ctrl"),q.metaKey&&this.buffer.push("meta"),q.shiftKey&&this.buffer.push("shift"),this.buffer.push(q.key);const M=this.buffer.join("+");return this.buffer.length=0,M};let t=n;i.KeyboardManager=t;class m{constructor(){At(this,u,null)}copy(q){q&&(Array.isArray(q)?wt(this,u,q.map(M=>M.serialize())):wt(this,u,[q.serialize()]),wt(this,u,Pe(this,u).filter(M=>!!M)),Pe(this,u).length===0&&wt(this,u,null))}paste(){return Pe(this,u)}isEmpty(){return Pe(this,u)===null}destroy(){wt(this,u,null)}}u=new WeakMap;const p=class p{get _colors(){const q=new Map([["CanvasText",null],["Canvas",null]]);return(0,re.getColorValues)(q),(0,Q.shadow)(this,"_colors",q)}convert(q){const M=(0,re.getRGB)(q);if(!window.matchMedia("(forced-colors: active)").matches)return M;for(const[te,W]of this._colors)if(W.every((ae,fe)=>ae===M[fe]))return p._colorsMapping.get(te);return M}getHexCode(q){const M=this._colors.get(q);return M?Q.Util.makeHexColor(...M):q}};an(p,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ie=p;i.ColorManager=ie;const Y=class Y{constructor(q,M){At(this,F);At(this,s,null);At(this,r,new Map);At(this,l,new Map);At(this,c,new m);At(this,d,new se);At(this,K,0);At(this,g,null);At(this,G,null);At(this,O,new A);At(this,w,!1);At(this,R,Q.AnnotationEditorType.NONE);At(this,o,new Set);At(this,h,this.keydown.bind(this));At(this,H,this.onEditingAction.bind(this));At(this,L,this.onPageChanging.bind(this));At(this,x,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});At(this,v,null);wt(this,v,q),wt(this,G,M),Pe(this,G)._on("editingaction",Pe(this,H)),Pe(this,G)._on("pagechanging",Pe(this,L))}destroy(){dt(this,F,mi).call(this),Pe(this,G)._off("editingaction",Pe(this,H)),Pe(this,G)._off("pagechanging",Pe(this,L));for(const q of Pe(this,l).values())q.destroy();Pe(this,l).clear(),Pe(this,r).clear(),wt(this,s,null),Pe(this,o).clear(),Pe(this,c).destroy(),Pe(this,d).destroy()}onPageChanging({pageNumber:q}){wt(this,K,q-1)}focusMainContainer(){Pe(this,v).focus()}keydown(q){var M;(M=this.getActive())!=null&&M.shouldGetKeyboardEvents()||Y._keyboardManager.exec(this,q)}onEditingAction(q){["undo","redo","cut","copy","paste","delete","selectAll"].includes(q.name)&&this[q.name]()}setEditingState(q){q?(dt(this,F,zi).call(this),dt(this,F,xn).call(this,{isEditing:Pe(this,R)!==Q.AnnotationEditorType.NONE,isEmpty:dt(this,F,ni).call(this),hasSomethingToUndo:Pe(this,d).hasSomethingToUndo(),hasSomethingToRedo:Pe(this,d).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:Pe(this,c).isEmpty()})):(dt(this,F,mi).call(this),dt(this,F,xn).call(this,{isEditing:!1}))}registerEditorTypes(q){wt(this,g,q);for(const M of Pe(this,g))dt(this,F,ti).call(this,M.defaultPropertiesToUpdate)}getId(){return Pe(this,O).getId()}addLayer(q){Pe(this,l).set(q.pageIndex,q),Pe(this,w)?q.enable():q.disable()}removeLayer(q){Pe(this,l).delete(q.pageIndex)}updateMode(q){if(wt(this,R,q),q===Q.AnnotationEditorType.NONE)this.setEditingState(!1),dt(this,F,Wi).call(this);else{this.setEditingState(!0),dt(this,F,Vi).call(this);for(const M of Pe(this,l).values())M.updateMode(q)}}updateToolbar(q){q!==Pe(this,R)&&Pe(this,G).dispatch("switchannotationeditormode",{source:this,mode:q})}updateParams(q,M){for(const te of Pe(this,o))te.updateParams(q,M);for(const te of Pe(this,g))te.updateDefaultParams(q,M)}getEditors(q){const M=[];for(const te of Pe(this,r).values())te.pageIndex===q&&M.push(te);return M}getEditor(q){return Pe(this,r).get(q)}addEditor(q){Pe(this,r).set(q.id,q)}removeEditor(q){Pe(this,r).delete(q.id),this.unselect(q)}setActiveEditor(q){Pe(this,s)!==q&&(wt(this,s,q),q&&dt(this,F,ti).call(this,q.propertiesToUpdate))}toggleSelected(q){if(Pe(this,o).has(q)){Pe(this,o).delete(q),q.unselect(),dt(this,F,xn).call(this,{hasSelectedEditor:this.hasSelection});return}Pe(this,o).add(q),q.select(),dt(this,F,ti).call(this,q.propertiesToUpdate),dt(this,F,xn).call(this,{hasSelectedEditor:!0})}setSelected(q){for(const M of Pe(this,o))M!==q&&M.unselect();Pe(this,o).clear(),Pe(this,o).add(q),q.select(),dt(this,F,ti).call(this,q.propertiesToUpdate),dt(this,F,xn).call(this,{hasSelectedEditor:!0})}isSelected(q){return Pe(this,o).has(q)}unselect(q){q.unselect(),Pe(this,o).delete(q),dt(this,F,xn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Pe(this,o).size!==0}undo(){Pe(this,d).undo(),dt(this,F,xn).call(this,{hasSomethingToUndo:Pe(this,d).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:dt(this,F,ni).call(this)})}redo(){Pe(this,d).redo(),dt(this,F,xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Pe(this,d).hasSomethingToRedo(),isEmpty:dt(this,F,ni).call(this)})}addCommands(q){Pe(this,d).add(q),dt(this,F,xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:dt(this,F,ni).call(this)})}delete(){if(Pe(this,s)&&Pe(this,s).commitOrRemove(),!this.hasSelection)return;const q=[...Pe(this,o)],M=()=>{for(const W of q)W.remove()},te=()=>{for(const W of q)dt(this,F,xi).call(this,W)};this.addCommands({cmd:M,undo:te,mustExec:!0})}copy(){if(Pe(this,s)&&Pe(this,s).commitOrRemove(),this.hasSelection){const q=[];for(const M of Pe(this,o))M.isEmpty()||q.push(M);if(q.length===0)return;Pe(this,c).copy(q),dt(this,F,xn).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(Pe(this,c).isEmpty())return;this.unselectAll();const q=Pe(this,l).get(Pe(this,K)),M=Pe(this,c).paste().map(ae=>q.deserialize(ae)),te=()=>{for(const ae of M)dt(this,F,xi).call(this,ae);dt(this,F,ri).call(this,M)},W=()=>{for(const ae of M)ae.remove()};this.addCommands({cmd:te,undo:W,mustExec:!0})}selectAll(){for(const q of Pe(this,o))q.commit();dt(this,F,ri).call(this,Pe(this,r).values())}unselectAll(){if(Pe(this,s)){Pe(this,s).commitOrRemove();return}if(dt(this,F,ri).size!==0){for(const q of Pe(this,o))q.unselect();Pe(this,o).clear(),dt(this,F,xn).call(this,{hasSelectedEditor:!1})}}isActive(q){return Pe(this,s)===q}getActive(){return Pe(this,s)}getMode(){return Pe(this,R)}};s=new WeakMap,r=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,K=new WeakMap,g=new WeakMap,G=new WeakMap,O=new WeakMap,w=new WeakMap,R=new WeakMap,o=new WeakMap,h=new WeakMap,H=new WeakMap,L=new WeakMap,x=new WeakMap,v=new WeakMap,F=new WeakSet,zi=function(){Pe(this,v).addEventListener("keydown",Pe(this,h))},mi=function(){Pe(this,v).removeEventListener("keydown",Pe(this,h))},xn=function(q){Object.entries(q).some(([te,W])=>Pe(this,x)[te]!==W)&&Pe(this,G).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Pe(this,x),q)})},ti=function(q){Pe(this,G).dispatch("annotationeditorparamschanged",{source:this,details:q})},Vi=function(){if(!Pe(this,w)){wt(this,w,!0);for(const q of Pe(this,l).values())q.enable()}},Wi=function(){if(this.unselectAll(),Pe(this,w)){wt(this,w,!1);for(const q of Pe(this,l).values())q.disable()}},xi=function(q){const M=Pe(this,l).get(q.pageIndex);M?M.addOrRebuild(q):this.addEditor(q)},ni=function(){if(Pe(this,r).size===0)return!0;if(Pe(this,r).size===1)for(const q of Pe(this,r).values())return q.isEmpty();return!1},ri=function(q){Pe(this,o).clear();for(const M of q)M.isEmpty()||(Pe(this,o).add(M),M.select());dt(this,F,xn).call(this,{hasSelectedEditor:!0})},an(Y,"_keyboardManager",new t([[["ctrl+a","mac+meta+a"],Y.prototype.selectAll],[["ctrl+c","mac+meta+c"],Y.prototype.copy],[["ctrl+v","mac+meta+v"],Y.prototype.paste],[["ctrl+x","mac+meta+x"],Y.prototype.cut],[["ctrl+z","mac+meta+z"],Y.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Y.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Y.prototype.delete],[["Escape","mac+Escape"],Y.prototype.unselectAll]]));let z=Y;i.AnnotationEditorUIManager=z},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=i.AnnotationPrefix=void 0,i.deprecated=p,i.getColorValues=d,i.getCurrentTransform=K,i.getCurrentTransformInverse=g,i.getFilenameFromUrl=E,i.getPdfFilenameFromUrl=_,i.getRGB=c,i.getXfaPageViewport=l,i.isDataScheme=f,i.isPdfFile=T,i.isValidFetchUrl=n,i.loadScript=u;var Q=N(9),re=N(1);const Se="http://www.w3.org/2000/svg",Ae="pdfjs_internal_id_";i.AnnotationPrefix=Ae;const G=class G{};an(G,"CSS",96),an(G,"PDF",72),an(G,"PDF_TO_CSS_UNITS",G.CSS/G.PDF);let A=G;i.PixelsPerInch=A;class se extends Q.BaseCanvasFactory{constructor({ownerDocument:w=globalThis.document}={}){super(),this._document=w}_createCanvas(w,R){const o=this._document.createElement("canvas");return o.width=w,o.height=R,o}}i.DOMCanvasFactory=se;async function t(O,w=!1){if(n(O,document.baseURI)){const R=await fetch(O);if(!R.ok)throw new Error(R.statusText);return w?new Uint8Array(await R.arrayBuffer()):(0,re.stringToBytes)(await R.text())}return new Promise((R,o)=>{const h=new XMLHttpRequest;h.open("GET",O,!0),w&&(h.responseType="arraybuffer"),h.onreadystatechange=()=>{if(h.readyState===XMLHttpRequest.DONE){if(h.status===200||h.status===0){let H;if(w&&h.response?H=new Uint8Array(h.response):!w&&h.responseText&&(H=(0,re.stringToBytes)(h.responseText)),H){R(H);return}}o(new Error(h.statusText))}},h.send(null)})}class m extends Q.BaseCMapReaderFactory{_fetchData(w,R){return t(w,this.isCompressed).then(o=>({cMapData:o,compressionType:R}))}}i.DOMCMapReaderFactory=m;class ie extends Q.BaseStandardFontDataFactory{_fetchData(w){return t(w,!0)}}i.DOMStandardFontDataFactory=ie;class z extends Q.BaseSVGFactory{_createSVG(w){return document.createElementNS(Se,w)}}i.DOMSVGFactory=z;class e{constructor({viewBox:w,scale:R,rotation:o,offsetX:h=0,offsetY:H=0,dontFlip:L=!1}){this.viewBox=w,this.scale=R,this.rotation=o,this.offsetX=h,this.offsetY=H;const x=(w[2]+w[0])/2,v=(w[3]+w[1])/2;let F,k,U,ee;switch(o%=360,o<0&&(o+=360),o){case 180:F=-1,k=0,U=0,ee=1;break;case 90:F=0,k=1,U=1,ee=0;break;case 270:F=0,k=-1,U=-1,ee=0;break;case 0:F=1,k=0,U=0,ee=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}L&&(U=-U,ee=-ee);let J,I,X,ne;F===0?(J=Math.abs(v-w[1])*R+h,I=Math.abs(x-w[0])*R+H,X=Math.abs(w[3]-w[1])*R,ne=Math.abs(w[2]-w[0])*R):(J=Math.abs(x-w[0])*R+h,I=Math.abs(v-w[1])*R+H,X=Math.abs(w[2]-w[0])*R,ne=Math.abs(w[3]-w[1])*R),this.transform=[F*R,k*R,U*R,ee*R,J-F*R*x-U*R*v,I-k*R*x-ee*R*v],this.width=X,this.height=ne}clone({scale:w=this.scale,rotation:R=this.rotation,offsetX:o=this.offsetX,offsetY:h=this.offsetY,dontFlip:H=!1}={}){return new e({viewBox:this.viewBox.slice(),scale:w,rotation:R,offsetX:o,offsetY:h,dontFlip:H})}convertToViewportPoint(w,R){return re.Util.applyTransform([w,R],this.transform)}convertToViewportRectangle(w){const R=re.Util.applyTransform([w[0],w[1]],this.transform),o=re.Util.applyTransform([w[2],w[3]],this.transform);return[R[0],R[1],o[0],o[1]]}convertToPdfPoint(w,R){return re.Util.applyInverseTransform([w,R],this.transform)}}i.PageViewport=e;class j extends re.BaseException{constructor(w,R){super(w,"RenderingCancelledException"),this.type=R}}i.RenderingCancelledException=j;function f(O){const w=O.length;let R=0;for(;R<w&&O[R].trim()==="";)R++;return O.substring(R,R+5).toLowerCase()==="data:"}function T(O){return typeof O=="string"&&/\.pdf$/i.test(O)}function E(O){const w=O.indexOf("#"),R=O.indexOf("?"),o=Math.min(w>0?w:O.length,R>0?R:O.length);return O.substring(O.lastIndexOf("/",o)+1,o)}function _(O,w="document.pdf"){if(typeof O!="string")return w;if(f(O))return(0,re.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),w;const R=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,o=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,h=R.exec(O);let H=o.exec(h[1])||o.exec(h[2])||o.exec(h[3]);if(H&&(H=H[0],H.includes("%")))try{H=o.exec(decodeURIComponent(H))[0]}catch{}return H||w}class y{constructor(){this.started=Object.create(null),this.times=[]}time(w){w in this.started&&(0,re.warn)(`Timer is already running for ${w}`),this.started[w]=Date.now()}timeEnd(w){w in this.started||(0,re.warn)(`Timer has not been started for ${w}`),this.times.push({name:w,start:this.started[w],end:Date.now()}),delete this.started[w]}toString(){const w=[];let R=0;for(const o of this.times){const h=o.name;h.length>R&&(R=h.length)}for(const o of this.times){const h=o.end-o.start;w.push(`${o.name.padEnd(R)} ${h}ms
`)}return w.join("")}}i.StatTimer=y;function n(O,w){try{const{protocol:R}=w?new URL(O,w):new URL(O);return R==="http:"||R==="https:"}catch{return!1}}function u(O,w=!1){return new Promise((R,o)=>{const h=document.createElement("script");h.src=O,h.onload=function(H){w&&h.remove(),R(H)},h.onerror=function(){o(new Error(`Cannot load script at: ${h.src}`))},(document.head||document.documentElement).append(h)})}function p(O){console.log("Deprecated API usage: "+O)}let s;class r{static toDateObject(w){if(!w||typeof w!="string")return null;s||(s=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const R=s.exec(w);if(!R)return null;const o=parseInt(R[1],10);let h=parseInt(R[2],10);h=h>=1&&h<=12?h-1:0;let H=parseInt(R[3],10);H=H>=1&&H<=31?H:1;let L=parseInt(R[4],10);L=L>=0&&L<=23?L:0;let x=parseInt(R[5],10);x=x>=0&&x<=59?x:0;let v=parseInt(R[6],10);v=v>=0&&v<=59?v:0;const F=R[7]||"Z";let k=parseInt(R[8],10);k=k>=0&&k<=23?k:0;let U=parseInt(R[9],10)||0;return U=U>=0&&U<=59?U:0,F==="-"?(L+=k,x+=U):F==="+"&&(L-=k,x-=U),new Date(Date.UTC(o,h,H,L,x,v))}}i.PDFDateString=r;function l(O,{scale:w=1,rotation:R=0}){const{width:o,height:h}=O.attributes.style,H=[0,0,parseInt(o),parseInt(h)];return new e({viewBox:H,scale:w,rotation:R})}function c(O){if(O.startsWith("#")){const w=parseInt(O.slice(1),16);return[(w&16711680)>>16,(w&65280)>>8,w&255]}return O.startsWith("rgb(")?O.slice(4,-1).split(",").map(w=>parseInt(w)):O.startsWith("rgba(")?O.slice(5,-1).split(",").map(w=>parseInt(w)).slice(0,3):((0,re.warn)(`Not a valid color format: "${O}"`),[0,0,0])}function d(O){const w=document.createElement("span");w.style.visibility="hidden",document.body.append(w);for(const R of O.keys()){w.style.color=R;const o=window.getComputedStyle(w).color;O.set(R,c(o))}w.remove()}function K(O){const{a:w,b:R,c:o,d:h,e:H,f:L}=O.getTransform();return[w,R,o,h,H,L]}function g(O){const{a:w,b:R,c:o,d:h,e:H,f:L}=O.getTransform().invertSelf();return[w,R,o,h,H,L]}},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var Q=N(1);class re{constructor(){this.constructor===re&&(0,Q.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,m){if(t<=0||m<=0)throw new Error("Invalid canvas size");const ie=this._createCanvas(t,m);return{canvas:ie,context:ie.getContext("2d")}}reset(t,m,ie){if(!t.canvas)throw new Error("Canvas is not specified");if(m<=0||ie<=0)throw new Error("Invalid canvas size");t.canvas.width=m,t.canvas.height=ie}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,m){(0,Q.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=re;class Se{constructor({baseUrl:t=null,isCompressed:m=!1}){this.constructor===Se&&(0,Q.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=m}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const m=this.baseUrl+t+(this.isCompressed?".bcmap":""),ie=this.isCompressed?Q.CMapCompressionType.BINARY:Q.CMapCompressionType.NONE;return this._fetchData(m,ie).catch(z=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${m}`)})}_fetchData(t,m){(0,Q.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=Se;class Ae{constructor({baseUrl:t=null}){this.constructor===Ae&&(0,Q.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const m=`${this.baseUrl}${t}`;return this._fetchData(m).catch(ie=>{throw new Error(`Unable to load font data at: ${m}`)})}_fetchData(t){(0,Q.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=Ae;class A{constructor(){this.constructor===A&&(0,Q.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,m,ie=!1){if(t<=0||m<=0)throw new Error("Invalid SVG dimensions");const z=this._createSVG("svg:svg");return z.setAttribute("version","1.1"),ie||(z.setAttribute("width",`${t}px`),z.setAttribute("height",`${m}px`)),z.setAttribute("preserveAspectRatio","none"),z.setAttribute("viewBox",`0 0 ${t} ${m}`),z}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,Q.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=A},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var Q=N(1);const re=3285377520,Se=4294901760,Ae=65535;class A{constructor(t){this.h1=t?t&4294967295:re,this.h2=t?t&4294967295:re}update(t){let m,ie;if(typeof t=="string"){m=new Uint8Array(t.length*2),ie=0;for(let s=0,r=t.length;s<r;s++){const l=t.charCodeAt(s);l<=255?m[ie++]=l:(m[ie++]=l>>>8,m[ie++]=l&255)}}else if((0,Q.isArrayBuffer)(t))m=t.slice(),ie=m.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const z=ie>>2,e=ie-z*4,j=new Uint32Array(m.buffer,0,z);let f=0,T=0,E=this.h1,_=this.h2;const y=3432918353,n=461845907,u=y&Ae,p=n&Ae;for(let s=0;s<z;s++)s&1?(f=j[s],f=f*y&Se|f*u&Ae,f=f<<15|f>>>17,f=f*n&Se|f*p&Ae,E^=f,E=E<<13|E>>>19,E=E*5+3864292196):(T=j[s],T=T*y&Se|T*u&Ae,T=T<<15|T>>>17,T=T*n&Se|T*p&Ae,_^=T,_=_<<13|_>>>19,_=_*5+3864292196);switch(f=0,e){case 3:f^=m[z*4+2]<<16;case 2:f^=m[z*4+1]<<8;case 1:f^=m[z*4],f=f*y&Se|f*u&Ae,f=f<<15|f>>>17,f=f*n&Se|f*p&Ae,z&1?E^=f:_^=f}this.h1=E,this.h2=_}hexdigest(){let t=this.h1,m=this.h2;t^=m>>>1,t=t*3981806797&Se|t*36045&Ae,m=m*4283543511&Se|((m<<16|t>>>16)*2950163797&Se)>>>16,t^=m>>>1,t=t*444984403&Se|t*60499&Ae,m=m*3301882366&Se|((m<<16|t>>>16)*3120437893&Se)>>>16,t^=m>>>1;const ie=(t>>>0).toString(16),z=(m>>>0).toString(16);return ie.padStart(8,"0")+z.padStart(8,"0")}}i.MurmurHash3_64=A},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var Q=N(1);class re{constructor({docId:se,onUnsupportedFeature:t,ownerDocument:m=globalThis.document,styleElement:ie=null}){this.constructor===re&&(0,Q.unreachable)("Cannot initialize BaseFontLoader."),this.docId=se,this._onUnsupportedFeature=t,this._document=m,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(se){this.nativeFontFaces.push(se),this._document.fonts.add(se)}insertRule(se){let t=this.styleElement;t||(t=this.styleElement=this._document.createElement("style"),t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(t));const m=t.sheet;m.insertRule(se,m.cssRules.length)}clear(){for(const se of this.nativeFontFaces)this._document.fonts.delete(se);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(se){if(se.attached||se.missingFile)return;if(se.attached=!0,this.isFontLoadingAPISupported){const m=se.createNativeFontFace();if(m){this.addNativeFontFace(m);try{await m.loaded}catch(ie){throw this._onUnsupportedFeature({featureId:Q.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,Q.warn)(`Failed to load font '${m.family}': '${ie}'.`),se.disableFontFace=!0,ie}}return}const t=se.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(m=>{const ie=this._queueLoadingCallback(m);this._prepareFontLoadEvent([t],[se],ie)})}}_queueLoadingCallback(se){(0,Q.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var t;const se=!!((t=this._document)!=null&&t.fonts);return(0,Q.shadow)(this,"isFontLoadingAPISupported",se)}get isSyncFontLoadingSupported(){(0,Q.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,Q.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(se,t,m){(0,Q.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let Se;i.FontLoader=Se,i.FontLoader=Se=class extends re{constructor(se){super(se),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let se=!1;if(typeof navigator>"u")se=!0;else{const t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(t==null?void 0:t[1])>=14&&(se=!0)}return(0,Q.shadow)(this,"isSyncFontLoadingSupported",se)}_queueLoadingCallback(se){function t(){for((0,Q.assert)(!ie.done,"completeRequest() cannot be called twice."),ie.done=!0;m.requests.length>0&&m.requests[0].done;){const z=m.requests.shift();setTimeout(z.callback,0)}}const m=this.loadingContext,ie={id:`pdfjs-font-loading-${m.nextRequestId++}`,done:!1,complete:t,callback:se};return m.requests.push(ie),ie}get _loadTestFont(){const se=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,Q.shadow)(this,"_loadTestFont",se())}_prepareFontLoadEvent(se,t,m){function ie(g,G){return g.charCodeAt(G)<<24|g.charCodeAt(G+1)<<16|g.charCodeAt(G+2)<<8|g.charCodeAt(G+3)&255}function z(g,G,O,w){const R=g.substring(0,G),o=g.substring(G+O);return R+w+o}let e,j;const f=this._document.createElement("canvas");f.width=1,f.height=1;const T=f.getContext("2d");let E=0;function _(g,G){if(E++,E>30){(0,Q.warn)("Load test font never loaded."),G();return}if(T.font="30px "+g,T.fillText(".",0,20),T.getImageData(0,0,1,1).data[3]>0){G();return}setTimeout(_.bind(null,g,G))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let n=this._loadTestFont;n=z(n,976,y.length,y);const p=16,s=1482184792;let r=ie(n,p);for(e=0,j=y.length-3;e<j;e+=4)r=r-s+ie(y,e)|0;e<y.length&&(r=r-s+ie(y+"XXX",e)|0),n=z(n,p,4,(0,Q.string32)(r));const l=`url(data:font/opentype;base64,${btoa(n)});`,c=`@font-face {font-family:"${y}";src:${l}}`;this.insertRule(c);const d=[];for(const g of t)d.push(g.loadedName);d.push(y);const K=this._document.createElement("div");K.style.visibility="hidden",K.style.width=K.style.height="10px",K.style.position="absolute",K.style.top=K.style.left="0px";for(const g of d){const G=this._document.createElement("span");G.textContent="Hi",G.style.fontFamily=g,K.append(G)}this._document.body.append(K),_(y,()=>{K.remove(),m.complete()})}};class Ae{constructor(se,{isEvalSupported:t=!0,disableFontFace:m=!1,ignoreErrors:ie=!1,onUnsupportedFeature:z,fontRegistry:e=null}){this.compiledGlyphs=Object.create(null);for(const j in se)this[j]=se[j];this.isEvalSupported=t!==!1,this.disableFontFace=m===!0,this.ignoreErrors=ie===!0,this._onUnsupportedFeature=z,this.fontRegistry=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let se;if(!this.cssFontInfo)se=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),se=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this.fontRegistry&&this.fontRegistry.registerFont(this),se}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const se=(0,Q.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(se)});`;let m;if(!this.cssFontInfo)m=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let ie=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ie+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),m=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ie}src:${t}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,t),m}getPathGenerator(se,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let m;try{m=se.get(this.loadedName+"_path_"+t)}catch(ie){if(!this.ignoreErrors)throw ie;return this._onUnsupportedFeature({featureId:Q.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,Q.warn)(`getPathGenerator - ignoring character: "${ie}".`),this.compiledGlyphs[t]=function(z,e){}}if(this.isEvalSupported&&Q.FeatureTest.isEvalSupported){const ie=[];for(const z of m){const e=z.args!==void 0?z.args.join(","):"";ie.push("c.",z.cmd,"(",e,`);
`)}return this.compiledGlyphs[t]=new Function("c","size",ie.join(""))}return this.compiledGlyphs[t]=function(ie,z){for(const e of m)e.cmd==="scale"&&(e.args=[z,-z]),ie[e.cmd].apply(ie,e.args)}}}i.FontFaceObject=Ae},($,i,N)=>{var h,bi;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var Q=N(8),re=N(1),Se=N(13),Ae=N(14),A=N(3);const se=16,t=100,m=4096,ie=15,z=10,e=A.isNodeJS&&typeof Path2D>"u"?-1:1e3,j=16;function f(x,v){if(x._removeMirroring)throw new Error("Context is already forwarding operations.");x.__originalSave=x.save,x.__originalRestore=x.restore,x.__originalRotate=x.rotate,x.__originalScale=x.scale,x.__originalTranslate=x.translate,x.__originalTransform=x.transform,x.__originalSetTransform=x.setTransform,x.__originalResetTransform=x.resetTransform,x.__originalClip=x.clip,x.__originalMoveTo=x.moveTo,x.__originalLineTo=x.lineTo,x.__originalBezierCurveTo=x.bezierCurveTo,x.__originalRect=x.rect,x.__originalClosePath=x.closePath,x.__originalBeginPath=x.beginPath,x._removeMirroring=()=>{x.save=x.__originalSave,x.restore=x.__originalRestore,x.rotate=x.__originalRotate,x.scale=x.__originalScale,x.translate=x.__originalTranslate,x.transform=x.__originalTransform,x.setTransform=x.__originalSetTransform,x.resetTransform=x.__originalResetTransform,x.clip=x.__originalClip,x.moveTo=x.__originalMoveTo,x.lineTo=x.__originalLineTo,x.bezierCurveTo=x.__originalBezierCurveTo,x.rect=x.__originalRect,x.closePath=x.__originalClosePath,x.beginPath=x.__originalBeginPath,delete x._removeMirroring},x.save=function(){v.save(),this.__originalSave()},x.restore=function(){v.restore(),this.__originalRestore()},x.translate=function(k,U){v.translate(k,U),this.__originalTranslate(k,U)},x.scale=function(k,U){v.scale(k,U),this.__originalScale(k,U)},x.transform=function(k,U,ee,J,I,X){v.transform(k,U,ee,J,I,X),this.__originalTransform(k,U,ee,J,I,X)},x.setTransform=function(k,U,ee,J,I,X){v.setTransform(k,U,ee,J,I,X),this.__originalSetTransform(k,U,ee,J,I,X)},x.resetTransform=function(){v.resetTransform(),this.__originalResetTransform()},x.rotate=function(k){v.rotate(k),this.__originalRotate(k)},x.clip=function(k){v.clip(k),this.__originalClip(k)},x.moveTo=function(F,k){v.moveTo(F,k),this.__originalMoveTo(F,k)},x.lineTo=function(F,k){v.lineTo(F,k),this.__originalLineTo(F,k)},x.bezierCurveTo=function(F,k,U,ee,J,I){v.bezierCurveTo(F,k,U,ee,J,I),this.__originalBezierCurveTo(F,k,U,ee,J,I)},x.rect=function(F,k,U,ee){v.rect(F,k,U,ee),this.__originalRect(F,k,U,ee)},x.closePath=function(){v.closePath(),this.__originalClosePath()},x.beginPath=function(){v.beginPath(),this.__originalBeginPath()}}class T{constructor(v){this.canvasFactory=v,this.cache=Object.create(null)}getCanvas(v,F,k){let U;return this.cache[v]!==void 0?(U=this.cache[v],this.canvasFactory.reset(U,F,k)):(U=this.canvasFactory.create(F,k),this.cache[v]=U),U}delete(v){delete this.cache[v]}clear(){for(const v in this.cache){const F=this.cache[v];this.canvasFactory.destroy(F),delete this.cache[v]}}}function E(x,v,F,k,U,ee,J,I,X,ne){const[P,V,Y,Z,q,M]=(0,Q.getCurrentTransform)(x);if(V===0&&Y===0){const ae=J*P+q,fe=Math.round(ae),de=I*Z+M,ue=Math.round(de),he=(J+X)*P+q,me=Math.abs(Math.round(he)-fe)||1,xe=(I+ne)*Z+M,we=Math.abs(Math.round(xe)-ue)||1;return x.setTransform(Math.sign(P),0,0,Math.sign(Z),fe,ue),x.drawImage(v,F,k,U,ee,0,0,me,we),x.setTransform(P,V,Y,Z,q,M),[me,we]}if(P===0&&Z===0){const ae=I*Y+q,fe=Math.round(ae),de=J*V+M,ue=Math.round(de),he=(I+ne)*Y+q,me=Math.abs(Math.round(he)-fe)||1,xe=(J+X)*V+M,we=Math.abs(Math.round(xe)-ue)||1;return x.setTransform(0,Math.sign(V),Math.sign(Y),0,fe,ue),x.drawImage(v,F,k,U,ee,0,0,we,me),x.setTransform(P,V,Y,Z,q,M),[we,me]}x.drawImage(v,F,k,U,ee,J,I,X,ne);const te=Math.hypot(P,V),W=Math.hypot(Y,Z);return[te*X,W*ne]}function _(x){const{width:v,height:F}=x;if(v>e||F>e)return null;const k=1e3,U=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ee=v+1;let J=new Uint8Array(ee*(F+1)),I,X,ne;const P=v+7&-8;let V=new Uint8Array(P*F),Y=0;for(const W of x.data){let ae=128;for(;ae>0;)V[Y++]=W&ae?0:255,ae>>=1}let Z=0;for(Y=0,V[Y]!==0&&(J[0]=1,++Z),X=1;X<v;X++)V[Y]!==V[Y+1]&&(J[X]=V[Y]?2:1,++Z),Y++;for(V[Y]!==0&&(J[X]=2,++Z),I=1;I<F;I++){Y=I*P,ne=I*ee,V[Y-P]!==V[Y]&&(J[ne]=V[Y]?1:8,++Z);let W=(V[Y]?4:0)+(V[Y-P]?8:0);for(X=1;X<v;X++)W=(W>>2)+(V[Y+1]?4:0)+(V[Y-P+1]?8:0),U[W]&&(J[ne+X]=U[W],++Z),Y++;if(V[Y-P]!==V[Y]&&(J[ne+X]=V[Y]?2:4,++Z),Z>k)return null}for(Y=P*(F-1),ne=I*ee,V[Y]!==0&&(J[ne]=8,++Z),X=1;X<v;X++)V[Y]!==V[Y+1]&&(J[ne+X]=V[Y]?4:8,++Z),Y++;if(V[Y]!==0&&(J[ne+X]=4,++Z),Z>k)return null;const q=new Int32Array([0,ee,-1,0,-ee,0,0,0,1]),M=new Path2D;for(I=0;Z&&I<=F;I++){let W=I*ee;const ae=W+v;for(;W<ae&&!J[W];)W++;if(W===ae)continue;M.moveTo(W%ee,I);const fe=W;let de=J[W];do{const ue=q[de];do W+=ue;while(!J[W]);const he=J[W];he!==5&&he!==10?(de=he,J[W]=0):(de=he&51*de>>4,J[W]&=de>>2|de<<2),M.lineTo(W%ee,W/ee|0),J[W]||--Z}while(fe!==W);--I}return V=null,J=null,function(W){W.save(),W.scale(1/v,-1/F),W.translate(0,-F),W.fill(M),W.beginPath(),W.restore()}}class y{constructor(v,F){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=re.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=re.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=re.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,v,F])}clone(){const v=Object.create(this);return v.clipBox=this.clipBox.slice(),v}setCurrentPoint(v,F){this.x=v,this.y=F}updatePathMinMax(v,F,k){[F,k]=re.Util.applyTransform([F,k],v),this.minX=Math.min(this.minX,F),this.minY=Math.min(this.minY,k),this.maxX=Math.max(this.maxX,F),this.maxY=Math.max(this.maxY,k)}updateRectMinMax(v,F){const k=re.Util.applyTransform(F,v),U=re.Util.applyTransform(F.slice(2),v);this.minX=Math.min(this.minX,k[0],U[0]),this.minY=Math.min(this.minY,k[1],U[1]),this.maxX=Math.max(this.maxX,k[0],U[0]),this.maxY=Math.max(this.maxY,k[1],U[1])}updateScalingPathMinMax(v,F){re.Util.scaleMinMax(v,F),this.minX=Math.min(this.minX,F[0]),this.maxX=Math.max(this.maxX,F[1]),this.minY=Math.min(this.minY,F[2]),this.maxY=Math.max(this.maxY,F[3])}updateCurvePathMinMax(v,F,k,U,ee,J,I,X,ne,P){const V=re.Util.bezierBoundingBox(F,k,U,ee,J,I,X,ne);if(P){P[0]=Math.min(P[0],V[0],V[2]),P[1]=Math.max(P[1],V[0],V[2]),P[2]=Math.min(P[2],V[1],V[3]),P[3]=Math.max(P[3],V[1],V[3]);return}this.updateRectMinMax(v,V)}getPathBoundingBox(v=Se.PathType.FILL,F=null){const k=[this.minX,this.minY,this.maxX,this.maxY];if(v===Se.PathType.STROKE){F||(0,re.unreachable)("Stroke bounding box must include transform.");const U=re.Util.singularValueDecompose2dScale(F),ee=U[0]*this.lineWidth/2,J=U[1]*this.lineWidth/2;k[0]-=ee,k[1]-=J,k[2]+=ee,k[3]+=J}return k}updateClipFromPath(){const v=re.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(v||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(v){this.clipBox=v,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(v=Se.PathType.FILL,F=null){return re.Util.intersect(this.clipBox,this.getPathBoundingBox(v,F))}}function n(x,v,F=null){if(typeof ImageData<"u"&&v instanceof ImageData){x.putImageData(v,0,0);return}const k=v.height,U=v.width,ee=k%j,J=(k-ee)/j,I=ee===0?J:J+1,X=x.createImageData(U,j);let ne=0,P;const V=v.data,Y=X.data;let Z,q,M,te,W,ae,fe,de;if(F)switch(F.length){case 1:W=F[0],ae=F[0],fe=F[0],de=F[0];break;case 4:W=F[0],ae=F[1],fe=F[2],de=F[3];break}if(v.kind===re.ImageKind.GRAYSCALE_1BPP){const ue=V.byteLength,he=new Uint32Array(Y.buffer,0,Y.byteLength>>2),me=he.length,xe=U+7>>3;let we=4294967295,Ce=re.FeatureTest.isLittleEndian?4278190080:255;for(de&&de[0]===255&&de[255]===0&&([we,Ce]=[Ce,we]),Z=0;Z<I;Z++){for(M=Z<J?j:ee,P=0,q=0;q<M;q++){const Fe=ue-ne;let Oe=0;const Ie=Fe>xe?U:Fe*8-7,Me=Ie&-8;let Le=0,qe=0;for(;Oe<Me;Oe+=8)qe=V[ne++],he[P++]=qe&128?we:Ce,he[P++]=qe&64?we:Ce,he[P++]=qe&32?we:Ce,he[P++]=qe&16?we:Ce,he[P++]=qe&8?we:Ce,he[P++]=qe&4?we:Ce,he[P++]=qe&2?we:Ce,he[P++]=qe&1?we:Ce;for(;Oe<Ie;Oe++)Le===0&&(qe=V[ne++],Le=128),he[P++]=qe&Le?we:Ce,Le>>=1}for(;P<me;)he[P++]=0;x.putImageData(X,0,Z*j)}}else if(v.kind===re.ImageKind.RGBA_32BPP){const ue=!!(W||ae||fe);for(q=0,te=U*j*4,Z=0;Z<J;Z++){if(Y.set(V.subarray(ne,ne+te)),ne+=te,ue)for(let he=0;he<te;he+=4)W&&(Y[he+0]=W[Y[he+0]]),ae&&(Y[he+1]=ae[Y[he+1]]),fe&&(Y[he+2]=fe[Y[he+2]]);x.putImageData(X,0,q),q+=j}if(Z<I){if(te=U*ee*4,Y.set(V.subarray(ne,ne+te)),ue)for(let he=0;he<te;he+=4)W&&(Y[he+0]=W[Y[he+0]]),ae&&(Y[he+1]=ae[Y[he+1]]),fe&&(Y[he+2]=fe[Y[he+2]]);x.putImageData(X,0,q)}}else if(v.kind===re.ImageKind.RGB_24BPP){const ue=!!(W||ae||fe);for(M=j,te=U*M,Z=0;Z<I;Z++){for(Z>=J&&(M=ee,te=U*M),P=0,q=te;q--;)Y[P++]=V[ne++],Y[P++]=V[ne++],Y[P++]=V[ne++],Y[P++]=255;if(ue)for(let he=0;he<P;he+=4)W&&(Y[he+0]=W[Y[he+0]]),ae&&(Y[he+1]=ae[Y[he+1]]),fe&&(Y[he+2]=fe[Y[he+2]]);x.putImageData(X,0,Z*j)}}else throw new Error(`bad image kind: ${v.kind}`)}function u(x,v){if(v.bitmap){x.drawImage(v.bitmap,0,0);return}const F=v.height,k=v.width,U=F%j,ee=(F-U)/j,J=U===0?ee:ee+1,I=x.createImageData(k,j);let X=0;const ne=v.data,P=I.data;for(let V=0;V<J;V++){const Y=V<ee?j:U;({srcPos:X}=(0,Ae.applyMaskImageData)({src:ne,srcPos:X,dest:P,width:k,height:Y})),x.putImageData(I,0,V*j)}}function p(x,v){const F=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let k=0,U=F.length;k<U;k++){const ee=F[k];x[ee]!==void 0&&(v[ee]=x[ee])}x.setLineDash!==void 0&&(v.setLineDash(x.getLineDash()),v.lineDashOffset=x.lineDashOffset)}function s(x,v){x.strokeStyle=x.fillStyle=v||"#000000",x.fillRule="nonzero",x.globalAlpha=1,x.lineWidth=1,x.lineCap="butt",x.lineJoin="miter",x.miterLimit=10,x.globalCompositeOperation="source-over",x.font="10px sans-serif",x.setLineDash!==void 0&&(x.setLineDash([]),x.lineDashOffset=0)}function r(x,v,F,k){const U=x.length;for(let ee=3;ee<U;ee+=4){const J=x[ee];if(J===0)x[ee-3]=v,x[ee-2]=F,x[ee-1]=k;else if(J<255){const I=255-J;x[ee-3]=x[ee-3]*J+v*I>>8,x[ee-2]=x[ee-2]*J+F*I>>8,x[ee-1]=x[ee-1]*J+k*I>>8}}}function l(x,v,F){const k=x.length,U=1/255;for(let ee=3;ee<k;ee+=4){const J=F?F[x[ee]]:x[ee];v[ee]=v[ee]*J*U|0}}function c(x,v,F){const k=x.length;for(let U=3;U<k;U+=4){const ee=x[U-3]*77+x[U-2]*152+x[U-1]*28;v[U]=F?v[U]*F[ee>>8]>>8:v[U]*ee>>16}}function d(x,v,F,k,U,ee,J,I,X,ne,P){const V=!!ee,Y=V?ee[0]:0,Z=V?ee[1]:0,q=V?ee[2]:0;let M;U==="Luminosity"?M=c:M=l;const W=Math.min(k,Math.ceil(1048576/F));for(let ae=0;ae<k;ae+=W){const fe=Math.min(W,k-ae),de=x.getImageData(I-ne,ae+(X-P),F,fe),ue=v.getImageData(I,ae+X,F,fe);V&&r(de.data,Y,Z,q),M(de.data,ue.data,J),v.putImageData(ue,I,ae+X)}}function K(x,v,F,k){const U=k[0],ee=k[1],J=k[2]-U,I=k[3]-ee;J===0||I===0||(d(v.context,F,J,I,v.subtype,v.backdrop,v.transferMap,U,ee,v.offsetX,v.offsetY),x.save(),x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),x.drawImage(F.canvas,0,0),x.restore())}function g(x,v){const F=re.Util.singularValueDecompose2dScale(x);F[0]=Math.fround(F[0]),F[1]=Math.fround(F[1]);const k=Math.fround((globalThis.devicePixelRatio||1)*Q.PixelsPerInch.PDF_TO_CSS_UNITS);return v!==void 0?v:F[0]<=k||F[1]<=k}const G=["butt","round","square"],O=["miter","round","bevel"],w={},R={},L=class L{constructor(v,F,k,U,ee,J,I,X){At(this,h);this.ctx=v,this.current=new y(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=F,this.objs=k,this.canvasFactory=U,this.imageLayer=ee,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=J,this.cachedCanvases=new T(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=I,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(X==null?void 0:X.background)||null,this.foregroundColor=(X==null?void 0:X.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(v,F=null){return typeof v=="string"?v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v):F}beginDrawing({transform:v,viewport:F,transparency:k=!1,background:U=null}){const ee=this.ctx.canvas.width,J=this.ctx.canvas.height,I=U||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const X=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ne=this.backgroundColor=this.ctx.fillStyle;let P=!0,V=I;if(this.ctx.fillStyle=I,V=this.ctx.fillStyle,P=typeof V=="string"&&/^#[0-9A-Fa-f]{6}$/.test(V),X==="#000000"&&ne==="#ffffff"||X===ne||!P)this.foregroundColor=this.backgroundColor=null;else{const[Y,Z,q]=(0,Q.getRGB)(V),M=W=>(W/=255,W<=.03928?W/12.92:((W+.055)/1.055)**2.4),te=Math.round(.2126*M(Y)+.7152*M(Z)+.0722*M(q));this.selectColor=(W,ae,fe)=>{const de=.2126*M(W)+.7152*M(ae)+.0722*M(fe);return Math.round(de)===te?ne:X}}}if(this.ctx.fillStyle=this.backgroundColor||I,this.ctx.fillRect(0,0,ee,J),this.ctx.restore(),k){const X=this.cachedCanvases.getCanvas("transparent",ee,J);this.compositeCtx=this.ctx,this.transparentCanvas=X.canvas,this.ctx=X.context,this.ctx.save(),this.ctx.transform(...(0,Q.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),s(this.ctx,this.foregroundColor),v&&(this.ctx.transform(...v),this.outputScaleX=v[0],this.outputScaleY=v[0]),this.ctx.transform(...F.transform),this.viewportScale=F.scale,this.baseTransform=(0,Q.getCurrentTransform)(this.ctx),this.imageLayer&&((0,Q.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(v,F,k,U){const ee=v.argsArray,J=v.fnArray;let I=F||0;const X=ee.length;if(X===I)return I;const ne=X-I>z&&typeof k=="function",P=ne?Date.now()+ie:0;let V=0;const Y=this.commonObjs,Z=this.objs;let q;for(;;){if(U!==void 0&&I===U.nextBreakPoint)return U.breakIt(I,k),I;if(q=J[I],q!==re.OPS.dependency)this[q].apply(this,ee[I]);else for(const M of ee[I]){const te=M.startsWith("g_")?Y:Z;if(!te.has(M))return te.get(M,k),I}if(I++,I===X)return I;if(ne&&++V>z){if(Date.now()>P)return k(),I;V=0}}}endDrawing(){dt(this,h,bi).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const v of this._cachedBitmapsMap.values()){for(const F of v.values())typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement&&(F.width=F.height=0);v.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(v,F){const k=v.width,U=v.height;let ee=Math.max(Math.hypot(F[0],F[1]),1),J=Math.max(Math.hypot(F[2],F[3]),1),I=k,X=U,ne="prescale1",P,V;for(;ee>2&&I>1||J>2&&X>1;){let Y=I,Z=X;ee>2&&I>1&&(Y=Math.ceil(I/2),ee/=I/Y),J>2&&X>1&&(Z=Math.ceil(X/2),J/=X/Z),P=this.cachedCanvases.getCanvas(ne,Y,Z),V=P.context,V.clearRect(0,0,Y,Z),V.drawImage(v,0,0,I,X,0,0,Y,Z),v=P.canvas,I=Y,X=Z,ne=ne==="prescale1"?"prescale2":"prescale1"}return{img:v,paintWidth:I,paintHeight:X}}_createMaskCanvas(v){const F=this.ctx,{width:k,height:U}=v,ee=this.current.fillColor,J=this.current.patternFill,I=(0,Q.getCurrentTransform)(F);let X,ne,P,V;if((v.bitmap||v.data)&&v.count>1){const me=v.bitmap||v.data.buffer,xe=I.slice(0,4);ne=JSON.stringify(J?xe:[xe,ee]),X=this._cachedBitmapsMap.get(me),X||(X=new Map,this._cachedBitmapsMap.set(me,X));const we=X.get(ne);if(we&&!J){const Ce=Math.round(Math.min(I[0],I[2])+I[4]),Fe=Math.round(Math.min(I[1],I[3])+I[5]);return{canvas:we,offsetX:Ce,offsetY:Fe}}P=we}P||(V=this.cachedCanvases.getCanvas("maskCanvas",k,U),u(V.context,v));let Y=re.Util.transform(I,[1/k,0,0,-1/U,0,0]);Y=re.Util.transform(Y,[1,0,0,1,0,-U]);const Z=re.Util.applyTransform([0,0],Y),q=re.Util.applyTransform([k,U],Y),M=re.Util.normalizeRect([Z[0],Z[1],q[0],q[1]]),te=Math.round(M[2]-M[0])||1,W=Math.round(M[3]-M[1])||1,ae=this.cachedCanvases.getCanvas("fillCanvas",te,W),fe=ae.context,de=Math.min(Z[0],q[0]),ue=Math.min(Z[1],q[1]);fe.translate(-de,-ue),fe.transform(...Y),P||(P=this._scaleImage(V.canvas,(0,Q.getCurrentTransformInverse)(fe)),P=P.img,X&&J&&X.set(ne,P)),fe.imageSmoothingEnabled=g((0,Q.getCurrentTransform)(fe),v.interpolate),E(fe,P,0,0,P.width,P.height,0,0,k,U),fe.globalCompositeOperation="source-in";const he=re.Util.transform((0,Q.getCurrentTransformInverse)(fe),[1,0,0,1,-de,-ue]);return fe.fillStyle=J?ee.getPattern(F,this,he,Se.PathType.FILL):ee,fe.fillRect(0,0,k,U),X&&!J&&(this.cachedCanvases.delete("fillCanvas"),X.set(ne,ae.canvas)),{canvas:ae.canvas,offsetX:Math.round(de),offsetY:Math.round(ue)}}setLineWidth(v){v!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=v,this.ctx.lineWidth=v}setLineCap(v){this.ctx.lineCap=G[v]}setLineJoin(v){this.ctx.lineJoin=O[v]}setMiterLimit(v){this.ctx.miterLimit=v}setDash(v,F){const k=this.ctx;k.setLineDash!==void 0&&(k.setLineDash(v),k.lineDashOffset=F)}setRenderingIntent(v){}setFlatness(v){}setGState(v){for(let F=0,k=v.length;F<k;F++){const U=v[F],ee=U[0],J=U[1];switch(ee){case"LW":this.setLineWidth(J);break;case"LC":this.setLineCap(J);break;case"LJ":this.setLineJoin(J);break;case"ML":this.setMiterLimit(J);break;case"D":this.setDash(J[0],J[1]);break;case"RI":this.setRenderingIntent(J);break;case"FL":this.setFlatness(J);break;case"Font":this.setFont(J[0],J[1]);break;case"CA":this.current.strokeAlpha=U[1];break;case"ca":this.current.fillAlpha=U[1],this.ctx.globalAlpha=U[1];break;case"BM":this.ctx.globalCompositeOperation=J;break;case"SMask":this.current.activeSMask=J?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=J}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const v=this.inSMaskMode;this.current.activeSMask&&!v?this.beginSMaskMode():!this.current.activeSMask&&v&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const v=this.ctx.canvas.width,F=this.ctx.canvas.height,k="smaskGroupAt"+this.groupLevel,U=this.cachedCanvases.getCanvas(k,v,F);this.suspendedCtx=this.ctx,this.ctx=U.context;const ee=this.ctx;ee.setTransform(...(0,Q.getCurrentTransform)(this.suspendedCtx)),p(this.suspendedCtx,ee),f(ee,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),p(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(v){if(!this.current.activeSMask)return;v?(v[0]=Math.floor(v[0]),v[1]=Math.floor(v[1]),v[2]=Math.ceil(v[2]),v[3]=Math.ceil(v[3])):v=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const F=this.current.activeSMask,k=this.suspendedCtx;K(k,F,this.ctx,v),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(p(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const v=this.current;this.stateStack.push(v),this.current=v.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),p(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(v,F,k,U,ee,J){this.ctx.transform(v,F,k,U,ee,J),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(v,F,k){const U=this.ctx,ee=this.current;let J=ee.x,I=ee.y,X,ne;const P=(0,Q.getCurrentTransform)(U),V=P[0]===0&&P[3]===0||P[1]===0&&P[2]===0,Y=V?k.slice(0):null;for(let Z=0,q=0,M=v.length;Z<M;Z++)switch(v[Z]|0){case re.OPS.rectangle:J=F[q++],I=F[q++];const te=F[q++],W=F[q++],ae=J+te,fe=I+W;U.moveTo(J,I),te===0||W===0?U.lineTo(ae,fe):(U.lineTo(ae,I),U.lineTo(ae,fe),U.lineTo(J,fe)),V||ee.updateRectMinMax(P,[J,I,ae,fe]),U.closePath();break;case re.OPS.moveTo:J=F[q++],I=F[q++],U.moveTo(J,I),V||ee.updatePathMinMax(P,J,I);break;case re.OPS.lineTo:J=F[q++],I=F[q++],U.lineTo(J,I),V||ee.updatePathMinMax(P,J,I);break;case re.OPS.curveTo:X=J,ne=I,J=F[q+4],I=F[q+5],U.bezierCurveTo(F[q],F[q+1],F[q+2],F[q+3],J,I),ee.updateCurvePathMinMax(P,X,ne,F[q],F[q+1],F[q+2],F[q+3],J,I,Y),q+=6;break;case re.OPS.curveTo2:X=J,ne=I,U.bezierCurveTo(J,I,F[q],F[q+1],F[q+2],F[q+3]),ee.updateCurvePathMinMax(P,X,ne,J,I,F[q],F[q+1],F[q+2],F[q+3],Y),J=F[q+2],I=F[q+3],q+=4;break;case re.OPS.curveTo3:X=J,ne=I,J=F[q+2],I=F[q+3],U.bezierCurveTo(F[q],F[q+1],J,I,J,I),ee.updateCurvePathMinMax(P,X,ne,F[q],F[q+1],J,I,J,I,Y),q+=4;break;case re.OPS.closePath:U.closePath();break}V&&ee.updateScalingPathMinMax(P,Y),ee.setCurrentPoint(J,I)}closePath(){this.ctx.closePath()}stroke(v){v=typeof v<"u"?v:!0;const F=this.ctx,k=this.current.strokeColor;F.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof k=="object"&&(k!=null&&k.getPattern)?(F.save(),F.strokeStyle=k.getPattern(F,this,(0,Q.getCurrentTransformInverse)(F),Se.PathType.STROKE),this.rescaleAndStroke(!1),F.restore()):this.rescaleAndStroke(!0)),v&&this.consumePath(this.current.getClippedPathBoundingBox()),F.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(v){v=typeof v<"u"?v:!0;const F=this.ctx,k=this.current.fillColor,U=this.current.patternFill;let ee=!1;U&&(F.save(),F.fillStyle=k.getPattern(F,this,(0,Q.getCurrentTransformInverse)(F),Se.PathType.FILL),ee=!0);const J=this.current.getClippedPathBoundingBox();this.contentVisible&&J!==null&&(this.pendingEOFill?(F.fill("evenodd"),this.pendingEOFill=!1):F.fill()),ee&&F.restore(),v&&this.consumePath(J)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=w}eoClip(){this.pendingClip=R}beginText(){this.current.textMatrix=re.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const v=this.pendingTextPaths,F=this.ctx;if(v===void 0){F.beginPath();return}F.save(),F.beginPath();for(const k of v)F.setTransform(...k.transform),F.translate(k.x,k.y),k.addToPath(F,k.fontSize);F.restore(),F.clip(),F.beginPath(),delete this.pendingTextPaths}setCharSpacing(v){this.current.charSpacing=v}setWordSpacing(v){this.current.wordSpacing=v}setHScale(v){this.current.textHScale=v/100}setLeading(v){this.current.leading=-v}setFont(v,F){const k=this.commonObjs.get(v),U=this.current;if(!k)throw new Error(`Can't find font for ${v}`);if(U.fontMatrix=k.fontMatrix||re.FONT_IDENTITY_MATRIX,(U.fontMatrix[0]===0||U.fontMatrix[3]===0)&&(0,re.warn)("Invalid font matrix for font "+v),F<0?(F=-F,U.fontDirection=-1):U.fontDirection=1,this.current.font=k,this.current.fontSize=F,k.isType3Font)return;const ee=k.loadedName||"sans-serif";let J="normal";k.black?J="900":k.bold&&(J="bold");const I=k.italic?"italic":"normal",X=`"${ee}", ${k.fallbackName}`;let ne=F;F<se?ne=se:F>t&&(ne=t),this.current.fontSizeScale=F/ne,this.ctx.font=`${I} ${J} ${ne}px ${X}`}setTextRenderingMode(v){this.current.textRenderingMode=v}setTextRise(v){this.current.textRise=v}moveText(v,F){this.current.x=this.current.lineX+=v,this.current.y=this.current.lineY+=F}setLeadingMoveText(v,F){this.setLeading(-F),this.moveText(v,F)}setTextMatrix(v,F,k,U,ee,J){this.current.textMatrix=[v,F,k,U,ee,J],this.current.textMatrixScale=Math.hypot(v,F),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(v,F,k,U){const ee=this.ctx,J=this.current,I=J.font,X=J.textRenderingMode,ne=J.fontSize/J.fontSizeScale,P=X&re.TextRenderingMode.FILL_STROKE_MASK,V=!!(X&re.TextRenderingMode.ADD_TO_PATH_FLAG),Y=J.patternFill&&!I.missingFile;let Z;(I.disableFontFace||V||Y)&&(Z=I.getPathGenerator(this.commonObjs,v)),I.disableFontFace||Y?(ee.save(),ee.translate(F,k),ee.beginPath(),Z(ee,ne),U&&ee.setTransform(...U),(P===re.TextRenderingMode.FILL||P===re.TextRenderingMode.FILL_STROKE)&&ee.fill(),(P===re.TextRenderingMode.STROKE||P===re.TextRenderingMode.FILL_STROKE)&&ee.stroke(),ee.restore()):((P===re.TextRenderingMode.FILL||P===re.TextRenderingMode.FILL_STROKE)&&ee.fillText(v,F,k),(P===re.TextRenderingMode.STROKE||P===re.TextRenderingMode.FILL_STROKE)&&ee.strokeText(v,F,k)),V&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,Q.getCurrentTransform)(ee),x:F,y:k,fontSize:ne,addToPath:Z})}get isFontSubpixelAAEnabled(){const{context:v}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);v.scale(1.5,1),v.fillText("I",0,10);const F=v.getImageData(0,0,10,10).data;let k=!1;for(let U=3;U<F.length;U+=4)if(F[U]>0&&F[U]<255){k=!0;break}return(0,re.shadow)(this,"isFontSubpixelAAEnabled",k)}showText(v){const F=this.current,k=F.font;if(k.isType3Font)return this.showType3Text(v);const U=F.fontSize;if(U===0)return;const ee=this.ctx,J=F.fontSizeScale,I=F.charSpacing,X=F.wordSpacing,ne=F.fontDirection,P=F.textHScale*ne,V=v.length,Y=k.vertical,Z=Y?1:-1,q=k.defaultVMetrics,M=U*F.fontMatrix[0],te=F.textRenderingMode===re.TextRenderingMode.FILL&&!k.disableFontFace&&!F.patternFill;ee.save(),ee.transform(...F.textMatrix),ee.translate(F.x,F.y+F.textRise),ne>0?ee.scale(P,-1):ee.scale(P,1);let W;if(F.patternFill){ee.save();const he=F.fillColor.getPattern(ee,this,(0,Q.getCurrentTransformInverse)(ee),Se.PathType.FILL);W=(0,Q.getCurrentTransform)(ee),ee.restore(),ee.fillStyle=he}let ae=F.lineWidth;const fe=F.textMatrixScale;if(fe===0||ae===0){const he=F.textRenderingMode&re.TextRenderingMode.FILL_STROKE_MASK;(he===re.TextRenderingMode.STROKE||he===re.TextRenderingMode.FILL_STROKE)&&(ae=this.getSinglePixelWidth())}else ae/=fe;J!==1&&(ee.scale(J,J),ae/=J),ee.lineWidth=ae;let de=0,ue;for(ue=0;ue<V;++ue){const he=v[ue];if(typeof he=="number"){de+=Z*he*U/1e3;continue}let me=!1;const xe=(he.isSpace?X:0)+I,we=he.fontChar,Ce=he.accent;let Fe,Oe,Ie=he.width;if(Y){const Le=he.vmetric||q,qe=-(he.vmetric?Le[1]:Ie*.5)*M,Xe=Le[2]*M;Ie=Le?-Le[0]:Ie,Fe=qe/J,Oe=(de+Xe)/J}else Fe=de/J,Oe=0;if(k.remeasure&&Ie>0){const Le=ee.measureText(we).width*1e3/U*J;if(Ie<Le&&this.isFontSubpixelAAEnabled){const qe=Ie/Le;me=!0,ee.save(),ee.scale(qe,1),Fe/=qe}else Ie!==Le&&(Fe+=(Ie-Le)/2e3*U/J)}if(this.contentVisible&&(he.isInFont||k.missingFile)){if(te&&!Ce)ee.fillText(we,Fe,Oe);else if(this.paintChar(we,Fe,Oe,W),Ce){const Le=Fe+U*Ce.offset.x/J,qe=Oe-U*Ce.offset.y/J;this.paintChar(Ce.fontChar,Le,qe,W)}}let Me;Y?Me=Ie*M-xe*ne:Me=Ie*M+xe*ne,de+=Me,me&&ee.restore()}Y?F.y-=de:F.x+=de*P,ee.restore(),this.compose()}showType3Text(v){const F=this.ctx,k=this.current,U=k.font,ee=k.fontSize,J=k.fontDirection,I=U.vertical?1:-1,X=k.charSpacing,ne=k.wordSpacing,P=k.textHScale*J,V=k.fontMatrix||re.FONT_IDENTITY_MATRIX,Y=v.length,Z=k.textRenderingMode===re.TextRenderingMode.INVISIBLE;let q,M,te,W;if(!(Z||ee===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,F.save(),F.transform(...k.textMatrix),F.translate(k.x,k.y),F.scale(P,J),q=0;q<Y;++q){if(M=v[q],typeof M=="number"){W=I*M*ee/1e3,this.ctx.translate(W,0),k.x+=W*P;continue}const ae=(M.isSpace?ne:0)+X,fe=U.charProcOperatorList[M.operatorListId];if(!fe){(0,re.warn)(`Type3 character "${M.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=M,this.save(),F.scale(ee,ee),F.transform(...V),this.executeOperatorList(fe),this.restore()),te=re.Util.applyTransform([M.width,0],V)[0]*ee+ae,F.translate(te,0),k.x+=te*P}F.restore(),this.processingType3=null}}setCharWidth(v,F){}setCharWidthAndBounds(v,F,k,U,ee,J){this.ctx.rect(k,U,ee-k,J-U),this.ctx.clip(),this.endPath()}getColorN_Pattern(v){let F;if(v[0]==="TilingPattern"){const k=v[1],U=this.baseTransform||(0,Q.getCurrentTransform)(this.ctx),ee={createCanvasGraphics:J=>new L(J,this.commonObjs,this.objs,this.canvasFactory)};F=new Se.TilingPattern(v,k,this.ctx,ee,U)}else F=this._getPattern(v[1],v[2]);return F}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(v,F,k){var ee;const U=((ee=this.selectColor)==null?void 0:ee.call(this,v,F,k))||re.Util.makeHexColor(v,F,k);this.ctx.strokeStyle=U,this.current.strokeColor=U}setFillRGBColor(v,F,k){var ee;const U=((ee=this.selectColor)==null?void 0:ee.call(this,v,F,k))||re.Util.makeHexColor(v,F,k);this.ctx.fillStyle=U,this.current.fillColor=U,this.current.patternFill=!1}_getPattern(v,F=null){let k;return this.cachedPatterns.has(v)?k=this.cachedPatterns.get(v):(k=(0,Se.getShadingPattern)(this.objs.get(v)),this.cachedPatterns.set(v,k)),F&&(k.matrix=F),k}shadingFill(v){if(!this.contentVisible)return;const F=this.ctx;this.save();const k=this._getPattern(v);F.fillStyle=k.getPattern(F,this,(0,Q.getCurrentTransformInverse)(F),Se.PathType.SHADING);const U=(0,Q.getCurrentTransformInverse)(F);if(U){const ee=F.canvas,J=ee.width,I=ee.height,X=re.Util.applyTransform([0,0],U),ne=re.Util.applyTransform([0,I],U),P=re.Util.applyTransform([J,0],U),V=re.Util.applyTransform([J,I],U),Y=Math.min(X[0],ne[0],P[0],V[0]),Z=Math.min(X[1],ne[1],P[1],V[1]),q=Math.max(X[0],ne[0],P[0],V[0]),M=Math.max(X[1],ne[1],P[1],V[1]);this.ctx.fillRect(Y,Z,q-Y,M-Z)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,re.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,re.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(v,F){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(v)&&v.length===6&&this.transform(...v),this.baseTransform=(0,Q.getCurrentTransform)(this.ctx),F)){const k=F[2]-F[0],U=F[3]-F[1];this.ctx.rect(F[0],F[1],k,U),this.current.updateRectMinMax((0,Q.getCurrentTransform)(this.ctx),F),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(v){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const F=this.ctx;v.isolated||(0,re.info)("TODO: Support non-isolated groups."),v.knockout&&(0,re.warn)("Knockout groups not supported.");const k=(0,Q.getCurrentTransform)(F);if(v.matrix&&F.transform(...v.matrix),!v.bbox)throw new Error("Bounding box is required.");let U=re.Util.getAxialAlignedBoundingBox(v.bbox,(0,Q.getCurrentTransform)(F));const ee=[0,0,F.canvas.width,F.canvas.height];U=re.Util.intersect(U,ee)||[0,0,0,0];const J=Math.floor(U[0]),I=Math.floor(U[1]);let X=Math.max(Math.ceil(U[2])-J,1),ne=Math.max(Math.ceil(U[3])-I,1),P=1,V=1;X>m&&(P=X/m,X=m),ne>m&&(V=ne/m,ne=m),this.current.startNewPathAndClipBox([0,0,X,ne]);let Y="groupAt"+this.groupLevel;v.smask&&(Y+="_smask_"+this.smaskCounter++%2);const Z=this.cachedCanvases.getCanvas(Y,X,ne),q=Z.context;q.scale(1/P,1/V),q.translate(-J,-I),q.transform(...k),v.smask?this.smaskStack.push({canvas:Z.canvas,context:q,offsetX:J,offsetY:I,scaleX:P,scaleY:V,subtype:v.smask.subtype,backdrop:v.smask.backdrop,transferMap:v.smask.transferMap||null,startTransformInverse:null}):(F.setTransform(1,0,0,1,0,0),F.translate(J,I),F.scale(P,V),F.save()),p(F,q),this.ctx=q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(F),this.groupLevel++}endGroup(v){if(!this.contentVisible)return;this.groupLevel--;const F=this.ctx,k=this.groupStack.pop();if(this.ctx=k,this.ctx.imageSmoothingEnabled=!1,v.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const U=(0,Q.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...U);const ee=re.Util.getAxialAlignedBoundingBox([0,0,F.canvas.width,F.canvas.height],U);this.ctx.drawImage(F.canvas,0,0),this.ctx.restore(),this.compose(ee)}}beginAnnotation(v,F,k,U,ee){if(dt(this,h,bi).call(this),s(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(F)&&F.length===4){const J=F[2]-F[0],I=F[3]-F[1];if(ee&&this.annotationCanvasMap){k=k.slice(),k[4]-=F[0],k[5]-=F[1],F=F.slice(),F[0]=F[1]=0,F[2]=J,F[3]=I;const[X,ne]=re.Util.singularValueDecompose2dScale((0,Q.getCurrentTransform)(this.ctx)),{viewportScale:P}=this,V=Math.ceil(J*this.outputScaleX*P),Y=Math.ceil(I*this.outputScaleY*P);this.annotationCanvas=this.canvasFactory.create(V,Y);const{canvas:Z,context:q}=this.annotationCanvas;this.annotationCanvasMap.set(v,Z),this.annotationCanvas.savedCtx=this.ctx,this.ctx=q,this.ctx.setTransform(X,0,0,-ne,0,I*ne),s(this.ctx,this.foregroundColor)}else s(this.ctx,this.foregroundColor),this.ctx.rect(F[0],F[1],J,I),this.ctx.clip(),this.endPath()}this.current=new y(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...k),this.transform(...U)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(v){if(!this.contentVisible)return;const F=v.count;v=this.getObject(v.data,v),v.count=F;const k=this.ctx,U=this.processingType3;if(U&&(U.compiled===void 0&&(U.compiled=_(v)),U.compiled)){U.compiled(k);return}const ee=this._createMaskCanvas(v),J=ee.canvas;k.save(),k.setTransform(1,0,0,1,0,0),k.drawImage(J,ee.offsetX,ee.offsetY),k.restore(),this.compose()}paintImageMaskXObjectRepeat(v,F,k=0,U=0,ee,J){if(!this.contentVisible)return;v=this.getObject(v.data,v);const I=this.ctx;I.save();const X=(0,Q.getCurrentTransform)(I);I.transform(F,k,U,ee,0,0);const ne=this._createMaskCanvas(v);I.setTransform(1,0,0,1,0,0);for(let P=0,V=J.length;P<V;P+=2){const Y=re.Util.transform(X,[F,k,U,ee,J[P],J[P+1]]),[Z,q]=re.Util.applyTransform([0,0],Y);I.drawImage(ne.canvas,Z,q)}I.restore(),this.compose()}paintImageMaskXObjectGroup(v){if(!this.contentVisible)return;const F=this.ctx,k=this.current.fillColor,U=this.current.patternFill;for(const ee of v){const{data:J,width:I,height:X,transform:ne}=ee,P=this.cachedCanvases.getCanvas("maskCanvas",I,X),V=P.context;V.save();const Y=this.getObject(J,ee);u(V,Y),V.globalCompositeOperation="source-in",V.fillStyle=U?k.getPattern(V,this,(0,Q.getCurrentTransformInverse)(F),Se.PathType.FILL):k,V.fillRect(0,0,I,X),V.restore(),F.save(),F.transform(...ne),F.scale(1,-1),E(F,P.canvas,0,0,I,X,0,-1,1,1),F.restore()}this.compose()}paintImageXObject(v){if(!this.contentVisible)return;const F=this.getObject(v);if(!F){(0,re.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(F)}paintImageXObjectRepeat(v,F,k,U){if(!this.contentVisible)return;const ee=this.getObject(v);if(!ee){(0,re.warn)("Dependent image isn't ready yet");return}const J=ee.width,I=ee.height,X=[];for(let ne=0,P=U.length;ne<P;ne+=2)X.push({transform:[F,0,0,k,U[ne],U[ne+1]],x:0,y:0,w:J,h:I});this.paintInlineImageXObjectGroup(ee,X)}paintInlineImageXObject(v){if(!this.contentVisible)return;const F=v.width,k=v.height,U=this.ctx;this.save(),U.scale(1/F,-1/k);let ee;if(typeof HTMLElement=="function"&&v instanceof HTMLElement||!v.data)ee=v;else{const ne=this.cachedCanvases.getCanvas("inlineImage",F,k),P=ne.context;n(P,v,this.current.transferMaps),ee=ne.canvas}const J=this._scaleImage(ee,(0,Q.getCurrentTransformInverse)(U));U.imageSmoothingEnabled=g((0,Q.getCurrentTransform)(U),v.interpolate);const[I,X]=E(U,J.img,0,0,J.paintWidth,J.paintHeight,0,-k,F,k);if(this.imageLayer){const[ne,P]=re.Util.applyTransform([0,-k],(0,Q.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:v,left:ne,top:P,width:I,height:X})}this.compose(),this.restore()}paintInlineImageXObjectGroup(v,F){if(!this.contentVisible)return;const k=this.ctx,U=v.width,ee=v.height,J=this.cachedCanvases.getCanvas("inlineImage",U,ee),I=J.context;n(I,v,this.current.transferMaps);for(const X of F){if(k.save(),k.transform(...X.transform),k.scale(1,-1),E(k,J.canvas,X.x,X.y,X.w,X.h,0,-1,1,1),this.imageLayer){const[ne,P]=re.Util.applyTransform([X.x,X.y],(0,Q.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:v,left:ne,top:P,width:U,height:ee})}k.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(v){}markPointProps(v,F){}beginMarkedContent(v){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(v,F){v==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(F)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(v){const F=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(v);const k=this.ctx;this.pendingClip&&(F||(this.pendingClip===R?k.clip("evenodd"):k.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),k.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const v=(0,Q.getCurrentTransform)(this.ctx);if(v[1]===0&&v[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(v[0]),Math.abs(v[3]));else{const F=Math.abs(v[0]*v[3]-v[2]*v[1]),k=Math.hypot(v[0],v[2]),U=Math.hypot(v[1],v[3]);this._cachedGetSinglePixelWidth=Math.max(k,U)/F}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:v}=this.current,F=(0,Q.getCurrentTransform)(this.ctx);let k,U;if(F[1]===0&&F[2]===0){const ee=Math.abs(F[0]),J=Math.abs(F[3]);if(v===0)k=1/ee,U=1/J;else{const I=ee*v,X=J*v;k=I<1?1/I:1,U=X<1?1/X:1}}else{const ee=Math.abs(F[0]*F[3]-F[2]*F[1]),J=Math.hypot(F[0],F[1]),I=Math.hypot(F[2],F[3]);if(v===0)k=I/ee,U=J/ee;else{const X=v*ee;k=I>X?I/X:1,U=J>X?J/X:1}}this._cachedScaleForStroking=[k,U]}return this._cachedScaleForStroking}rescaleAndStroke(v){const{ctx:F}=this,{lineWidth:k}=this.current,[U,ee]=this.getScaleForStroking();if(F.lineWidth=k||1,U===1&&ee===1){F.stroke();return}let J,I,X;v&&(J=(0,Q.getCurrentTransform)(F),I=F.getLineDash().slice(),X=F.lineDashOffset),F.scale(U,ee);const ne=Math.max(U,ee);F.setLineDash(F.getLineDash().map(P=>P/ne)),F.lineDashOffset/=ne,F.stroke(),v&&(F.setTransform(...J),F.setLineDash(I),F.lineDashOffset=X)}isContentVisible(){for(let v=this.markedContentStack.length-1;v>=0;v--)if(!this.markedContentStack[v].visible)return!1;return!0}};h=new WeakSet,bi=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let o=L;i.CanvasGraphics=o;for(const x in re.OPS)o.prototype[x]!==void 0&&(o.prototype[re.OPS[x]]=o.prototype[x])},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=j;var Q=N(1),re=N(8),Se=N(3);const Ae={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=Ae;function A(E,_){if(!_||Se.isNodeJS)return;const y=_[2]-_[0],n=_[3]-_[1],u=new Path2D;u.rect(_[0],_[1],y,n),E.clip(u)}class se{constructor(){this.constructor===se&&(0,Q.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,Q.unreachable)("Abstract method `getPattern` called.")}}class t extends se{constructor(_){super(),this._type=_[1],this._bbox=_[2],this._colorStops=_[3],this._p0=_[4],this._p1=_[5],this._r0=_[6],this._r1=_[7],this.matrix=null}_createGradient(_){let y;this._type==="axial"?y=_.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(y=_.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)y.addColorStop(n[0],n[1]);return y}getPattern(_,y,n,u){let p;if(u===Ae.STROKE||u===Ae.FILL){const s=y.current.getClippedPathBoundingBox(u,(0,re.getCurrentTransform)(_))||[0,0,0,0],r=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,c=y.cachedCanvases.getCanvas("pattern",r,l,!0),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-s[0],-s[1]),n=Q.Util.transform(n,[1,0,0,1,s[0],s[1]]),d.transform(...y.baseTransform),this.matrix&&d.transform(...this.matrix),A(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),p=_.createPattern(c.canvas,"no-repeat");const K=new DOMMatrix(n);try{p.setTransform(K)}catch(g){(0,Q.warn)(`RadialAxialShadingPattern.getPattern: "${g==null?void 0:g.message}".`)}}else A(_,this._bbox),p=this._createGradient(_);return p}}function m(E,_,y,n,u,p,s,r){const l=_.coords,c=_.colors,d=E.data,K=E.width*4;let g;l[y+1]>l[n+1]&&(g=y,y=n,n=g,g=p,p=s,s=g),l[n+1]>l[u+1]&&(g=n,n=u,u=g,g=s,s=r,r=g),l[y+1]>l[n+1]&&(g=y,y=n,n=g,g=p,p=s,s=g);const G=(l[y]+_.offsetX)*_.scaleX,O=(l[y+1]+_.offsetY)*_.scaleY,w=(l[n]+_.offsetX)*_.scaleX,R=(l[n+1]+_.offsetY)*_.scaleY,o=(l[u]+_.offsetX)*_.scaleX,h=(l[u+1]+_.offsetY)*_.scaleY;if(O>=h)return;const H=c[p],L=c[p+1],x=c[p+2],v=c[s],F=c[s+1],k=c[s+2],U=c[r],ee=c[r+1],J=c[r+2],I=Math.round(O),X=Math.round(h);let ne,P,V,Y,Z,q,M,te;for(let W=I;W<=X;W++){if(W<R){let he;W<O?he=0:he=(O-W)/(O-R),ne=G-(G-w)*he,P=H-(H-v)*he,V=L-(L-F)*he,Y=x-(x-k)*he}else{let he;W>h?he=1:R===h?he=0:he=(R-W)/(R-h),ne=w-(w-o)*he,P=v-(v-U)*he,V=F-(F-ee)*he,Y=k-(k-J)*he}let ae;W<O?ae=0:W>h?ae=1:ae=(O-W)/(O-h),Z=G-(G-o)*ae,q=H-(H-U)*ae,M=L-(L-ee)*ae,te=x-(x-J)*ae;const fe=Math.round(Math.min(ne,Z)),de=Math.round(Math.max(ne,Z));let ue=K*W+fe*4;for(let he=fe;he<=de;he++)ae=(ne-he)/(ne-Z),ae<0?ae=0:ae>1&&(ae=1),d[ue++]=P-(P-q)*ae|0,d[ue++]=V-(V-M)*ae|0,d[ue++]=Y-(Y-te)*ae|0,d[ue++]=255}}function ie(E,_,y){const n=_.coords,u=_.colors;let p,s;switch(_.type){case"lattice":const r=_.verticesPerRow,l=Math.floor(n.length/r)-1,c=r-1;for(p=0;p<l;p++){let d=p*r;for(let K=0;K<c;K++,d++)m(E,y,n[d],n[d+1],n[d+r],u[d],u[d+1],u[d+r]),m(E,y,n[d+r+1],n[d+1],n[d+r],u[d+r+1],u[d+1],u[d+r])}break;case"triangles":for(p=0,s=n.length;p<s;p+=3)m(E,y,n[p],n[p+1],n[p+2],u[p],u[p+1],u[p+2]);break;default:throw new Error("illegal figure")}}class z extends se{constructor(_){super(),this._coords=_[2],this._colors=_[3],this._figures=_[4],this._bounds=_[5],this._bbox=_[7],this._background=_[8],this.matrix=null}_createMeshCanvas(_,y,n){const r=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-r,d=Math.ceil(this._bounds[3])-l,K=Math.min(Math.ceil(Math.abs(c*_[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*_[1]*1.1)),3e3),G=c/K,O=d/g,w={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-l,scaleX:1/G,scaleY:1/O},R=K+2*2,o=g+2*2,h=n.getCanvas("mesh",R,o,!1),H=h.context,L=H.createImageData(K,g);if(y){const v=L.data;for(let F=0,k=v.length;F<k;F+=4)v[F]=y[0],v[F+1]=y[1],v[F+2]=y[2],v[F+3]=255}for(const v of this._figures)ie(L,v,w);return H.putImageData(L,2,2),{canvas:h.canvas,offsetX:r-2*G,offsetY:l-2*O,scaleX:G,scaleY:O}}getPattern(_,y,n,u){A(_,this._bbox);let p;if(u===Ae.SHADING)p=Q.Util.singularValueDecompose2dScale((0,re.getCurrentTransform)(_));else if(p=Q.Util.singularValueDecompose2dScale(y.baseTransform),this.matrix){const r=Q.Util.singularValueDecompose2dScale(this.matrix);p=[p[0]*r[0],p[1]*r[1]]}const s=this._createMeshCanvas(p,u===Ae.SHADING?null:this._background,y.cachedCanvases);return u!==Ae.SHADING&&(_.setTransform(...y.baseTransform),this.matrix&&_.transform(...this.matrix)),_.translate(s.offsetX,s.offsetY),_.scale(s.scaleX,s.scaleY),_.createPattern(s.canvas,"no-repeat")}}class e extends se{getPattern(){return"hotpink"}}function j(E){switch(E[0]){case"RadialAxial":return new t(E);case"Mesh":return new z(E);case"Dummy":return new e}throw new Error(`Unknown IR type: ${E[0]}`)}const f={COLORED:1,UNCOLORED:2};class T{static get MAX_PATTERN_SIZE(){return(0,Q.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(_,y,n,u,p){this.operatorList=_[2],this.matrix=_[3]||[1,0,0,1,0,0],this.bbox=_[4],this.xstep=_[5],this.ystep=_[6],this.paintType=_[7],this.tilingType=_[8],this.color=y,this.ctx=n,this.canvasGraphicsFactory=u,this.baseTransform=p}createPatternCanvas(_){const y=this.operatorList,n=this.bbox,u=this.xstep,p=this.ystep,s=this.paintType,r=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,Q.info)("TilingType: "+r);const d=n[0],K=n[1],g=n[2],G=n[3],O=Q.Util.singularValueDecompose2dScale(this.matrix),w=Q.Util.singularValueDecompose2dScale(this.baseTransform),R=[O[0]*w[0],O[1]*w[1]],o=this.getSizeAndScale(u,this.ctx.canvas.width,R[0]),h=this.getSizeAndScale(p,this.ctx.canvas.height,R[1]),H=_.cachedCanvases.getCanvas("pattern",o.size,h.size,!0),L=H.context,x=c.createCanvasGraphics(L);x.groupLevel=_.groupLevel,this.setFillAndStrokeStyleToContext(x,s,l);let v=d,F=K,k=g,U=G;return d<0&&(v=0,k+=Math.abs(d)),K<0&&(F=0,U+=Math.abs(K)),L.translate(-(o.scale*v),-(h.scale*F)),x.transform(o.scale,0,0,h.scale,0,0),L.save(),this.clipBbox(x,v,F,k,U),x.baseTransform=(0,re.getCurrentTransform)(x.ctx),x.executeOperatorList(y),x.endDrawing(),{canvas:H.canvas,scaleX:o.scale,scaleY:h.scale,offsetX:v,offsetY:F}}getSizeAndScale(_,y,n){_=Math.abs(_);const u=Math.max(T.MAX_PATTERN_SIZE,y);let p=Math.ceil(_*n);return p>=u?p=u:n=p/_,{scale:n,size:p}}clipBbox(_,y,n,u,p){const s=u-y,r=p-n;_.ctx.rect(y,n,s,r),_.current.updateRectMinMax((0,re.getCurrentTransform)(_.ctx),[y,n,u,p]),_.clip(),_.endPath()}setFillAndStrokeStyleToContext(_,y,n){const u=_.ctx,p=_.current;switch(y){case f.COLORED:const s=this.ctx;u.fillStyle=s.fillStyle,u.strokeStyle=s.strokeStyle,p.fillColor=s.fillStyle,p.strokeColor=s.strokeStyle;break;case f.UNCOLORED:const r=Q.Util.makeHexColor(n[0],n[1],n[2]);u.fillStyle=r,u.strokeStyle=r,p.fillColor=r,p.strokeColor=r;break;default:throw new Q.FormatError(`Unsupported paint type: ${y}`)}}getPattern(_,y,n,u){let p=n;u!==Ae.SHADING&&(p=Q.Util.transform(p,y.baseTransform),this.matrix&&(p=Q.Util.transform(p,this.matrix)));const s=this.createPatternCanvas(y);let r=new DOMMatrix(p);r=r.translate(s.offsetX,s.offsetY),r=r.scale(1/s.scaleX,1/s.scaleY);const l=_.createPattern(s.canvas,"repeat");try{l.setTransform(r)}catch(c){(0,Q.warn)(`TilingPattern.getPattern: "${c==null?void 0:c.message}".`)}return l}}i.TilingPattern=T},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.applyMaskImageData=re;var Q=N(1);function re({src:Se,srcPos:Ae=0,dest:A,destPos:se=0,width:t,height:m,inverseDecode:ie=!1}){const z=Q.FeatureTest.isLittleEndian?4278190080:255,[e,j]=ie?[0,z]:[z,0],f=t>>3,T=t&7,E=Se.length;A=new Uint32Array(A.buffer);for(let _=0;_<m;_++){for(const n=Ae+f;Ae<n;Ae++){const u=Ae<E?Se[Ae]:255;A[se++]=u&128?j:e,A[se++]=u&64?j:e,A[se++]=u&32?j:e,A[se++]=u&16?j:e,A[se++]=u&8?j:e,A[se++]=u&4?j:e,A[se++]=u&2?j:e,A[se++]=u&1?j:e}if(T===0)continue;const y=Ae<E?Se[Ae++]:255;for(let n=0;n<T;n++)A[se++]=y&1<<7-n?j:e}return{srcPos:Ae,destPos:se}}},($,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const N=Object.create(null);i.GlobalWorkerOptions=N,N.workerPort=N.workerPort===void 0?null:N.workerPort,N.workerSrc=N.workerSrc===void 0?"":N.workerSrc},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var Q=N(1);const re={UNKNOWN:0,DATA:1,ERROR:2},Se={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ae(se){switch(se instanceof Error||typeof se=="object"&&se!==null||(0,Q.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),se.name){case"AbortException":return new Q.AbortException(se.message);case"MissingPDFException":return new Q.MissingPDFException(se.message);case"PasswordException":return new Q.PasswordException(se.message,se.code);case"UnexpectedResponseException":return new Q.UnexpectedResponseException(se.message,se.status);case"UnknownErrorException":return new Q.UnknownErrorException(se.message,se.details);default:return new Q.UnknownErrorException(se.message,se.toString())}}class A{constructor(t,m,ie){this.sourceName=t,this.targetName=m,this.comObj=ie,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=z=>{const e=z.data;if(e.targetName!==this.sourceName)return;if(e.stream){this._processStreamMessage(e);return}if(e.callback){const f=e.callbackId,T=this.callbackCapabilities[f];if(!T)throw new Error(`Cannot resolve callback ${f}`);if(delete this.callbackCapabilities[f],e.callback===re.DATA)T.resolve(e.data);else if(e.callback===re.ERROR)T.reject(Ae(e.reason));else throw new Error("Unexpected callback case");return}const j=this.actionHandler[e.action];if(!j)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const f=this.sourceName,T=e.sourceName;new Promise(function(E){E(j(e.data))}).then(function(E){ie.postMessage({sourceName:f,targetName:T,callback:re.DATA,callbackId:e.callbackId,data:E})},function(E){ie.postMessage({sourceName:f,targetName:T,callback:re.ERROR,callbackId:e.callbackId,reason:Ae(E)})});return}if(e.streamId){this._createStreamSink(e);return}j(e.data)},ie.addEventListener("message",this._onComObjOnMessage)}on(t,m){const ie=this.actionHandler;if(ie[t])throw new Error(`There is already an actionName called "${t}"`);ie[t]=m}send(t,m,ie){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:m},ie)}sendWithPromise(t,m,ie){const z=this.callbackId++,e=(0,Q.createPromiseCapability)();this.callbackCapabilities[z]=e;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:z,data:m},ie)}catch(j){e.reject(j)}return e.promise}sendWithStream(t,m,ie,z){const e=this.streamId++,j=this.sourceName,f=this.targetName,T=this.comObj;return new ReadableStream({start:E=>{const _=(0,Q.createPromiseCapability)();return this.streamControllers[e]={controller:E,startCall:_,pullCall:null,cancelCall:null,isClosed:!1},T.postMessage({sourceName:j,targetName:f,action:t,streamId:e,data:m,desiredSize:E.desiredSize},z),_.promise},pull:E=>{const _=(0,Q.createPromiseCapability)();return this.streamControllers[e].pullCall=_,T.postMessage({sourceName:j,targetName:f,stream:Se.PULL,streamId:e,desiredSize:E.desiredSize}),_.promise},cancel:E=>{(0,Q.assert)(E instanceof Error,"cancel must have a valid reason");const _=(0,Q.createPromiseCapability)();return this.streamControllers[e].cancelCall=_,this.streamControllers[e].isClosed=!0,T.postMessage({sourceName:j,targetName:f,stream:Se.CANCEL,streamId:e,reason:Ae(E)}),_.promise}},ie)}_createStreamSink(t){const m=t.streamId,ie=this.sourceName,z=t.sourceName,e=this.comObj,j=this,f=this.actionHandler[t.action],T={enqueue(E,_=1,y){if(this.isCancelled)return;const n=this.desiredSize;this.desiredSize-=_,n>0&&this.desiredSize<=0&&(this.sinkCapability=(0,Q.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e.postMessage({sourceName:ie,targetName:z,stream:Se.ENQUEUE,streamId:m,chunk:E},y)},close(){this.isCancelled||(this.isCancelled=!0,e.postMessage({sourceName:ie,targetName:z,stream:Se.CLOSE,streamId:m}),delete j.streamSinks[m])},error(E){(0,Q.assert)(E instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,e.postMessage({sourceName:ie,targetName:z,stream:Se.ERROR,streamId:m,reason:Ae(E)}))},sinkCapability:(0,Q.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};T.sinkCapability.resolve(),T.ready=T.sinkCapability.promise,this.streamSinks[m]=T,new Promise(function(E){E(f(t.data,T))}).then(function(){e.postMessage({sourceName:ie,targetName:z,stream:Se.START_COMPLETE,streamId:m,success:!0})},function(E){e.postMessage({sourceName:ie,targetName:z,stream:Se.START_COMPLETE,streamId:m,reason:Ae(E)})})}_processStreamMessage(t){const m=t.streamId,ie=this.sourceName,z=t.sourceName,e=this.comObj,j=this.streamControllers[m],f=this.streamSinks[m];switch(t.stream){case Se.START_COMPLETE:t.success?j.startCall.resolve():j.startCall.reject(Ae(t.reason));break;case Se.PULL_COMPLETE:t.success?j.pullCall.resolve():j.pullCall.reject(Ae(t.reason));break;case Se.PULL:if(!f){e.postMessage({sourceName:ie,targetName:z,stream:Se.PULL_COMPLETE,streamId:m,success:!0});break}f.desiredSize<=0&&t.desiredSize>0&&f.sinkCapability.resolve(),f.desiredSize=t.desiredSize,new Promise(function(T){T(f.onPull&&f.onPull())}).then(function(){e.postMessage({sourceName:ie,targetName:z,stream:Se.PULL_COMPLETE,streamId:m,success:!0})},function(T){e.postMessage({sourceName:ie,targetName:z,stream:Se.PULL_COMPLETE,streamId:m,reason:Ae(T)})});break;case Se.ENQUEUE:if((0,Q.assert)(j,"enqueue should have stream controller"),j.isClosed)break;j.controller.enqueue(t.chunk);break;case Se.CLOSE:if((0,Q.assert)(j,"close should have stream controller"),j.isClosed)break;j.isClosed=!0,j.controller.close(),this._deleteStreamController(j,m);break;case Se.ERROR:(0,Q.assert)(j,"error should have stream controller"),j.controller.error(Ae(t.reason)),this._deleteStreamController(j,m);break;case Se.CANCEL_COMPLETE:t.success?j.cancelCall.resolve():j.cancelCall.reject(Ae(t.reason)),this._deleteStreamController(j,m);break;case Se.CANCEL:if(!f)break;new Promise(function(T){T(f.onCancel&&f.onCancel(Ae(t.reason)))}).then(function(){e.postMessage({sourceName:ie,targetName:z,stream:Se.CANCEL_COMPLETE,streamId:m,success:!0})},function(T){e.postMessage({sourceName:ie,targetName:z,stream:Se.CANCEL_COMPLETE,streamId:m,reason:Ae(T)})}),f.sinkCapability.reject(Ae(t.reason)),f.isCancelled=!0,delete this.streamSinks[m];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t,m){await Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete this.streamControllers[m]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}i.MessageHandler=A},($,i,N)=>{var Se,Ae;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var Q=N(1);class re{constructor({parsedData:se,rawData:t}){At(this,Se);At(this,Ae);wt(this,Se,se),wt(this,Ae,t)}getRaw(){return Pe(this,Ae)}get(se){return Pe(this,Se).get(se)??null}getAll(){return(0,Q.objectFromMap)(Pe(this,Se))}has(se){return Pe(this,Se).has(se)}}Se=new WeakMap,Ae=new WeakMap,i.Metadata=re},($,i,N)=>{var A,se,t,m,ie,z,yi;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var Q=N(1);const re=Symbol("INTERNAL");class Se{constructor(f,T){At(this,A,!0);this.name=f,this.intent=T}get visible(){return Pe(this,A)}_setVisible(f,T){f!==re&&(0,Q.unreachable)("Internal method `_setVisible` called."),wt(this,A,T)}}A=new WeakMap;class Ae{constructor(f){At(this,z);At(this,se,!0);At(this,t,new Map);At(this,m,null);At(this,ie,null);if(this.name=null,this.creator=null,f!==null){this.name=f.name,this.creator=f.creator,wt(this,ie,f.order);for(const T of f.groups)Pe(this,t).set(T.id,new Se(T.name,T.intent));if(f.baseState==="OFF")for(const T of Pe(this,t).values())T._setVisible(re,!1);for(const T of f.on)Pe(this,t).get(T)._setVisible(re,!0);for(const T of f.off)Pe(this,t).get(T)._setVisible(re,!1);wt(this,m,new Map);for(const[T,E]of Pe(this,t))Pe(this,m).set(T,E.visible)}}isVisible(f){if(Pe(this,t).size===0)return!0;if(!f)return(0,Q.warn)("Optional content group not defined."),!0;if(f.type==="OCG")return Pe(this,t).has(f.id)?Pe(this,t).get(f.id).visible:((0,Q.warn)(`Optional content group not found: ${f.id}`),!0);if(f.type==="OCMD"){if(f.expression)return dt(this,z,yi).call(this,f.expression);if(!f.policy||f.policy==="AnyOn"){for(const T of f.ids){if(!Pe(this,t).has(T))return(0,Q.warn)(`Optional content group not found: ${T}`),!0;if(Pe(this,t).get(T).visible)return!0}return!1}else if(f.policy==="AllOn"){for(const T of f.ids){if(!Pe(this,t).has(T))return(0,Q.warn)(`Optional content group not found: ${T}`),!0;if(!Pe(this,t).get(T).visible)return!1}return!0}else if(f.policy==="AnyOff"){for(const T of f.ids){if(!Pe(this,t).has(T))return(0,Q.warn)(`Optional content group not found: ${T}`),!0;if(!Pe(this,t).get(T).visible)return!0}return!1}else if(f.policy==="AllOff"){for(const T of f.ids){if(!Pe(this,t).has(T))return(0,Q.warn)(`Optional content group not found: ${T}`),!0;if(Pe(this,t).get(T).visible)return!1}return!0}return(0,Q.warn)(`Unknown optional content policy ${f.policy}.`),!0}return(0,Q.warn)(`Unknown group type ${f.type}.`),!0}setVisibility(f,T=!0){if(!Pe(this,t).has(f)){(0,Q.warn)(`Optional content group not found: ${f}`);return}Pe(this,t).get(f)._setVisible(re,!!T),wt(this,se,null)}get hasInitialVisibility(){if(Pe(this,se)!==null)return Pe(this,se);for(const[f,T]of Pe(this,t)){const E=Pe(this,m).get(f);if(T.visible!==E)return wt(this,se,!1)}return wt(this,se,!0)}getOrder(){return Pe(this,t).size?Pe(this,ie)?Pe(this,ie).slice():[...Pe(this,t).keys()]:null}getGroups(){return Pe(this,t).size>0?(0,Q.objectFromMap)(Pe(this,t)):null}getGroup(f){return Pe(this,t).get(f)||null}}se=new WeakMap,t=new WeakMap,m=new WeakMap,ie=new WeakMap,z=new WeakSet,yi=function(f){const T=f.length;if(T<2)return!0;const E=f[0];for(let _=1;_<T;_++){const y=f[_];let n;if(Array.isArray(y))n=dt(this,z,yi).call(this,y);else if(Pe(this,t).has(y))n=Pe(this,t).get(y).visible;else return(0,Q.warn)(`Optional content group not found: ${y}`),!0;switch(E){case"And":if(!n)return!1;break;case"Or":if(n)return!0;break;case"Not":return!n;default:return!0}}return E==="And"},i.OptionalContentConfig=Ae},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var Q=N(1),re=N(8);class Se{constructor(t,m){(0,Q.assert)(m,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const ie=t.initialData;if((ie==null?void 0:ie.length)>0){const z=new Uint8Array(ie).buffer;this._queuedChunks.push(z)}this._pdfDataRangeTransport=m,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((z,e)=>{this._onReceiveData({begin:z,chunk:e})}),this._pdfDataRangeTransport.addProgressListener((z,e)=>{this._onProgress({loaded:z,total:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(z=>{this._onReceiveData({chunk:z})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const m=new Uint8Array(t.chunk).buffer;if(t.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(m):this._queuedChunks.push(m);else{const ie=this._rangeReaders.some(function(z){return z._begin!==t.begin?!1:(z._enqueue(m),!0)});(0,Q.assert)(ie,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){if(t.total===void 0){const m=this._rangeReaders[0];m!=null&&m.onProgress&&m.onProgress({loaded:t.loaded})}else{const m=this._fullRequestReader;m!=null&&m.onProgress&&m.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const m=this._rangeReaders.indexOf(t);m>=0&&this._rangeReaders.splice(m,1)}getFullReader(){(0,Q.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Ae(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,m){if(m<=this._progressiveDataLength)return null;const ie=new A(this,t,m);return this._pdfDataRangeTransport.requestDataRange(t,m),this._rangeReaders.push(ie),ie}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const m of this._rangeReaders.slice(0))m.cancel(t);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=Se;class Ae{constructor(t,m,ie=!1,z=null){this._stream=t,this._done=ie||!1,this._filename=(0,re.isPdfFile)(z)?z:null,this._queuedChunks=m||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,Q.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class A{constructor(t,m,ie){this._stream=t,this._begin=m,this._end=ie,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,Q.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},($,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class N{static textContent(re){const Se=[],Ae={items:Se,styles:Object.create(null)};function A(se){var ie;if(!se)return;let t=null;const m=se.name;if(m==="#text")t=se.value;else if(N.shouldBuildText(m))(ie=se==null?void 0:se.attributes)!=null&&ie.textContent?t=se.attributes.textContent:se.value&&(t=se.value);else return;if(t!==null&&Se.push({str:t}),!!se.children)for(const z of se.children)A(z)}return A(re),Ae}static shouldBuildText(re){return!(re==="textarea"||re==="input"||re==="option"||re==="select")}}i.XfaText=N},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var Q=N(9);const re=function(se){return new Promise((t,m)=>{require$$5.readFile(se,(z,e)=>{if(z||!e){m(new Error(z));return}t(new Uint8Array(e))})})};class Se extends Q.BaseCanvasFactory{_createCanvas(t,m){return require$$5.createCanvas(t,m)}}i.NodeCanvasFactory=Se;class Ae extends Q.BaseCMapReaderFactory{_fetchData(t,m){return re(t).then(ie=>({cMapData:ie,compressionType:m}))}}i.NodeCMapReaderFactory=Ae;class A extends Q.BaseStandardFontDataFactory{_fetchData(t){return re(t)}}i.NodeStandardFontDataFactory=A},($,i,N)=>{var se,t,m,ie,z,e,j,f,T,Ai,qi,wi,Ki;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var Q=N(7),re=N(1),Se=N(23),Ae=N(24);const u=class u{constructor(s){At(this,T);At(this,se);At(this,t,!1);At(this,m,this.pointerup.bind(this));At(this,ie,this.pointerdown.bind(this));At(this,z,new Map);At(this,e,!1);At(this,j,!1);At(this,f);u._initialized||(u._initialized=!0,Se.FreeTextEditor.initialize(s.l10n),Ae.InkEditor.initialize(s.l10n),s.uiManager.registerEditorTypes([Se.FreeTextEditor,Ae.InkEditor])),wt(this,f,s.uiManager),this.annotationStorage=s.annotationStorage,this.pageIndex=s.pageIndex,this.div=s.div,wt(this,se,s.accessibilityManager),Pe(this,f).addLayer(this)}updateToolbar(s){Pe(this,f).updateToolbar(s)}updateMode(s=Pe(this,f).getMode()){dt(this,T,Ki).call(this),s===re.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Pe(this,f).unselectAll()}addInkEditorIfNeeded(s){if(!s&&Pe(this,f).getMode()!==re.AnnotationEditorType.INK)return;if(!s){for(const l of Pe(this,z).values())if(l.isEmpty()){l.setInBackground();return}}dt(this,T,wi).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(s){Pe(this,f).setEditingState(s)}addCommands(s){Pe(this,f).addCommands(s)}enable(){this.div.style.pointerEvents="auto";for(const s of Pe(this,z).values())s.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const s of Pe(this,z).values())s.disableEditing()}setActiveEditor(s){Pe(this,f).getActive()!==s&&Pe(this,f).setActiveEditor(s)}enableClick(){this.div.addEventListener("pointerdown",Pe(this,ie)),this.div.addEventListener("pointerup",Pe(this,m))}disableClick(){this.div.removeEventListener("pointerdown",Pe(this,ie)),this.div.removeEventListener("pointerup",Pe(this,m))}attach(s){Pe(this,z).set(s.id,s)}detach(s){var r;Pe(this,z).delete(s.id),(r=Pe(this,se))==null||r.removePointerInTextLayer(s.contentDiv)}remove(s){Pe(this,f).removeEditor(s),this.detach(s),this.annotationStorage.remove(s.id),s.div.style.display="none",setTimeout(()=>{s.div.style.display="",s.div.remove(),s.isAttachedToDOM=!1,document.activeElement===document.body&&Pe(this,f).focusMainContainer()},0),Pe(this,j)||this.addInkEditorIfNeeded(!1)}add(s){if(dt(this,T,Ai).call(this,s),Pe(this,f).addEditor(s),this.attach(s),!s.isAttachedToDOM){const r=s.render();this.div.append(r),s.isAttachedToDOM=!0}this.moveEditorInDOM(s),s.onceAdded(),this.addToAnnotationStorage(s)}moveEditorInDOM(s){var r;(r=Pe(this,se))==null||r.moveElementInDOM(this.div,s.div,s.contentDiv,!0)}addToAnnotationStorage(s){!s.isEmpty()&&!this.annotationStorage.has(s.id)&&this.annotationStorage.setValue(s.id,s)}addOrRebuild(s){s.needsToBeRebuilt()?s.rebuild():this.add(s)}addANewEditor(s){const r=()=>{this.addOrRebuild(s)},l=()=>{s.remove()};this.addCommands({cmd:r,undo:l,mustExec:!0})}addUndoableEditor(s){const r=()=>{this.addOrRebuild(s)},l=()=>{s.remove()};this.addCommands({cmd:r,undo:l,mustExec:!1})}getNextId(){return Pe(this,f).getId()}deserialize(s){switch(s.annotationType){case re.AnnotationEditorType.FREETEXT:return Se.FreeTextEditor.deserialize(s,this);case re.AnnotationEditorType.INK:return Ae.InkEditor.deserialize(s,this)}return null}setSelected(s){Pe(this,f).setSelected(s)}toggleSelected(s){Pe(this,f).toggleSelected(s)}isSelected(s){return Pe(this,f).isSelected(s)}unselect(s){Pe(this,f).unselect(s)}pointerup(s){const r=Q.KeyboardManager.platform.isMac;if(!(s.button!==0||s.ctrlKey&&r)&&s.target===this.div&&Pe(this,e)){if(wt(this,e,!1),!Pe(this,t)){wt(this,t,!0);return}dt(this,T,wi).call(this,s)}}pointerdown(s){const r=Q.KeyboardManager.platform.isMac;if(s.button!==0||s.ctrlKey&&r||s.target!==this.div)return;wt(this,e,!0);const l=Pe(this,f).getActive();wt(this,t,!l||l.isEmpty())}drop(s){const r=s.dataTransfer.getData("text/plain"),l=Pe(this,f).getEditor(r);if(!l)return;s.preventDefault(),s.dataTransfer.dropEffect="move",dt(this,T,Ai).call(this,l);const c=this.div.getBoundingClientRect(),d=s.clientX-c.x,K=s.clientY-c.y;l.translate(d-l.startX,K-l.startY),this.moveEditorInDOM(l),l.div.focus()}dragover(s){s.preventDefault()}destroy(){var s,r;((s=Pe(this,f).getActive())==null?void 0:s.parent)===this&&Pe(this,f).setActiveEditor(null);for(const l of Pe(this,z).values())(r=Pe(this,se))==null||r.removePointerInTextLayer(l.contentDiv),l.isAttachedToDOM=!1,l.div.remove(),l.parent=null;this.div=null,Pe(this,z).clear(),Pe(this,f).removeLayer(this)}render(s){this.viewport=s.viewport,(0,Q.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const r of Pe(this,f).getEditors(this.pageIndex))this.add(r);this.updateMode()}update(s){this.viewport=s.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[s,r,l,c]=this.viewport.viewBox,d=l-s,K=c-r;return[d,K]}get viewportBaseDimensions(){const{width:s,height:r,rotation:l}=this.viewport;return l%180===0?[s,r]:[r,s]}setDimensions(){const{width:s,height:r,rotation:l}=this.viewport,c=l%180!==0,d=Math.floor(s)+"px",K=Math.floor(r)+"px";this.div.style.width=c?K:d,this.div.style.height=c?d:K,this.div.setAttribute("data-main-rotation",l)}};se=new WeakMap,t=new WeakMap,m=new WeakMap,ie=new WeakMap,z=new WeakMap,e=new WeakMap,j=new WeakMap,f=new WeakMap,T=new WeakSet,Ai=function(s){var r;s.parent!==this&&(this.attach(s),s.pageIndex=this.pageIndex,(r=s.parent)==null||r.detach(s),s.parent=this,s.div&&s.isAttachedToDOM&&(s.div.remove(),this.div.append(s.div)))},qi=function(s){switch(Pe(this,f).getMode()){case re.AnnotationEditorType.FREETEXT:return new Se.FreeTextEditor(s);case re.AnnotationEditorType.INK:return new Ae.InkEditor(s)}return null},wi=function(s){const r=this.getNextId(),l=dt(this,T,qi).call(this,{parent:this,id:r,x:s.offsetX,y:s.offsetY});return l&&this.add(l),l},Ki=function(){wt(this,j,!0);for(const s of Pe(this,z).values())s.isEmpty()&&s.remove();wt(this,j,!1)},an(u,"_initialized",!1);let A=u;i.AnnotationEditorLayer=A},($,i,N)=>{var A,se,t,m,ie,z,e,j,Yi,Ji,Zi,Si;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var Q=N(1),re=N(7),Se=N(6);const y=class y extends Se.AnnotationEditor{constructor(p){super({...p,name:"freeTextEditor"});At(this,j);At(this,A,this.editorDivBlur.bind(this));At(this,se,this.editorDivFocus.bind(this));At(this,t,this.editorDivKeydown.bind(this));At(this,m);At(this,ie,"");At(this,z,!1);At(this,e);wt(this,m,p.color||y._defaultColor||Se.AnnotationEditor._defaultLineColor),wt(this,e,p.fontSize||y._defaultFontSize)}static initialize(p){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(r=>[r,p.get(r)]));const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(p,s){switch(p){case Q.AnnotationEditorParamsType.FREETEXT_SIZE:y._defaultFontSize=s;break;case Q.AnnotationEditorParamsType.FREETEXT_COLOR:y._defaultColor=s;break}}updateParams(p,s){switch(p){case Q.AnnotationEditorParamsType.FREETEXT_SIZE:dt(this,j,Yi).call(this,s);break;case Q.AnnotationEditorParamsType.FREETEXT_COLOR:dt(this,j,Ji).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Q.AnnotationEditorParamsType.FREETEXT_SIZE,y._defaultFontSize],[Q.AnnotationEditorParamsType.FREETEXT_COLOR,y._defaultColor||Se.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[Q.AnnotationEditorParamsType.FREETEXT_SIZE,Pe(this,e)],[Q.AnnotationEditorParamsType.FREETEXT_COLOR,Pe(this,m)]]}getInitialTranslation(){return[-y._internalPadding*this.parent.scaleFactor,-(y._internalPadding+Pe(this,e))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Q.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",Pe(this,t)),this.editorDiv.addEventListener("focus",Pe(this,se)),this.editorDiv.addEventListener("blur",Pe(this,A)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",Pe(this,t)),this.editorDiv.removeEventListener("focus",Pe(this,se)),this.editorDiv.removeEventListener("blur",Pe(this,A)),this.div.focus(),this.isEditing=!1)}focusin(p){super.focusin(p),p.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),Pe(this,z)||(wt(this,z,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),wt(this,ie,dt(this,j,Zi).call(this).trimEnd()),dt(this,j,Si).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(p){this.enableEditMode(),this.editorDiv.focus()}keydown(p){p.target===this.div&&p.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(p){y._keyboardManager.exec(this,p)}editorDivFocus(p){this.isEditing=!0}editorDivBlur(p){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let p,s;this.width&&(p=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),y._l10nPromise.get("editor_free_text_aria_label").then(l=>{var c;return(c=this.editorDiv)==null?void 0:c.setAttribute("aria-label",l)}),y._l10nPromise.get("free_text_default_content").then(l=>{var c;return(c=this.editorDiv)==null?void 0:c.setAttribute("default-content",l)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${Pe(this,e)}px * var(--scale-factor))`,r.color=Pe(this,m),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,re.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parent.viewportBaseDimensions;this.setAt(p*l,s*c,this.width*l,this.height*c);for(const d of Pe(this,ie).split(`
`)){const K=document.createElement("div");K.append(d?document.createTextNode(d):document.createElement("br")),this.editorDiv.append(K)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(p,s){const r=super.deserialize(p,s);return wt(r,e,p.fontSize),wt(r,m,Q.Util.makeHexColor(...p.color)),wt(r,ie,p.value),r}serialize(){if(this.isEmpty())return null;const p=y._internalPadding*this.parent.scaleFactor,s=this.getRect(p,p),r=Se.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:Q.AnnotationEditorType.FREETEXT,color:r,fontSize:Pe(this,e),value:Pe(this,ie),pageIndex:this.parent.pageIndex,rect:s,rotation:this.rotation}}};A=new WeakMap,se=new WeakMap,t=new WeakMap,m=new WeakMap,ie=new WeakMap,z=new WeakMap,e=new WeakMap,j=new WeakSet,Yi=function(p){const s=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-Pe(this,e))*this.parent.scaleFactor),wt(this,e,l),dt(this,j,Si).call(this)},r=Pe(this,e);this.parent.addCommands({cmd:()=>{s(p)},undo:()=>{s(r)},mustExec:!0,type:Q.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Ji=function(p){const s=Pe(this,m);this.parent.addCommands({cmd:()=>{wt(this,m,p),this.editorDiv.style.color=p},undo:()=>{wt(this,m,s),this.editorDiv.style.color=s},mustExec:!0,type:Q.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Zi=function(){const p=this.editorDiv.getElementsByTagName("div");if(p.length===0)return this.editorDiv.innerText;const s=[];for(let r=0,l=p.length;r<l;r++){const d=p[r].firstChild;(d==null?void 0:d.nodeName)==="#text"?s.push(d.data):s.push("")}return s.join(`
`)},Si=function(){const[p,s]=this.parent.viewportBaseDimensions,r=this.div.getBoundingClientRect();this.width=r.width/p,this.height=r.height/s},an(y,"_freeTextDefaultContent",""),an(y,"_l10nPromise"),an(y,"_internalPadding",0),an(y,"_defaultColor",null),an(y,"_defaultFontSize",10),an(y,"_keyboardManager",new re.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],y.prototype.commitOrRemove]])),an(y,"_type","freetext");let Ae=y;i.FreeTextEditor=Ae},($,i,N)=>{var t,m,ie,z,e,j,f,T,E,_,y,n,u,p,s,Qi,es,ts,ns,Ci,is,ss,rs,Cn,vi,ai,oi,Wn,Fi,ci,v,Ei,as,os,cs,ki,li,qn,Ti;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0,Object.defineProperty(i,"fitCurve",{enumerable:!0,get:function(){return Se.fitCurve}});var Q=N(1),re=N(6),Se=N(25),Ae=N(7);const A=16,P=class P extends re.AnnotationEditor{constructor(Z){super({...Z,name:"inkEditor"});At(this,s);At(this,t,0);At(this,m,0);At(this,ie,0);At(this,z,this.canvasPointermove.bind(this));At(this,e,this.canvasPointerleave.bind(this));At(this,j,this.canvasPointerup.bind(this));At(this,f,this.canvasPointerdown.bind(this));At(this,T,!1);At(this,E,!1);At(this,_,null);At(this,y,null);At(this,n,0);At(this,u,0);At(this,p,null);this.color=Z.color||null,this.thickness=Z.thickness||null,this.opacity=Z.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Z){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(q=>[q,Z.get(q)]))}static updateDefaultParams(Z,q){switch(Z){case Q.AnnotationEditorParamsType.INK_THICKNESS:P._defaultThickness=q;break;case Q.AnnotationEditorParamsType.INK_COLOR:P._defaultColor=q;break;case Q.AnnotationEditorParamsType.INK_OPACITY:P._defaultOpacity=q/100;break}}updateParams(Z,q){switch(Z){case Q.AnnotationEditorParamsType.INK_THICKNESS:dt(this,s,Qi).call(this,q);break;case Q.AnnotationEditorParamsType.INK_COLOR:dt(this,s,es).call(this,q);break;case Q.AnnotationEditorParamsType.INK_OPACITY:dt(this,s,ts).call(this,q);break}}static get defaultPropertiesToUpdate(){return[[Q.AnnotationEditorParamsType.INK_THICKNESS,P._defaultThickness],[Q.AnnotationEditorParamsType.INK_COLOR,P._defaultColor||re.AnnotationEditor._defaultLineColor],[Q.AnnotationEditorParamsType.INK_OPACITY,Math.round(P._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Q.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||P._defaultThickness],[Q.AnnotationEditorParamsType.INK_COLOR,this.color||P._defaultColor||re.AnnotationEditor._defaultLineColor],[Q.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??P._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(dt(this,s,ai).call(this),dt(this,s,oi).call(this)),this.isAttachedToDOM||(this.parent.add(this),dt(this,s,Wn).call(this)),dt(this,s,qn).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Pe(this,y).disconnect(),wt(this,y,null),super.remove())}enableEditMode(){Pe(this,T)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",Pe(this,f)),this.canvas.addEventListener("pointerup",Pe(this,j)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Pe(this,f)),this.canvas.removeEventListener("pointerup",Pe(this,j)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Pe(this,T)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),wt(this,T,!0),this.div.classList.add("disabled"),dt(this,s,qn).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Z){super.focusin(Z),this.enableEditMode()}canvasPointerdown(Z){Z.button!==0||!this.isInEditMode()||Pe(this,T)||(this.setInForeground(),Z.type!=="mouse"&&this.div.focus(),Z.stopPropagation(),this.canvas.addEventListener("pointerleave",Pe(this,e)),this.canvas.addEventListener("pointermove",Pe(this,z)),dt(this,s,is).call(this,Z.offsetX,Z.offsetY))}canvasPointermove(Z){Z.stopPropagation(),dt(this,s,ss).call(this,Z.offsetX,Z.offsetY)}canvasPointerup(Z){Z.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Z.stopPropagation(),dt(this,s,vi).call(this,Z),this.setInBackground())}canvasPointerleave(Z){dt(this,s,vi).call(this,Z),this.setInBackground()}render(){if(this.div)return this.div;let Z,q;this.width&&(Z=this.x,q=this.y),super.render(),P._l10nPromise.get("editor_ink_aria_label").then(fe=>{var de;return(de=this.div)==null?void 0:de.setAttribute("aria-label",fe)});const[M,te,W,ae]=dt(this,s,ns).call(this);if(this.setAt(M,te,0,0),this.setDims(W,ae),dt(this,s,ai).call(this),this.width){const[fe,de]=this.parent.viewportBaseDimensions;this.setAt(Z*fe,q*de,this.width*fe,this.height*de),wt(this,E,!0),dt(this,s,Wn).call(this),this.setDims(this.width*fe,this.height*de),dt(this,s,Cn).call(this),dt(this,s,Ti).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return dt(this,s,oi).call(this),this.div}setDimensions(Z,q){const M=Math.round(Z),te=Math.round(q);if(Pe(this,n)===M&&Pe(this,u)===te)return;wt(this,n,M),wt(this,u,te),this.canvas.style.visibility="hidden",Pe(this,t)&&Math.abs(Pe(this,t)-Z/q)>.01&&(q=Math.ceil(Z/Pe(this,t)),this.setDims(Z,q));const[W,ae]=this.parent.viewportBaseDimensions;this.width=Z/W,this.height=q/ae,Pe(this,T)&&dt(this,s,Fi).call(this,Z,q),dt(this,s,Wn).call(this),dt(this,s,Cn).call(this),this.canvas.style.visibility="visible"}static deserialize(Z,q){var me,xe;const M=super.deserialize(Z,q);M.thickness=Z.thickness,M.color=Q.Util.makeHexColor(...Z.color),M.opacity=Z.opacity;const[te,W]=q.pageDimensions,ae=M.width*te,fe=M.height*W,de=q.scaleFactor,ue=Z.thickness/2;wt(M,t,ae/fe),wt(M,T,!0),wt(M,n,Math.round(ae)),wt(M,u,Math.round(fe));for(const{bezier:we}of Z.paths){const Ce=[];M.paths.push(Ce);let Fe=de*(we[0]-ue),Oe=de*(fe-we[1]-ue);for(let Me=2,Le=we.length;Me<Le;Me+=6){const qe=de*(we[Me]-ue),Xe=de*(fe-we[Me+1]-ue),Ue=de*(we[Me+2]-ue),$e=de*(fe-we[Me+3]-ue),De=de*(we[Me+4]-ue),Te=de*(fe-we[Me+5]-ue);Ce.push([[Fe,Oe],[qe,Xe],[Ue,$e],[De,Te]]),Fe=De,Oe=Te}const Ie=dt(this,v,Ei).call(this,Ce);M.bezierPath2D.push(Ie)}const he=dt(me=M,s,ki).call(me);return wt(M,ie,Math.max(A,he[2]-he[0])),wt(M,m,Math.max(A,he[3]-he[1])),dt(xe=M,s,Fi).call(xe,ae,fe),M}serialize(){if(this.isEmpty())return null;const Z=this.getRect(0,0),q=this.rotation%180===0?Z[3]-Z[1]:Z[2]-Z[0],M=re.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Q.AnnotationEditorType.INK,color:M,thickness:this.thickness,opacity:this.opacity,paths:dt(this,s,as).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,q),pageIndex:this.parent.pageIndex,rect:Z,rotation:this.rotation}}};t=new WeakMap,m=new WeakMap,ie=new WeakMap,z=new WeakMap,e=new WeakMap,j=new WeakMap,f=new WeakMap,T=new WeakMap,E=new WeakMap,_=new WeakMap,y=new WeakMap,n=new WeakMap,u=new WeakMap,p=new WeakMap,s=new WeakSet,Qi=function(Z){const q=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Z,dt(this,s,qn).call(this)},undo:()=>{this.thickness=q,dt(this,s,qn).call(this)},mustExec:!0,type:Q.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},es=function(Z){const q=this.color;this.parent.addCommands({cmd:()=>{this.color=Z,dt(this,s,Cn).call(this)},undo:()=>{this.color=q,dt(this,s,Cn).call(this)},mustExec:!0,type:Q.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ts=function(Z){Z/=100;const q=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Z,dt(this,s,Cn).call(this)},undo:()=>{this.opacity=q,dt(this,s,Cn).call(this)},mustExec:!0,type:Q.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ns=function(){const{width:Z,height:q,rotation:M}=this.parent.viewport;switch(M){case 90:return[0,Z,Z,q];case 180:return[Z,q,Z,q];case 270:return[q,0,Z,q];default:return[0,0,Z,q]}},Ci=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,Ae.opacityToHex)(this.opacity)}`},is=function(Z,q){this.isEditing=!0,Pe(this,E)||(wt(this,E,!0),dt(this,s,Wn).call(this),this.thickness||(this.thickness=P._defaultThickness),this.color||(this.color=P._defaultColor||re.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=P._defaultOpacity)),this.currentPath.push([Z,q]),wt(this,_,null),dt(this,s,Ci).call(this),this.ctx.beginPath(),this.ctx.moveTo(Z,q),wt(this,p,()=>{Pe(this,p)&&(Pe(this,_)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):dt(this,s,Cn).call(this),this.ctx.lineTo(...Pe(this,_)),wt(this,_,null),this.ctx.stroke()),window.requestAnimationFrame(Pe(this,p)))}),window.requestAnimationFrame(Pe(this,p))},ss=function(Z,q){const[M,te]=this.currentPath.at(-1);Z===M&&q===te||(this.currentPath.push([Z,q]),wt(this,_,[Z,q]))},rs=function(Z,q){var ue;this.ctx.closePath(),wt(this,p,null),Z=Math.min(Math.max(Z,0),this.canvas.width),q=Math.min(Math.max(q,0),this.canvas.height);const[M,te]=this.currentPath.at(-1);(Z!==M||q!==te)&&this.currentPath.push([Z,q]);let W;if(this.currentPath.length!==1)W=(0,Se.fitCurve)(this.currentPath,30,null);else{const he=[Z,q];W=[[he,he.slice(),he.slice(),he]]}const ae=dt(ue=P,v,Ei).call(ue,W);this.currentPath.length=0;const fe=()=>{this.paths.push(W),this.bezierPath2D.push(ae),this.rebuild()},de=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(dt(this,s,ai).call(this),dt(this,s,oi).call(this)),dt(this,s,qn).call(this))};this.parent.addCommands({cmd:fe,undo:de,mustExec:!0})},Cn=function(){if(this.isEmpty()){dt(this,s,ci).call(this);return}dt(this,s,Ci).call(this);const{canvas:Z,ctx:q}=this;q.setTransform(1,0,0,1,0,0),q.clearRect(0,0,Z.width,Z.height),dt(this,s,ci).call(this);for(const M of this.bezierPath2D)q.stroke(M)},vi=function(Z){dt(this,s,rs).call(this,Z.offsetX,Z.offsetY),this.canvas.removeEventListener("pointerleave",Pe(this,e)),this.canvas.removeEventListener("pointermove",Pe(this,z)),this.parent.addToAnnotationStorage(this)},ai=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",P._l10nPromise.get("editor_ink_canvas_aria_label").then(Z=>{var q;return(q=this.canvas)==null?void 0:q.setAttribute("aria-label",Z)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},oi=function(){wt(this,y,new ResizeObserver(Z=>{const q=Z[0].contentRect;q.width&&q.height&&this.setDimensions(q.width,q.height)})),Pe(this,y).observe(this.div)},Wn=function(){if(!Pe(this,E))return;const[Z,q]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Z),this.canvas.height=Math.ceil(this.height*q),dt(this,s,ci).call(this)},Fi=function(Z,q){const M=dt(this,s,li).call(this),te=(Z-M)/Pe(this,ie),W=(q-M)/Pe(this,m);this.scaleFactor=Math.min(te,W)},ci=function(){const Z=dt(this,s,li).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Z,this.translationY*this.scaleFactor+Z)},v=new WeakSet,Ei=function(Z){const q=new Path2D;for(let M=0,te=Z.length;M<te;M++){const[W,ae,fe,de]=Z[M];M===0&&q.moveTo(...W),q.bezierCurveTo(ae[0],ae[1],fe[0],fe[1],de[0],de[1])}return q},as=function(Z,q,M,te){const ae=[],fe=this.thickness/2;let de,ue;for(const he of this.paths){de=[],ue=[];for(let me=0,xe=he.length;me<xe;me++){const[we,Ce,Fe,Oe]=he[me],Ie=Z*(we[0]+q)+fe,Me=te-Z*(we[1]+M)-fe,Le=Z*(Ce[0]+q)+fe,qe=te-Z*(Ce[1]+M)-fe,Xe=Z*(Fe[0]+q)+fe,Ue=te-Z*(Fe[1]+M)-fe,$e=Z*(Oe[0]+q)+fe,De=te-Z*(Oe[1]+M)-fe;me===0&&(de.push(Ie,Me),ue.push(Ie,Me)),de.push(Le,qe,Xe,Ue,$e,De),dt(this,s,os).call(this,Ie,Me,Le,qe,Xe,Ue,$e,De,4,ue)}ae.push({bezier:de,points:ue})}return ae},os=function(Z,q,M,te,W,ae,fe,de,ue,he){if(dt(this,s,cs).call(this,Z,q,M,te,W,ae,fe,de)){he.push(fe,de);return}for(let me=1;me<ue-1;me++){const xe=me/ue,we=1-xe;let Ce=xe*Z+we*M,Fe=xe*q+we*te,Oe=xe*M+we*W,Ie=xe*te+we*ae;const Me=xe*W+we*fe,Le=xe*ae+we*de;Ce=xe*Ce+we*Oe,Fe=xe*Fe+we*Ie,Oe=xe*Oe+we*Me,Ie=xe*Ie+we*Le,Ce=xe*Ce+we*Oe,Fe=xe*Fe+we*Ie,he.push(Ce,Fe)}he.push(fe,de)},cs=function(Z,q,M,te,W,ae,fe,de){const he=(3*M-2*Z-fe)**2,me=(3*te-2*q-de)**2,xe=(3*W-Z-2*fe)**2,we=(3*ae-q-2*de)**2;return Math.max(he,xe)+Math.max(me,we)<=10},ki=function(){let Z=1/0,q=-1/0,M=1/0,te=-1/0;for(const W of this.paths)for(const[ae,fe,de,ue]of W){const he=Q.Util.bezierBoundingBox(...ae,...fe,...de,...ue);Z=Math.min(Z,he[0]),M=Math.min(M,he[1]),q=Math.max(q,he[2]),te=Math.max(te,he[3])}return[Z,M,q,te]},li=function(){return Pe(this,T)?Math.ceil(this.thickness*this.parent.scaleFactor):0},qn=function(Z=!1){if(this.isEmpty())return;if(!Pe(this,T)){dt(this,s,Cn).call(this);return}const q=dt(this,s,ki).call(this),M=dt(this,s,li).call(this);wt(this,ie,Math.max(A,q[2]-q[0])),wt(this,m,Math.max(A,q[3]-q[1]));const te=Math.ceil(M+Pe(this,ie)*this.scaleFactor),W=Math.ceil(M+Pe(this,m)*this.scaleFactor),[ae,fe]=this.parent.viewportBaseDimensions;this.width=te/ae,this.height=W/fe,wt(this,t,te/W),dt(this,s,Ti).call(this);const de=this.translationX,ue=this.translationY;this.translationX=-q[0],this.translationY=-q[1],dt(this,s,Wn).call(this),dt(this,s,Cn).call(this),wt(this,n,te),wt(this,u,W),this.setDims(te,W);const he=Z?M/this.scaleFactor/2:0;this.translate(de-this.translationX-he,ue-this.translationY-he)},Ti=function(){const{style:Z}=this.div;Pe(this,t)>=1?(Z.minHeight=`${A}px`,Z.minWidth=`${Math.round(Pe(this,t)*A)}px`):(Z.minWidth=`${A}px`,Z.minHeight=`${Math.round(A/Pe(this,t))}px`)},At(P,v),an(P,"_defaultColor",null),an(P,"_defaultOpacity",1),an(P,"_defaultThickness",1),an(P,"_l10nPromise"),an(P,"_type","ink");let se=P;i.InkEditor=se},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.fitCurve=void 0;const Q=N(26);i.fitCurve=Q},$=>{function i(j,f,T){if(!Array.isArray(j))throw new TypeError("First argument should be an array");if(j.forEach(n=>{if(!Array.isArray(n)||n.some(u=>typeof u!="number")||n.length!==j[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),j=j.filter((n,u)=>u===0||!n.every((p,s)=>p===j[u-1][s])),j.length<2)return[];const E=j.length,_=ie(j[1],j[0]),y=ie(j[E-2],j[E-1]);return N(j,_,y,f,T)}function N(j,f,T,E,_){var n,u,p,s,r,l,c,d,K,g,G,O,w;if(j.length===2)return O=z.vectorLen(z.subtract(j[0],j[1]))/3,n=[j[0],z.addArrays(j[0],z.mulItems(f,O)),z.addArrays(j[1],z.mulItems(T,O)),j[1]],[n];if(u=A(j),[n,s,l]=Q(j,u,u,f,T,_),s===0||s<E)return[n];if(s<E*E)for(p=u,r=s,c=l,w=0;w<20;w++){if(p=Se(n,j,p),[n,s,l]=Q(j,u,p,f,T,_),s<E)return[n];if(l===c){let R=s/r;if(R>.9999&&R<1.0001)break}r=s,c=l}return G=[],d=z.subtract(j[l-1],j[l+1]),d.every(R=>R===0)&&(d=z.subtract(j[l-1],j[l]),[d[0],d[1]]=[-d[1],d[0]]),K=z.normalize(d),g=z.mulItems(K,-1),G=G.concat(N(j.slice(0,l+1),f,K,E,_)),G=G.concat(N(j.slice(l),g,T,E,_)),G}function Q(j,f,T,E,_,y){var n,u,p;return n=re(j,T,E,_),[u,p]=se(j,n,f),y&&y({bez:n,points:j,params:f,maxErr:u,maxPoint:p}),[n,u,p]}function re(j,f,T,E){var _,y,n,u,p,s,r,l,c,d,K,g,G,O,w,R,o,h=j[0],H=j[j.length-1];for(_=[h,null,null,H],y=z.zeros_Xx2x2(f.length),G=0,O=f.length;G<O;G++)R=f[G],o=1-R,n=y[G],n[0]=z.mulItems(T,3*R*(o*o)),n[1]=z.mulItems(E,3*o*(R*R));for(u=[[0,0],[0,0]],p=[0,0],G=0,O=j.length;G<O;G++)R=f[G],n=y[G],u[0][0]+=z.dot(n[0],n[0]),u[0][1]+=z.dot(n[0],n[1]),u[1][0]+=z.dot(n[0],n[1]),u[1][1]+=z.dot(n[1],n[1]),w=z.subtract(j[G],e.q([h,h,H,H],R)),p[0]+=z.dot(n[0],w),p[1]+=z.dot(n[1],w);return s=u[0][0]*u[1][1]-u[1][0]*u[0][1],r=u[0][0]*p[1]-u[1][0]*p[0],l=p[0]*u[1][1]-p[1]*u[0][1],c=s===0?0:l/s,d=s===0?0:r/s,g=z.vectorLen(z.subtract(h,H)),K=1e-6*g,c<K||d<K?(_[1]=z.addArrays(h,z.mulItems(T,g/3)),_[2]=z.addArrays(H,z.mulItems(E,g/3))):(_[1]=z.addArrays(h,z.mulItems(T,c)),_[2]=z.addArrays(H,z.mulItems(E,d))),_}function Se(j,f,T){return T.map((E,_)=>Ae(j,f[_],E))}function Ae(j,f,T){var E=z.subtract(e.q(j,T),f),_=e.qprime(j,T),y=z.mulMatrix(E,_),n=z.sum(z.squareItems(_))+2*z.mulMatrix(E,e.qprimeprime(j,T));return n===0?T:T-y/n}function A(j){var f=[],T,E,_;return j.forEach((y,n)=>{T=n?E+z.vectorLen(z.subtract(y,_)):0,f.push(T),E=T,_=y}),f=f.map(y=>y/E),f}function se(j,f,T){var E,_,y,n,u,p,s,r;_=0,y=Math.floor(j.length/2);const l=t(f,10);for(u=0,p=j.length;u<p;u++)s=j[u],r=m(f,T[u],l,10),n=z.subtract(e.q(f,r),s),E=n[0]*n[0]+n[1]*n[1],E>_&&(_=E,y=u);return[_,y]}var t=function(j,f){for(var T,E=[0],_=j[0],y=0,n=1;n<=f;n++)T=e.q(j,n/f),y+=z.vectorLen(z.subtract(T,_)),E.push(y),_=T;return E=E.map(u=>u/y),E};function m(j,f,T,E){if(f<0)return 0;if(f>1)return 1;for(var _,y,n,u,p,s=1;s<=E;s++)if(f<=T[s]){u=(s-1)/E,n=s/E,y=T[s-1],_=T[s],p=(f-y)/(_-y)*(n-u)+u;break}return p}function ie(j,f){return z.normalize(z.subtract(j,f))}class z{static zeros_Xx2x2(f){for(var T=[];f--;)T.push([0,0]);return T}static mulItems(f,T){return f.map(E=>E*T)}static mulMatrix(f,T){return f.reduce((E,_,y)=>E+_*T[y],0)}static subtract(f,T){return f.map((E,_)=>E-T[_])}static addArrays(f,T){return f.map((E,_)=>E+T[_])}static addItems(f,T){return f.map(E=>E+T)}static sum(f){return f.reduce((T,E)=>T+E)}static dot(f,T){return z.mulMatrix(f,T)}static vectorLen(f){return Math.hypot(...f)}static divItems(f,T){return f.map(E=>E/T)}static squareItems(f){return f.map(T=>T*T)}static normalize(f){return this.divItems(f,this.vectorLen(f))}}class e{static q(f,T){var E=1-T,_=z.mulItems(f[0],E*E*E),y=z.mulItems(f[1],3*E*E*T),n=z.mulItems(f[2],3*E*T*T),u=z.mulItems(f[3],T*T*T);return z.addArrays(z.addArrays(_,y),z.addArrays(n,u))}static qprime(f,T){var E=1-T,_=z.mulItems(z.subtract(f[1],f[0]),3*E*E),y=z.mulItems(z.subtract(f[2],f[1]),6*E*T),n=z.mulItems(z.subtract(f[3],f[2]),3*T*T);return z.addArrays(z.addArrays(_,y),n)}static qprimeprime(f,T){return z.addArrays(z.mulItems(z.addArrays(z.subtract(f[2],z.mulItems(f[1],2)),f[0]),6*(1-T)),z.mulItems(z.addArrays(z.subtract(f[3],z.mulItems(f[2],2)),f[1]),6*T))}}$.exports=i,$.exports.fitCubic=N,$.exports.createTangent=ie},($,i,N)=>{var v,_i,Ii,Oi;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationLayer=void 0;var Q=N(1),re=N(8),Se=N(5),Ae=N(28),A=N(29);const se=1e3,t=9,m=new WeakSet;function ie(J){return{width:J[2]-J[0],height:J[3]-J[1]}}class z{static create(I){switch(I.data.annotationType){case Q.AnnotationType.LINK:return new j(I);case Q.AnnotationType.TEXT:return new f(I);case Q.AnnotationType.WIDGET:switch(I.data.fieldType){case"Tx":return new E(I);case"Btn":return I.data.radioButton?new y(I):I.data.checkBox?new _(I):new n(I);case"Ch":return new u(I)}return new T(I);case Q.AnnotationType.POPUP:return new p(I);case Q.AnnotationType.FREETEXT:return new r(I);case Q.AnnotationType.LINE:return new l(I);case Q.AnnotationType.SQUARE:return new c(I);case Q.AnnotationType.CIRCLE:return new d(I);case Q.AnnotationType.POLYLINE:return new K(I);case Q.AnnotationType.CARET:return new G(I);case Q.AnnotationType.INK:return new O(I);case Q.AnnotationType.POLYGON:return new g(I);case Q.AnnotationType.HIGHLIGHT:return new w(I);case Q.AnnotationType.UNDERLINE:return new R(I);case Q.AnnotationType.SQUIGGLY:return new o(I);case Q.AnnotationType.STRIKEOUT:return new h(I);case Q.AnnotationType.STAMP:return new H(I);case Q.AnnotationType.FILEATTACHMENT:return new L(I);default:return new e(I)}}}class e{constructor(I,{isRenderable:X=!1,ignoreBorder:ne=!1,createQuadrilaterals:P=!1}={}){this.isRenderable=X,this.data=I.data,this.layer=I.layer,this.page=I.page,this.viewport=I.viewport,this.linkService=I.linkService,this.downloadManager=I.downloadManager,this.imageResourcesPath=I.imageResourcesPath,this.renderForms=I.renderForms,this.svgFactory=I.svgFactory,this.annotationStorage=I.annotationStorage,this.enableScripting=I.enableScripting,this.hasJSActions=I.hasJSActions,this._fieldObjects=I.fieldObjects,this._mouseState=I.mouseState,X&&(this.container=this._createContainer(ne)),P&&(this.quadrilaterals=this._createQuadrilaterals(ne))}_createContainer(I=!1){const X=this.data,ne=this.page,P=this.viewport,V=document.createElement("section"),{width:Y,height:Z}=ie(X.rect),[q,M,te,W]=P.viewBox,ae=te-q,fe=W-M;V.setAttribute("data-annotation-id",X.id);const de=Q.Util.normalizeRect([X.rect[0],ne.view[3]-X.rect[1]+ne.view[1],X.rect[2],ne.view[3]-X.rect[3]+ne.view[1]]);if(!I&&X.borderStyle.width>0){V.style.borderWidth=`${X.borderStyle.width}px`;const he=X.borderStyle.horizontalCornerRadius,me=X.borderStyle.verticalCornerRadius;if(he>0||me>0){const we=`calc(${he}px * var(--scale-factor)) / calc(${me}px * var(--scale-factor))`;V.style.borderRadius=we}else if(this instanceof y){const we=`calc(${Y}px * var(--scale-factor)) / calc(${Z}px * var(--scale-factor))`;V.style.borderRadius=we}switch(X.borderStyle.style){case Q.AnnotationBorderStyleType.SOLID:V.style.borderStyle="solid";break;case Q.AnnotationBorderStyleType.DASHED:V.style.borderStyle="dashed";break;case Q.AnnotationBorderStyleType.BEVELED:(0,Q.warn)("Unimplemented border style: beveled");break;case Q.AnnotationBorderStyleType.INSET:(0,Q.warn)("Unimplemented border style: inset");break;case Q.AnnotationBorderStyleType.UNDERLINE:V.style.borderBottomStyle="solid";break}const xe=X.borderColor||null;xe?V.style.borderColor=Q.Util.makeHexColor(xe[0]|0,xe[1]|0,xe[2]|0):V.style.borderWidth=0}V.style.left=`${100*(de[0]-q)/ae}%`,V.style.top=`${100*(de[1]-M)/fe}%`;const{rotation:ue}=X;return X.hasOwnCanvas||ue===0?(V.style.width=`${100*Y/ae}%`,V.style.height=`${100*Z/fe}%`):this.setRotation(ue,V),V}setRotation(I,X=this.container){const[ne,P,V,Y]=this.viewport.viewBox,Z=V-ne,q=Y-P,{width:M,height:te}=ie(this.data.rect);let W,ae;I%180===0?(W=100*M/Z,ae=100*te/q):(W=100*te/Z,ae=100*M/q),X.style.width=`${W}%`,X.style.height=`${ae}%`,X.setAttribute("data-main-rotation",(360-I)%360)}get _commonActions(){const I=(X,ne,P)=>{const V=P.detail[X];P.target.style[ne]=Ae.ColorConverters[`${V[0]}_HTML`](V.slice(1))};return(0,Q.shadow)(this,"_commonActions",{display:X=>{const ne=X.detail.display%2===1;this.container.style.visibility=ne?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ne,print:X.detail.display===0||X.detail.display===3})},print:X=>{this.annotationStorage.setValue(this.data.id,{print:X.detail.print})},hidden:X=>{this.container.style.visibility=X.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:X.detail.hidden})},focus:X=>{setTimeout(()=>X.target.focus({preventScroll:!1}),0)},userName:X=>{X.target.title=X.detail.userName},readonly:X=>{X.detail.readonly?X.target.setAttribute("readonly",""):X.target.removeAttribute("readonly")},required:X=>{this._setRequired(X.target,X.detail.required)},bgColor:X=>{I("bgColor","backgroundColor",X)},fillColor:X=>{I("fillColor","backgroundColor",X)},fgColor:X=>{I("fgColor","color",X)},textColor:X=>{I("textColor","color",X)},borderColor:X=>{I("borderColor","borderColor",X)},strokeColor:X=>{I("strokeColor","borderColor",X)},rotation:X=>{const ne=X.detail.rotation;this.setRotation(ne),this.annotationStorage.setValue(this.data.id,{rotation:ne})}})}_dispatchEventFromSandbox(I,X){const ne=this._commonActions;for(const P of Object.keys(X.detail)){const V=I[P]||ne[P];V&&V(X)}}_setDefaultPropertiesFromJS(I){if(!this.enableScripting)return;const X=this.annotationStorage.getRawValue(this.data.id);if(!X)return;const ne=this._commonActions;for(const[P,V]of Object.entries(X)){const Y=ne[P];if(Y){const Z={detail:{[P]:V},target:I};Y(Z),delete X[P]}}}_createQuadrilaterals(I=!1){if(!this.data.quadPoints)return null;const X=[],ne=this.data.rect;for(const P of this.data.quadPoints)this.data.rect=[P[2].x,P[2].y,P[1].x,P[1].y],X.push(this._createContainer(I));return this.data.rect=ne,X}_createPopup(I,X){let ne=this.container;this.quadrilaterals&&(I=I||this.quadrilaterals,ne=this.quadrilaterals[0]),I||(I=document.createElement("div"),I.className="popupTriggerArea",ne.append(I));const V=new s({container:ne,trigger:I,color:X.color,titleObj:X.titleObj,modificationDate:X.modificationDate,contentsObj:X.contentsObj,richText:X.richText,hideWrapper:!0}).render();V.style.left="100%",ne.append(V)}_renderQuadrilaterals(I){for(const X of this.quadrilaterals)X.className=I;return this.quadrilaterals}render(){(0,Q.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(I,X=null){const ne=[];if(this._fieldObjects){const P=this._fieldObjects[I];if(P)for(const{page:V,id:Y,exportValues:Z}of P){if(V===-1||Y===X)continue;const q=typeof Z=="string"?Z:null,M=document.querySelector(`[data-element-id="${Y}"]`);if(M&&!m.has(M)){(0,Q.warn)(`_getElementsByName - element not allowed: ${Y}`);continue}ne.push({id:Y,exportValue:q,domElement:M})}return ne}for(const P of document.getElementsByName(I)){const{id:V,exportValue:Y}=P;V!==X&&m.has(P)&&ne.push({id:V,exportValue:Y,domElement:P})}return ne}static get platform(){const I=typeof navigator<"u"?navigator.platform:"";return(0,Q.shadow)(this,"platform",{isWin:I.includes("Win"),isMac:I.includes("Mac")})}}class j extends e{constructor(I,X=null){super(I,{isRenderable:!0,ignoreBorder:!!(X!=null&&X.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=I.data.isTooltipOnly}render(){const{data:I,linkService:X}=this,ne=document.createElement("a");ne.setAttribute("data-element-id",I.id);let P=!1;return I.url?(X.addLinkAttributes(ne,I.url,I.newWindow),P=!0):I.action?(this._bindNamedAction(ne,I.action),P=!0):I.dest?(this._bindLink(ne,I.dest),P=!0):(I.actions&&(I.actions.Action||I.actions["Mouse Up"]||I.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ne,I),P=!0),I.resetForm?(this._bindResetFormAction(ne,I.resetForm),P=!0):this.isTooltipOnly&&!P&&(this._bindLink(ne,""),P=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((V,Y)=>{const Z=Y===0?ne:ne.cloneNode();return V.append(Z),V}):(this.container.className="linkAnnotation",P&&this.container.append(ne),this.container)}_bindLink(I,X){I.href=this.linkService.getDestinationHash(X),I.onclick=()=>(X&&this.linkService.goToDestination(X),!1),(X||X==="")&&(I.className="internalLink")}_bindNamedAction(I,X){I.href=this.linkService.getAnchorUrl(""),I.onclick=()=>(this.linkService.executeNamedAction(X),!1),I.className="internalLink"}_bindJSAction(I,X){I.href=this.linkService.getAnchorUrl("");const ne=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const P of Object.keys(X.actions)){const V=ne.get(P);V&&(I[V]=()=>{var Y;return(Y=this.linkService.eventBus)==null||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X.id,name:P}}),!1})}I.onclick||(I.onclick=()=>!1),I.className="internalLink"}_bindResetFormAction(I,X){const ne=I.onclick;if(ne||(I.href=this.linkService.getAnchorUrl("")),I.className="internalLink",!this._fieldObjects){(0,Q.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ne||(I.onclick=()=>!1);return}I.onclick=()=>{var te;ne&&ne();const{fields:P,refs:V,include:Y}=X,Z=[];if(P.length!==0||V.length!==0){const W=new Set(V);for(const ae of P){const fe=this._fieldObjects[ae]||[];for(const{id:de}of fe)W.add(de)}for(const ae of Object.values(this._fieldObjects))for(const fe of ae)W.has(fe.id)===Y&&Z.push(fe)}else for(const W of Object.values(this._fieldObjects))Z.push(...W);const q=this.annotationStorage,M=[];for(const W of Z){const{id:ae}=W;switch(M.push(ae),W.type){case"text":{const de=W.defaultValue||"";q.setValue(ae,{value:de});break}case"checkbox":case"radiobutton":{const de=W.defaultValue===W.exportValues;q.setValue(ae,{value:de});break}case"combobox":case"listbox":{const de=W.defaultValue||"";q.setValue(ae,{value:de});break}default:continue}const fe=document.querySelector(`[data-element-id="${ae}"]`);if(fe){if(!m.has(fe)){(0,Q.warn)(`_bindResetFormAction - element not allowed: ${ae}`);continue}}else continue;fe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((te=this.linkService.eventBus)==null||te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:M,name:"ResetForm"}})),!1}}}class f extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X})}render(){this.container.className="textAnnotation";const I=document.createElement("img");return I.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",I.alt="[{{type}} Annotation]",I.dataset.l10nId="text_annotation_type",I.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(I,this.data),this.container.append(I),this.container}}class T extends e{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(I){const{isWin:X,isMac:ne}=e.platform;return X&&I.ctrlKey||ne&&I.metaKey}_setEventListener(I,X,ne,P){X.includes("mouse")?I.addEventListener(X,V=>{var Y;(Y=this.linkService.eventBus)==null||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:P(V),shift:V.shiftKey,modifier:this._getKeyModifier(V)}})}):I.addEventListener(X,V=>{var Y;(Y=this.linkService.eventBus)==null||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:P(V)}})})}_setEventListeners(I,X,ne){var P;for(const[V,Y]of X)(Y==="Action"||(P=this.data.actions)!=null&&P[Y])&&this._setEventListener(I,V,Y,ne)}_setBackgroundColor(I){const X=this.data.backgroundColor||null;I.style.backgroundColor=X===null?"transparent":Q.Util.makeHexColor(X[0],X[1],X[2])}_setTextStyle(I){const X=["left","center","right"],{fontColor:ne}=this.data.defaultAppearanceData,P=this.data.defaultAppearanceData.fontSize||t,V=I.style;let Y;if(this.data.multiLine){const Z=Math.abs(this.data.rect[3]-this.data.rect[1]),q=Math.round(Z/(Q.LINE_FACTOR*P))||1,M=Z/q;Y=Math.min(P,Math.round(M/Q.LINE_FACTOR))}else{const Z=Math.abs(this.data.rect[3]-this.data.rect[1]);Y=Math.min(P,Math.round(Z/Q.LINE_FACTOR))}V.fontSize=`calc(${Y}px * var(--scale-factor))`,V.color=Q.Util.makeHexColor(ne[0],ne[1],ne[2]),this.data.textAlignment!==null&&(V.textAlign=X[this.data.textAlignment])}_setRequired(I,X){X?I.setAttribute("required",!0):I.removeAttribute("required"),I.setAttribute("aria-required",X)}}class E extends T{constructor(I){const X=I.renderForms||!I.data.hasAppearance&&!!I.data.fieldValue;super(I,{isRenderable:X})}setPropertyOnSiblings(I,X,ne,P){const V=this.annotationStorage;for(const Y of this._getElementsByName(I.name,I.id))Y.domElement&&(Y.domElement[X]=ne),V.setValue(Y.id,{[P]:ne})}render(){var P;const I=this.annotationStorage,X=this.data.id;this.container.className="textWidgetAnnotation";let ne=null;if(this.renderForms){const V=I.getValue(X,{value:this.data.fieldValue});let Y=V.formattedValue||V.value||"";const Z=I.getValue(X,{charLimit:this.data.maxLen}).charLimit;Z&&Y.length>Z&&(Y=Y.slice(0,Z));const q={userValue:Y,formattedValue:null,valueOnFocus:""};this.data.multiLine?(ne=document.createElement("textarea"),ne.textContent=Y,this.data.doNotScroll&&(ne.style.overflowY="hidden")):(ne=document.createElement("input"),ne.type="text",ne.setAttribute("value",Y),this.data.doNotScroll&&(ne.style.overflowX="hidden")),m.add(ne),ne.setAttribute("data-element-id",X),ne.disabled=this.data.readOnly,ne.name=this.data.fieldName,ne.tabIndex=se,this._setRequired(ne,this.data.required),Z&&(ne.maxLength=Z),ne.addEventListener("input",te=>{I.setValue(X,{value:te.target.value}),this.setPropertyOnSiblings(ne,"value",te.target.value,"value")}),ne.addEventListener("resetform",te=>{const W=this.data.defaultFieldValue??"";ne.value=q.userValue=W,q.formattedValue=null});let M=te=>{const{formattedValue:W}=q;W!=null&&(te.target.value=W),te.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ne.addEventListener("focus",W=>{q.userValue&&(W.target.value=q.userValue),q.valueOnFocus=W.target.value}),ne.addEventListener("updatefromsandbox",W=>{const ae={value(fe){q.userValue=fe.detail.value??"",I.setValue(X,{value:q.userValue.toString()}),fe.target.value=q.userValue},formattedValue(fe){const{formattedValue:de}=fe.detail;q.formattedValue=de,de!=null&&fe.target!==document.activeElement&&(fe.target.value=de),I.setValue(X,{formattedValue:de})},selRange(fe){fe.target.setSelectionRange(...fe.detail.selRange)},charLimit:fe=>{var me;const{charLimit:de}=fe.detail,{target:ue}=fe;if(de===0){ue.removeAttribute("maxLength");return}ue.setAttribute("maxLength",de);let he=q.userValue;!he||he.length<=de||(he=he.slice(0,de),ue.value=q.userValue=he,I.setValue(X,{value:he}),(me=this.linkService.eventBus)==null||me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:he,willCommit:!0,commitKey:1,selStart:ue.selectionStart,selEnd:ue.selectionEnd}}))}};this._dispatchEventFromSandbox(ae,W)}),ne.addEventListener("keydown",W=>{var de;let ae=-1;if(W.key==="Escape"?ae=0:W.key==="Enter"?ae=2:W.key==="Tab"&&(ae=3),ae===-1)return;const{value:fe}=W.target;q.valueOnFocus!==fe&&(q.userValue=fe,(de=this.linkService.eventBus)==null||de.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:fe,willCommit:!0,commitKey:ae,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}))});const te=M;M=null,ne.addEventListener("blur",W=>{var fe;const{value:ae}=W.target;q.userValue=ae,this._mouseState.isDown&&q.valueOnFocus!==ae&&((fe=this.linkService.eventBus)==null||fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:ae,willCommit:!0,commitKey:1,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}})),te(W)}),(P=this.data.actions)!=null&&P.Keystroke&&ne.addEventListener("beforeinput",W=>{var we;const{data:ae,target:fe}=W,{value:de,selectionStart:ue,selectionEnd:he}=fe;let me=ue,xe=he;switch(W.inputType){case"deleteWordBackward":{const Ce=de.substring(0,ue).match(/\w*[^\w]*$/);Ce&&(me-=Ce[0].length);break}case"deleteWordForward":{const Ce=de.substring(ue).match(/^[^\w]*\w*/);Ce&&(xe+=Ce[0].length);break}case"deleteContentBackward":ue===he&&(me-=1);break;case"deleteContentForward":ue===he&&(xe+=1);break}W.preventDefault(),(we=this.linkService.eventBus)==null||we.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:de,change:ae||"",willCommit:!1,selStart:me,selEnd:xe}})}),this._setEventListeners(ne,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.value)}if(M&&ne.addEventListener("blur",M),this.data.comb){const W=(this.data.rect[2]-this.data.rect[0])/Z;ne.classList.add("comb"),ne.style.letterSpacing=`calc(${W}px * var(--scale-factor) - 1ch)`}}else ne=document.createElement("div"),ne.textContent=this.data.fieldValue,ne.style.verticalAlign="middle",ne.style.display="table-cell";return this._setTextStyle(ne),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.append(ne),this.container}}class _ extends T{constructor(I){super(I,{isRenderable:I.renderForms})}render(){const I=this.annotationStorage,X=this.data,ne=X.id;let P=I.getValue(ne,{value:X.exportValue===X.fieldValue}).value;typeof P=="string"&&(P=P!=="Off",I.setValue(ne,{value:P})),this.container.className="buttonWidgetAnnotation checkBox";const V=document.createElement("input");return m.add(V),V.setAttribute("data-element-id",ne),V.disabled=X.readOnly,this._setRequired(V,this.data.required),V.type="checkbox",V.name=X.fieldName,P&&V.setAttribute("checked",!0),V.setAttribute("exportValue",X.exportValue),V.tabIndex=se,V.addEventListener("change",Y=>{const{name:Z,checked:q}=Y.target;for(const M of this._getElementsByName(Z,ne)){const te=q&&M.exportValue===X.exportValue;M.domElement&&(M.domElement.checked=te),I.setValue(M.id,{value:te})}I.setValue(ne,{value:q})}),V.addEventListener("resetform",Y=>{const Z=X.defaultFieldValue||"Off";Y.target.checked=Z===X.exportValue}),this.enableScripting&&this.hasJSActions&&(V.addEventListener("updatefromsandbox",Y=>{const Z={value(q){q.target.checked=q.detail.value!=="Off",I.setValue(ne,{value:q.target.checked})}};this._dispatchEventFromSandbox(Z,Y)}),this._setEventListeners(V,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.checked)),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class y extends T{constructor(I){super(I,{isRenderable:I.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const I=this.annotationStorage,X=this.data,ne=X.id;let P=I.getValue(ne,{value:X.fieldValue===X.buttonValue}).value;typeof P=="string"&&(P=P!==X.buttonValue,I.setValue(ne,{value:P}));const V=document.createElement("input");if(m.add(V),V.setAttribute("data-element-id",ne),V.disabled=X.readOnly,this._setRequired(V,this.data.required),V.type="radio",V.name=X.fieldName,P&&V.setAttribute("checked",!0),V.tabIndex=se,V.addEventListener("change",Y=>{const{name:Z,checked:q}=Y.target;for(const M of this._getElementsByName(Z,ne))I.setValue(M.id,{value:!1});I.setValue(ne,{value:q})}),V.addEventListener("resetform",Y=>{const Z=X.defaultFieldValue;Y.target.checked=Z!=null&&Z===X.buttonValue}),this.enableScripting&&this.hasJSActions){const Y=X.buttonValue;V.addEventListener("updatefromsandbox",Z=>{const q={value:M=>{const te=Y===M.detail.value;for(const W of this._getElementsByName(M.target.name)){const ae=te&&W.id===ne;W.domElement&&(W.domElement.checked=ae),I.setValue(W.id,{value:ae})}}};this._dispatchEventFromSandbox(q,Z)}),this._setEventListeners(V,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Z=>Z.target.checked)}return this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class n extends j{constructor(I){super(I,{ignoreBorder:I.data.hasAppearance})}render(){const I=super.render();I.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(I.title=this.data.alternativeText);const X=I.lastChild;return this.enableScripting&&this.hasJSActions&&X&&(this._setDefaultPropertiesFromJS(X),X.addEventListener("updatefromsandbox",ne=>{this._dispatchEventFromSandbox({},ne)})),I}}class u extends T{constructor(I){super(I,{isRenderable:I.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const I=this.annotationStorage,X=this.data.id,ne=I.getValue(X,{value:this.data.fieldValue}),P=document.createElement("select");m.add(P),P.setAttribute("data-element-id",X),P.disabled=this.data.readOnly,this._setRequired(P,this.data.required),P.name=this.data.fieldName,P.tabIndex=se;let V=this.data.combo&&this.data.options.length>0;this.data.combo||(P.size=this.data.options.length,this.data.multiSelect&&(P.multiple=!0)),P.addEventListener("resetform",M=>{const te=this.data.defaultFieldValue;for(const W of P.options)W.selected=W.value===te});for(const M of this.data.options){const te=document.createElement("option");te.textContent=M.displayValue,te.value=M.exportValue,ne.value.includes(M.exportValue)&&(te.setAttribute("selected",!0),V=!1),P.append(te)}let Y=null;if(V){const M=document.createElement("option");M.value=" ",M.setAttribute("hidden",!0),M.setAttribute("selected",!0),P.prepend(M),Y=()=>{M.remove(),P.removeEventListener("input",Y),Y=null},P.addEventListener("input",Y)}const Z=(M,te)=>{const W=te?"value":"textContent",ae=M.target.options;return M.target.multiple?Array.prototype.filter.call(ae,fe=>fe.selected).map(fe=>fe[W]):ae.selectedIndex===-1?null:ae[ae.selectedIndex][W]},q=M=>{const te=M.target.options;return Array.prototype.map.call(te,W=>({displayValue:W.textContent,exportValue:W.value}))};return this.enableScripting&&this.hasJSActions?(P.addEventListener("updatefromsandbox",M=>{const te={value(W){Y==null||Y();const ae=W.detail.value,fe=new Set(Array.isArray(ae)?ae:[ae]);for(const de of P.options)de.selected=fe.has(de.value);I.setValue(X,{value:Z(W,!0)})},multipleSelection(W){P.multiple=!0},remove(W){const ae=P.options,fe=W.detail.remove;ae[fe].selected=!1,P.remove(fe),ae.length>0&&Array.prototype.findIndex.call(ae,ue=>ue.selected)===-1&&(ae[0].selected=!0),I.setValue(X,{value:Z(W,!0),items:q(W)})},clear(W){for(;P.length!==0;)P.remove(0);I.setValue(X,{value:null,items:[]})},insert(W){const{index:ae,displayValue:fe,exportValue:de}=W.detail.insert,ue=P.children[ae],he=document.createElement("option");he.textContent=fe,he.value=de,ue?ue.before(he):P.append(he),I.setValue(X,{value:Z(W,!0),items:q(W)})},items(W){const{items:ae}=W.detail;for(;P.length!==0;)P.remove(0);for(const fe of ae){const{displayValue:de,exportValue:ue}=fe,he=document.createElement("option");he.textContent=de,he.value=ue,P.append(he)}P.options.length>0&&(P.options[0].selected=!0),I.setValue(X,{value:Z(W,!0),items:q(W)})},indices(W){const ae=new Set(W.detail.indices);for(const fe of W.target.options)fe.selected=ae.has(fe.index);I.setValue(X,{value:Z(W,!0)})},editable(W){W.target.disabled=!W.detail.editable}};this._dispatchEventFromSandbox(te,M)}),P.addEventListener("input",M=>{var ae;const te=Z(M,!0),W=Z(M,!1);I.setValue(X,{value:te}),(ae=this.linkService.eventBus)==null||ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:W,changeEx:te,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(P,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],M=>M.target.checked)):P.addEventListener("input",function(M){I.setValue(X,{value:Z(M,!0)})}),this.data.combo&&this._setTextStyle(P),this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.append(P),this.container}}class p extends e{constructor(I){var ne,P,V;const X=!!((ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X})}render(){const I=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",I.includes(this.data.parentType))return this.container;const X=`[data-annotation-id="${this.data.parentId}"]`,ne=this.layer.querySelectorAll(X);if(ne.length===0)return this.container;const P=new s({container:this.container,trigger:Array.from(ne),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),V=this.page,Y=Q.Util.normalizeRect([this.data.parentRect[0],V.view[3]-this.data.parentRect[1]+V.view[1],this.data.parentRect[2],V.view[3]-this.data.parentRect[3]+V.view[1]]),Z=Y[0]+this.data.parentRect[2]-this.data.parentRect[0],q=Y[1],[M,te,W,ae]=this.viewport.viewBox,fe=W-M,de=ae-te;return this.container.style.left=`${100*(Z-M)/fe}%`,this.container.style.top=`${100*(q-te)/de}%`,this.container.append(P.render()),this.container}}class s{constructor(I){this.container=I.container,this.trigger=I.trigger,this.color=I.color,this.titleObj=I.titleObj,this.modificationDate=I.modificationDate,this.contentsObj=I.contentsObj,this.richText=I.richText,this.hideWrapper=I.hideWrapper||!1,this.pinned=!1}render(){var Z,q;const X=document.createElement("div");X.className="popupWrapper",this.hideElement=this.hideWrapper?X:this.container,this.hideElement.hidden=!0;const ne=document.createElement("div");ne.className="popup";const P=this.color;if(P){const M=.7*(255-P[0])+P[0],te=.7*(255-P[1])+P[1],W=.7*(255-P[2])+P[2];ne.style.backgroundColor=Q.Util.makeHexColor(M|0,te|0,W|0)}const V=document.createElement("h1");V.dir=this.titleObj.dir,V.textContent=this.titleObj.str,ne.append(V);const Y=re.PDFDateString.toDateObject(this.modificationDate);if(Y){const M=document.createElement("span");M.className="popupDate",M.textContent="{{date}}, {{time}}",M.dataset.l10nId="annotation_date_string",M.dataset.l10nArgs=JSON.stringify({date:Y.toLocaleDateString(),time:Y.toLocaleTimeString()}),ne.append(M)}if((Z=this.richText)!=null&&Z.str&&(!((q=this.contentsObj)!=null&&q.str)||this.contentsObj.str===this.richText.str))A.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ne}),ne.lastChild.className="richText popupContent";else{const M=this._formatContents(this.contentsObj);ne.append(M)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const M of this.trigger)M.addEventListener("click",this._toggle.bind(this)),M.addEventListener("mouseover",this._show.bind(this,!1)),M.addEventListener("mouseout",this._hide.bind(this,!1));return ne.addEventListener("click",this._hide.bind(this,!0)),X.append(ne),X}_formatContents({str:I,dir:X}){const ne=document.createElement("p");ne.className="popupContent",ne.dir=X;const P=I.split(/(?:\r\n?|\n)/);for(let V=0,Y=P.length;V<Y;++V){const Z=P[V];ne.append(document.createTextNode(Z)),V<Y-1&&ne.append(document.createElement("br"))}return ne}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(I=!1){I&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(I=!0){I&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class r extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0}),this.textContent=I.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const I=document.createElement("div");I.className="annotationTextContent",I.setAttribute("role","comment");for(const X of this.textContent){const ne=document.createElement("span");ne.textContent=X,I.append(ne)}this.container.append(I)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class l extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const I=this.data,{width:X,height:ne}=ie(I.rect),P=this.svgFactory.create(X,ne,!0),V=this.svgFactory.createElement("svg:line");return V.setAttribute("x1",I.rect[2]-I.lineCoordinates[0]),V.setAttribute("y1",I.rect[3]-I.lineCoordinates[1]),V.setAttribute("x2",I.rect[2]-I.lineCoordinates[2]),V.setAttribute("y2",I.rect[3]-I.lineCoordinates[3]),V.setAttribute("stroke-width",I.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),P.append(V),this.container.append(P),this._createPopup(V,I),this.container}}class c extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const I=this.data,{width:X,height:ne}=ie(I.rect),P=this.svgFactory.create(X,ne,!0),V=I.borderStyle.width,Y=this.svgFactory.createElement("svg:rect");return Y.setAttribute("x",V/2),Y.setAttribute("y",V/2),Y.setAttribute("width",X-V),Y.setAttribute("height",ne-V),Y.setAttribute("stroke-width",V||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),P.append(Y),this.container.append(P),this._createPopup(Y,I),this.container}}class d extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const I=this.data,{width:X,height:ne}=ie(I.rect),P=this.svgFactory.create(X,ne,!0),V=I.borderStyle.width,Y=this.svgFactory.createElement("svg:ellipse");return Y.setAttribute("cx",X/2),Y.setAttribute("cy",ne/2),Y.setAttribute("rx",X/2-V/2),Y.setAttribute("ry",ne/2-V/2),Y.setAttribute("stroke-width",V||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),P.append(Y),this.container.append(P),this._createPopup(Y,I),this.container}}class K extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const I=this.data,{width:X,height:ne}=ie(I.rect),P=this.svgFactory.create(X,ne,!0);let V=[];for(const Z of I.vertices){const q=Z.x-I.rect[0],M=I.rect[3]-Z.y;V.push(q+","+M)}V=V.join(" ");const Y=this.svgFactory.createElement(this.svgElementName);return Y.setAttribute("points",V),Y.setAttribute("stroke-width",I.borderStyle.width||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),P.append(Y),this.container.append(P),this._createPopup(Y,I),this.container}}class g extends K{constructor(I){super(I),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class G extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class O extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const I=this.data,{width:X,height:ne}=ie(I.rect),P=this.svgFactory.create(X,ne,!0);for(const V of I.inkLists){let Y=[];for(const q of V){const M=q.x-I.rect[0],te=I.rect[3]-q.y;Y.push(`${M},${te}`)}Y=Y.join(" ");const Z=this.svgFactory.createElement(this.svgElementName);Z.setAttribute("points",Y),Z.setAttribute("stroke-width",I.borderStyle.width||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),this._createPopup(Z,I),P.append(Z)}return this.container.append(P),this.container}}class w extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class R extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class o extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class h extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class H extends e{constructor(I){var ne,P,V;const X=!!(I.data.hasPopup||(ne=I.data.titleObj)!=null&&ne.str||(P=I.data.contentsObj)!=null&&P.str||(V=I.data.richText)!=null&&V.str);super(I,{isRenderable:X,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends e{constructor(I){var P;super(I,{isRenderable:!0});const{filename:X,content:ne}=this.data.file;this.filename=(0,re.getFilenameFromUrl)(X),this.content=ne,(P=this.linkService.eventBus)==null||P.dispatch("fileattachmentannotation",{source:this,filename:X,content:ne})}render(){var X,ne;this.container.className="fileAttachmentAnnotation";const I=document.createElement("div");return I.className="popupTriggerArea",I.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((X=this.data.titleObj)!=null&&X.str||(ne=this.data.contentsObj)!=null&&ne.str||this.data.richText)&&this._createPopup(I,this.data),this.container.append(I),this.container}_download(){var I;(I=this.downloadManager)==null||I.openOrDownloadData(this.container,this.content,this.filename)}}const ee=class ee{static render(I){var Z,q;const{annotations:X,div:ne,viewport:P,accessibilityManager:V}=I;dt(this,v,Ii).call(this,ne,P);let Y=0;for(const M of X){if(M.annotationType!==Q.AnnotationType.POPUP){const{width:W,height:ae}=ie(M.rect);if(W<=0||ae<=0)continue}const te=z.create({data:M,layer:ne,page:I.page,viewport:P,linkService:I.linkService,downloadManager:I.downloadManager,imageResourcesPath:I.imageResourcesPath||"",renderForms:I.renderForms!==!1,svgFactory:new re.DOMSVGFactory,annotationStorage:I.annotationStorage||new Se.AnnotationStorage,enableScripting:I.enableScripting,hasJSActions:I.hasJSActions,fieldObjects:I.fieldObjects,mouseState:I.mouseState||{isDown:!1}});if(te.isRenderable){const W=te.render();if(M.hidden&&(W.style.visibility="hidden"),Array.isArray(W))for(const ae of W)ae.style.zIndex=Y++,dt(Z=ee,v,_i).call(Z,ae,M.id,ne,V);else W.style.zIndex=Y++,te instanceof p?ne.prepend(W):dt(q=ee,v,_i).call(q,W,M.id,ne,V)}}dt(this,v,Oi).call(this,ne,I.annotationCanvasMap)}static update(I){const{annotationCanvasMap:X,div:ne,viewport:P}=I;dt(this,v,Ii).call(this,ne,P),dt(this,v,Oi).call(this,ne,X),ne.hidden=!1}};v=new WeakSet,_i=function(I,X,ne,P){const V=I.firstChild||I;V.id=`${re.AnnotationPrefix}${X}`,ne.append(I),P==null||P.moveElementInDOM(ne,I,V,!1)},Ii=function(I,{width:X,height:ne,rotation:P}){const{style:V}=I,Y=P%180!==0,Z=Math.floor(X)+"px",q=Math.floor(ne)+"px";V.width=Y?q:Z,V.height=Y?Z:q,I.setAttribute("data-main-rotation",P)},Oi=function(I,X){if(X){for(const[ne,P]of X){const V=I.querySelector(`[data-annotation-id="${ne}"]`);if(!V)continue;const{firstChild:Y}=V;Y?Y.nodeName==="CANVAS"?Y.replaceWith(P):Y.before(P):V.append(P)}X.clear()}},At(ee,v);let x=ee;i.AnnotationLayer=x},($,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function N(re){return Math.floor(Math.max(0,Math.min(1,re))*255).toString(16).padStart(2,"0")}class Q{static CMYK_G([Se,Ae,A,se]){return["G",1-Math.min(1,.3*Se+.59*A+.11*Ae+se)]}static G_CMYK([Se]){return["CMYK",0,0,0,1-Se]}static G_RGB([Se]){return["RGB",Se,Se,Se]}static G_HTML([Se]){const Ae=N(Se);return`#${Ae}${Ae}${Ae}`}static RGB_G([Se,Ae,A]){return["G",.3*Se+.59*Ae+.11*A]}static RGB_HTML([Se,Ae,A]){const se=N(Se),t=N(Ae),m=N(A);return`#${se}${t}${m}`}static T_HTML(){return"#00000000"}static CMYK_RGB([Se,Ae,A,se]){return["RGB",1-Math.min(1,Se+se),1-Math.min(1,A+se),1-Math.min(1,Ae+se)]}static CMYK_HTML(Se){const Ae=this.CMYK_RGB(Se).slice(1);return this.RGB_HTML(Ae)}static RGB_CMYK([Se,Ae,A]){const se=1-Se,t=1-Ae,m=1-A,ie=Math.min(se,t,m);return["CMYK",se,t,m,ie]}}i.ColorConverters=Q},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var Q=N(20);class re{static setupStorage(Ae,A,se,t,m){const ie=t.getValue(A,{value:null});switch(se.name){case"textarea":if(ie.value!==null&&(Ae.textContent=ie.value),m==="print")break;Ae.addEventListener("input",z=>{t.setValue(A,{value:z.target.value})});break;case"input":if(se.attributes.type==="radio"||se.attributes.type==="checkbox"){if(ie.value===se.attributes.xfaOn?Ae.setAttribute("checked",!0):ie.value===se.attributes.xfaOff&&Ae.removeAttribute("checked"),m==="print")break;Ae.addEventListener("change",z=>{t.setValue(A,{value:z.target.checked?z.target.getAttribute("xfaOn"):z.target.getAttribute("xfaOff")})})}else{if(ie.value!==null&&Ae.setAttribute("value",ie.value),m==="print")break;Ae.addEventListener("input",z=>{t.setValue(A,{value:z.target.value})})}break;case"select":if(ie.value!==null)for(const z of se.children)z.attributes.value===ie.value&&(z.attributes.selected=!0);Ae.addEventListener("input",z=>{const e=z.target.options,j=e.selectedIndex===-1?"":e[e.selectedIndex].value;t.setValue(A,{value:j})});break}}static setAttributes({html:Ae,element:A,storage:se=null,intent:t,linkService:m}){const{attributes:ie}=A,z=Ae instanceof HTMLAnchorElement;ie.type==="radio"&&(ie.name=`${ie.name}-${t}`);for(const[e,j]of Object.entries(ie))if(j!=null)switch(e){case"class":j.length&&Ae.setAttribute(e,j.join(" "));break;case"dataId":break;case"id":Ae.setAttribute("data-element-id",j);break;case"style":Object.assign(Ae.style,j);break;case"textContent":Ae.textContent=j;break;default:(!z||e!=="href"&&e!=="newWindow")&&Ae.setAttribute(e,j)}z&&m.addLinkAttributes(Ae,ie.href,ie.newWindow),se&&ie.dataId&&this.setupStorage(Ae,ie.dataId,A,se)}static render(Ae){var f;const A=Ae.annotationStorage,se=Ae.linkService,t=Ae.xfaHtml,m=Ae.intent||"display",ie=document.createElement(t.name);t.attributes&&this.setAttributes({html:ie,element:t,intent:m,linkService:se});const z=[[t,-1,ie]],e=Ae.div;if(e.append(ie),Ae.viewport){const T=`matrix(${Ae.viewport.transform.join(",")})`;e.style.transform=T}m!=="richText"&&e.setAttribute("class","xfaLayer xfaFont");const j=[];for(;z.length>0;){const[T,E,_]=z.at(-1);if(E+1===T.children.length){z.pop();continue}const y=T.children[++z.at(-1)[1]];if(y===null)continue;const{name:n}=y;if(n==="#text"){const p=document.createTextNode(y.value);j.push(p),_.append(p);continue}let u;if((f=y==null?void 0:y.attributes)!=null&&f.xmlns?u=document.createElementNS(y.attributes.xmlns,n):u=document.createElement(n),_.append(u),y.attributes&&this.setAttributes({html:u,element:y,storage:A,intent:m,linkService:se}),y.children&&y.children.length>0)z.push([y,-1,u]);else if(y.value){const p=document.createTextNode(y.value);Q.XfaText.shouldBuildText(n)&&j.push(p),u.append(p)}}for(const T of e.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))T.setAttribute("readOnly",!0);return{textDivs:j}}static update(Ae){const A=`matrix(${Ae.viewport.transform.join(",")})`;Ae.div.style.transform=A,Ae.div.hidden=!1}}i.XfaLayer=re},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=_;var Q=N(1),re=N(8);const Se=1e5,Ae=30,A=.8,se=new Map,t=/^\s+$/g;function m(y,n){const u=se.get(y);if(u)return u;n.save(),n.font=`${Ae}px ${y}`;const p=n.measureText("");let s=p.fontBoundingBoxAscent,r=Math.abs(p.fontBoundingBoxDescent);if(s){n.restore();const c=s/(s+r);return se.set(y,c),c}n.strokeStyle="red",n.clearRect(0,0,Ae,Ae),n.strokeText("g",0,0);let l=n.getImageData(0,0,Ae,Ae).data;r=0;for(let c=l.length-1-3;c>=0;c-=4)if(l[c]>0){r=Math.ceil(c/4/Ae);break}n.clearRect(0,0,Ae,Ae),n.strokeText("A",0,Ae),l=n.getImageData(0,0,Ae,Ae).data,s=0;for(let c=0,d=l.length;c<d;c+=4)if(l[c]>0){s=Ae-Math.floor(c/4/Ae);break}if(n.restore(),s){const c=s/(s+r);return se.set(y,c),c}return se.set(y,A),A}function ie(y,n,u,p){const s=document.createElement("span"),r=y._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:n.str!=="",hasEOL:n.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:n.str!=="",hasEOL:n.hasEOL,fontSize:0};y._textDivs.push(s);const l=Q.Util.transform(y._viewport.transform,n.transform);let c=Math.atan2(l[1],l[0]);const d=u[n.fontName];d.vertical&&(c+=Math.PI/2);const K=Math.hypot(l[2],l[3]),g=K*m(d.fontFamily,p);let G,O;c===0?(G=l[4],O=l[5]-g):(G=l[4]+g*Math.sin(c),O=l[5]-g*Math.cos(c)),s.style.left=`${G}px`,s.style.top=`${O}px`,s.style.fontSize=`${K}px`,s.style.fontFamily=d.fontFamily,r.fontSize=K,s.setAttribute("role","presentation"),s.textContent=n.str,s.dir=n.dir,y._fontInspectorEnabled&&(s.dataset.fontName=n.fontName),c!==0&&(r.angle=c*(180/Math.PI));let w=!1;if(n.str.length>1||y._enhanceTextSelection&&t.test(n.str))w=!0;else if(n.str!==" "&&n.transform[0]!==n.transform[3]){const R=Math.abs(n.transform[0]),o=Math.abs(n.transform[3]);R!==o&&Math.max(R,o)/Math.min(R,o)>1.5&&(w=!0)}if(w&&(d.vertical?r.canvasWidth=n.height*y._viewport.scale:r.canvasWidth=n.width*y._viewport.scale),y._textDivProperties.set(s,r),y._textContentStream&&y._layoutText(s),y._enhanceTextSelection&&r.hasText){let R=1,o=0;c!==0&&(R=Math.cos(c),o=Math.sin(c));const h=(d.vertical?n.height:n.width)*y._viewport.scale,H=K;let L,x;c!==0?(L=[R,o,-o,R,G,O],x=Q.Util.getAxialAlignedBoundingBox([0,0,h,H],L)):x=[G,O,G+h,O+H],y._bounds.push({left:x[0],top:x[1],right:x[2],bottom:x[3],div:s,size:[h,H],m:L})}}function z(y){if(y._canceled)return;const n=y._textDivs,u=y._capability,p=n.length;if(p>Se){y._renderingDone=!0,u.resolve();return}if(!y._textContentStream)for(let s=0;s<p;s++)y._layoutText(n[s]);y._renderingDone=!0,u.resolve()}function e(y,n,u){let p=0;for(let s=0;s<u;s++){const r=y[n++];r>0&&(p=p?Math.min(r,p):r)}return p}function j(y){const n=y._bounds,u=y._viewport,p=f(u.width,u.height,n);for(let s=0;s<p.length;s++){const r=n[s].div,l=y._textDivProperties.get(r);if(l.angle===0){l.paddingLeft=n[s].left-p[s].left,l.paddingTop=n[s].top-p[s].top,l.paddingRight=p[s].right-n[s].right,l.paddingBottom=p[s].bottom-n[s].bottom,y._textDivProperties.set(r,l);continue}const c=p[s],d=n[s],K=d.m,g=K[0],G=K[1],O=[[0,0],[0,d.size[1]],[d.size[0],0],d.size],w=new Float64Array(64);for(let o=0,h=O.length;o<h;o++){const H=Q.Util.applyTransform(O[o],K);w[o+0]=g&&(c.left-H[0])/g,w[o+4]=G&&(c.top-H[1])/G,w[o+8]=g&&(c.right-H[0])/g,w[o+12]=G&&(c.bottom-H[1])/G,w[o+16]=G&&(c.left-H[0])/-G,w[o+20]=g&&(c.top-H[1])/g,w[o+24]=G&&(c.right-H[0])/-G,w[o+28]=g&&(c.bottom-H[1])/g,w[o+32]=g&&(c.left-H[0])/-g,w[o+36]=G&&(c.top-H[1])/-G,w[o+40]=g&&(c.right-H[0])/-g,w[o+44]=G&&(c.bottom-H[1])/-G,w[o+48]=G&&(c.left-H[0])/G,w[o+52]=g&&(c.top-H[1])/-g,w[o+56]=G&&(c.right-H[0])/G,w[o+60]=g&&(c.bottom-H[1])/-g}const R=1+Math.min(Math.abs(g),Math.abs(G));l.paddingLeft=e(w,32,16)/R,l.paddingTop=e(w,48,16)/R,l.paddingRight=e(w,0,16)/R,l.paddingBottom=e(w,16,16)/R,y._textDivProperties.set(r,l)}}function f(y,n,u){const p=u.map(function(r,l){return{x1:r.left,y1:r.top,x2:r.right,y2:r.bottom,index:l,x1New:void 0,x2New:void 0}});T(y,p);const s=new Array(u.length);for(const r of p){const l=r.index;s[l]={left:r.x1New,top:0,right:r.x2New,bottom:0}}u.map(function(r,l){const c=s[l],d=p[l];d.x1=r.top,d.y1=y-c.right,d.x2=r.bottom,d.y2=y-c.left,d.index=l,d.x1New=void 0,d.x2New=void 0}),T(n,p);for(const r of p){const l=r.index;s[l].top=r.x1New,s[l].bottom=r.x2New}return s}function T(y,n){n.sort(function(s,r){return s.x1-r.x1||s.index-r.index});const p=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const s of n){let r=0;for(;r<p.length&&p[r].end<=s.y1;)r++;let l=p.length-1;for(;l>=0&&p[l].start>=s.y2;)l--;let c,d,K,g,G=-1/0;for(K=r;K<=l;K++){c=p[K],d=c.boundary;let R;d.x2>s.x1?R=d.index>s.index?d.x1New:s.x1:d.x2New===void 0?R=(d.x2+s.x1)/2:R=d.x2New,R>G&&(G=R)}for(s.x1New=G,K=r;K<=l;K++)c=p[K],d=c.boundary,d.x2New===void 0?d.x2>s.x1?d.index>s.index&&(d.x2New=d.x2):d.x2New=G:d.x2New>G&&(d.x2New=Math.max(G,d.x2));const O=[];let w=null;for(K=r;K<=l;K++){c=p[K],d=c.boundary;const R=d.x2>s.x2?d:s;w===R?O.at(-1).end=c.end:(O.push({start:c.start,end:c.end,boundary:R}),w=R)}for(p[r].start<s.y1&&(O[0].start=s.y1,O.unshift({start:p[r].start,end:s.y1,boundary:p[r].boundary})),s.y2<p[l].end&&(O.at(-1).end=s.y2,O.push({start:s.y2,end:p[l].end,boundary:p[l].boundary})),K=r;K<=l;K++){if(c=p[K],d=c.boundary,d.x2New!==void 0)continue;let R=!1;for(g=r-1;!R&&g>=0&&p[g].start>=d.y1;g--)R=p[g].boundary===d;for(g=l+1;!R&&g<p.length&&p[g].end<=d.y2;g++)R=p[g].boundary===d;for(g=0;!R&&g<O.length;g++)R=O[g].boundary===d;R||(d.x2New=G)}Array.prototype.splice.apply(p,[r,l-r+1,...O])}for(const s of p){const r=s.boundary;r.x2New===void 0&&(r.x2New=Math.max(y,r.x2))}}class E{constructor({textContent:n,textContentStream:u,container:p,viewport:s,textDivs:r,textContentItemsStr:l,enhanceTextSelection:c}){var d;c&&(0,re.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=n,this._textContentStream=u,this._container=p,this._document=p.ownerDocument,this._viewport=s,this._textDivs=r||[],this._textContentItemsStr=l||[],this._enhanceTextSelection=!!c,this._fontInspectorEnabled=!!((d=globalThis.FontInspector)!=null&&d.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,Q.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new Q.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(n,u){for(let p=0,s=n.length;p<s;p++){if(n[p].str===void 0){if(n[p].type==="beginMarkedContentProps"||n[p].type==="beginMarkedContent"){const r=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),n[p].id!==null&&this._container.setAttribute("id",`${n[p].id}`),r.append(this._container)}else n[p].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(n[p].str),ie(this,n[p],u,this._layoutTextCtx)}}_layoutText(n){const u=this._textDivProperties.get(n);let p="";if(u.canvasWidth!==0&&u.hasText){const{fontFamily:s}=n.style,{fontSize:r}=u;(r!==this._layoutTextLastFontSize||s!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${r*this._devicePixelRatio}px ${s}`,this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=s);const{width:l}=this._layoutTextCtx.measureText(n.textContent);if(l>0){const c=this._devicePixelRatio*u.canvasWidth/l;this._enhanceTextSelection&&(u.scale=c),p=`scaleX(${c})`}}if(u.angle!==0&&(p=`rotate(${u.angle}deg) ${p}`),p.length>0&&(this._enhanceTextSelection&&(u.originalTransform=p),n.style.transform=p),u.hasText&&this._container.append(n),u.hasEOL){const s=document.createElement("br");s.setAttribute("role","presentation"),this._container.append(s)}}_render(n=0){const u=(0,Q.createPromiseCapability)();let p=Object.create(null);const s=this._document.createElement("canvas");if(s.height=s.width=Ae,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent){const r=this._textContent.items,l=this._textContent.styles;this._processItems(r,l),u.resolve()}else if(this._textContentStream){const r=()=>{this._reader.read().then(({value:l,done:c})=>{if(c){u.resolve();return}Object.assign(p,l.styles),this._processItems(l.items,p),r()},u.reject)};this._reader=this._textContentStream.getReader(),r()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');u.promise.then(()=>{p=null,n?this._renderTimer=setTimeout(()=>{z(this),this._renderTimer=null},n):z(this)},this._capability.reject)}expandTextDivs(n=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(j(this),this._bounds=null);const u=[],p=[];for(let s=0,r=this._textDivs.length;s<r;s++){const l=this._textDivs[s],c=this._textDivProperties.get(l);c.hasText&&(n?(u.length=0,p.length=0,c.originalTransform&&u.push(c.originalTransform),c.paddingTop>0?(p.push(`${c.paddingTop}px`),u.push(`translateY(${-c.paddingTop}px)`)):p.push(0),c.paddingRight>0?p.push(`${c.paddingRight/c.scale}px`):p.push(0),c.paddingBottom>0?p.push(`${c.paddingBottom}px`):p.push(0),c.paddingLeft>0?(p.push(`${c.paddingLeft/c.scale}px`),u.push(`translateX(${-c.paddingLeft/c.scale}px)`)):p.push(0),l.style.padding=p.join(" "),u.length&&(l.style.transform=u.join(" "))):(l.style.padding=null,l.style.transform=c.originalTransform))}}}i.TextLayerRenderTask=E;function _(y){const n=new E({textContent:y.textContent,textContentStream:y.textContentStream,container:y.container,viewport:y.viewport,textDivs:y.textDivs,textContentItemsStr:y.textContentItemsStr,enhanceTextSelection:y.enhanceTextSelection});return n._render(y.timeout),n}},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var Q=N(8),re=N(1),Se=N(3);let Ae=class{constructor(){(0,re.unreachable)("Not implemented: SVGGraphics")}};i.SVGGraphics=Ae;{let f=function(u){let p=[];const s=[];for(const r of u){if(r.fn==="save"){p.push({fnId:92,fn:"group",items:[]}),s.push(p),p=p.at(-1).items;continue}r.fn==="restore"?p=s.pop():p.push(r)}return p},T=function(u){if(Number.isInteger(u))return u.toString();const p=u.toFixed(10);let s=p.length-1;if(p[s]!=="0")return p;do s--;while(p[s]==="0");return p.substring(0,p[s]==="."?s:s+1)},E=function(u){if(u[4]===0&&u[5]===0){if(u[1]===0&&u[2]===0)return u[0]===1&&u[3]===1?"":`scale(${T(u[0])} ${T(u[3])})`;if(u[0]===u[3]&&u[1]===-u[2]){const p=Math.acos(u[0])*180/Math.PI;return`rotate(${T(p)})`}}else if(u[0]===1&&u[1]===0&&u[2]===0&&u[3]===1)return`translate(${T(u[4])} ${T(u[5])})`;return`matrix(${T(u[0])} ${T(u[1])} ${T(u[2])} ${T(u[3])} ${T(u[4])} ${T(u[5])})`};const A={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},se="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/1999/xlink",m=["butt","round","square"],ie=["miter","round","bevel"],z=function(u,p="",s=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!s)return URL.createObjectURL(new Blob([u],{type:p}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let l=`data:${p};base64,`;for(let c=0,d=u.length;c<d;c+=3){const K=u[c]&255,g=u[c+1]&255,G=u[c+2]&255,O=K>>2,w=(K&3)<<4|g>>4,R=c+1<d?(g&15)<<2|G>>6:64,o=c+2<d?G&63:64;l+=r[O]+r[w]+r[R]+r[o]}return l},e=function(){const u=new Uint8Array([137,80,78,71,13,10,26,10]),p=12,s=new Int32Array(256);for(let G=0;G<256;G++){let O=G;for(let w=0;w<8;w++)O&1?O=3988292384^O>>1&2147483647:O=O>>1&2147483647;s[G]=O}function r(G,O,w){let R=-1;for(let o=O;o<w;o++){const h=(R^G[o])&255,H=s[h];R=R>>>8^H}return R^-1}function l(G,O,w,R){let o=R;const h=O.length;w[o]=h>>24&255,w[o+1]=h>>16&255,w[o+2]=h>>8&255,w[o+3]=h&255,o+=4,w[o]=G.charCodeAt(0)&255,w[o+1]=G.charCodeAt(1)&255,w[o+2]=G.charCodeAt(2)&255,w[o+3]=G.charCodeAt(3)&255,o+=4,w.set(O,o),o+=O.length;const H=r(w,R+4,o);w[o]=H>>24&255,w[o+1]=H>>16&255,w[o+2]=H>>8&255,w[o+3]=H&255}function c(G,O,w){let R=1,o=0;for(let h=O;h<w;++h)R=(R+(G[h]&255))%65521,o=(o+R)%65521;return o<<16|R}function d(G){if(!Se.isNodeJS)return K(G);try{let O;parseInt(process.versions.node)>=8?O=G:O=Buffer.from(G);const w=require$$5.deflateSync(O,{level:9});return w instanceof Uint8Array?w:new Uint8Array(w)}catch(O){(0,re.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+O)}return K(G)}function K(G){let O=G.length;const w=65535,R=Math.ceil(O/w),o=new Uint8Array(2+O+R*5+4);let h=0;o[h++]=120,o[h++]=156;let H=0;for(;O>w;)o[h++]=0,o[h++]=255,o[h++]=255,o[h++]=0,o[h++]=0,o.set(G.subarray(H,H+w),h),h+=w,H+=w,O-=w;o[h++]=1,o[h++]=O&255,o[h++]=O>>8&255,o[h++]=~O&65535&255,o[h++]=(~O&65535)>>8&255,o.set(G.subarray(H),h),h+=G.length-H;const L=c(G,0,G.length);return o[h++]=L>>24&255,o[h++]=L>>16&255,o[h++]=L>>8&255,o[h++]=L&255,o}function g(G,O,w,R){const o=G.width,h=G.height;let H,L,x;const v=G.data;switch(O){case re.ImageKind.GRAYSCALE_1BPP:L=0,H=1,x=o+7>>3;break;case re.ImageKind.RGB_24BPP:L=2,H=8,x=o*3;break;case re.ImageKind.RGBA_32BPP:L=6,H=8,x=o*4;break;default:throw new Error("invalid format")}const F=new Uint8Array((1+x)*h);let k=0,U=0;for(let P=0;P<h;++P)F[k++]=0,F.set(v.subarray(U,U+x),k),U+=x,k+=x;if(O===re.ImageKind.GRAYSCALE_1BPP&&R){k=0;for(let P=0;P<h;P++){k++;for(let V=0;V<x;V++)F[k++]^=255}}const ee=new Uint8Array([o>>24&255,o>>16&255,o>>8&255,o&255,h>>24&255,h>>16&255,h>>8&255,h&255,H,L,0,0,0]),J=d(F),I=u.length+p*3+ee.length+J.length,X=new Uint8Array(I);let ne=0;return X.set(u,ne),ne+=u.length,l("IHDR",ee,X,ne),ne+=p+ee.length,l("IDATA",J,X,ne),ne+=p+J.length,l("IEND",new Uint8Array(0),X,ne),z(X,"image/png",w)}return function(O,w,R){const o=O.kind===void 0?re.ImageKind.GRAYSCALE_1BPP:O.kind;return g(O,o,w,R)}}();class j{constructor(){this.fontSizeScale=1,this.fontWeight=A.fontWeight,this.fontSize=0,this.textMatrix=re.IDENTITY_MATRIX,this.fontMatrix=re.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=re.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=A.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(p,s){this.x=p,this.y=s}}let _=0,y=0,n=0;i.SVGGraphics=Ae=class{constructor(u,p,s=!1){(0,Q.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new Q.DOMSVGFactory,this.current=new j,this.transformMatrix=re.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=u,this.objs=p,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!s,this._operatorIdMapping=[];for(const r in re.OPS)this._operatorIdMapping[re.OPS[r]]=r}save(){this.transformStack.push(this.transformMatrix);const u=this.current;this.extraStack.push(u),this.current=u.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(u){this.save(),this.executeOpTree(u),this.restore()}loadDependencies(u){const p=u.fnArray,s=u.argsArray;for(let r=0,l=p.length;r<l;r++)if(p[r]===re.OPS.dependency)for(const c of s[r]){const d=c.startsWith("g_")?this.commonObjs:this.objs,K=new Promise(g=>{d.get(c,g)});this.current.dependencies.push(K)}return Promise.all(this.current.dependencies)}transform(u,p,s,r,l,c){const d=[u,p,s,r,l,c];this.transformMatrix=re.Util.transform(this.transformMatrix,d),this.tgrp=null}getSVG(u,p){this.viewport=p;const s=this._initialize(p);return this.loadDependencies(u).then(()=>(this.transformMatrix=re.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(u)),s))}convertOpList(u){const p=this._operatorIdMapping,s=u.argsArray,r=u.fnArray,l=[];for(let c=0,d=r.length;c<d;c++){const K=r[c];l.push({fnId:K,fn:p[K],args:s[c]})}return f(l)}executeOpTree(u){for(const p of u){const s=p.fn,r=p.fnId,l=p.args;switch(r|0){case re.OPS.beginText:this.beginText();break;case re.OPS.dependency:break;case re.OPS.setLeading:this.setLeading(l);break;case re.OPS.setLeadingMoveText:this.setLeadingMoveText(l[0],l[1]);break;case re.OPS.setFont:this.setFont(l);break;case re.OPS.showText:this.showText(l[0]);break;case re.OPS.showSpacedText:this.showText(l[0]);break;case re.OPS.endText:this.endText();break;case re.OPS.moveText:this.moveText(l[0],l[1]);break;case re.OPS.setCharSpacing:this.setCharSpacing(l[0]);break;case re.OPS.setWordSpacing:this.setWordSpacing(l[0]);break;case re.OPS.setHScale:this.setHScale(l[0]);break;case re.OPS.setTextMatrix:this.setTextMatrix(l[0],l[1],l[2],l[3],l[4],l[5]);break;case re.OPS.setTextRise:this.setTextRise(l[0]);break;case re.OPS.setTextRenderingMode:this.setTextRenderingMode(l[0]);break;case re.OPS.setLineWidth:this.setLineWidth(l[0]);break;case re.OPS.setLineJoin:this.setLineJoin(l[0]);break;case re.OPS.setLineCap:this.setLineCap(l[0]);break;case re.OPS.setMiterLimit:this.setMiterLimit(l[0]);break;case re.OPS.setFillRGBColor:this.setFillRGBColor(l[0],l[1],l[2]);break;case re.OPS.setStrokeRGBColor:this.setStrokeRGBColor(l[0],l[1],l[2]);break;case re.OPS.setStrokeColorN:this.setStrokeColorN(l);break;case re.OPS.setFillColorN:this.setFillColorN(l);break;case re.OPS.shadingFill:this.shadingFill(l[0]);break;case re.OPS.setDash:this.setDash(l[0],l[1]);break;case re.OPS.setRenderingIntent:this.setRenderingIntent(l[0]);break;case re.OPS.setFlatness:this.setFlatness(l[0]);break;case re.OPS.setGState:this.setGState(l[0]);break;case re.OPS.fill:this.fill();break;case re.OPS.eoFill:this.eoFill();break;case re.OPS.stroke:this.stroke();break;case re.OPS.fillStroke:this.fillStroke();break;case re.OPS.eoFillStroke:this.eoFillStroke();break;case re.OPS.clip:this.clip("nonzero");break;case re.OPS.eoClip:this.clip("evenodd");break;case re.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case re.OPS.paintImageXObject:this.paintImageXObject(l[0]);break;case re.OPS.paintInlineImageXObject:this.paintInlineImageXObject(l[0]);break;case re.OPS.paintImageMaskXObject:this.paintImageMaskXObject(l[0]);break;case re.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(l[0],l[1]);break;case re.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case re.OPS.closePath:this.closePath();break;case re.OPS.closeStroke:this.closeStroke();break;case re.OPS.closeFillStroke:this.closeFillStroke();break;case re.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case re.OPS.nextLine:this.nextLine();break;case re.OPS.transform:this.transform(l[0],l[1],l[2],l[3],l[4],l[5]);break;case re.OPS.constructPath:this.constructPath(l[0],l[1]);break;case re.OPS.endPath:this.endPath();break;case 92:this.group(p.items);break;default:(0,re.warn)(`Unimplemented operator ${s}`);break}}}setWordSpacing(u){this.current.wordSpacing=u}setCharSpacing(u){this.current.charSpacing=u}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(u,p,s,r,l,c){const d=this.current;d.textMatrix=d.lineMatrix=[u,p,s,r,l,c],d.textMatrixScale=Math.hypot(u,p),d.x=d.lineX=0,d.y=d.lineY=0,d.xcoords=[],d.ycoords=[],d.tspan=this.svgFactory.createElement("svg:tspan"),d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size",`${T(d.fontSize)}px`),d.tspan.setAttributeNS(null,"y",T(-d.y)),d.txtElement=this.svgFactory.createElement("svg:text"),d.txtElement.append(d.tspan)}beginText(){const u=this.current;u.x=u.lineX=0,u.y=u.lineY=0,u.textMatrix=re.IDENTITY_MATRIX,u.lineMatrix=re.IDENTITY_MATRIX,u.textMatrixScale=1,u.tspan=this.svgFactory.createElement("svg:tspan"),u.txtElement=this.svgFactory.createElement("svg:text"),u.txtgrp=this.svgFactory.createElement("svg:g"),u.xcoords=[],u.ycoords=[]}moveText(u,p){const s=this.current;s.x=s.lineX+=u,s.y=s.lineY+=p,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${T(s.fontSize)}px`),s.tspan.setAttributeNS(null,"y",T(-s.y))}showText(u){const p=this.current,s=p.font,r=p.fontSize;if(r===0)return;const l=p.fontSizeScale,c=p.charSpacing,d=p.wordSpacing,K=p.fontDirection,g=p.textHScale*K,G=s.vertical,O=G?1:-1,w=s.defaultVMetrics,R=r*p.fontMatrix[0];let o=0;for(const L of u){if(L===null){o+=K*d;continue}else if(typeof L=="number"){o+=O*L*r/1e3;continue}const x=(L.isSpace?d:0)+c,v=L.fontChar;let F,k,U=L.width;if(G){let J;const I=L.vmetric||w;J=L.vmetric?I[1]:U*.5,J=-J*R;const X=I[2]*R;U=I?-I[0]:U,F=J/l,k=(o+X)/l}else F=o/l,k=0;(L.isInFont||s.missingFile)&&(p.xcoords.push(p.x+F),G&&p.ycoords.push(-p.y+k),p.tspan.textContent+=v);let ee;G?ee=U*R-x*K:ee=U*R+x*K,o+=ee}p.tspan.setAttributeNS(null,"x",p.xcoords.map(T).join(" ")),G?p.tspan.setAttributeNS(null,"y",p.ycoords.map(T).join(" ")):p.tspan.setAttributeNS(null,"y",T(-p.y)),G?p.y-=o:p.x+=o*g,p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${T(p.fontSize)}px`),p.fontStyle!==A.fontStyle&&p.tspan.setAttributeNS(null,"font-style",p.fontStyle),p.fontWeight!==A.fontWeight&&p.tspan.setAttributeNS(null,"font-weight",p.fontWeight);const h=p.textRenderingMode&re.TextRenderingMode.FILL_STROKE_MASK;if(h===re.TextRenderingMode.FILL||h===re.TextRenderingMode.FILL_STROKE?(p.fillColor!==A.fillColor&&p.tspan.setAttributeNS(null,"fill",p.fillColor),p.fillAlpha<1&&p.tspan.setAttributeNS(null,"fill-opacity",p.fillAlpha)):p.textRenderingMode===re.TextRenderingMode.ADD_TO_PATH?p.tspan.setAttributeNS(null,"fill","transparent"):p.tspan.setAttributeNS(null,"fill","none"),h===re.TextRenderingMode.STROKE||h===re.TextRenderingMode.FILL_STROKE){const L=1/(p.textMatrixScale||1);this._setStrokeAttributes(p.tspan,L)}let H=p.textMatrix;p.textRise!==0&&(H=H.slice(),H[5]+=p.textRise),p.txtElement.setAttributeNS(null,"transform",`${E(H)} scale(${T(g)}, -1)`),p.txtElement.setAttributeNS(se,"xml:space","preserve"),p.txtElement.append(p.tspan),p.txtgrp.append(p.txtElement),this._ensureTransformGroup().append(p.txtElement)}setLeadingMoveText(u,p){this.setLeading(-p),this.moveText(u,p)}addFontStyle(u){if(!u.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const p=z(u.data,u.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${u.loadedName}"; src: url(${p}); }
`}setFont(u){const p=this.current,s=this.commonObjs.get(u[0]);let r=u[1];p.font=s,this.embedFonts&&!s.missingFile&&!this.embeddedFonts[s.loadedName]&&(this.addFontStyle(s),this.embeddedFonts[s.loadedName]=s),p.fontMatrix=s.fontMatrix||re.FONT_IDENTITY_MATRIX;let l="normal";s.black?l="900":s.bold&&(l="bold");const c=s.italic?"italic":"normal";r<0?(r=-r,p.fontDirection=-1):p.fontDirection=1,p.fontSize=r,p.fontFamily=s.loadedName,p.fontWeight=l,p.fontStyle=c,p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"y",T(-p.y)),p.xcoords=[],p.ycoords=[]}endText(){var p;const u=this.current;u.textRenderingMode&re.TextRenderingMode.ADD_TO_PATH_FLAG&&((p=u.txtElement)!=null&&p.hasChildNodes())&&(u.element=u.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(u){u>0&&(this.current.lineWidth=u)}setLineCap(u){this.current.lineCap=m[u]}setLineJoin(u){this.current.lineJoin=ie[u]}setMiterLimit(u){this.current.miterLimit=u}setStrokeAlpha(u){this.current.strokeAlpha=u}setStrokeRGBColor(u,p,s){this.current.strokeColor=re.Util.makeHexColor(u,p,s)}setFillAlpha(u){this.current.fillAlpha=u}setFillRGBColor(u,p,s){this.current.fillColor=re.Util.makeHexColor(u,p,s),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(u){this.current.strokeColor=this._makeColorN_Pattern(u)}setFillColorN(u){this.current.fillColor=this._makeColorN_Pattern(u)}shadingFill(u){const p=this.viewport.width,s=this.viewport.height,r=re.Util.inverseTransform(this.transformMatrix),l=re.Util.applyTransform([0,0],r),c=re.Util.applyTransform([0,s],r),d=re.Util.applyTransform([p,0],r),K=re.Util.applyTransform([p,s],r),g=Math.min(l[0],c[0],d[0],K[0]),G=Math.min(l[1],c[1],d[1],K[1]),O=Math.max(l[0],c[0],d[0],K[0]),w=Math.max(l[1],c[1],d[1],K[1]),R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x",g),R.setAttributeNS(null,"y",G),R.setAttributeNS(null,"width",O-g),R.setAttributeNS(null,"height",w-G),R.setAttributeNS(null,"fill",this._makeShadingPattern(u)),this.current.fillAlpha<1&&R.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(R)}_makeColorN_Pattern(u){return u[0]==="TilingPattern"?this._makeTilingPattern(u):this._makeShadingPattern(u)}_makeTilingPattern(u){const p=u[1],s=u[2],r=u[3]||re.IDENTITY_MATRIX,[l,c,d,K]=u[4],g=u[5],G=u[6],O=u[7],w=`shading${n++}`,[R,o,h,H]=re.Util.normalizeRect([...re.Util.applyTransform([l,c],r),...re.Util.applyTransform([d,K],r)]),[L,x]=re.Util.singularValueDecompose2dScale(r),v=g*L,F=G*x,k=this.svgFactory.createElement("svg:pattern");k.setAttributeNS(null,"id",w),k.setAttributeNS(null,"patternUnits","userSpaceOnUse"),k.setAttributeNS(null,"width",v),k.setAttributeNS(null,"height",F),k.setAttributeNS(null,"x",`${R}`),k.setAttributeNS(null,"y",`${o}`);const U=this.svg,ee=this.transformMatrix,J=this.current.fillColor,I=this.current.strokeColor,X=this.svgFactory.create(h-R,H-o);if(this.svg=X,this.transformMatrix=r,O===2){const ne=re.Util.makeHexColor(...p);this.current.fillColor=ne,this.current.strokeColor=ne}return this.executeOpTree(this.convertOpList(s)),this.svg=U,this.transformMatrix=ee,this.current.fillColor=J,this.current.strokeColor=I,k.append(X.childNodes[0]),this.defs.append(k),`url(#${w})`}_makeShadingPattern(u){switch(typeof u=="string"&&(u=this.objs.get(u)),u[0]){case"RadialAxial":const p=`shading${n++}`,s=u[3];let r;switch(u[1]){case"axial":const l=u[4],c=u[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",p),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",l[0]),r.setAttributeNS(null,"y1",l[1]),r.setAttributeNS(null,"x2",c[0]),r.setAttributeNS(null,"y2",c[1]);break;case"radial":const d=u[4],K=u[5],g=u[6],G=u[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",p),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",K[0]),r.setAttributeNS(null,"cy",K[1]),r.setAttributeNS(null,"r",G),r.setAttributeNS(null,"fx",d[0]),r.setAttributeNS(null,"fy",d[1]),r.setAttributeNS(null,"fr",g);break;default:throw new Error(`Unknown RadialAxial type: ${u[1]}`)}for(const l of s){const c=this.svgFactory.createElement("svg:stop");c.setAttributeNS(null,"offset",l[0]),c.setAttributeNS(null,"stop-color",l[1]),r.append(c)}return this.defs.append(r),`url(#${p})`;case"Mesh":return(0,re.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${u[0]}`)}}setDash(u,p){this.current.dashArray=u,this.current.dashPhase=p}constructPath(u,p){const s=this.current;let r=s.x,l=s.y,c=[],d=0;for(const K of u)switch(K|0){case re.OPS.rectangle:r=p[d++],l=p[d++];const g=p[d++],G=p[d++],O=r+g,w=l+G;c.push("M",T(r),T(l),"L",T(O),T(l),"L",T(O),T(w),"L",T(r),T(w),"Z");break;case re.OPS.moveTo:r=p[d++],l=p[d++],c.push("M",T(r),T(l));break;case re.OPS.lineTo:r=p[d++],l=p[d++],c.push("L",T(r),T(l));break;case re.OPS.curveTo:r=p[d+4],l=p[d+5],c.push("C",T(p[d]),T(p[d+1]),T(p[d+2]),T(p[d+3]),T(r),T(l)),d+=6;break;case re.OPS.curveTo2:c.push("C",T(r),T(l),T(p[d]),T(p[d+1]),T(p[d+2]),T(p[d+3])),r=p[d+2],l=p[d+3],d+=4;break;case re.OPS.curveTo3:r=p[d+2],l=p[d+3],c.push("C",T(p[d]),T(p[d+1]),T(r),T(l),T(r),T(l)),d+=4;break;case re.OPS.closePath:c.push("Z");break}c=c.join(" "),s.path&&u.length>0&&u[0]!==re.OPS.rectangle&&u[0]!==re.OPS.moveTo?c=s.path.getAttributeNS(null,"d")+c:(s.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(s.path)),s.path.setAttributeNS(null,"d",c),s.path.setAttributeNS(null,"fill","none"),s.element=s.path,s.setCurrentPoint(r,l)}endPath(){const u=this.current;if(u.path=null,!this.pendingClip)return;if(!u.element){this.pendingClip=null;return}const p=`clippath${_++}`,s=this.svgFactory.createElement("svg:clipPath");s.setAttributeNS(null,"id",p),s.setAttributeNS(null,"transform",E(this.transformMatrix));const r=u.element.cloneNode(!0);if(this.pendingClip==="evenodd"?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,s.append(r),this.defs.append(s),u.activeClipUrl){u.clipGroup=null;for(const l of this.extraStack)l.clipGroup=null;s.setAttributeNS(null,"clip-path",u.activeClipUrl)}u.activeClipUrl=`url(#${p})`,this.tgrp=null}clip(u){this.pendingClip=u}closePath(){const u=this.current;if(u.path){const p=`${u.path.getAttributeNS(null,"d")}Z`;u.path.setAttributeNS(null,"d",p)}}setLeading(u){this.current.leading=-u}setTextRise(u){this.current.textRise=u}setTextRenderingMode(u){this.current.textRenderingMode=u}setHScale(u){this.current.textHScale=u/100}setRenderingIntent(u){}setFlatness(u){}setGState(u){for(const[p,s]of u)switch(p){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s);break;case"CA":this.setStrokeAlpha(s);break;case"ca":this.setFillAlpha(s);break;default:(0,re.warn)(`Unimplemented graphic state operator ${p}`);break}}fill(){const u=this.current;u.element&&(u.element.setAttributeNS(null,"fill",u.fillColor),u.element.setAttributeNS(null,"fill-opacity",u.fillAlpha),this.endPath())}stroke(){const u=this.current;u.element&&(this._setStrokeAttributes(u.element),u.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(u,p=1){const s=this.current;let r=s.dashArray;p!==1&&r.length>0&&(r=r.map(function(l){return p*l})),u.setAttributeNS(null,"stroke",s.strokeColor),u.setAttributeNS(null,"stroke-opacity",s.strokeAlpha),u.setAttributeNS(null,"stroke-miterlimit",T(s.miterLimit)),u.setAttributeNS(null,"stroke-linecap",s.lineCap),u.setAttributeNS(null,"stroke-linejoin",s.lineJoin),u.setAttributeNS(null,"stroke-width",T(p*s.lineWidth)+"px"),u.setAttributeNS(null,"stroke-dasharray",r.map(T).join(" ")),u.setAttributeNS(null,"stroke-dashoffset",T(p*s.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x","0"),u.setAttributeNS(null,"y","0"),u.setAttributeNS(null,"width","1px"),u.setAttributeNS(null,"height","1px"),u.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(u)}paintImageXObject(u){const p=u.startsWith("g_")?this.commonObjs.get(u):this.objs.get(u);if(!p){(0,re.warn)(`Dependent image with object ID ${u} is not ready yet`);return}this.paintInlineImageXObject(p)}paintInlineImageXObject(u,p){const s=u.width,r=u.height,l=e(u,this.forceDataSchema,!!p),c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y","0"),c.setAttributeNS(null,"width",T(s)),c.setAttributeNS(null,"height",T(r)),this.current.element=c,this.clip("nonzero");const d=this.svgFactory.createElement("svg:image");d.setAttributeNS(t,"xlink:href",l),d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y",T(-r)),d.setAttributeNS(null,"width",T(s)+"px"),d.setAttributeNS(null,"height",T(r)+"px"),d.setAttributeNS(null,"transform",`scale(${T(1/s)} ${T(-1/r)})`),p?p.append(d):this._ensureTransformGroup().append(d)}paintImageMaskXObject(u){const p=this.current,s=u.width,r=u.height,l=p.fillColor;p.maskId=`mask${y++}`;const c=this.svgFactory.createElement("svg:mask");c.setAttributeNS(null,"id",p.maskId);const d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y","0"),d.setAttributeNS(null,"width",T(s)),d.setAttributeNS(null,"height",T(r)),d.setAttributeNS(null,"fill",l),d.setAttributeNS(null,"mask",`url(#${p.maskId})`),this.defs.append(c),this._ensureTransformGroup().append(d),this.paintInlineImageXObject(u,c)}paintFormXObjectBegin(u,p){if(Array.isArray(u)&&u.length===6&&this.transform(u[0],u[1],u[2],u[3],u[4],u[5]),p){const s=p[2]-p[0],r=p[3]-p[1],l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x",p[0]),l.setAttributeNS(null,"y",p[1]),l.setAttributeNS(null,"width",T(s)),l.setAttributeNS(null,"height",T(r)),this.current.element=l,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(u){const p=this.svgFactory.create(u.width,u.height),s=this.svgFactory.createElement("svg:defs");p.append(s),this.defs=s;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",E(u.transform)),p.append(r),this.svg=r,p}_ensureClipGroup(){if(!this.current.clipGroup){const u=this.svgFactory.createElement("svg:g");u.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(u),this.current.clipGroup=u}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",E(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var Q=N(1),re=N(33);const Se=require$$5,Ae=require$$5,A=require$$5,se=require$$5,t=/^file:\/\/\/[a-zA-Z]:\//;function m(y){const n=se.parse(y);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(y)?se.parse(`file:///${y}`):(n.host||(n.protocol="file:"),n)}class ie{constructor(n){this.source=n,this.url=m(n.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&n.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var n;return((n=this._fullRequestReader)==null?void 0:n._loaded)??0}getFullReader(){return(0,Q.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new E(this):new f(this),this._fullRequestReader}getRangeReader(n,u){if(u<=this._progressiveDataLength)return null;const p=this.isFsUrl?new _(this,n,u):new T(this,n,u);return this._rangeRequestReaders.push(p),p}cancelAllRequests(n){this._fullRequestReader&&this._fullRequestReader.cancel(n);for(const u of this._rangeRequestReaders.slice(0))u.cancel(n)}}i.PDFNodeStream=ie;class z{constructor(n){this._url=n.url,this._done=!1,this._storedError=null,this.onProgress=null;const u=n.source;this._contentLength=u.length,this._loaded=0,this._filename=null,this._disableRange=u.disableRange||!1,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._readableStream=null,this._readCapability=(0,Q.createPromiseCapability)(),this._headersCapability=(0,Q.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const n=this._readableStream.read();return n===null?(this._readCapability=(0,Q.createPromiseCapability)(),this.read()):(this._loaded+=n.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(n).buffer,done:!1})}cancel(n){if(!this._readableStream){this._error(n);return}this._readableStream.destroy(n)}_error(n){this._storedError=n,this._readCapability.resolve()}_setReadableStream(n){this._readableStream=n,n.on("readable",()=>{this._readCapability.resolve()}),n.on("end",()=>{n.destroy(),this._done=!0,this._readCapability.resolve()}),n.on("error",u=>{this._error(u)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Q.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class e{constructor(n){this._url=n.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,Q.createPromiseCapability)();const u=n.source;this._isStreamingSupported=!u.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const n=this._readableStream.read();return n===null?(this._readCapability=(0,Q.createPromiseCapability)(),this.read()):(this._loaded+=n.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(n).buffer,done:!1})}cancel(n){if(!this._readableStream){this._error(n);return}this._readableStream.destroy(n)}_error(n){this._storedError=n,this._readCapability.resolve()}_setReadableStream(n){this._readableStream=n,n.on("readable",()=>{this._readCapability.resolve()}),n.on("end",()=>{n.destroy(),this._done=!0,this._readCapability.resolve()}),n.on("error",u=>{this._error(u)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function j(y,n){return{protocol:y.protocol,auth:y.auth,host:y.hostname,port:y.port,path:y.path,method:"GET",headers:n}}class f extends z{constructor(n){super(n);const u=p=>{if(p.statusCode===404){const c=new Q.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(p);const s=c=>this._readableStream.headers[c.toLowerCase()],{allowRangeRequests:r,suggestedLength:l}=(0,re.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:n.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=l||this._contentLength,this._filename=(0,re.extractFilenameFromHeader)(s)};this._request=null,this._url.protocol==="http:"?this._request=Ae.request(j(this._url,n.httpHeaders),u):this._request=A.request(j(this._url,n.httpHeaders),u),this._request.on("error",p=>{this._storedError=p,this._headersCapability.reject(p)}),this._request.end()}}class T extends e{constructor(n,u,p){super(n),this._httpHeaders={};for(const r in n.httpHeaders){const l=n.httpHeaders[r];typeof l>"u"||(this._httpHeaders[r]=l)}this._httpHeaders.Range=`bytes=${u}-${p-1}`;const s=r=>{if(r.statusCode===404){const l=new Q.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(r)};this._request=null,this._url.protocol==="http:"?this._request=Ae.request(j(this._url,this._httpHeaders),s):this._request=A.request(j(this._url,this._httpHeaders),s),this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class E extends z{constructor(n){super(n);let u=decodeURIComponent(this._url.path);t.test(this._url.href)&&(u=u.replace(/^\//,"")),Se.lstat(u,(p,s)=>{if(p){p.code==="ENOENT"&&(p=new Q.MissingPDFException(`Missing PDF "${u}".`)),this._storedError=p,this._headersCapability.reject(p);return}this._contentLength=s.size,this._setReadableStream(Se.createReadStream(u)),this._headersCapability.resolve()})}}class _ extends e{constructor(n,u,p){super(n);let s=decodeURIComponent(this._url.path);t.test(this._url.href)&&(s=s.replace(/^\//,"")),this._setReadableStream(Se.createReadStream(s,{start:u,end:p-1}))}}},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=se,i.extractFilenameFromHeader=A,i.validateRangeRequestCapabilities=Ae,i.validateResponseStatus=t;var Q=N(1),re=N(34),Se=N(8);function Ae({getResponseHeader:m,isHttp:ie,rangeChunkSize:z,disableRange:e}){const j={allowRangeRequests:!1,suggestedLength:void 0},f=parseInt(m("Content-Length"),10);return!Number.isInteger(f)||(j.suggestedLength=f,f<=2*z)||e||!ie||m("Accept-Ranges")!=="bytes"||(m("Content-Encoding")||"identity")!=="identity"||(j.allowRangeRequests=!0),j}function A(m){const ie=m("Content-Disposition");if(ie){let z=(0,re.getFilenameFromContentDispositionHeader)(ie);if(z.includes("%"))try{z=decodeURIComponent(z)}catch{}if((0,Se.isPdfFile)(z))return z}return null}function se(m,ie){return m===404||m===0&&ie.startsWith("file:")?new Q.MissingPDFException('Missing PDF "'+ie+'".'):new Q.UnexpectedResponseException(`Unexpected server response (${m}) while retrieving PDF "${ie}".`,m)}function t(m){return m===200||m===206}},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=re;var Q=N(1);function re(Se){let Ae=!0,A=se("filename\\*","i").exec(Se);if(A){A=A[1];let f=z(A);return f=unescape(f),f=e(f),f=j(f),m(f)}if(A=ie(Se),A){const f=j(A);return m(f)}if(A=se("filename","i").exec(Se),A){A=A[1];let f=z(A);return f=j(f),m(f)}function se(f,T){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',T)}function t(f,T){if(f){if(!/^[\x00-\xFF]+$/.test(T))return T;try{const E=new TextDecoder(f,{fatal:!0}),_=(0,Q.stringToBytes)(T);T=E.decode(_),Ae=!1}catch{}}return T}function m(f){return Ae&&/[\x80-\xff]/.test(f)&&(f=t("utf-8",f),Ae&&(f=t("iso-8859-1",f))),f}function ie(f){const T=[];let E;const _=se("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(E=_.exec(f))!==null;){let[,n,u,p]=E;if(n=parseInt(n,10),n in T){if(n===0)break;continue}T[n]=[u,p]}const y=[];for(let n=0;n<T.length&&n in T;++n){let[u,p]=T[n];p=z(p),u&&(p=unescape(p),n===0&&(p=e(p))),y.push(p)}return y.join("")}function z(f){if(f.startsWith('"')){const T=f.slice(1).split('\\"');for(let E=0;E<T.length;++E){const _=T[E].indexOf('"');_!==-1&&(T[E]=T[E].slice(0,_),T.length=E+1),T[E]=T[E].replace(/\\(.)/g,"$1")}f=T.join('"')}return f}function e(f){const T=f.indexOf("'");if(T===-1)return f;const E=f.slice(0,T),y=f.slice(T+1).replace(/^[^']*'/,"");return t(E,y)}function j(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(T,E,_,y){if(_==="q"||_==="Q")return y=y.replace(/_/g," "),y=y.replace(/=([0-9a-fA-F]{2})/g,function(n,u){return String.fromCharCode(parseInt(u,16))}),t(E,y);try{y=atob(y)}catch{}return t(E,y)})}return""}},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var Q=N(1),re=N(33);const Se=200,Ae=206;function A(z){const e=z.response;return typeof e!="string"?e:(0,Q.stringToBytes)(e).buffer}class se{constructor(e,j={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&j.httpHeaders||Object.create(null),this.withCredentials=j.withCredentials||!1,this.getXhr=j.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,j,f){const T={begin:e,end:j};for(const E in f)T[E]=f[E];return this.request(T)}requestFull(e){return this.request(e)}request(e){const j=this.getXhr(),f=this.currXhrId++,T=this.pendingRequests[f]={xhr:j};j.open("GET",this.url),j.withCredentials=this.withCredentials;for(const E in this.httpHeaders){const _=this.httpHeaders[E];typeof _>"u"||j.setRequestHeader(E,_)}return this.isHttp&&"begin"in e&&"end"in e?(j.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),T.expectedStatus=Ae):T.expectedStatus=Se,j.responseType="arraybuffer",e.onError&&(j.onerror=function(E){e.onError(j.status)}),j.onreadystatechange=this.onStateChange.bind(this,f),j.onprogress=this.onProgress.bind(this,f),T.onHeadersReceived=e.onHeadersReceived,T.onDone=e.onDone,T.onError=e.onError,T.onProgress=e.onProgress,j.send(null),f}onProgress(e,j){var T;const f=this.pendingRequests[e];f&&((T=f.onProgress)==null||T.call(f,j))}onStateChange(e,j){var n,u,p;const f=this.pendingRequests[e];if(!f)return;const T=f.xhr;if(T.readyState>=2&&f.onHeadersReceived&&(f.onHeadersReceived(),delete f.onHeadersReceived),T.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],T.status===0&&this.isHttp){(n=f.onError)==null||n.call(f,T.status);return}const E=T.status||Se;if(!(E===Se&&f.expectedStatus===Ae)&&E!==f.expectedStatus){(u=f.onError)==null||u.call(f,T.status);return}const y=A(T);if(E===Ae){const s=T.getResponseHeader("Content-Range"),r=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);f.onDone({begin:parseInt(r[1],10),chunk:y})}else y?f.onDone({begin:0,chunk:y}):(p=f.onError)==null||p.call(f,T.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const j=this.pendingRequests[e].xhr;delete this.pendingRequests[e],j.abort()}}class t{constructor(e){this._source=e,this._manager=new se(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const j=this._rangeRequestReaders.indexOf(e);j>=0&&this._rangeRequestReaders.splice(j,1)}getFullReader(){return(0,Q.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new m(this._manager,this._source),this._fullRequestReader}getRangeReader(e,j){const f=new ie(this._manager,e,j);return f.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(f),f}cancelAllRequests(e){var j;(j=this._fullRequestReader)==null||j.cancel(e);for(const f of this._rangeRequestReaders.slice(0))f.cancel(e)}}i.PDFNetworkStream=t;class m{constructor(e,j){this._manager=e;const f={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=j.url,this._fullRequestId=e.requestFull(f),this._headersReceivedCapability=(0,Q.createPromiseCapability)(),this._disableRange=j.disableRange||!1,this._contentLength=j.length,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,j=this._manager.getRequestXhr(e),f=_=>j.getResponseHeader(_),{allowRangeRequests:T,suggestedLength:E}=(0,re.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});T&&(this._isRangeSupported=!0),this._contentLength=E||this._contentLength,this._filename=(0,re.extractFilenameFromHeader)(f),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,re.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const j of this._requests)j.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var j;(j=this.onProgress)==null||j.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,Q.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ie{constructor(e,j,f){this._manager=e;const T={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(j,f,T),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const j=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:j,done:!1}):this._queuedChunk=j,this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,re.createResponseStatusError)(e,this._url);for(const j of this._requests)j.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var j;this.isStreamingSupported||(j=this.onProgress)==null||j.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const j=this._queuedChunk;return this._queuedChunk=null,{value:j,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,Q.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},($,i,N)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var Q=N(1),re=N(33);function Se(m,ie,z){return{method:"GET",headers:m,signal:z.signal,mode:"cors",credentials:ie?"include":"same-origin",redirect:"follow"}}function Ae(m){const ie=new Headers;for(const z in m){const e=m[z];typeof e>"u"||ie.append(z,e)}return ie}class A{constructor(ie){this.source=ie,this.isHttp=/^https?:/i.test(ie.url),this.httpHeaders=this.isHttp&&ie.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ie;return((ie=this._fullRequestReader)==null?void 0:ie._loaded)??0}getFullReader(){return(0,Q.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new se(this),this._fullRequestReader}getRangeReader(ie,z){if(z<=this._progressiveDataLength)return null;const e=new t(this,ie,z);return this._rangeRequestReaders.push(e),e}cancelAllRequests(ie){this._fullRequestReader&&this._fullRequestReader.cancel(ie);for(const z of this._rangeRequestReaders.slice(0))z.cancel(ie)}}i.PDFFetchStream=A;class se{constructor(ie){this._stream=ie,this._reader=null,this._loaded=0,this._filename=null;const z=ie.source;this._withCredentials=z.withCredentials||!1,this._contentLength=z.length,this._headersCapability=(0,Q.createPromiseCapability)(),this._disableRange=z.disableRange||!1,this._rangeChunkSize=z.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!z.disableStream,this._isRangeSupported=!z.disableRange,this._headers=Ae(this._stream.httpHeaders);const e=z.url;fetch(e,Se(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!(0,re.validateResponseStatus)(j.status))throw(0,re.createResponseStatusError)(j.status,e);this._reader=j.body.getReader(),this._headersCapability.resolve();const f=_=>j.headers.get(_),{allowRangeRequests:T,suggestedLength:E}=(0,re.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=T,this._contentLength=E||this._contentLength,this._filename=(0,re.extractFilenameFromHeader)(f),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Q.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:ie,done:z}=await this._reader.read();return z?{value:ie,done:z}:(this._loaded+=ie.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ie).buffer,done:!1})}cancel(ie){this._reader&&this._reader.cancel(ie),this._abortController.abort()}}class t{constructor(ie,z,e){this._stream=ie,this._reader=null,this._loaded=0;const j=ie.source;this._withCredentials=j.withCredentials||!1,this._readCapability=(0,Q.createPromiseCapability)(),this._isStreamingSupported=!j.disableStream,this._abortController=new AbortController,this._headers=Ae(this._stream.httpHeaders),this._headers.append("Range",`bytes=${z}-${e-1}`);const f=j.url;fetch(f,Se(this._headers,this._withCredentials,this._abortController)).then(T=>{if(!(0,re.validateResponseStatus)(T.status))throw(0,re.createResponseStatusError)(T.status,f);this._readCapability.resolve(),this._reader=T.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:ie,done:z}=await this._reader.read();return z?{value:ie,done:z}:(this._loaded+=ie.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(ie).buffer,done:!1})}cancel(ie){this._reader&&this._reader.cancel(ie),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__($){var i=__webpack_module_cache__[$];if(i!==void 0)return i.exports;var N=__webpack_module_cache__[$]={exports:{}};return __webpack_modules__[$](N,N.exports,__w_pdfjs_require__),N.exports}var __webpack_exports__={};return(()=>{var $=__webpack_exports__;Object.defineProperty($,"__esModule",{value:!0}),Object.defineProperty($,"AnnotationEditorLayer",{enumerable:!0,get:function(){return re.AnnotationEditorLayer}}),Object.defineProperty($,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty($,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty($,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Se.AnnotationEditorUIManager}}),Object.defineProperty($,"AnnotationLayer",{enumerable:!0,get:function(){return Ae.AnnotationLayer}}),Object.defineProperty($,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty($,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty($,"GlobalWorkerOptions",{enumerable:!0,get:function(){return A.GlobalWorkerOptions}}),Object.defineProperty($,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty($,"LoopbackPort",{enumerable:!0,get:function(){return N.LoopbackPort}}),Object.defineProperty($,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty($,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty($,"PDFDataRangeTransport",{enumerable:!0,get:function(){return N.PDFDataRangeTransport}}),Object.defineProperty($,"PDFDateString",{enumerable:!0,get:function(){return Q.PDFDateString}}),Object.defineProperty($,"PDFWorker",{enumerable:!0,get:function(){return N.PDFWorker}}),Object.defineProperty($,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty($,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty($,"PixelsPerInch",{enumerable:!0,get:function(){return Q.PixelsPerInch}}),Object.defineProperty($,"RenderingCancelledException",{enumerable:!0,get:function(){return Q.RenderingCancelledException}}),Object.defineProperty($,"SVGGraphics",{enumerable:!0,get:function(){return m.SVGGraphics}}),Object.defineProperty($,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return i.UNSUPPORTED_FEATURES}}),Object.defineProperty($,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty($,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty($,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty($,"XfaLayer",{enumerable:!0,get:function(){return ie.XfaLayer}}),Object.defineProperty($,"build",{enumerable:!0,get:function(){return N.build}}),Object.defineProperty($,"createPromiseCapability",{enumerable:!0,get:function(){return i.createPromiseCapability}}),Object.defineProperty($,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty($,"getDocument",{enumerable:!0,get:function(){return N.getDocument}}),Object.defineProperty($,"getFilenameFromUrl",{enumerable:!0,get:function(){return Q.getFilenameFromUrl}}),Object.defineProperty($,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return Q.getPdfFilenameFromUrl}}),Object.defineProperty($,"getXfaPageViewport",{enumerable:!0,get:function(){return Q.getXfaPageViewport}}),Object.defineProperty($,"isPdfFile",{enumerable:!0,get:function(){return Q.isPdfFile}}),Object.defineProperty($,"loadScript",{enumerable:!0,get:function(){return Q.loadScript}}),Object.defineProperty($,"renderTextLayer",{enumerable:!0,get:function(){return t.renderTextLayer}}),Object.defineProperty($,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty($,"version",{enumerable:!0,get:function(){return N.version}});var i=__w_pdfjs_require__(1),N=__w_pdfjs_require__(4),Q=__w_pdfjs_require__(8),re=__w_pdfjs_require__(22),Se=__w_pdfjs_require__(7),Ae=__w_pdfjs_require__(27),A=__w_pdfjs_require__(15),se=__w_pdfjs_require__(3),t=__w_pdfjs_require__(30),m=__w_pdfjs_require__(31),ie=__w_pdfjs_require__(29);if(se.isNodeJS){const{PDFNodeStream:z}=__w_pdfjs_require__(32);(0,N.setPDFNetworkStreamFactory)(e=>new z(e))}else{const{PDFNetworkStream:z}=__w_pdfjs_require__(35),{PDFFetchStream:e}=__w_pdfjs_require__(36);(0,N.setPDFNetworkStreamFactory)(j=>(0,Q.isValidFetchUrl)(j.url)?new e(j):new z(j))}})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,pdf_worker={exports:{}};(function($,i){(function(Q,re){$.exports=re()})(globalThis,()=>(()=>{var N=[,(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.WorkerTask=A.WorkerMessageHandler=void 0;var t=se(2),m=se(5),ie=se(6),z=se(8),e=se(71),j=se(65),f=se(4),T=se(102),E=se(103);class _{constructor(p){this.name=p,this.terminated=!1,this._capability=(0,t.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}A.WorkerTask=_;class y{static setup(p,s){let r=!1;p.on("test",function(c){r||(r=!0,p.send("test",c instanceof Uint8Array))}),p.on("configure",function(c){(0,t.setVerbosityLevel)(c.verbosity)}),p.on("GetDocRequest",function(c){return y.createDocumentHandler(c,s)})}static createDocumentHandler(p,s){let r,l=!1,c=null;const d=[],K=(0,t.getVerbosityLevel)(),g=p.apiVersion,G="2.16.105";if(g!==G)throw new Error(`The API version "${g}" does not match the Worker version "${G}".`);const O=[];for(const U in[])O.push(U);if(O.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+O.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const U="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw f.isNodeJS?new Error(U+"please use a `legacy`-build instead."):new Error(U+"please update to a supported browser.")}const w=p.docId,R=p.docBaseUrl,o=p.docId+"_worker";let h=new T.MessageHandler(o,w,s);function H(){if(l)throw new Error("Worker was terminated")}function L(U){d.push(U)}function x(U){U.finish();const ee=d.indexOf(U);d.splice(ee,1)}async function v(U){await r.ensureDoc("checkHeader"),await r.ensureDoc("parseStartXRef"),await r.ensureDoc("parse",[U]),await r.ensureDoc("checkFirstPage",[U]),await r.ensureDoc("checkLastPage",[U]);const ee=await r.ensureDoc("isPureXfa");if(ee){const ne=new _("loadXfaFonts");L(ne),await Promise.all([r.loadXfaFonts(h,ne).catch(P=>{}).then(()=>x(ne)),r.loadXfaImages()])}const[J,I]=await Promise.all([r.ensureDoc("numPages"),r.ensureDoc("fingerprints")]),X=ee?await r.ensureDoc("htmlForXfa"):null;return{numPages:J,fingerprints:I,htmlForXfa:X}}function F(U,ee,J){const I=(0,t.createPromiseCapability)();let X;const ne=U.source;if(ne.data){try{X=new z.LocalPdfManager(w,ne.data,ne.password,h,ee,J,R),I.resolve(X)}catch(te){I.reject(te)}return I.promise}let P,V=[];try{P=new E.PDFWorkerStream(h)}catch(te){return I.reject(te),I.promise}const Y=P.getFullReader();Y.headersReady.then(function(){if(!Y.isRangeSupported)return;const te=ne.disableAutoFetch||Y.isStreamingSupported;X=new z.NetworkPdfManager(w,P,{msgHandler:h,password:ne.password,length:Y.contentLength,disableAutoFetch:te,rangeChunkSize:ne.rangeChunkSize},ee,J,R);for(const W of V)X.sendProgressiveData(W);V=[],I.resolve(X),c=null}).catch(function(te){I.reject(te),c=null});let Z=0;const q=function(){const te=(0,t.arraysToBytes)(V);ne.length&&te.length!==ne.length&&(0,t.warn)("reported HTTP length is different from actual");try{X=new z.LocalPdfManager(w,te,ne.password,h,ee,J,R),I.resolve(X)}catch(W){I.reject(W)}V=[]};return new Promise(function(te,W){const ae=function({value:fe,done:de}){try{if(H(),de){X||q(),c=null;return}Z+=(0,t.arrayByteLength)(fe),Y.isStreamingSupported||h.send("DocProgress",{loaded:Z,total:Math.max(Z,Y.contentLength||0)}),X?X.sendProgressiveData(fe):V.push(fe),Y.read().then(ae,W)}catch(ue){W(ue)}};Y.read().then(ae,W)}).catch(function(te){I.reject(te),c=null}),c=function(te){P.cancelAllRequests(te)},I.promise}function k(U){function ee(ne){H(),h.send("GetDoc",{pdfInfo:ne})}function J(ne){if(H(),ne instanceof t.PasswordException){const P=new _(`PasswordException: response ${ne.code}`);L(P),h.sendWithPromise("PasswordRequest",ne).then(function({password:V}){x(P),r.updatePassword(V),I()}).catch(function(){x(P),h.send("DocException",ne)})}else ne instanceof t.InvalidPDFException||ne instanceof t.MissingPDFException||ne instanceof t.UnexpectedResponseException||ne instanceof t.UnknownErrorException?h.send("DocException",ne):h.send("DocException",new t.UnknownErrorException(ne.message,ne.toString()))}function I(){H(),v(!1).then(ee,function(ne){if(H(),!(ne instanceof ie.XRefParseException)){J(ne);return}r.requestLoadedStream(),r.onLoadedStream().then(function(){H(),v(!0).then(ee,J)})})}H();const X={maxImageSize:U.maxImageSize,disableFontFace:U.disableFontFace,ignoreErrors:U.ignoreErrors,isEvalSupported:U.isEvalSupported,fontExtraProperties:U.fontExtraProperties,useSystemFonts:U.useSystemFonts,cMapUrl:U.cMapUrl,standardFontDataUrl:U.standardFontDataUrl};F(U,X,U.enableXfa).then(function(ne){if(l)throw ne.terminate(new t.AbortException("Worker was terminated.")),new Error("Worker was terminated");r=ne,r.onLoadedStream().then(function(P){h.send("DataLoaded",{length:P.bytes.byteLength})})}).then(I,J)}return h.on("GetPage",function(ee){return r.getPage(ee.pageIndex).then(function(J){return Promise.all([r.ensure(J,"rotate"),r.ensure(J,"ref"),r.ensure(J,"userUnit"),r.ensure(J,"view")]).then(function([I,X,ne,P]){return{rotate:I,ref:X,userUnit:ne,view:P}})})}),h.on("GetPageIndex",function(ee){const J=m.Ref.get(ee.num,ee.gen);return r.ensureCatalog("getPageIndex",[J])}),h.on("GetDestinations",function(ee){return r.ensureCatalog("destinations")}),h.on("GetDestination",function(ee){return r.ensureCatalog("getDestination",[ee.id])}),h.on("GetPageLabels",function(ee){return r.ensureCatalog("pageLabels")}),h.on("GetPageLayout",function(ee){return r.ensureCatalog("pageLayout")}),h.on("GetPageMode",function(ee){return r.ensureCatalog("pageMode")}),h.on("GetViewerPreferences",function(U){return r.ensureCatalog("viewerPreferences")}),h.on("GetOpenAction",function(U){return r.ensureCatalog("openAction")}),h.on("GetAttachments",function(ee){return r.ensureCatalog("attachments")}),h.on("GetJavaScript",function(ee){return r.ensureCatalog("javaScript")}),h.on("GetDocJSActions",function(ee){return r.ensureCatalog("jsActions")}),h.on("GetPageJSActions",function({pageIndex:U}){return r.getPage(U).then(function(ee){return r.ensure(ee,"jsActions")})}),h.on("GetOutline",function(ee){return r.ensureCatalog("documentOutline")}),h.on("GetOptionalContentConfig",function(U){return r.ensureCatalog("optionalContentConfig")}),h.on("GetPermissions",function(U){return r.ensureCatalog("permissions")}),h.on("GetMetadata",function(ee){return Promise.all([r.ensureDoc("documentInfo"),r.ensureCatalog("metadata")])}),h.on("GetMarkInfo",function(ee){return r.ensureCatalog("markInfo")}),h.on("GetData",function(ee){return r.requestLoadedStream(),r.onLoadedStream().then(function(J){return J.bytes})}),h.on("GetAnnotations",function({pageIndex:U,intent:ee}){return r.getPage(U).then(function(J){const I=new _(`GetAnnotations: page ${U}`);return L(I),J.getAnnotationsData(h,I,ee).then(X=>(x(I),X),X=>{x(I)})})}),h.on("GetFieldObjects",function(U){return r.ensureDoc("fieldObjects")}),h.on("HasJSActions",function(U){return r.ensureDoc("hasJSActions")}),h.on("GetCalculationOrderIds",function(U){return r.ensureDoc("calculationOrderIds")}),h.on("SaveDocument",function({isPureXfa:U,numPages:ee,annotationStorage:J,filename:I}){r.requestLoadedStream();const X=U?null:(0,ie.getNewAnnotationsMap)(J),ne=[r.onLoadedStream(),r.ensureCatalog("acroForm"),r.ensureCatalog("acroFormRef"),r.ensureDoc("xref"),r.ensureDoc("startXRef")];if(X)for(const[P,V]of X)ne.push(r.getPage(P).then(Y=>{const Z=new _(`Save (editor): page ${P}`);return Y.saveNewAnnotations(h,Z,V).finally(function(){x(Z)})}));if(U)ne.push(r.serializeXfaData(J));else for(let P=0;P<ee;P++)ne.push(r.getPage(P).then(function(V){const Y=new _(`Save: page ${P}`);return V.save(h,Y,J).finally(function(){x(Y)})}));return Promise.all(ne).then(function([P,V,Y,Z,q,...M]){let te=[],W=null;if(U){if(W=M[0],!W)return P.bytes}else if(te=M.flat(2),te.length===0)return P.bytes;const ae=V instanceof m.Dict&&V.get("XFA")||null;let fe=null,de=!1;if(Array.isArray(ae)){for(let he=0,me=ae.length;he<me;he+=2)ae[he]==="datasets"&&(fe=ae[he+1],Y=null,de=!0);fe===null&&(fe=Z.getNewRef())}else ae&&(Y=null,(0,t.warn)("Unsupported XFA type."));let ue=Object.create(null);if(Z.trailer){const he=Object.create(null),me=Z.trailer.get("Info")||null;me instanceof m.Dict&&me.forEach((xe,we)=>{typeof we=="string"&&(he[xe]=(0,t.stringToPDFString)(we))}),ue={rootRef:Z.trailer.getRaw("Root")||null,encryptRef:Z.trailer.getRaw("Encrypt")||null,newRef:Z.getNewRef(),infoRef:Z.trailer.getRaw("Info")||null,info:he,fileIds:Z.trailer.get("ID")||null,startXRef:q,filename:I}}return Z.resetNewRef(),(0,j.incrementalUpdate)({originalData:P.bytes,xrefInfo:ue,newRefs:te,xref:Z,hasXfa:!!ae,xfaDatasetsRef:fe,hasXfaDatasetsEntry:de,acroFormRef:Y,acroForm:V,xfaData:W})})}),h.on("GetOperatorList",function(ee,J){const I=ee.pageIndex;r.getPage(I).then(function(X){const ne=new _(`GetOperatorList: page ${I}`);L(ne);const P=K>=t.VerbosityLevel.INFOS?Date.now():0;X.getOperatorList({handler:h,sink:J,task:ne,intent:ee.intent,cacheKey:ee.cacheKey,annotationStorage:ee.annotationStorage}).then(function(V){x(ne),P&&(0,t.info)(`page=${I+1} - getOperatorList: time=${Date.now()-P}ms, len=${V.length}`),J.close()},function(V){x(ne),!ne.terminated&&(h.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorOperatorList}),J.error(V))})})}),h.on("GetTextContent",function(ee,J){const I=ee.pageIndex;r.getPage(I).then(function(X){const ne=new _("GetTextContent: page "+I);L(ne);const P=K>=t.VerbosityLevel.INFOS?Date.now():0;X.extractTextContent({handler:h,task:ne,sink:J,includeMarkedContent:ee.includeMarkedContent,combineTextItems:ee.combineTextItems}).then(function(){x(ne),P&&(0,t.info)(`page=${I+1} - getTextContent: time=${Date.now()-P}ms`),J.close()},function(V){x(ne),!ne.terminated&&J.error(V)})})}),h.on("GetStructTree",function(ee){return r.getPage(ee.pageIndex).then(function(J){return r.ensure(J,"getStructTree")})}),h.on("FontFallback",function(U){return r.fontFallback(U.id,h)}),h.on("Cleanup",function(ee){return r.cleanup(!0)}),h.on("Terminate",function(ee){l=!0;const J=[];if(r){r.terminate(new t.AbortException("Worker was terminated."));const I=r.cleanup();J.push(I),r=null}else(0,e.clearGlobalCaches)();c&&c(new t.AbortException("Worker was terminated."));for(const I of d)J.push(I.finished),I.terminate();return Promise.all(J).then(function(){h.destroy(),h=null})}),h.on("Ready",function(ee){k(p),p=null}),o}static initializeFromPort(p){const s=new T.MessageHandler("worker","main",p);y.setup(s,p),s.send("ready",null)}}A.WorkerMessageHandler=y;function n(u){return typeof u.postMessage=="function"&&"onmessage"in u}typeof window>"u"&&!f.isNodeJS&&typeof self<"u"&&n(self)&&y.initializeFromPort(self)},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.VerbosityLevel=A.Util=A.UnknownErrorException=A.UnexpectedResponseException=A.UNSUPPORTED_FEATURES=A.TextRenderingMode=A.StreamType=A.RenderingIntentFlag=A.PermissionFlag=A.PasswordResponses=A.PasswordException=A.PageActionEventType=A.OPS=A.MissingPDFException=A.LINE_FACTOR=A.LINE_DESCENT_FACTOR=A.InvalidPDFException=A.ImageKind=A.IDENTITY_MATRIX=A.FormatError=A.FontType=A.FeatureTest=A.FONT_IDENTITY_MATRIX=A.DocumentActionEventType=A.CMapCompressionType=A.BaseException=A.AnnotationType=A.AnnotationStateModelType=A.AnnotationReviewState=A.AnnotationReplyType=A.AnnotationMode=A.AnnotationMarkedState=A.AnnotationFlag=A.AnnotationFieldFlag=A.AnnotationEditorType=A.AnnotationEditorPrefix=A.AnnotationEditorParamsType=A.AnnotationBorderStyleType=A.AnnotationActionEventType=A.AbortException=void 0,A.arrayByteLength=ue,A.arraysToBytes=he,A.assert=I,A.bytesToString=fe,A.createPromiseCapability=ft,A.createValidAbsoluteUrl=ne,A.escapeString=Xe,A.getModificationDate=tt,A.getVerbosityLevel=k,A.info=U,A.isArrayBuffer=Ee,A.isArrayEqual=ze,A.isAscii=Ue,A.objectFromMap=we,A.objectSize=xe,A.setVerbosityLevel=F,A.shadow=P,A.string32=me,A.stringToBytes=de,A.stringToPDFString=qe,A.stringToUTF16BEString=$e,A.stringToUTF8String=De,A.unreachable=J,A.utf8StringToString=Te,A.warn=ee,se(3);const t=[1,0,0,1,0,0];A.IDENTITY_MATRIX=t;const m=[.001,0,0,.001,0,0];A.FONT_IDENTITY_MATRIX=m;const ie=1.35;A.LINE_FACTOR=ie;const z=.35;A.LINE_DESCENT_FACTOR=z;const e={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};A.RenderingIntentFlag=e;const j={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};A.AnnotationMode=j;const f="pdfjs_internal_editor_";A.AnnotationEditorPrefix=f;const T={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};A.AnnotationEditorType=T;const E={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};A.AnnotationEditorParamsType=E;const _={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};A.PermissionFlag=_;const y={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};A.TextRenderingMode=y;const n={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};A.ImageKind=n;const u={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};A.AnnotationType=u;const p={MARKED:"Marked",REVIEW:"Review"};A.AnnotationStateModelType=p;const s={MARKED:"Marked",UNMARKED:"Unmarked"};A.AnnotationMarkedState=s;const r={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};A.AnnotationReviewState=r;const l={GROUP:"Group",REPLY:"R"};A.AnnotationReplyType=l;const c={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};A.AnnotationFlag=c;const d={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};A.AnnotationFieldFlag=d;const K={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};A.AnnotationBorderStyleType=K;const g={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};A.AnnotationActionEventType=g;const G={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};A.DocumentActionEventType=G;const O={O:"PageOpen",C:"PageClose"};A.PageActionEventType=O;const w={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};A.StreamType=w;const R={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};A.FontType=R;const o={ERRORS:0,WARNINGS:1,INFOS:5};A.VerbosityLevel=o;const h={NONE:0,BINARY:1,STREAM:2};A.CMapCompressionType=h;const H={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};A.OPS=H;const L={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};A.UNSUPPORTED_FEATURES=L;const x={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};A.PasswordResponses=x;let v=o.WARNINGS;function F(Be){Number.isInteger(Be)&&(v=Be)}function k(){return v}function U(Be){v>=o.INFOS&&console.log(`Info: ${Be}`)}function ee(Be){v>=o.WARNINGS&&console.log(`Warning: ${Be}`)}function J(Be){throw new Error(Be)}function I(Be,Ne){Be||J(Ne)}function X(Be){if(!Be)return!1;switch(Be.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ne(Be,Ne=null,ke=null){if(!Be)return null;try{if(ke&&typeof Be=="string"){if(ke.addDefaultProtocol&&Be.startsWith("www.")){const ot=Be.match(/\./g);ot&&ot.length>=2&&(Be=`http://${Be}`)}if(ke.tryConvertEncoding)try{Be=De(Be)}catch{}}const rt=Ne?new URL(Be,Ne):new URL(Be);if(X(rt))return rt}catch{}return null}function P(Be,Ne,ke){return Object.defineProperty(Be,Ne,{value:ke,enumerable:!0,configurable:!0,writable:!1}),ke}const V=function(){function Ne(ke,rt){this.constructor===Ne&&J("Cannot initialize BaseException."),this.message=ke,this.name=rt}return Ne.prototype=new Error,Ne.constructor=Ne,Ne}();A.BaseException=V;class Y extends V{constructor(Ne,ke){super(Ne,"PasswordException"),this.code=ke}}A.PasswordException=Y;class Z extends V{constructor(Ne,ke){super(Ne,"UnknownErrorException"),this.details=ke}}A.UnknownErrorException=Z;class q extends V{constructor(Ne){super(Ne,"InvalidPDFException")}}A.InvalidPDFException=q;class M extends V{constructor(Ne){super(Ne,"MissingPDFException")}}A.MissingPDFException=M;class te extends V{constructor(Ne,ke){super(Ne,"UnexpectedResponseException"),this.status=ke}}A.UnexpectedResponseException=te;class W extends V{constructor(Ne){super(Ne,"FormatError")}}A.FormatError=W;class ae extends V{constructor(Ne){super(Ne,"AbortException")}}A.AbortException=ae;function fe(Be){(typeof Be!="object"||Be===null||Be.length===void 0)&&J("Invalid argument for bytesToString");const Ne=Be.length,ke=8192;if(Ne<ke)return String.fromCharCode.apply(null,Be);const rt=[];for(let ot=0;ot<Ne;ot+=ke){const st=Math.min(ot+ke,Ne),xt=Be.subarray(ot,st);rt.push(String.fromCharCode.apply(null,xt))}return rt.join("")}function de(Be){typeof Be!="string"&&J("Invalid argument for stringToBytes");const Ne=Be.length,ke=new Uint8Array(Ne);for(let rt=0;rt<Ne;++rt)ke[rt]=Be.charCodeAt(rt)&255;return ke}function ue(Be){if(Be.length!==void 0)return Be.length;if(Be.byteLength!==void 0)return Be.byteLength;J("Invalid argument for arrayByteLength")}function he(Be){const Ne=Be.length;if(Ne===1&&Be[0]instanceof Uint8Array)return Be[0];let ke=0;for(let st=0;st<Ne;st++)ke+=ue(Be[st]);let rt=0;const ot=new Uint8Array(ke);for(let st=0;st<Ne;st++){let xt=Be[st];xt instanceof Uint8Array||(typeof xt=="string"?xt=de(xt):xt=new Uint8Array(xt));const et=xt.byteLength;ot.set(xt,rt),rt+=et}return ot}function me(Be){return String.fromCharCode(Be>>24&255,Be>>16&255,Be>>8&255,Be&255)}function xe(Be){return Object.keys(Be).length}function we(Be){const Ne=Object.create(null);for(const[ke,rt]of Be)Ne[ke]=rt;return Ne}function Ce(){const Be=new Uint8Array(4);return Be[0]=1,new Uint32Array(Be.buffer,0,1)[0]===1}function Fe(){try{return new Function(""),!0}catch{return!1}}class Oe{static get isLittleEndian(){return P(this,"isLittleEndian",Ce())}static get isEvalSupported(){return P(this,"isEvalSupported",Fe())}static get isOffscreenCanvasSupported(){return P(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}A.FeatureTest=Oe;const Ie=[...Array(256).keys()].map(Be=>Be.toString(16).padStart(2,"0"));class Me{static makeHexColor(Ne,ke,rt){return`#${Ie[Ne]}${Ie[ke]}${Ie[rt]}`}static scaleMinMax(Ne,ke){let rt;Ne[0]?(Ne[0]<0&&(rt=ke[0],ke[0]=ke[1],ke[1]=rt),ke[0]*=Ne[0],ke[1]*=Ne[0],Ne[3]<0&&(rt=ke[2],ke[2]=ke[3],ke[3]=rt),ke[2]*=Ne[3],ke[3]*=Ne[3]):(rt=ke[0],ke[0]=ke[2],ke[2]=rt,rt=ke[1],ke[1]=ke[3],ke[3]=rt,Ne[1]<0&&(rt=ke[2],ke[2]=ke[3],ke[3]=rt),ke[2]*=Ne[1],ke[3]*=Ne[1],Ne[2]<0&&(rt=ke[0],ke[0]=ke[1],ke[1]=rt),ke[0]*=Ne[2],ke[1]*=Ne[2]),ke[0]+=Ne[4],ke[1]+=Ne[4],ke[2]+=Ne[5],ke[3]+=Ne[5]}static transform(Ne,ke){return[Ne[0]*ke[0]+Ne[2]*ke[1],Ne[1]*ke[0]+Ne[3]*ke[1],Ne[0]*ke[2]+Ne[2]*ke[3],Ne[1]*ke[2]+Ne[3]*ke[3],Ne[0]*ke[4]+Ne[2]*ke[5]+Ne[4],Ne[1]*ke[4]+Ne[3]*ke[5]+Ne[5]]}static applyTransform(Ne,ke){const rt=Ne[0]*ke[0]+Ne[1]*ke[2]+ke[4],ot=Ne[0]*ke[1]+Ne[1]*ke[3]+ke[5];return[rt,ot]}static applyInverseTransform(Ne,ke){const rt=ke[0]*ke[3]-ke[1]*ke[2],ot=(Ne[0]*ke[3]-Ne[1]*ke[2]+ke[2]*ke[5]-ke[4]*ke[3])/rt,st=(-Ne[0]*ke[1]+Ne[1]*ke[0]+ke[4]*ke[1]-ke[5]*ke[0])/rt;return[ot,st]}static getAxialAlignedBoundingBox(Ne,ke){const rt=Me.applyTransform(Ne,ke),ot=Me.applyTransform(Ne.slice(2,4),ke),st=Me.applyTransform([Ne[0],Ne[3]],ke),xt=Me.applyTransform([Ne[2],Ne[1]],ke);return[Math.min(rt[0],ot[0],st[0],xt[0]),Math.min(rt[1],ot[1],st[1],xt[1]),Math.max(rt[0],ot[0],st[0],xt[0]),Math.max(rt[1],ot[1],st[1],xt[1])]}static inverseTransform(Ne){const ke=Ne[0]*Ne[3]-Ne[1]*Ne[2];return[Ne[3]/ke,-Ne[1]/ke,-Ne[2]/ke,Ne[0]/ke,(Ne[2]*Ne[5]-Ne[4]*Ne[3])/ke,(Ne[4]*Ne[1]-Ne[5]*Ne[0])/ke]}static apply3dTransform(Ne,ke){return[Ne[0]*ke[0]+Ne[1]*ke[1]+Ne[2]*ke[2],Ne[3]*ke[0]+Ne[4]*ke[1]+Ne[5]*ke[2],Ne[6]*ke[0]+Ne[7]*ke[1]+Ne[8]*ke[2]]}static singularValueDecompose2dScale(Ne){const ke=[Ne[0],Ne[2],Ne[1],Ne[3]],rt=Ne[0]*ke[0]+Ne[1]*ke[2],ot=Ne[0]*ke[1]+Ne[1]*ke[3],st=Ne[2]*ke[0]+Ne[3]*ke[2],xt=Ne[2]*ke[1]+Ne[3]*ke[3],et=(rt+xt)/2,ut=Math.sqrt((rt+xt)**2-4*(rt*xt-st*ot))/2,kt=et+ut||1,Qe=et-ut||1;return[Math.sqrt(kt),Math.sqrt(Qe)]}static normalizeRect(Ne){const ke=Ne.slice(0);return Ne[0]>Ne[2]&&(ke[0]=Ne[2],ke[2]=Ne[0]),Ne[1]>Ne[3]&&(ke[1]=Ne[3],ke[3]=Ne[1]),ke}static intersect(Ne,ke){const rt=Math.max(Math.min(Ne[0],Ne[2]),Math.min(ke[0],ke[2])),ot=Math.min(Math.max(Ne[0],Ne[2]),Math.max(ke[0],ke[2]));if(rt>ot)return null;const st=Math.max(Math.min(Ne[1],Ne[3]),Math.min(ke[1],ke[3])),xt=Math.min(Math.max(Ne[1],Ne[3]),Math.max(ke[1],ke[3]));return st>xt?null:[rt,st,ot,xt]}static bezierBoundingBox(Ne,ke,rt,ot,st,xt,et,ut){const kt=[],Qe=[[],[]];let vt,ht,Ut,Ot,It,Ct,Wt,zt;for(let it=0;it<2;++it){if(it===0?(ht=6*Ne-12*rt+6*st,vt=-3*Ne+9*rt-9*st+3*et,Ut=3*rt-3*Ne):(ht=6*ke-12*ot+6*xt,vt=-3*ke+9*ot-9*xt+3*ut,Ut=3*ot-3*ke),Math.abs(vt)<1e-12){if(Math.abs(ht)<1e-12)continue;Ot=-Ut/ht,0<Ot&&Ot<1&&kt.push(Ot);continue}Wt=ht*ht-4*Ut*vt,zt=Math.sqrt(Wt),!(Wt<0)&&(It=(-ht+zt)/(2*vt),0<It&&It<1&&kt.push(It),Ct=(-ht-zt)/(2*vt),0<Ct&&Ct<1&&kt.push(Ct))}let Je=kt.length,Ve;const nt=Je;for(;Je--;)Ot=kt[Je],Ve=1-Ot,Qe[0][Je]=Ve*Ve*Ve*Ne+3*Ve*Ve*Ot*rt+3*Ve*Ot*Ot*st+Ot*Ot*Ot*et,Qe[1][Je]=Ve*Ve*Ve*ke+3*Ve*Ve*Ot*ot+3*Ve*Ot*Ot*xt+Ot*Ot*Ot*ut;return Qe[0][nt]=Ne,Qe[1][nt]=ke,Qe[0][nt+1]=et,Qe[1][nt+1]=ut,Qe[0].length=Qe[1].length=nt+2,[Math.min(...Qe[0]),Math.min(...Qe[1]),Math.max(...Qe[0]),Math.max(...Qe[1])]}}A.Util=Me;const Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function qe(Be){if(Be[0]>="ï"){let ke;if(Be[0]==="þ"&&Be[1]==="ÿ"?ke="utf-16be":Be[0]==="ÿ"&&Be[1]==="þ"?ke="utf-16le":Be[0]==="ï"&&Be[1]==="»"&&Be[2]==="¿"&&(ke="utf-8"),ke)try{const rt=new TextDecoder(ke,{fatal:!0}),ot=de(Be);return rt.decode(ot)}catch(rt){ee(`stringToPDFString: "${rt}".`)}}const Ne=[];for(let ke=0,rt=Be.length;ke<rt;ke++){const ot=Le[Be.charCodeAt(ke)];Ne.push(ot?String.fromCharCode(ot):Be.charAt(ke))}return Ne.join("")}function Xe(Be){return Be.replace(/([()\\\n\r])/g,Ne=>Ne===`
`?"\\n":Ne==="\r"?"\\r":`\\${Ne}`)}function Ue(Be){return/^[\x00-\x7F]*$/.test(Be)}function $e(Be){const Ne=["þÿ"];for(let ke=0,rt=Be.length;ke<rt;ke++){const ot=Be.charCodeAt(ke);Ne.push(String.fromCharCode(ot>>8&255),String.fromCharCode(ot&255))}return Ne.join("")}function De(Be){return decodeURIComponent(escape(Be))}function Te(Be){return unescape(encodeURIComponent(Be))}function Ee(Be){return typeof Be=="object"&&Be!==null&&Be.byteLength!==void 0}function ze(Be,Ne){if(Be.length!==Ne.length)return!1;for(let ke=0,rt=Be.length;ke<rt;ke++)if(Be[ke]!==Ne[ke])return!1;return!0}function tt(Be=new Date){return[Be.getUTCFullYear().toString(),(Be.getUTCMonth()+1).toString().padStart(2,"0"),Be.getUTCDate().toString().padStart(2,"0"),Be.getUTCHours().toString().padStart(2,"0"),Be.getUTCMinutes().toString().padStart(2,"0"),Be.getUTCSeconds().toString().padStart(2,"0")].join("")}function ft(){const Be=Object.create(null);let Ne=!1;return Object.defineProperty(Be,"settled",{get(){return Ne}}),Be.promise=new Promise(function(ke,rt){Be.resolve=function(ot){Ne=!0,ke(ot)},Be.reject=function(ot){Ne=!0,rt(ot)}}),Be}},(Ae,A,se)=>{se(4)},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.isNodeJS=void 0;const se=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");A.isNodeJS=se},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.RefSetCache=A.RefSet=A.Ref=A.Name=A.EOF=A.Dict=A.Cmd=A.CIRCULAR_REF=void 0,A.clearPrimitiveCaches=s,A.isCmd=n,A.isDict=u,A.isName=y,A.isRefsEqual=p;var t=se(2);const m=Symbol("CIRCULAR_REF");A.CIRCULAR_REF=m;const ie=Symbol("EOF");A.EOF=ie;const z=function(){let l=Object.create(null);class c{constructor(K){this.name=K}static get(K){return l[K]||(l[K]=new c(K))}static _clearCache(){l=Object.create(null)}}return c}();A.Name=z;const e=function(){let l=Object.create(null);class c{constructor(K){this.cmd=K}static get(K){return l[K]||(l[K]=new c(K))}static _clearCache(){l=Object.create(null)}}return c}();A.Cmd=e;const j=function(){return j};class f{constructor(l=null){this._map=Object.create(null),this.xref=l,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=j}assignXref(l){this.xref=l}get size(){return Object.keys(this._map).length}get(l,c,d){let K=this._map[l];return K===void 0&&c!==void 0&&(K=this._map[c],K===void 0&&d!==void 0&&(K=this._map[d])),K instanceof T&&this.xref?this.xref.fetch(K,this.suppressEncryption):K}async getAsync(l,c,d){let K=this._map[l];return K===void 0&&c!==void 0&&(K=this._map[c],K===void 0&&d!==void 0&&(K=this._map[d])),K instanceof T&&this.xref?this.xref.fetchAsync(K,this.suppressEncryption):K}getArray(l,c,d){let K=this._map[l];if(K===void 0&&c!==void 0&&(K=this._map[c],K===void 0&&d!==void 0&&(K=this._map[d])),K instanceof T&&this.xref&&(K=this.xref.fetch(K,this.suppressEncryption)),Array.isArray(K)){K=K.slice();for(let g=0,G=K.length;g<G;g++)K[g]instanceof T&&this.xref&&(K[g]=this.xref.fetch(K[g],this.suppressEncryption))}return K}getRaw(l){return this._map[l]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(l,c){this._map[l]=c}has(l){return this._map[l]!==void 0}forEach(l){for(const c in this._map)l(c,this.get(c))}static get empty(){const l=new f(null);return l.set=(c,d)=>{(0,t.unreachable)("Should not call `set` on the empty dictionary.")},(0,t.shadow)(this,"empty",l)}static merge({xref:l,dictArray:c,mergeSubDicts:d=!1}){const K=new f(l),g=new Map;for(const G of c)if(G instanceof f)for(const[O,w]of Object.entries(G._map)){let R=g.get(O);if(R===void 0)R=[],g.set(O,R);else if(!d||!(w instanceof f))continue;R.push(w)}for(const[G,O]of g){if(O.length===1||!(O[0]instanceof f)){K._map[G]=O[0];continue}const w=new f(l);for(const R of O)for(const[o,h]of Object.entries(R._map))w._map[o]===void 0&&(w._map[o]=h);w.size>0&&(K._map[G]=w)}return g.clear(),K.size>0?K:f.empty}}A.Dict=f;const T=function(){let l=Object.create(null);class c{constructor(K,g){this.num=K,this.gen=g}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static get(K,g){const G=g===0?`${K}R`:`${K}R${g}`;return l[G]||(l[G]=new c(K,g))}static _clearCache(){l=Object.create(null)}}return c}();A.Ref=T;class E{constructor(l=null){this._set=new Set(l&&l._set)}has(l){return this._set.has(l.toString())}put(l){this._set.add(l.toString())}remove(l){this._set.delete(l.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}A.RefSet=E;class _{constructor(){this._map=new Map}get size(){return this._map.size}get(l){return this._map.get(l.toString())}has(l){return this._map.has(l.toString())}put(l,c){this._map.set(l.toString(),c)}putAlias(l,c){this._map.set(l.toString(),this.get(c))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}A.RefSetCache=_;function y(r,l){return r instanceof z&&(l===void 0||r.name===l)}function n(r,l){return r instanceof e&&(l===void 0||r.cmd===l)}function u(r,l){return r instanceof f&&(l===void 0||y(r.get("Type"),l))}function p(r,l){return r.num===l.num&&r.gen===l.gen}function s(){e._clearCache(),z._clearCache(),T._clearCache()}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XRefParseException=A.XRefEntryException=A.ParserEOFException=A.MissingDataException=A.DocStats=void 0,A.collectActions=G,A.encodeToXmlString=w,A.escapePDFName=K,A.getArrayLookupTableFactory=e,A.getInheritableProperty=y,A.getLookupTableFactory=z,A.getNewAnnotationsMap=H,A.isWhiteSpace=c,A.log2=p,A.numberToString=h,A.parseXFAPath=d,A.readInt8=s,A.readUint16=r,A.readUint32=l,A.recoverJsURL=o,A.toRomanNumerals=u,A.validateCSSFont=R;var t=se(2),m=se(5),ie=se(7);function z(L){let x;return function(){return L&&(x=Object.create(null),L(x),L=null),x}}function e(L){let x;return function(){if(L){let v=L();L=null,x=Object.create(null);for(let F=0,k=v.length;F<k;F+=2)x[v[F]]=v[F+1];v=null}return x}}class j extends t.BaseException{constructor(x,v){super(`Missing data [${x}, ${v})`,"MissingDataException"),this.begin=x,this.end=v}}A.MissingDataException=j;class f extends t.BaseException{constructor(x){super(x,"ParserEOFException")}}A.ParserEOFException=f;class T extends t.BaseException{constructor(x){super(x,"XRefEntryException")}}A.XRefEntryException=T;class E extends t.BaseException{constructor(x){super(x,"XRefParseException")}}A.XRefParseException=E;class _{constructor(x){this._handler=x,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const x=Object.create(null),v=Object.create(null);for(const F of this._streamTypes)x[F]=!0;for(const F of this._fontTypes)v[F]=!0;this._handler.send("DocStats",{streamTypes:x,fontTypes:v})}addStreamType(x){this._streamTypes.has(x)||(this._streamTypes.add(x),this._send())}addFontType(x){this._fontTypes.has(x)||(this._fontTypes.add(x),this._send())}}A.DocStats=_;function y({dict:L,key:x,getArray:v=!1,stopWhenFound:F=!0}){let k;const U=new m.RefSet;for(;L instanceof m.Dict&&!(L.objId&&U.has(L.objId));){L.objId&&U.put(L.objId);const ee=v?L.getArray(x):L.get(x);if(ee!==void 0){if(F)return ee;k||(k=[]),k.push(ee)}L=L.get("Parent")}return k}const n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function u(L,x=!1){(0,t.assert)(Number.isInteger(L)&&L>0,"The number should be a positive integer.");const v=[];let F;for(;L>=1e3;)L-=1e3,v.push("M");F=L/100|0,L%=100,v.push(n[F]),F=L/10|0,L%=10,v.push(n[10+F]),v.push(n[20+L]);const k=v.join("");return x?k.toLowerCase():k}function p(L){return L<=0?0:Math.ceil(Math.log2(L))}function s(L,x){return L[x]<<24>>24}function r(L,x){return L[x]<<8|L[x+1]}function l(L,x){return(L[x]<<24|L[x+1]<<16|L[x+2]<<8|L[x+3])>>>0}function c(L){return L===32||L===9||L===13||L===10}function d(L){const x=/(.+)\[(\d+)\]$/;return L.split(".").map(v=>{const F=v.match(x);return F?{name:F[1],pos:parseInt(F[2],10)}:{name:v,pos:0}})}function K(L){const x=[];let v=0;for(let F=0,k=L.length;F<k;F++){const U=L.charCodeAt(F);(U<33||U>126||U===35||U===40||U===41||U===60||U===62||U===91||U===93||U===123||U===125||U===47||U===37)&&(v<F&&x.push(L.substring(v,F)),x.push(`#${U.toString(16)}`),v=F+1)}return x.length===0?L:(v<L.length&&x.push(L.substring(v,L.length)),x.join(""))}function g(L,x,v,F){if(!L)return;let k=null;if(L instanceof m.Ref){if(F.has(L))return;k=L,F.put(k),L=x.fetch(L)}if(Array.isArray(L))for(const U of L)g(U,x,v,F);else if(L instanceof m.Dict){if((0,m.isName)(L.get("S"),"JavaScript")){const U=L.get("JS");let ee;U instanceof ie.BaseStream?ee=U.getString():typeof U=="string"&&(ee=U),ee=ee&&(0,t.stringToPDFString)(ee).replace(/\u0000/g,""),ee&&v.push(ee)}g(L.getRaw("Next"),x,v,F)}k&&F.remove(k)}function G(L,x,v){const F=Object.create(null),k=y({dict:x,key:"AA",stopWhenFound:!1});if(k)for(let U=k.length-1;U>=0;U--){const ee=k[U];if(ee instanceof m.Dict)for(const J of ee.getKeys()){const I=v[J];if(!I)continue;const X=ee.getRaw(J),ne=new m.RefSet,P=[];g(X,L,P,ne),P.length>0&&(F[I]=P)}}if(x.has("A")){const U=x.get("A"),ee=new m.RefSet,J=[];g(U,L,J,ee),J.length>0&&(F.Action=J)}return(0,t.objectSize)(F)>0?F:null}const O={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function w(L){const x=[];let v=0;for(let F=0,k=L.length;F<k;F++){const U=L.codePointAt(F);if(32<=U&&U<=126){const ee=O[U];ee&&(v<F&&x.push(L.substring(v,F)),x.push(ee),v=F+1)}else v<F&&x.push(L.substring(v,F)),x.push(`&#x${U.toString(16).toUpperCase()};`),U>55295&&(U<57344||U>65533)&&F++,v=F+1}return x.length===0?L:(v<L.length&&x.push(L.substring(v,L.length)),x.join(""))}function R(L){const x="14",v="400",F=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:k,fontWeight:U,italicAngle:ee}=L;if(/^".*"$/.test(k)){if(/[^\\]"/.test(k.slice(1,k.length-1)))return(0,t.warn)(`XFA - FontFamily contains some unescaped ": ${k}.`),!1}else if(/^'.*'$/.test(k)){if(/[^\\]'/.test(k.slice(1,k.length-1)))return(0,t.warn)(`XFA - FontFamily contains some unescaped ': ${k}.`),!1}else for(const X of k.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(X)||!/^[\w-\\]+$/.test(X))return(0,t.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${k}.`),!1;const J=U?U.toString():"";L.fontWeight=F.has(J)?J:v;const I=parseFloat(ee);return L.italicAngle=isNaN(I)||I<-90||I>90?x:ee.toString(),!0}function o(L){const x=["app.launchURL","window.open","xfa.host.gotoURL"],F=new RegExp("^\\s*("+x.join("|").split(".").join("\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(L);if(F&&F[2]){const k=F[2];let U=!1;return F[3]==="true"&&F[1]==="app.launchURL"&&(U=!0),{url:k,newWindow:U}}return null}function h(L){if(Number.isInteger(L))return L.toString();const x=Math.round(L*100);return x%100===0?(x/100).toString():x%10===0?L.toFixed(1):L.toFixed(2)}function H(L){if(!L)return null;const x=new Map;for(const[v,F]of L){if(!v.startsWith(t.AnnotationEditorPrefix))continue;let k=x.get(F.pageIndex);k||(k=[],x.set(F.pageIndex,k)),k.push(F)}return x.size>0?x:null}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.BaseStream=void 0;var t=se(2);class m{constructor(){this.constructor===m&&(0,t.unreachable)("Cannot initialize BaseStream.")}get length(){(0,t.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,t.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,t.shadow)(this,"isDataLoaded",!0)}getByte(){(0,t.unreachable)("Abstract method `getByte` called")}getBytes(z){(0,t.unreachable)("Abstract method `getBytes` called")}peekByte(){const z=this.getByte();return z!==-1&&this.pos--,z}peekBytes(z){const e=this.getBytes(z);return this.pos-=e.length,e}getUint16(){const z=this.getByte(),e=this.getByte();return z===-1||e===-1?-1:(z<<8)+e}getInt32(){const z=this.getByte(),e=this.getByte(),j=this.getByte(),f=this.getByte();return(z<<24)+(e<<16)+(j<<8)+f}getByteRange(z,e){(0,t.unreachable)("Abstract method `getByteRange` called")}getString(z){return(0,t.bytesToString)(this.getBytes(z))}skip(z){this.pos+=z||1}reset(){(0,t.unreachable)("Abstract method `reset` called")}moveStart(){(0,t.unreachable)("Abstract method `moveStart` called")}makeSubStream(z,e,j=null){(0,t.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}A.BaseStream=m},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.NetworkPdfManager=A.LocalPdfManager=void 0;var t=se(2),m=se(9),ie=se(6),z=se(11),e=se(10);function j(_){if(_){const y=(0,t.createValidAbsoluteUrl)(_);if(y)return y.href;(0,t.warn)(`Invalid absolute docBaseUrl: "${_}".`)}return null}class f{constructor(){this.constructor===f&&(0,t.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const y=this.pdfDocument.catalog;return(0,t.shadow)(this,"docBaseUrl",y.baseUrl||this._docBaseUrl)}onLoadedStream(){(0,t.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(y,n){return this.ensure(this.pdfDocument,y,n)}ensureXRef(y,n){return this.ensure(this.pdfDocument.xref,y,n)}ensureCatalog(y,n){return this.ensure(this.pdfDocument.catalog,y,n)}getPage(y){return this.pdfDocument.getPage(y)}fontFallback(y,n){return this.pdfDocument.fontFallback(y,n)}loadXfaFonts(y,n){return this.pdfDocument.loadXfaFonts(y,n)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(y){return this.pdfDocument.serializeXfaData(y)}cleanup(y=!1){return this.pdfDocument.cleanup(y)}async ensure(y,n,u){(0,t.unreachable)("Abstract method `ensure` called")}requestRange(y,n){(0,t.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,t.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(y){(0,t.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(y){this._password=y}terminate(y){(0,t.unreachable)("Abstract method `terminate` called")}}class T extends f{constructor(y,n,u,p,s,r,l){super(),this._docId=y,this._password=u,this._docBaseUrl=j(l),this.msgHandler=p,this.evaluatorOptions=s,this.enableXfa=r;const c=new e.Stream(n);this.pdfDocument=new z.PDFDocument(this,c),this._loadedStreamPromise=Promise.resolve(c)}async ensure(y,n,u){const p=y[n];return typeof p=="function"?p.apply(y,u):p}requestRange(y,n){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(y){}}A.LocalPdfManager=T;class E extends f{constructor(y,n,u,p,s,r){super(),this._docId=y,this._password=u.password,this._docBaseUrl=j(r),this.msgHandler=u.msgHandler,this.evaluatorOptions=p,this.enableXfa=s,this.streamManager=new m.ChunkedStreamManager(n,{msgHandler:u.msgHandler,length:u.length,disableAutoFetch:u.disableAutoFetch,rangeChunkSize:u.rangeChunkSize}),this.pdfDocument=new z.PDFDocument(this,this.streamManager.getStream())}async ensure(y,n,u){try{const p=y[n];return typeof p=="function"?p.apply(y,u):p}catch(p){if(!(p instanceof ie.MissingDataException))throw p;return await this.requestRange(p.begin,p.end),this.ensure(y,n,u)}}requestRange(y,n){return this.streamManager.requestRange(y,n)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(y){this.streamManager.onReceiveData({chunk:y})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(y){this.streamManager.abort(y)}}A.NetworkPdfManager=E},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ChunkedStreamManager=A.ChunkedStream=void 0;var t=se(2),m=se(6),ie=se(10);class z extends ie.Stream{constructor(f,T,E){super(new Uint8Array(f),0,f,null),this.chunkSize=T,this._loadedChunks=new Set,this.numChunks=Math.ceil(f/T),this.manager=E,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const f=[];for(let T=0,E=this.numChunks;T<E;++T)this._loadedChunks.has(T)||f.push(T);return f}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(f,T){const E=this.chunkSize;if(f%E!==0)throw new Error(`Bad begin offset: ${f}`);const _=f+T.byteLength;if(_%E!==0&&_!==this.bytes.length)throw new Error(`Bad end offset: ${_}`);this.bytes.set(new Uint8Array(T),f);const y=Math.floor(f/E),n=Math.floor((_-1)/E)+1;for(let u=y;u<n;++u)this._loadedChunks.add(u)}onReceiveProgressiveData(f){let T=this.progressiveDataLength;const E=Math.floor(T/this.chunkSize);this.bytes.set(new Uint8Array(f),T),T+=f.byteLength,this.progressiveDataLength=T;const _=T>=this.end?this.numChunks:Math.floor(T/this.chunkSize);for(let y=E;y<_;++y)this._loadedChunks.add(y)}ensureByte(f){if(f<this.progressiveDataLength)return;const T=Math.floor(f/this.chunkSize);if(!(T>this.numChunks)&&T!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(T))throw new m.MissingDataException(f,f+1);this.lastSuccessfulEnsureByteChunk=T}}ensureRange(f,T){if(f>=T||T<=this.progressiveDataLength)return;const E=Math.floor(f/this.chunkSize);if(E>this.numChunks)return;const _=Math.min(Math.floor((T-1)/this.chunkSize)+1,this.numChunks);for(let y=E;y<_;++y)if(!this._loadedChunks.has(y))throw new m.MissingDataException(f,T)}nextEmptyChunk(f){const T=this.numChunks;for(let E=0;E<T;++E){const _=(f+E)%T;if(!this._loadedChunks.has(_))return _}return null}hasChunk(f){return this._loadedChunks.has(f)}getByte(){const f=this.pos;return f>=this.end?-1:(f>=this.progressiveDataLength&&this.ensureByte(f),this.bytes[this.pos++])}getBytes(f){const T=this.bytes,E=this.pos,_=this.end;if(!f)return _>this.progressiveDataLength&&this.ensureRange(E,_),T.subarray(E,_);let y=E+f;return y>_&&(y=_),y>this.progressiveDataLength&&this.ensureRange(E,y),this.pos=y,T.subarray(E,y)}getByteRange(f,T){return f<0&&(f=0),T>this.end&&(T=this.end),T>this.progressiveDataLength&&this.ensureRange(f,T),this.bytes.subarray(f,T)}makeSubStream(f,T,E=null){T?f+T>this.progressiveDataLength&&this.ensureRange(f,f+T):f>=this.progressiveDataLength&&this.ensureByte(f);function _(){}_.prototype=Object.create(this),_.prototype.getMissingChunks=function(){const n=this.chunkSize,u=Math.floor(this.start/n),p=Math.floor((this.end-1)/n)+1,s=[];for(let r=u;r<p;++r)this._loadedChunks.has(r)||s.push(r);return s},Object.defineProperty(_.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const y=new _;return y.pos=y.start=f,y.end=f+T||this.end,y.dict=E,y}getBaseStreams(){return[this]}}A.ChunkedStream=z;class e{constructor(f,T){this.length=T.length,this.chunkSize=T.rangeChunkSize,this.stream=new z(this.length,this.chunkSize,this),this.pdfNetworkStream=f,this.disableAutoFetch=T.disableAutoFetch,this.msgHandler=T.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,t.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(f,T){const E=this.pdfNetworkStream.getRangeReader(f,T);E.isStreamingSupported||(E.onProgress=this.onProgress.bind(this));let _=[],y=0;return new Promise((n,u)=>{const p=s=>{try{if(!s.done){const l=s.value;_.push(l),y+=(0,t.arrayByteLength)(l),E.isStreamingSupported&&this.onProgress({loaded:y}),E.read().then(p,u);return}const r=(0,t.arraysToBytes)(_);_=null,n(r)}catch(r){u(r)}};E.read().then(p,u)}).then(n=>{this.aborted||this.onReceiveData({chunk:n,begin:f})})}requestAllChunks(){const f=this.stream.getMissingChunks();return this._requestChunks(f),this._loadedStreamCapability.promise}_requestChunks(f){const T=this.currRequestId++,E=new Set;this._chunksNeededByRequest.set(T,E);for(const n of f)this.stream.hasChunk(n)||E.add(n);if(E.size===0)return Promise.resolve();const _=(0,t.createPromiseCapability)();this._promisesByRequest.set(T,_);const y=[];for(const n of E){let u=this._requestsByChunk.get(n);u||(u=[],this._requestsByChunk.set(n,u),y.push(n)),u.push(T)}if(y.length>0){const n=this.groupChunks(y);for(const u of n){const p=u.beginChunk*this.chunkSize,s=Math.min(u.endChunk*this.chunkSize,this.length);this.sendRequest(p,s).catch(_.reject)}}return _.promise.catch(n=>{if(!this.aborted)throw n})}getStream(){return this.stream}requestRange(f,T){T=Math.min(T,this.length);const E=this.getBeginChunk(f),_=this.getEndChunk(T),y=[];for(let n=E;n<_;++n)y.push(n);return this._requestChunks(y)}requestRanges(f=[]){const T=[];for(const E of f){const _=this.getBeginChunk(E.begin),y=this.getEndChunk(E.end);for(let n=_;n<y;++n)T.includes(n)||T.push(n)}return T.sort(function(E,_){return E-_}),this._requestChunks(T)}groupChunks(f){const T=[];let E=-1,_=-1;for(let y=0,n=f.length;y<n;++y){const u=f[y];E<0&&(E=u),_>=0&&_+1!==u&&(T.push({beginChunk:E,endChunk:_+1}),E=u),y+1===f.length&&T.push({beginChunk:E,endChunk:u+1}),_=u}return T}onProgress(f){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+f.loaded,total:this.length})}onReceiveData(f){const T=f.chunk,E=f.begin===void 0,_=E?this.progressiveDataLength:f.begin,y=_+T.byteLength,n=Math.floor(_/this.chunkSize),u=y<this.length?Math.floor(y/this.chunkSize):Math.ceil(y/this.chunkSize);E?(this.stream.onReceiveProgressiveData(T),this.progressiveDataLength=y):this.stream.onReceiveData(_,T),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const p=[];for(let s=n;s<u;++s){const r=this._requestsByChunk.get(s);if(r){this._requestsByChunk.delete(s);for(const l of r){const c=this._chunksNeededByRequest.get(l);c.has(s)&&c.delete(s),!(c.size>0)&&p.push(l)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let s;if(this.stream.numChunksLoaded===1){const r=this.stream.numChunks-1;this.stream.hasChunk(r)||(s=r)}else s=this.stream.nextEmptyChunk(u);Number.isInteger(s)&&this._requestChunks([s])}for(const s of p){const r=this._promisesByRequest.get(s);this._promisesByRequest.delete(s),r.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(f){this._loadedStreamCapability.reject(f)}getBeginChunk(f){return Math.floor(f/this.chunkSize)}getEndChunk(f){return Math.floor((f-1)/this.chunkSize)+1}abort(f){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(f);for(const T of this._promisesByRequest.values())T.reject(f)}}A.ChunkedStreamManager=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.StringStream=A.Stream=A.NullStream=void 0;var t=se(7),m=se(2);class ie extends t.BaseStream{constructor(f,T,E,_){super(),this.bytes=f instanceof Uint8Array?f:new Uint8Array(f),this.start=T||0,this.pos=this.start,this.end=T+E||this.bytes.length,this.dict=_}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(f){const T=this.bytes,E=this.pos,_=this.end;if(!f)return T.subarray(E,_);let y=E+f;return y>_&&(y=_),this.pos=y,T.subarray(E,y)}getByteRange(f,T){return f<0&&(f=0),T>this.end&&(T=this.end),this.bytes.subarray(f,T)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(f,T,E=null){return new ie(this.bytes.buffer,f,T,E)}}A.Stream=ie;class z extends ie{constructor(f){super((0,m.stringToBytes)(f))}}A.StringStream=z;class e extends ie{constructor(){super(new Uint8Array(0))}}A.NullStream=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Page=A.PDFDocument=void 0;var t=se(12),m=se(2),ie=se(6),z=se(5),e=se(51),j=se(7),f=se(67),T=se(69),E=se(71),_=se(100),y=se(17),n=se(10),u=se(75),p=se(62),s=se(15),r=se(19),l=se(74),c=se(65),d=se(76),K=se(101);const g=1,G=[0,0,612,792];class O{constructor({pdfManager:k,xref:U,pageIndex:ee,pageDict:J,ref:I,globalIdFactory:X,fontCache:ne,builtInCMapCache:P,standardFontDataCache:V,globalImageCache:Y,nonBlendModesSet:Z,xfaFactory:q}){this.pdfManager=k,this.pageIndex=ee,this.pageDict=J,this.xref=U,this.ref=I,this.fontCache=ne,this.builtInCMapCache=P,this.standardFontDataCache=V,this.globalImageCache=Y,this.nonBlendModesSet=Z,this.evaluatorOptions=k.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=q;const M={obj:0};this._localIdFactory=class extends X{static createObjId(){return`p${ee}_${++M.obj}`}static getPageObjId(){return`page${I.toString()}`}}}_getInheritableProperty(k,U=!1){const ee=(0,ie.getInheritableProperty)({dict:this.pageDict,key:k,getArray:U,stopWhenFound:!1});return Array.isArray(ee)?ee.length===1||!(ee[0]instanceof z.Dict)?ee[0]:z.Dict.merge({xref:this.xref,dictArray:ee}):ee}get content(){return this.pageDict.getArray("Contents")}get resources(){const k=this._getInheritableProperty("Resources");return(0,m.shadow)(this,"resources",k instanceof z.Dict?k:z.Dict.empty)}_getBoundingBox(k){if(this.xfaData)return this.xfaData.bbox;const U=this._getInheritableProperty(k,!0);if(Array.isArray(U)&&U.length===4){if(U[2]-U[0]!==0&&U[3]-U[1]!==0)return U;(0,m.warn)(`Empty /${k} entry.`)}return null}get mediaBox(){return(0,m.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||G)}get cropBox(){return(0,m.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let k=this.pageDict.get("UserUnit");return(typeof k!="number"||k<=0)&&(k=g),(0,m.shadow)(this,"userUnit",k)}get view(){const{cropBox:k,mediaBox:U}=this;let ee;if(k===U||(0,m.isArrayEqual)(k,U))ee=U;else{const J=m.Util.intersect(k,U);J&&J[2]-J[0]!==0&&J[3]-J[1]!==0?ee=J:(0,m.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,m.shadow)(this,"view",ee||U)}get rotate(){let k=this._getInheritableProperty("Rotate")||0;return k%90!==0?k=0:k>=360?k%=360:k<0&&(k=(k%360+360)%360),(0,m.shadow)(this,"rotate",k)}_onSubStreamError(k,U,ee){if(this.evaluatorOptions.ignoreErrors){k.send("UnsupportedFeature",{featureId:m.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,m.warn)(`getContentStream - ignoring sub-stream (${ee}): "${U}".`);return}throw U}getContentStream(k){return this.pdfManager.ensure(this,"content").then(U=>U instanceof j.BaseStream?U:Array.isArray(U)?new r.StreamsSequenceStream(U,this._onSubStreamError.bind(this,k)):new n.NullStream)}get xfaData(){return(0,m.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(k,U,ee){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const J=new s.PartialEvaluator({xref:this.xref,handler:k,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),I=this.pageDict,X=this.annotations.slice(),ne=await t.AnnotationFactory.saveNewAnnotations(J,U,ee);for(const{ref:q}of ne.annotations)X.push(q);const P=I.get("Annots");I.set("Annots",X);const V=[];let Y=null;this.xref.encrypt&&(Y=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),(0,c.writeObject)(this.ref,I,V,Y),P&&I.set("Annots",P);const Z=ne.dependencies;return Z.push({ref:this.ref,data:V.join("")},...ne.annotations),Z}save(k,U,ee){const J=new s.PartialEvaluator({xref:this.xref,handler:k,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(I){const X=[];for(const ne of I)ne.mustBePrinted(ee)&&X.push(ne.save(J,U,ee).catch(function(P){return(0,m.warn)(`save - ignoring annotation data during "${U.name}" task: "${P}".`),null}));return Promise.all(X).then(function(ne){return ne.filter(P=>!!P)})})}loadResources(k){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new u.ObjectLoader(this.resources,k,this.xref).load())}getOperatorList({handler:k,sink:U,task:ee,intent:J,cacheKey:I,annotationStorage:X=null}){const ne=this.getContentStream(k),P=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),V=new s.PartialEvaluator({xref:this.xref,handler:k,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),Y=this.xfaFactory?null:(0,ie.getNewAnnotationsMap)(X);let Z=Promise.resolve(null);if(Y){const te=Y.get(this.pageIndex);te&&(Z=t.AnnotationFactory.printNewAnnotations(V,ee,te))}const M=Promise.all([ne,P]).then(([te])=>{const W=new p.OperatorList(J,U);return k.send("StartRenderPage",{transparency:V.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:I}),V.getOperatorList({stream:te,task:ee,resources:this.resources,operatorList:W}).then(function(){return W})});return Promise.all([M,this._parsedAnnotations,Z]).then(function([te,W,ae]){if(ae&&(W=W.concat(ae)),W.length===0||J&m.RenderingIntentFlag.ANNOTATIONS_DISABLE)return te.flush(!0),{length:te.totalLength};const fe=!!(J&m.RenderingIntentFlag.ANNOTATIONS_FORMS),de=!!(J&m.RenderingIntentFlag.ANY),ue=!!(J&m.RenderingIntentFlag.DISPLAY),he=!!(J&m.RenderingIntentFlag.PRINT),me=[];for(const xe of W)(de||ue&&xe.mustBeViewed(X)||he&&xe.mustBePrinted(X))&&me.push(xe.getOperatorList(V,ee,J,fe,X).catch(function(we){return(0,m.warn)(`getOperatorList - ignoring annotation data during "${ee.name}" task: "${we}".`),null}));return Promise.all(me).then(function(xe){let we=!1,Ce=!1;for(const{opList:Fe,separateForm:Oe,separateCanvas:Ie}of xe)te.addOpList(Fe),Oe&&(we=Oe),Ie&&(Ce=Ie);return te.flush(!0,{form:we,canvas:Ce}),{length:te.totalLength}})})}extractTextContent({handler:k,task:U,includeMarkedContent:ee,sink:J,combineTextItems:I}){const X=this.getContentStream(k),ne=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([X,ne]).then(([V])=>new s.PartialEvaluator({xref:this.xref,handler:k,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:V,task:U,resources:this.resources,includeMarkedContent:ee,combineTextItems:I,sink:J,viewBox:this.view}))}async getStructTree(){const k=await this.pdfManager.ensureCatalog("structTreeRoot");return k?(await this.pdfManager.ensure(this,"_parseStructTree",[k])).serializable:null}_parseStructTree(k){const U=new l.StructTreePage(k,this.pageDict);return U.parse(),U}async getAnnotationsData(k,U,ee){const J=await this._parsedAnnotations;if(J.length===0)return[];const I=[],X=[];let ne;const P=!!(ee&m.RenderingIntentFlag.ANY),V=!!(ee&m.RenderingIntentFlag.DISPLAY),Y=!!(ee&m.RenderingIntentFlag.PRINT);for(const Z of J){const q=P||V&&Z.viewable;(q||Y&&Z.printable)&&X.push(Z.data),Z.hasTextContent&&q&&(ne||(ne=new s.PartialEvaluator({xref:this.xref,handler:k,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions})),I.push(Z.extractTextContent(ne,U,this.view).catch(function(M){(0,m.warn)(`getAnnotationsData - ignoring textContent during "${U.name}" task: "${M}".`)})))}return await Promise.all(I),X}get annotations(){const k=this._getInheritableProperty("Annots");return(0,m.shadow)(this,"annotations",Array.isArray(k)?k:[])}get _parsedAnnotations(){const k=this.pdfManager.ensure(this,"annotations").then(()=>{const U=[];for(const ee of this.annotations)U.push(t.AnnotationFactory.create(this.xref,ee,this.pdfManager,this._localIdFactory,!1).catch(function(J){return(0,m.warn)(`_parsedAnnotations: "${J}".`),null}));return Promise.all(U).then(function(ee){if(ee.length===0)return ee;const J=[];let I;for(const X of ee)if(X){if(X instanceof t.PopupAnnotation){I||(I=[]),I.push(X);continue}J.push(X)}return I&&J.push(...I),J})});return(0,m.shadow)(this,"_parsedAnnotations",k)}get jsActions(){const k=(0,ie.collectActions)(this.xref,this.pageDict,m.PageActionEventType);return(0,m.shadow)(this,"jsActions",k)}}A.Page=O;const w=new Uint8Array([37,80,68,70,45]),R=new Uint8Array([115,116,97,114,116,120,114,101,102]),o=new Uint8Array([101,110,100,111,98,106]),h=1024,H="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0",L=/^[1-9]\.\d$/;function x(F,k,U=1024,ee=!1){const J=k.length,I=F.peekBytes(U),X=I.length-J;if(X<=0)return!1;if(ee){const ne=J-1;let P=I.length-1;for(;P>=ne;){let V=0;for(;V<J&&I[P-V]===k[ne-V];)V++;if(V>=J)return F.pos+=P-ne,!0;P--}}else{let ne=0;for(;ne<=X;){let P=0;for(;P<J&&I[ne+P]===k[P];)P++;if(P>=J)return F.pos+=ne,!0;ne++}}return!1}class v{constructor(k,U){if(U.length<=0)throw new m.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=k,this.stream=U,this.xref=new K.XRef(U,k),this._pagePromises=new Map,this._version=null;const ee={font:0};this._globalIdFactory=class{static getDocId(){return`g_${k.docId}`}static createFontId(){return`f${++ee.font}`}static createObjId(){(0,m.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,m.unreachable)("Abstract method `getPageObjId` called.")}}}parse(k){this.xref.parse(k),this.catalog=new T.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let k=null;try{k=y.Linearization.create(this.stream)}catch(U){if(U instanceof ie.MissingDataException)throw U;(0,m.info)(U)}return(0,m.shadow)(this,"linearization",k)}get startXRef(){const k=this.stream;let U=0;if(this.linearization)k.reset(),x(k,o)&&(U=k.pos+6-k.start);else{const J=R.length;let I=!1,X=k.end;for(;!I&&X>0;)X-=1024-J,X<0&&(X=0),k.pos=X,I=x(k,R,1024,!0);if(I){k.skip(9);let ne;do ne=k.getByte();while((0,ie.isWhiteSpace)(ne));let P="";for(;ne>=32&&ne<=57;)P+=String.fromCharCode(ne),ne=k.getByte();U=parseInt(P,10),isNaN(U)&&(U=0)}}return(0,m.shadow)(this,"startXRef",U)}checkHeader(){const k=this.stream;if(k.reset(),!x(k,w))return;k.moveStart();const U=12;let ee="",J;for(;(J=k.getByte())>32&&!(ee.length>=U);)ee+=String.fromCharCode(J);this._version||(this._version=ee.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let k=0;return this.catalog.hasActualNumPages?k=this.catalog.numPages:this.xfaFactory?k=this.xfaFactory.getNumPages():this.linearization?k=this.linearization.numPages:k=this.catalog.numPages,(0,m.shadow)(this,"numPages",k)}_hasOnlyDocumentSignatures(k,U=0){return Array.isArray(k)?k.every(J=>{if(J=this.xref.fetchIfRef(J),!(J instanceof z.Dict))return!1;if(J.has("Kids"))return++U>10?((0,m.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(J.get("Kids"),U);const I=(0,z.isName)(J.get("FT"),"Sig"),X=J.get("Rect"),ne=Array.isArray(X)&&X.every(P=>P===0);return I&&ne}):!1}get _xfaStreams(){const k=this.catalog.acroForm;if(!k)return null;const U=k.get("XFA"),ee={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(U instanceof j.BaseStream&&!U.isEmpty)return ee["xdp:xdp"]=U,ee;if(!Array.isArray(U)||U.length===0)return null;for(let J=0,I=U.length;J<I;J+=2){let X;if(J===0?X="xdp:xdp":J===I-2?X="/xdp:xdp":X=U[J],!ee.hasOwnProperty(X))continue;const ne=this.xref.fetchIfRef(U[J+1]);!(ne instanceof j.BaseStream)||ne.isEmpty||(ee[X]=ne)}return ee}get xfaDatasets(){const k=this._xfaStreams;if(!k)return(0,m.shadow)(this,"xfaDatasets",null);for(const U of["datasets","xdp:xdp"]){const ee=k[U];if(ee)try{const J=(0,m.stringToUTF8String)(ee.getString()),I={[U]:J};return(0,m.shadow)(this,"xfaDatasets",new _.DatasetReader(I))}catch{(0,m.warn)("XFA - Invalid utf-8 string.");break}}return(0,m.shadow)(this,"xfaDatasets",null)}get xfaData(){const k=this._xfaStreams;if(!k)return null;const U=Object.create(null);for(const[ee,J]of Object.entries(k))if(J)try{U[ee]=(0,m.stringToUTF8String)(J.getString())}catch{return(0,m.warn)("XFA - Invalid utf-8 string."),null}return U}get xfaFactory(){let k;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(k=this.xfaData),(0,m.shadow)(this,"xfaFactory",k?new d.XFAFactory(k):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const k=await this.pdfManager.ensureCatalog("xfaImages");if(!k)return;const U=k.getKeys();await new u.ObjectLoader(k,U,this.xref).load();const J=new Map;for(const I of U){const X=k.get(I);X instanceof j.BaseStream&&J.set(I,X.getBytes())}this.xfaFactory.setImages(J)}async loadXfaFonts(k,U){const ee=await this.pdfManager.ensureCatalog("acroForm");if(!ee)return;const J=await ee.getAsync("DR");if(!(J instanceof z.Dict))return;await new u.ObjectLoader(J,["Font"],this.xref).load();const X=J.get("Font");if(!(X instanceof z.Dict))return;const ne=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);ne.useSystemFonts=!1;const P=new s.PartialEvaluator({xref:this.xref,handler:k,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:ne}),V=new p.OperatorList,Y=[],Z={get font(){return Y.at(-1)},set font(ae){Y.push(ae)},clone(){return this}},q=new Map;X.forEach((ae,fe)=>{q.set(ae,fe)});const M=[];for(const[ae,fe]of q){const de=fe.get("FontDescriptor");if(!(de instanceof z.Dict))continue;let ue=de.get("FontFamily");ue=ue.replace(/[ ]+(\d)/g,"$1");const he=de.get("FontWeight"),me=-de.get("ItalicAngle"),xe={fontFamily:ue,fontWeight:he,italicAngle:me};(0,ie.validateCSSFont)(xe)&&M.push(P.handleSetFont(J,[z.Name.get(ae),1],null,V,U,Z,null,xe).catch(function(we){return(0,m.warn)(`loadXfaFonts: "${we}".`),null}))}await Promise.all(M);const te=this.xfaFactory.setFonts(Y);if(!te)return;ne.ignoreErrors=!0,M.length=0,Y.length=0;const W=new Set;for(const ae of te)(0,e.getXfaFontName)(`${ae}-Regular`)||W.add(ae);W.size&&te.push("PdfJS-Fallback");for(const ae of te)if(!W.has(ae))for(const fe of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const de=`${ae}-${fe.name}`,ue=(0,e.getXfaFontDict)(de);M.push(P.handleSetFont(J,[z.Name.get(de),1],null,V,U,Z,ue,{fontFamily:ae,fontWeight:fe.fontWeight,italicAngle:fe.italicAngle}).catch(function(he){return(0,m.warn)(`loadXfaFonts: "${he}".`),null}))}await Promise.all(M),this.xfaFactory.appendFonts(Y,W)}async serializeXfaData(k){return this.xfaFactory?this.xfaFactory.serializeData(k):null}get formInfo(){const k={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},U=this.catalog.acroForm;if(!U)return(0,m.shadow)(this,"formInfo",k);try{const ee=U.get("Fields"),J=Array.isArray(ee)&&ee.length>0;k.hasFields=J;const I=U.get("XFA");k.hasXfa=Array.isArray(I)&&I.length>0||I instanceof j.BaseStream&&!I.isEmpty;const ne=!!(U.get("SigFlags")&1),P=ne&&this._hasOnlyDocumentSignatures(ee);k.hasAcroForm=J&&!P,k.hasSignatures=ne}catch(ee){if(ee instanceof ie.MissingDataException)throw ee;(0,m.warn)(`Cannot fetch form information: "${ee}".`)}return(0,m.shadow)(this,"formInfo",k)}get documentInfo(){let k=this._version;(typeof k!="string"||!L.test(k))&&((0,m.warn)(`Invalid PDF header version number: ${k}`),k=null);const U={PDFFormatVersion:k,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let ee;try{ee=this.xref.trailer.get("Info")}catch(J){if(J instanceof ie.MissingDataException)throw J;(0,m.info)("The document information dictionary is invalid.")}if(!(ee instanceof z.Dict))return(0,m.shadow)(this,"documentInfo",U);for(const J of ee.getKeys()){const I=ee.get(J);switch(J){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof I=="string"){U[J]=(0,m.stringToPDFString)(I);continue}break;case"Trapped":if(I instanceof z.Name){U[J]=I;continue}break;default:let X;switch(typeof I){case"string":X=(0,m.stringToPDFString)(I);break;case"number":case"boolean":X=I;break;default:I instanceof z.Name&&(X=I);break}if(X===void 0){(0,m.warn)(`Bad value, for custom key "${J}", in Info: ${I}.`);continue}U.Custom||(U.Custom=Object.create(null)),U.Custom[J]=X;continue}(0,m.warn)(`Bad value, for key "${J}", in Info: ${I}.`)}return(0,m.shadow)(this,"documentInfo",U)}get fingerprints(){function k(X){return typeof X=="string"&&X.length>0&&X!==H}function U(X){const ne=[];for(let P=0,V=X.length;P<V;P++){const Y=X[P].toString(16);ne.push(Y.padStart(2,"0"))}return ne.join("")}const ee=this.xref.trailer.get("ID");let J,I;return Array.isArray(ee)&&k(ee[0])?(J=(0,m.stringToBytes)(ee[0]),ee[1]!==ee[0]&&k(ee[1])&&(I=(0,m.stringToBytes)(ee[1]))):J=(0,f.calculateMD5)(this.stream.getByteRange(0,h),0,h),(0,m.shadow)(this,"fingerprints",[U(J),I?U(I):null])}async _getLinearizationPage(k){const{catalog:U,linearization:ee,xref:J}=this,I=z.Ref.get(ee.objectNumberFirst,0);try{const X=await J.fetchAsync(I);if(X instanceof z.Dict){let ne=X.getRaw("Type");if(ne instanceof z.Ref&&(ne=await J.fetchAsync(ne)),(0,z.isName)(ne,"Page")||!X.has("Type")&&!X.has("Kids"))return U.pageKidsCountCache.has(I)||U.pageKidsCountCache.put(I,1),U.pageIndexCache.has(I)||U.pageIndexCache.put(I,0),[X,I]}throw new m.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(X){return(0,m.warn)(`_getLinearizationPage: "${X.message}".`),U.getPageDict(k)}}getPage(k){const U=this._pagePromises.get(k);if(U)return U;const{catalog:ee,linearization:J,xfaFactory:I}=this;let X;return I?X=Promise.resolve([z.Dict.empty,null]):J&&J.pageFirst===k?X=this._getLinearizationPage(k):X=ee.getPageDict(k),X=X.then(([ne,P])=>new O({pdfManager:this.pdfManager,xref:this.xref,pageIndex:k,pageDict:ne,ref:P,globalIdFactory:this._globalIdFactory,fontCache:ee.fontCache,builtInCMapCache:ee.builtInCMapCache,standardFontDataCache:ee.standardFontDataCache,globalImageCache:ee.globalImageCache,nonBlendModesSet:ee.nonBlendModesSet,xfaFactory:I})),this._pagePromises.set(k,X),X}async checkFirstPage(k=!1){if(!k)try{await this.getPage(0)}catch(U){if(U instanceof ie.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new ie.XRefParseException}}async checkLastPage(k=!1){const{catalog:U,pdfManager:ee}=this;U.setActualNumPages();let J;try{if(await Promise.all([ee.ensureDoc("xfaFactory"),ee.ensureDoc("linearization"),ee.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?J=this.linearization.numPages:J=U.numPages,Number.isInteger(J)){if(J<=1)return}else throw new m.FormatError("Page count is not an integer.");await this.getPage(J-1)}catch(I){if(this._pagePromises.delete(J-1),await this.cleanup(),I instanceof ie.XRefEntryException&&!k)throw new ie.XRefParseException;(0,m.warn)(`checkLastPage - invalid /Pages tree /Count: ${J}.`);let X;try{X=await U.getAllPageDicts(k)}catch(ne){if(ne instanceof ie.XRefEntryException&&!k)throw new ie.XRefParseException;U.setActualNumPages(1);return}for(const[ne,[P,V]]of X){let Y;P instanceof Error?(Y=Promise.reject(P),Y.catch(()=>{})):Y=Promise.resolve(new O({pdfManager:ee,xref:this.xref,pageIndex:ne,pageDict:P,ref:V,globalIdFactory:this._globalIdFactory,fontCache:U.fontCache,builtInCMapCache:U.builtInCMapCache,standardFontDataCache:U.standardFontDataCache,globalImageCache:U.globalImageCache,nonBlendModesSet:U.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(ne,Y)}U.setActualNumPages(X.size)}}fontFallback(k,U){return this.catalog.fontFallback(k,U)}async cleanup(k=!1){return this.catalog?this.catalog.cleanup(k):(0,E.clearGlobalCaches)()}_collectFieldObjects(k,U,ee){const J=this.xref.fetchIfRef(U);if(J.has("T")){const I=(0,m.stringToPDFString)(J.get("T"));k===""?k=I:k=`${k}.${I}`}if(ee.has(k)||ee.set(k,[]),ee.get(k).push(t.AnnotationFactory.create(this.xref,U,this.pdfManager,this._localIdFactory,!0).then(I=>I&&I.getFieldObject()).catch(function(I){return(0,m.warn)(`_collectFieldObjects: "${I}".`),null})),J.has("Kids")){const I=J.get("Kids");for(const X of I)this._collectFieldObjects(k,X,ee)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,m.shadow)(this,"fieldObjects",Promise.resolve(null));const k=Object.create(null),U=new Map;for(const J of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",J,U);const ee=[];for(const[J,I]of U)ee.push(Promise.all(I).then(X=>{X=X.filter(ne=>!!ne),X.length>0&&(k[J]=X)}));return(0,m.shadow)(this,"fieldObjects",Promise.all(ee).then(()=>k))}get hasJSActions(){const k=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,m.shadow)(this,"hasJSActions",k)}async _parseHasJSActions(){const[k,U]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return k?!0:U?Object.values(U).some(ee=>ee.some(J=>J.actions!==null)):!1}get calculationOrderIds(){const k=this.catalog.acroForm;if(!k||!k.has("CO"))return(0,m.shadow)(this,"calculationOrderIds",null);const U=k.get("CO");if(!Array.isArray(U)||U.length===0)return(0,m.shadow)(this,"calculationOrderIds",null);const ee=[];for(const J of U)J instanceof z.Ref&&ee.push(J.toString());return ee.length===0?(0,m.shadow)(this,"calculationOrderIds",null):(0,m.shadow)(this,"calculationOrderIds",ee)}}A.PDFDocument=v},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PopupAnnotation=A.MarkupAnnotation=A.AnnotationFactory=A.AnnotationBorderStyle=A.Annotation=void 0,A.getQuadPoints=l;var t=se(2),m=se(6),ie=se(13),z=se(5),e=se(65),j=se(7),f=se(60),T=se(69),E=se(14),_=se(72),y=se(75),n=se(62),u=se(10),p=se(76);class s{static create(M,te,W,ae,fe){return Promise.all([W.ensureCatalog("acroForm"),W.ensureCatalog("baseUrl"),W.ensureDoc("xfaDatasets"),fe?this._getPageIndex(M,te,W):-1]).then(([de,ue,he,me])=>W.ensure(this,"_create",[M,te,W,ae,de,he,fe,me]))}static _create(M,te,W,ae,fe,de,ue,he=-1){const me=M.fetchIfRef(te);if(!(me instanceof z.Dict))return;const xe=te instanceof z.Ref?te.toString():`annot_${ae.createObjId()}`;let we=me.get("Subtype");we=we instanceof z.Name?we.name:null;const Ce={xref:M,ref:te,dict:me,subtype:we,id:xe,pdfManager:W,acroForm:fe instanceof z.Dict?fe:z.Dict.empty,xfaDatasets:de,collectFields:ue,pageIndex:he};switch(we){case"Link":return new H(Ce);case"Text":return new h(Ce);case"Widget":let Fe=(0,m.getInheritableProperty)({dict:me,key:"FT"});switch(Fe=Fe instanceof z.Name?Fe.name:null,Fe){case"Tx":return new O(Ce);case"Btn":return new w(Ce);case"Ch":return new R(Ce);case"Sig":return new o(Ce)}return(0,t.warn)(`Unimplemented widget field type "${Fe}", falling back to base field type.`),new G(Ce);case"Popup":return new L(Ce);case"FreeText":return new x(Ce);case"Line":return new v(Ce);case"Square":return new F(Ce);case"Circle":return new k(Ce);case"PolyLine":return new U(Ce);case"Polygon":return new ee(Ce);case"Caret":return new J(Ce);case"Ink":return new I(Ce);case"Highlight":return new X(Ce);case"Underline":return new ne(Ce);case"Squiggly":return new P(Ce);case"StrikeOut":return new V(Ce);case"Stamp":return new Y(Ce);case"FileAttachment":return new Z(Ce);default:return ue||(we?(0,t.warn)(`Unimplemented annotation type "${we}", falling back to base annotation.`):(0,t.warn)("Annotation is missing the required /Subtype.")),new d(Ce)}}static async _getPageIndex(M,te,W){try{const ae=await M.fetchIfRefAsync(te);if(!(ae instanceof z.Dict))return-1;const fe=ae.getRaw("P");return fe instanceof z.Ref?await W.ensureCatalog("getPageIndex",[fe]):-1}catch(ae){return(0,t.warn)(`_getPageIndex: "${ae}".`),-1}}static async saveNewAnnotations(M,te,W){const ae=M.xref;let fe;const de=[],ue=[];for(const he of W)switch(he.annotationType){case t.AnnotationEditorType.FREETEXT:if(!fe){const me=new z.Dict(ae);me.set("BaseFont",z.Name.get("Helvetica")),me.set("Type",z.Name.get("Font")),me.set("Subtype",z.Name.get("Type1")),me.set("Encoding",z.Name.get("WinAnsiEncoding"));const xe=[];fe=ae.getNewRef(),(0,e.writeObject)(fe,me,xe,null),de.push({ref:fe,data:xe.join("")})}ue.push(x.createNewAnnotation(ae,he,de,{evaluator:M,task:te,baseFontRef:fe}));break;case t.AnnotationEditorType.INK:ue.push(I.createNewAnnotation(ae,he,de))}return{annotations:await Promise.all(ue),dependencies:de}}static async printNewAnnotations(M,te,W){if(!W)return null;const ae=M.xref,fe=[];for(const de of W)switch(de.annotationType){case t.AnnotationEditorType.FREETEXT:fe.push(x.createNewPrintAnnotation(ae,de,{evaluator:M,task:te}));break;case t.AnnotationEditorType.INK:fe.push(I.createNewPrintAnnotation(ae,de));break}return Promise.all(fe)}}A.AnnotationFactory=s;function r(q,M=new Uint8ClampedArray(3)){if(!Array.isArray(q))return M;const te=M||new Uint8ClampedArray(3);switch(q.length){case 0:return null;case 1:return E.ColorSpace.singletons.gray.getRgbItem(q,0,te,0),te;case 3:return E.ColorSpace.singletons.rgb.getRgbItem(q,0,te,0),te;case 4:return E.ColorSpace.singletons.cmyk.getRgbItem(q,0,te,0),te;default:return M}}function l(q,M){if(!q.has("QuadPoints"))return null;const te=q.getArray("QuadPoints");if(!Array.isArray(te)||te.length===0||te.length%8>0)return null;const W=[];for(let ae=0,fe=te.length/8;ae<fe;ae++){W.push([]);for(let de=ae*8,ue=ae*8+8;de<ue;de+=2){const he=te[de],me=te[de+1];if(M!==null&&(he<M[0]||he>M[2]||me<M[1]||me>M[3]))return null;W[ae].push({x:he,y:me})}}return W.map(ae=>{const[fe,de,ue,he]=ae.reduce(([me,xe,we,Ce],Fe)=>[Math.min(me,Fe.x),Math.max(xe,Fe.x),Math.min(we,Fe.y),Math.max(Ce,Fe.y)],[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:fe,y:he},{x:de,y:he},{x:fe,y:ue},{x:de,y:ue}]})}function c(q,M,te){const[W,ae,fe,de]=t.Util.getAxialAlignedBoundingBox(M,te);if(W===fe||ae===de)return[1,0,0,1,q[0],q[1]];const ue=(q[2]-q[0])/(fe-W),he=(q[3]-q[1])/(de-ae);return[ue,0,0,he,q[0]-W*ue,q[1]-ae*he]}class d{constructor(M){const te=M.dict;this.setTitle(te.get("T")),this.setContents(te.get("Contents")),this.setModificationDate(te.get("M")),this.setFlags(te.get("F")),this.setRectangle(te.getArray("Rect")),this.setColor(te.getArray("C")),this.setBorderStyle(te),this.setAppearance(te),this.setOptionalContent(te);const W=te.get("MK");if(this.setBorderAndBackgroundColors(W),this.setRotation(W),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:M.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:M.subtype,hasOwnCanvas:!1},M.collectFields){const ae=te.get("Kids");if(Array.isArray(ae)){const fe=[];for(const de of ae)de instanceof z.Ref&&fe.push(de.toString());fe.length!==0&&(this.data.kidIds=fe)}this.data.actions=(0,m.collectActions)(M.xref,te,t.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(te),this.data.pageIndex=M.pageIndex}this._fallbackFontDict=null}_hasFlag(M,te){return!!(M&te)}_isViewable(M){return!this._hasFlag(M,t.AnnotationFlag.INVISIBLE)&&!this._hasFlag(M,t.AnnotationFlag.NOVIEW)}_isPrintable(M){return this._hasFlag(M,t.AnnotationFlag.PRINT)&&!this._hasFlag(M,t.AnnotationFlag.INVISIBLE)}mustBeViewed(M){const te=M&&M.get(this.data.id);return te&&te.hidden!==void 0?!te.hidden:this.viewable&&!this._hasFlag(this.flags,t.AnnotationFlag.HIDDEN)}mustBePrinted(M){const te=M&&M.get(this.data.id);return te&&te.print!==void 0?te.print:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(M){const te=typeof M=="string"?(0,t.stringToPDFString)(M):"",W=te&&(0,f.bidi)(te).dir==="rtl"?"rtl":"ltr";return{str:te,dir:W}}setTitle(M){this._title=this._parseStringHelper(M)}setContents(M){this._contents=this._parseStringHelper(M)}setModificationDate(M){this.modificationDate=typeof M=="string"?M:null}setFlags(M){this.flags=Number.isInteger(M)&&M>0?M:0}hasFlag(M){return this._hasFlag(this.flags,M)}setRectangle(M){Array.isArray(M)&&M.length===4?this.rectangle=t.Util.normalizeRect(M):this.rectangle=[0,0,0,0]}setColor(M){this.color=r(M)}setLineEndings(M){if(this.lineEndings=["None","None"],Array.isArray(M)&&M.length===2)for(let te=0;te<2;te++){const W=M[te];if(W instanceof z.Name)switch(W.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[te]=W.name;continue}(0,t.warn)(`Ignoring invalid lineEnding: ${W}`)}}setRotation(M){if(this.rotation=0,M instanceof z.Dict){let te=M.get("R")||0;Number.isInteger(te)&&te!==0&&(te%=360,te<0&&(te+=360),te%90===0&&(this.rotation=te))}}setBorderAndBackgroundColors(M){M instanceof z.Dict?(this.borderColor=r(M.getArray("BC"),null),this.backgroundColor=r(M.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(M){if(this.borderStyle=new K,M instanceof z.Dict)if(M.has("BS")){const te=M.get("BS"),W=te.get("Type");(!W||(0,z.isName)(W,"Border"))&&(this.borderStyle.setWidth(te.get("W"),this.rectangle),this.borderStyle.setStyle(te.get("S")),this.borderStyle.setDashArray(te.getArray("D")))}else if(M.has("Border")){const te=M.getArray("Border");Array.isArray(te)&&te.length>=3&&(this.borderStyle.setHorizontalCornerRadius(te[0]),this.borderStyle.setVerticalCornerRadius(te[1]),this.borderStyle.setWidth(te[2],this.rectangle),te.length===4&&this.borderStyle.setDashArray(te[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(M){this.appearance=null;const te=M.get("AP");if(!(te instanceof z.Dict))return;const W=te.get("N");if(W instanceof j.BaseStream){this.appearance=W;return}if(!(W instanceof z.Dict))return;const ae=M.get("AS");!(ae instanceof z.Name)||!W.has(ae.name)||(this.appearance=W.get(ae.name))}setOptionalContent(M){this.oc=null;const te=M.get("OC");te instanceof z.Name?(0,t.warn)("setOptionalContent: Support for /Name-entry is not implemented."):te instanceof z.Dict&&(this.oc=te)}loadResources(M,te){return te.dict.getAsync("Resources").then(W=>W?new y.ObjectLoader(W,M,W.xref).load().then(function(){return W}):void 0)}async getOperatorList(M,te,W,ae,fe){const de=this.data;let ue=this.appearance;const he=!!(this.data.hasOwnCanvas&&W&t.RenderingIntentFlag.DISPLAY);if(!ue){if(!he)return{opList:new n.OperatorList,separateForm:!1,separateCanvas:!1};ue=new u.StringStream(""),ue.dict=new z.Dict}const me=ue.dict,xe=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],ue),we=me.getArray("BBox")||[0,0,1,1],Ce=me.getArray("Matrix")||[1,0,0,1,0,0],Fe=c(de.rect,we,Ce),Oe=new n.OperatorList;let Ie;return this.oc&&(Ie=await M.parseMarkedContentProps(this.oc,null)),Ie!==void 0&&Oe.addOp(t.OPS.beginMarkedContentProps,["OC",Ie]),Oe.addOp(t.OPS.beginAnnotation,[de.id,de.rect,Fe,Ce,he]),await M.getOperatorList({stream:ue,task:te,resources:xe,operatorList:Oe,fallbackFontDict:this._fallbackFontDict}),Oe.addOp(t.OPS.endAnnotation,[]),Ie!==void 0&&Oe.addOp(t.OPS.endMarkedContent,[]),this.reset(),{opList:Oe,separateForm:!1,separateCanvas:he}}async save(M,te,W){return null}get hasTextContent(){return!1}async extractTextContent(M,te,W){if(!this.appearance)return;const ae=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),fe=[],de=[],ue={desiredSize:Math.Infinity,ready:!0,enqueue(he,me){for(const xe of he.items)de.push(xe.str),xe.hasEOL&&(fe.push(de.join("")),de.length=0)}};await M.getTextContent({stream:this.appearance,task:te,resources:ae,includeMarkedContent:!0,combineTextItems:!0,sink:ue,viewBox:W}),this.reset(),de.length&&fe.push(de.join("")),fe.length>0&&(this.data.textContent=fe)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const M of this._streams)M.reset()}_constructFieldName(M){if(!M.has("T")&&!M.has("Parent"))return(0,t.warn)("Unknown field name, falling back to empty field name."),"";if(!M.has("Parent"))return(0,t.stringToPDFString)(M.get("T"));const te=[];M.has("T")&&te.unshift((0,t.stringToPDFString)(M.get("T")));let W=M;const ae=new z.RefSet;for(M.objId&&ae.put(M.objId);W.has("Parent")&&(W=W.get("Parent"),!(!(W instanceof z.Dict)||W.objId&&ae.has(W.objId)));)W.objId&&ae.put(W.objId),W.has("T")&&te.unshift((0,t.stringToPDFString)(W.get("T")));return te.join(".")}}A.Annotation=d;class K{constructor(){this.width=1,this.style=t.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(M,te=[0,0,0,0]){if(M instanceof z.Name){this.width=0;return}if(typeof M=="number"){if(M>0){const W=(te[2]-te[0])/2,ae=(te[3]-te[1])/2;W>0&&ae>0&&(M>W||M>ae)&&((0,t.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${M}`),M=1)}this.width=M}}setStyle(M){if(M instanceof z.Name)switch(M.name){case"S":this.style=t.AnnotationBorderStyleType.SOLID;break;case"D":this.style=t.AnnotationBorderStyleType.DASHED;break;case"B":this.style=t.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=t.AnnotationBorderStyleType.INSET;break;case"U":this.style=t.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(M,te=!1){if(Array.isArray(M)&&M.length>0){let W=!0,ae=!0;for(const fe of M)if(+fe>=0)fe>0&&(ae=!1);else{W=!1;break}W&&!ae?(this.dashArray=M,te&&this.setStyle(z.Name.get("D"))):this.width=0}else M&&(this.width=0)}setHorizontalCornerRadius(M){Number.isInteger(M)&&(this.horizontalCornerRadius=M)}setVerticalCornerRadius(M){Number.isInteger(M)&&(this.verticalCornerRadius=M)}}A.AnnotationBorderStyle=K;class g extends d{constructor(M){super(M);const te=M.dict;if(te.has("IRT")){const W=te.getRaw("IRT");this.data.inReplyTo=W instanceof z.Ref?W.toString():null;const ae=te.get("RT");this.data.replyType=ae instanceof z.Name?ae.name:t.AnnotationReplyType.REPLY}if(this.data.replyType===t.AnnotationReplyType.GROUP){const W=te.get("IRT");this.setTitle(W.get("T")),this.data.titleObj=this._title,this.setContents(W.get("Contents")),this.data.contentsObj=this._contents,W.has("CreationDate")?(this.setCreationDate(W.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,W.has("M")?(this.setModificationDate(W.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=W.has("Popup"),W.has("C")?(this.setColor(W.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(te.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=te.has("Popup"),te.has("C")||(this.data.color=null);te.has("RC")&&(this.data.richText=p.XFAFactory.getRichTextAsHtml(te.get("RC")))}setCreationDate(M){this.creationDate=typeof M=="string"?M:null}_setDefaultAppearance({xref:M,extra:te,strokeColor:W,fillColor:ae,blendMode:fe,strokeAlpha:de,fillAlpha:ue,pointsCallback:he}){let me=Number.MAX_VALUE,xe=Number.MAX_VALUE,we=Number.MIN_VALUE,Ce=Number.MIN_VALUE;const Fe=["q"];te&&Fe.push(te),W&&Fe.push(`${W[0]} ${W[1]} ${W[2]} RG`),ae&&Fe.push(`${ae[0]} ${ae[1]} ${ae[2]} rg`);let Oe=this.data.quadPoints;Oe||(Oe=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Te of Oe){const[Ee,ze,tt,ft]=he(Fe,Te);me=Math.min(me,Ee),we=Math.max(we,ze),xe=Math.min(xe,tt),Ce=Math.max(Ce,ft)}Fe.push("Q");const Ie=new z.Dict(M),Me=new z.Dict(M);Me.set("Subtype",z.Name.get("Form"));const Le=new u.StringStream(Fe.join(" "));Le.dict=Me,Ie.set("Fm0",Le);const qe=new z.Dict(M);fe&&qe.set("BM",z.Name.get(fe)),typeof de=="number"&&qe.set("CA",de),typeof ue=="number"&&qe.set("ca",ue);const Xe=new z.Dict(M);Xe.set("GS0",qe);const Ue=new z.Dict(M);Ue.set("ExtGState",Xe),Ue.set("XObject",Ie);const $e=new z.Dict(M);$e.set("Resources",Ue);const De=this.data.rect=[me,xe,we,Ce];$e.set("BBox",De),this.appearance=new u.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=$e,this._streams.push(this.appearance,Le)}static async createNewAnnotation(M,te,W,ae){const fe=M.getNewRef(),de=M.getNewRef(),ue=this.createNewDict(te,M,{apRef:de}),he=await this.createNewAppearanceStream(te,M,ae),me=[];let xe=M.encrypt?M.encrypt.createCipherTransform(de.num,de.gen):null;return(0,e.writeObject)(de,he,me,xe),W.push({ref:de,data:me.join("")}),me.length=0,xe=M.encrypt?M.encrypt.createCipherTransform(fe.num,fe.gen):null,(0,e.writeObject)(fe,ue,me,xe),{ref:fe,data:me.join("")}}static async createNewPrintAnnotation(M,te,W){const ae=await this.createNewAppearanceStream(te,M,W),fe=this.createNewDict(te,M,{ap:ae});return new this.prototype.constructor({dict:fe,xref:M})}}A.MarkupAnnotation=g;class G extends d{constructor(M){super(M);const te=M.dict,W=this.data;this.ref=M.ref,W.annotationType=t.AnnotationType.WIDGET,W.fieldName===void 0&&(W.fieldName=this._constructFieldName(te)),W.actions===void 0&&(W.actions=(0,m.collectActions)(M.xref,te,t.AnnotationActionEventType));let ae=(0,m.getInheritableProperty)({dict:te,key:"V",getArray:!0});W.fieldValue=this._decodeFormValue(ae);const fe=(0,m.getInheritableProperty)({dict:te,key:"DV",getArray:!0});if(W.defaultFieldValue=this._decodeFormValue(fe),ae===void 0&&M.xfaDatasets){const we=this._title.str;we&&(this._hasValueFromXFA=!0,W.fieldValue=ae=M.xfaDatasets.getValue(we))}ae===void 0&&W.defaultFieldValue!==null&&(W.fieldValue=W.defaultFieldValue),W.alternativeText=(0,t.stringToPDFString)(te.get("TU")||"");const de=(0,m.getInheritableProperty)({dict:te,key:"DA"})||M.acroForm.get("DA");this._defaultAppearance=typeof de=="string"?de:"",W.defaultAppearanceData=(0,ie.parseDefaultAppearance)(this._defaultAppearance);const ue=(0,m.getInheritableProperty)({dict:te,key:"FT"});W.fieldType=ue instanceof z.Name?ue.name:null;const he=(0,m.getInheritableProperty)({dict:te,key:"DR"}),me=M.acroForm.get("DR"),xe=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:he,acroFormResources:me,appearanceResources:xe,mergedResources:z.Dict.merge({xref:M.xref,dictArray:[he,xe,me],mergeSubDicts:!0})},W.fieldFlags=(0,m.getInheritableProperty)({dict:te,key:"Ff"}),(!Number.isInteger(W.fieldFlags)||W.fieldFlags<0)&&(W.fieldFlags=0),W.readOnly=this.hasFieldFlag(t.AnnotationFieldFlag.READONLY),W.required=this.hasFieldFlag(t.AnnotationFieldFlag.REQUIRED),W.hidden=this._hasFlag(W.annotationFlags,t.AnnotationFlag.HIDDEN)}_decodeFormValue(M){return Array.isArray(M)?M.filter(te=>typeof te=="string").map(te=>(0,t.stringToPDFString)(te)):M instanceof z.Name?(0,t.stringToPDFString)(M.name):typeof M=="string"?(0,t.stringToPDFString)(M):null}hasFieldFlag(M){return!!(this.data.fieldFlags&M)}static _getRotationMatrix(M,te,W){switch(M){case 90:return[0,1,-1,0,te,0];case 180:return[-1,0,0,-1,te,W];case 270:return[0,-1,1,0,0,W];default:throw new Error("Invalid rotation")}}getRotationMatrix(M){const te=M?M.get(this.data.id):void 0;let W=te&&te.rotation;if(W===void 0&&(W=this.rotation),W===0)return t.IDENTITY_MATRIX;const ae=this.data.rect[2]-this.data.rect[0],fe=this.data.rect[3]-this.data.rect[1];return G._getRotationMatrix(W,ae,fe)}getBorderAndBackgroundAppearances(M){const te=M?M.get(this.data.id):void 0;let W=te&&te.rotation;if(W===void 0&&(W=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const ae=this.data.rect[2]-this.data.rect[0],fe=this.data.rect[3]-this.data.rect[1],de=W===0||W===180?`0 0 ${ae} ${fe} re`:`0 0 ${fe} ${ae} re`;let ue="";if(this.backgroundColor&&(ue=`${(0,ie.getPdfColor)(this.backgroundColor,!0)} ${de} f `),this.borderColor){const he=this.borderStyle.width||1;ue+=`${he} w ${(0,ie.getPdfColor)(this.borderColor,!1)} ${de} S `}return ue}async getOperatorList(M,te,W,ae,fe){if(ae&&!(this instanceof o))return{opList:new n.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(M,te,W,ae,fe);const de=await this._getAppearance(M,te,fe);if(this.appearance&&de===null)return super.getOperatorList(M,te,W,ae,fe);const ue=new n.OperatorList;if(!this._defaultAppearance||de===null)return{opList:ue,separateForm:!1,separateCanvas:!1};const he=[1,0,0,1,0,0],me=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],xe=c(this.data.rect,me,he);let we;this.oc&&(we=await M.parseMarkedContentProps(this.oc,null)),we!==void 0&&ue.addOp(t.OPS.beginMarkedContentProps,["OC",we]),ue.addOp(t.OPS.beginAnnotation,[this.data.id,this.data.rect,xe,this.getRotationMatrix(fe),!1]);const Ce=new u.StringStream(de);return await M.getOperatorList({stream:Ce,task:te,resources:this._fieldResources.mergedResources,operatorList:ue}),ue.addOp(t.OPS.endAnnotation,[]),we!==void 0&&ue.addOp(t.OPS.endMarkedContent,[]),{opList:ue,separateForm:!1,separateCanvas:!1}}_getMKDict(M){const te=new z.Dict(null);return M&&te.set("R",M),this.borderColor&&te.set("BC",Array.from(this.borderColor).map(W=>W/255)),this.backgroundColor&&te.set("BG",Array.from(this.backgroundColor).map(W=>W/255)),te.size>0?te:null}async save(M,te,W){const ae=W?W.get(this.data.id):void 0;let fe=ae&&ae.value,de=ae&&ae.rotation;if(fe===this.data.fieldValue||fe===void 0){if(!this._hasValueFromXFA&&de===void 0)return null;fe=fe||this.data.fieldValue}if(de===void 0&&!this._hasValueFromXFA&&Array.isArray(fe)&&Array.isArray(this.data.fieldValue)&&fe.length===this.data.fieldValue.length&&fe.every((Te,Ee)=>Te===this.data.fieldValue[Ee]))return null;de===void 0&&(de=this.rotation);let ue=await this._getAppearance(M,te,W);if(ue===null)return null;const{xref:he}=M,me=he.fetchIfRef(this.ref);if(!(me instanceof z.Dict))return null;const xe=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],we={path:(0,t.stringToPDFString)(me.get("T")||""),value:fe},Ce=he.getNewRef(),Fe=new z.Dict(he);Fe.set("N",Ce);const Oe=he.encrypt;let Ie=null,Me=null;Oe&&(Ie=Oe.createCipherTransform(this.ref.num,this.ref.gen),Me=Oe.createCipherTransform(Ce.num,Ce.gen),ue=Me.encryptString(ue));const Le=Te=>(0,t.isAscii)(Te)?Te:(0,t.stringToUTF16BEString)(Te);me.set("V",Array.isArray(fe)?fe.map(Le):Le(fe)),me.set("AP",Fe),me.set("M",`D:${(0,t.getModificationDate)()}`);const qe=this._getMKDict(de);qe&&me.set("MK",qe);const Xe=new z.Dict(he);Xe.set("Length",ue.length),Xe.set("Subtype",z.Name.get("Form")),Xe.set("Resources",this._getSaveFieldResources(he)),Xe.set("BBox",xe);const Ue=this.getRotationMatrix(W);Ue!==t.IDENTITY_MATRIX&&Xe.set("Matrix",Ue);const $e=[`${this.ref.num} ${this.ref.gen} obj
`];(0,e.writeDict)(me,$e,Ie),$e.push(`
endobj
`);const De=[`${Ce.num} ${Ce.gen} obj
`];return(0,e.writeDict)(Xe,De,Me),De.push(` stream
`,ue,`
endstream
endobj
`),[{ref:this.ref,data:$e.join(""),xfa:we},{ref:Ce,data:De.join(""),xfa:null}]}async _getAppearance(M,te,W){if(this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD))return null;const fe=W?W.get(this.data.id):void 0;let de,ue;if(fe&&(de=fe.formattedValue||fe.value,ue=fe.rotation),ue===void 0&&de===void 0&&(!this._hasValueFromXFA||this.appearance))return null;if(de===void 0&&(de=this.data.fieldValue,!de)||(Array.isArray(de)&&de.length===1&&(de=de[0]),(0,t.assert)(typeof de=="string","Expected `value` to be a string."),de=de.trim(),de===""))return"";ue===void 0&&(ue=this.rotation);let he=-1;this.data.multiLine&&(he=de.split(/\r\n|\r|\n/).length);const me=2,xe=me;let we=this.data.rect[3]-this.data.rect[1],Ce=this.data.rect[2]-this.data.rect[0];(ue===90||ue===270)&&([Ce,we]=[we,Ce]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,ie.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Fe=await G._getFontData(M,te,this.data.defaultAppearanceData,this._fieldResources.mergedResources),[Oe,Ie]=this._computeFontSize(we-me,Ce-2*xe,de,Fe,he);let Me=Fe.descent;isNaN(Me)&&(Me=0);const qe=Math.min(Math.floor((we-Ie)/2),me)+Math.abs(Me)*Ie,Xe=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(Oe,de,Fe,Ie,Ce,we,Xe,xe,qe,W);const Ue=Fe.encodeString(de).join("");if(this.data.comb)return this._getCombAppearance(Oe,Fe,Ue,Ce,xe,qe,W);const $e=this.getBorderAndBackgroundAppearances(W);if(Xe===0||Xe>2)return`/Tx BMC q ${$e}BT `+Oe+` 1 0 0 1 ${xe} ${qe} Tm (${(0,t.escapeString)(Ue)}) Tj ET Q EMC`;const De=this._renderText(Ue,Fe,Ie,Ce,Xe,xe,qe);return`/Tx BMC q ${$e}BT `+Oe+` 1 0 0 1 0 0 Tm ${De} ET Q EMC`}static async _getFontData(M,te,W,ae){const fe=new n.OperatorList,de={font:null,clone(){return this}},{fontName:ue,fontSize:he}=W;return await M.handleSetFont(ae,[ue&&z.Name.get(ue),he],null,fe,te,de,null),de.font}_getTextWidth(M,te){return te.charsToGlyphs(M).reduce((W,ae)=>W+ae.width,0)/1e3}_computeFontSize(M,te,W,ae,fe){let{fontSize:de}=this.data.defaultAppearanceData;if(!de){const ue=xe=>Math.floor(xe*100)/100;if(fe===-1){const xe=this._getTextWidth(W,ae);de=ue(Math.min(M/t.LINE_FACTOR,te/xe))}else{const xe=W.split(/\r\n?|\n/),we=[];for(const Ie of xe){const Me=ae.encodeString(Ie).join(""),Le=ae.charsToGlyphs(Me),qe=ae.getCharPositions(Me);we.push({line:Me,glyphs:Le,positions:qe})}const Ce=Ie=>{let Me=0;for(const Le of we){const qe=this._splitLine(null,ae,Ie,te,Le);if(Me+=qe.length*Ie,Me>M)return!0}return!1};de=12;let Fe=de*t.LINE_FACTOR,Oe=Math.round(M/Fe);for(Oe=Math.max(Oe,fe);;){if(Fe=M/Oe,de=ue(Fe/t.LINE_FACTOR),Ce(de)){Oe++;continue}break}}const{fontName:he,fontColor:me}=this.data.defaultAppearanceData;this._defaultAppearance=(0,ie.createDefaultAppearance)({fontSize:de,fontName:he,fontColor:me})}return[this._defaultAppearance,de]}_renderText(M,te,W,ae,fe,de,ue){let he;if(fe===1){const me=this._getTextWidth(M,te)*W;he=(ae-me)/2}else if(fe===2){const me=this._getTextWidth(M,te)*W;he=ae-me-de}else he=de;return he=(0,m.numberToString)(he),ue=(0,m.numberToString)(ue),`${he} ${ue} Td (${(0,t.escapeString)(M)}) Tj`}_getSaveFieldResources(M){const{localResources:te,appearanceResources:W,acroFormResources:ae}=this._fieldResources,fe=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!fe)return te||z.Dict.empty;for(const de of[te,W])if(de instanceof z.Dict){const ue=de.get("Font");if(ue instanceof z.Dict&&ue.has(fe))return de}if(ae instanceof z.Dict){const de=ae.get("Font");if(de instanceof z.Dict&&de.has(fe)){const ue=new z.Dict(M);ue.set(fe,de.getRaw(fe));const he=new z.Dict(M);return he.set("Font",ue),z.Dict.merge({xref:M,dictArray:[he,te],mergeSubDicts:!0})}}return te||z.Dict.empty}getFieldObject(){return null}}class O extends G{constructor(M){super(M),this._hasText=!0;const te=M.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let W=(0,m.getInheritableProperty)({dict:te,key:"Q"});(!Number.isInteger(W)||W<0||W>2)&&(W=null),this.data.textAlignment=W;let ae=(0,m.getInheritableProperty)({dict:te,key:"MaxLen"});(!Number.isInteger(ae)||ae<0)&&(ae=0),this.data.maxLen=ae,this.data.multiLine=this.hasFieldFlag(t.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(t.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(t.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(t.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(t.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(M,te,W,ae,fe,de,ue){const he=(0,m.numberToString)(ae/this.data.maxLen),me=[],xe=te.getCharPositions(W);for(const[Fe,Oe]of xe)me.push(`(${(0,t.escapeString)(W.substring(Fe,Oe))}) Tj`);const we=this.getBorderAndBackgroundAppearances(ue),Ce=me.join(` ${he} 0 Td `);return`/Tx BMC q ${we}BT `+M+` 1 0 0 1 ${fe} ${de} Tm ${Ce} ET Q EMC`}_getMultilineAppearance(M,te,W,ae,fe,de,ue,he,me,xe){const we=te.split(/\r\n?|\n/),Ce=[],Fe=fe-2*he;for(const Me of we){const Le=this._splitLine(Me,W,ae,Fe);for(const qe of Le){const Xe=Ce.length===0?he:0;Ce.push(this._renderText(qe,W,ae,fe,ue,Xe,-ae))}}const Oe=Ce.join(`
`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(xe)}BT `+M+` 1 0 0 1 0 ${de} Tm ${Oe} ET Q EMC`}_splitLine(M,te,W,ae,fe={}){M=fe.line||te.encodeString(M).join("");const de=fe.glyphs||te.charsToGlyphs(M);if(de.length<=1)return[M];const ue=fe.positions||te.getCharPositions(M),he=W/1e3,me=[];let xe=-1,we=-1,Ce=-1,Fe=0,Oe=0;for(let Ie=0,Me=de.length;Ie<Me;Ie++){const[Le,qe]=ue[Ie],Xe=de[Ie],Ue=Xe.width*he;Xe.unicode===" "?Oe+Ue>ae?(me.push(M.substring(Fe,Le)),Fe=Le,Oe=Ue,xe=-1,Ce=-1):(Oe+=Ue,xe=Le,we=qe,Ce=Ie):Oe+Ue>ae?xe!==-1?(me.push(M.substring(Fe,we)),Fe=we,Ie=Ce+1,xe=-1,Oe=0):(me.push(M.substring(Fe,Le)),Fe=Le,Oe=Ue):Oe+=Ue}return Fe<M.length&&me.push(M.substring(Fe,M.length)),me}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class w extends G{constructor(M){super(M),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(t.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(t.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(M):this.data.radioButton?this._processRadioButton(M):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(M)):(0,t.warn)("Invalid field flags for button widget annotation")}async getOperatorList(M,te,W,ae,fe){if(this.data.pushButton)return super.getOperatorList(M,te,W,!1,fe);let de=null,ue=null;if(fe){const me=fe.get(this.data.id);de=me?me.value:null,ue=me?me.rotation:null}if(de===null&&this.appearance)return super.getOperatorList(M,te,W,ae,fe);de==null&&(this.data.checkBox?de=this.data.fieldValue===this.data.exportValue:de=this.data.fieldValue===this.data.buttonValue);const he=de?this.checkedAppearance:this.uncheckedAppearance;if(he){const me=this.appearance,xe=he.dict.getArray("Matrix")||t.IDENTITY_MATRIX;ue&&he.dict.set("Matrix",this.getRotationMatrix(fe)),this.appearance=he;const we=super.getOperatorList(M,te,W,ae,fe);return this.appearance=me,he.dict.set("Matrix",xe),we}return{opList:new n.OperatorList,separateForm:!1,separateCanvas:!1}}async save(M,te,W){return this.data.checkBox?this._saveCheckbox(M,te,W):this.data.radioButton?this._saveRadioButton(M,te,W):null}async _saveCheckbox(M,te,W){if(!W)return null;const ae=W.get(this.data.id);let fe=ae&&ae.rotation,de=ae&&ae.value;if(fe===void 0&&(de===void 0||this.data.fieldValue===this.data.exportValue===de))return null;const ue=M.xref.fetchIfRef(this.ref);if(!(ue instanceof z.Dict))return null;fe===void 0&&(fe=this.rotation),de===void 0&&(de=this.data.fieldValue===this.data.exportValue);const he={path:(0,t.stringToPDFString)(ue.get("T")||""),value:de?this.data.exportValue:""},me=z.Name.get(de?this.data.exportValue:"Off");ue.set("V",me),ue.set("AS",me),ue.set("M",`D:${(0,t.getModificationDate)()}`);const xe=this._getMKDict(fe);xe&&ue.set("MK",xe);const we=M.xref.encrypt;let Ce=null;we&&(Ce=we.createCipherTransform(this.ref.num,this.ref.gen));const Fe=[`${this.ref.num} ${this.ref.gen} obj
`];return(0,e.writeDict)(ue,Fe,Ce),Fe.push(`
endobj
`),[{ref:this.ref,data:Fe.join(""),xfa:he}]}async _saveRadioButton(M,te,W){if(!W)return null;const ae=W.get(this.data.id);let fe=ae&&ae.rotation,de=ae&&ae.value;if(fe===void 0&&(de===void 0||this.data.fieldValue===this.data.buttonValue===de))return null;const ue=M.xref.fetchIfRef(this.ref);if(!(ue instanceof z.Dict))return null;de===void 0&&(de=this.data.fieldValue===this.data.buttonValue),fe===void 0&&(fe=this.rotation);const he={path:(0,t.stringToPDFString)(ue.get("T")||""),value:de?this.data.buttonValue:""},me=z.Name.get(de?this.data.buttonValue:"Off");let xe=null;const we=M.xref.encrypt;if(de)if(this.parent instanceof z.Ref){const Me=M.xref.fetch(this.parent);let Le=null;we&&(Le=we.createCipherTransform(this.parent.num,this.parent.gen)),Me.set("V",me),xe=[`${this.parent.num} ${this.parent.gen} obj
`],(0,e.writeDict)(Me,xe,Le),xe.push(`
endobj
`)}else this.parent instanceof z.Dict&&this.parent.set("V",me);ue.set("AS",me),ue.set("M",`D:${(0,t.getModificationDate)()}`);const Ce=this._getMKDict(fe);Ce&&ue.set("MK",Ce);let Fe=null;we&&(Fe=we.createCipherTransform(this.ref.num,this.ref.gen));const Oe=[`${this.ref.num} ${this.ref.gen} obj
`];(0,e.writeDict)(ue,Oe,Fe),Oe.push(`
endobj
`);const Ie=[{ref:this.ref,data:Oe.join(""),xfa:he}];return xe!==null&&Ie.push({ref:this.parent,data:xe.join(""),xfa:null}),Ie}_getDefaultCheckedAppearance(M,te){const W=this.data.rect[2]-this.data.rect[0],ae=this.data.rect[3]-this.data.rect[1],fe=[0,0,W,ae],ue=Math.min(W,ae)*.8;let he,me;te==="check"?(he={width:.755*ue,height:.705*ue},me="3"):te==="disc"?(he={width:.791*ue,height:.705*ue},me="l"):(0,t.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${te}`);const xe=(0,m.numberToString)((W-he.width)/2),we=(0,m.numberToString)((ae-he.height)/2),Ce=`q BT /PdfJsZaDb ${ue} Tf 0 g ${xe} ${we} Td (${me}) Tj ET Q`,Fe=new z.Dict(M.xref);Fe.set("FormType",1),Fe.set("Subtype",z.Name.get("Form")),Fe.set("Type",z.Name.get("XObject")),Fe.set("BBox",fe),Fe.set("Matrix",[1,0,0,1,0,0]),Fe.set("Length",Ce.length);const Oe=new z.Dict(M.xref),Ie=new z.Dict(M.xref);Ie.set("PdfJsZaDb",this.fallbackFontDict),Oe.set("Font",Ie),Fe.set("Resources",Oe),this.checkedAppearance=new u.StringStream(Ce),this.checkedAppearance.dict=Fe,this._streams.push(this.checkedAppearance)}_processCheckBox(M){const te=M.dict.get("AP");if(!(te instanceof z.Dict))return;const W=te.get("N");if(!(W instanceof z.Dict))return;const ae=this._decodeFormValue(M.dict.get("AS"));typeof ae=="string"&&(this.data.fieldValue=ae);const fe=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",de=W.getKeys();if(de.length===0)de.push("Off",fe);else if(de.length===1)de[0]==="Off"?de.push(fe):de.unshift("Off");else if(de.includes(fe))de.length=0,de.push("Off",fe);else{const ue=de.find(he=>he!=="Off");de.length=0,de.push("Off",ue)}de.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=de[1],this.checkedAppearance=W.get(this.data.exportValue)||null,this.uncheckedAppearance=W.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(M,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(M){this.data.fieldValue=this.data.buttonValue=null;const te=M.dict.get("Parent");if(te instanceof z.Dict){this.parent=M.dict.getRaw("Parent");const fe=te.get("V");fe instanceof z.Name&&(this.data.fieldValue=this._decodeFormValue(fe))}const W=M.dict.get("AP");if(!(W instanceof z.Dict))return;const ae=W.get("N");if(ae instanceof z.Dict){for(const fe of ae.getKeys())if(fe!=="Off"){this.data.buttonValue=this._decodeFormValue(fe);break}this.checkedAppearance=ae.get(this.data.buttonValue)||null,this.uncheckedAppearance=ae.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(M,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(M){if(!M.dict.has("A")&&!M.dict.has("AA")&&!this.data.alternativeText){(0,t.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!M.dict.has("A")&&!M.dict.has("AA"),T.Catalog.parseDestDictionary({destDict:M.dict,resultObj:this.data,docBaseUrl:M.pdfManager.docBaseUrl})}getFieldObject(){let M="button",te;return this.data.checkBox?(M="checkbox",te=this.data.exportValue):this.data.radioButton&&(M="radiobutton",te=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:te,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:M}}get fallbackFontDict(){const M=new z.Dict;return M.set("BaseFont",z.Name.get("ZapfDingbats")),M.set("Type",z.Name.get("FallbackType")),M.set("Subtype",z.Name.get("FallbackType")),M.set("Encoding",z.Name.get("ZapfDingbatsEncoding")),(0,t.shadow)(this,"fallbackFontDict",M)}}class R extends G{constructor(M){super(M),this.data.options=[];const te=(0,m.getInheritableProperty)({dict:M.dict,key:"Opt"});if(Array.isArray(te)){const W=M.xref;for(let ae=0,fe=te.length;ae<fe;ae++){const de=W.fetchIfRef(te[ae]),ue=Array.isArray(de);this.data.options[ae]={exportValue:this._decodeFormValue(ue?W.fetchIfRef(de[0]):de),displayValue:this._decodeFormValue(ue?W.fetchIfRef(de[1]):de)}}}typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(t.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(t.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const M=this.data.combo?"combobox":"listbox",te=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:te,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:M}}async _getAppearance(M,te,W){if(this.data.combo)return super._getAppearance(M,te,W);if(!W)return null;const ae=W.get(this.data.id);if(!ae)return null;const fe=ae.rotation;let de=ae.value;if(fe===void 0&&de===void 0)return null;de===void 0?de=this.data.fieldValue:Array.isArray(de)||(de=[de]);const ue=2,he=ue;let me=this.data.rect[3]-this.data.rect[1],xe=this.data.rect[2]-this.data.rect[0];(fe===90||fe===270)&&([xe,me]=[me,xe]);const we=this.data.options.length,Ce=[];for(let De=0;De<we;De++){const{exportValue:Te}=this.data.options[De];de.includes(Te)&&Ce.push(De)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,ie.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Fe=await G._getFontData(M,te,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let Oe,{fontSize:Ie}=this.data.defaultAppearanceData;if(Ie)Oe=this._defaultAppearance;else{const De=(me-ue)/we;let Te=-1,Ee;for(const{displayValue:ze}of this.data.options){const tt=this._getTextWidth(ze,Fe);tt>Te&&(Te=tt,Ee=ze)}[Oe,Ie]=this._computeFontSize(De,xe-2*he,Ee,Fe,-1)}const Me=Ie*t.LINE_FACTOR,Le=(Me-Ie)/2,qe=Math.floor(me/Me);let Xe;if(Ce.length===1){const De=Ce[0],Te=De%qe;Xe=De-Te}else Xe=Ce.length?Ce[0]:0;const Ue=Math.min(Xe+qe+1,we),$e=["/Tx BMC q",`1 1 ${xe} ${me} re W n`];if(Ce.length){$e.push("0.600006 0.756866 0.854904 rg");for(const De of Ce)Xe<=De&&De<Ue&&$e.push(`1 ${me-(De-Xe+1)*Me} ${xe} ${Me} re f`)}$e.push("BT",Oe,`1 0 0 1 0 ${me} Tm`);for(let De=Xe;De<Ue;De++){const{displayValue:Te}=this.data.options[De],Ee=De===Xe?he:0,ze=De===Xe?Le:0;$e.push(this._renderText(Te,Fe,Ie,xe,0,Ee,-Me+ze))}return $e.push("ET Q EMC"),$e.join(`
`)}}class o extends G{constructor(M){super(M),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class h extends g{constructor(M){super(M);const W=M.dict;this.data.annotationType=t.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=W.has("Name")?W.get("Name").name:"Note"),W.has("State")?(this.data.state=W.get("State")||null,this.data.stateModel=W.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class H extends d{constructor(M){super(M),this.data.annotationType=t.AnnotationType.LINK;const te=l(M.dict,this.rectangle);te&&(this.data.quadPoints=te),this.data.borderColor=this.data.borderColor||this.data.color,T.Catalog.parseDestDictionary({destDict:M.dict,resultObj:this.data,docBaseUrl:M.pdfManager.docBaseUrl})}}class L extends d{constructor(M){super(M),this.data.annotationType=t.AnnotationType.POPUP;let te=M.dict.get("Parent");if(!te){(0,t.warn)("Popup annotation has a missing or invalid parent annotation.");return}const W=te.get("Subtype");this.data.parentType=W instanceof z.Name?W.name:null;const ae=M.dict.getRaw("Parent");this.data.parentId=ae instanceof z.Ref?ae.toString():null;const fe=te.getArray("Rect");Array.isArray(fe)&&fe.length===4?this.data.parentRect=t.Util.normalizeRect(fe):this.data.parentRect=[0,0,0,0];const de=te.get("RT");if((0,z.isName)(de,t.AnnotationReplyType.GROUP)&&(te=te.get("IRT")),te.has("M")?(this.setModificationDate(te.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,te.has("C")?(this.setColor(te.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const ue=te.get("F");this._isViewable(ue)&&this.setFlags(ue)}this.setTitle(te.get("T")),this.data.titleObj=this._title,this.setContents(te.get("Contents")),this.data.contentsObj=this._contents,te.has("RC")&&(this.data.richText=p.XFAFactory.getRichTextAsHtml(te.get("RC")))}}A.PopupAnnotation=L;class x extends g{constructor(M){super(M),this.data.annotationType=t.AnnotationType.FREETEXT}get hasTextContent(){return!!this.appearance}static createNewDict(M,te,{apRef:W,ap:ae}){const{color:fe,fontSize:de,rect:ue,rotation:he,user:me,value:xe}=M,we=new z.Dict(te);we.set("Type",z.Name.get("Annot")),we.set("Subtype",z.Name.get("FreeText")),we.set("CreationDate",`D:${(0,t.getModificationDate)()}`),we.set("Rect",ue);const Ce=`/Helv ${de} Tf ${(0,ie.getPdfColor)(fe,!0)}`;we.set("DA",Ce),we.set("Contents",xe),we.set("F",4),we.set("Border",[0,0,0]),we.set("Rotate",he),me&&we.set("T",(0,t.stringToUTF8String)(me));const Fe=new z.Dict(te);return we.set("AP",Fe),W?Fe.set("N",W):Fe.set("N",ae),we}static async createNewAppearanceStream(M,te,W){const{baseFontRef:ae,evaluator:fe,task:de}=W,{color:ue,fontSize:he,rect:me,rotation:xe,value:we}=M,Ce=new z.Dict(te),Fe=new z.Dict(te);if(ae)Fe.set("Helv",ae);else{const kt=new z.Dict(te);kt.set("BaseFont",z.Name.get("Helvetica")),kt.set("Type",z.Name.get("Font")),kt.set("Subtype",z.Name.get("Type1")),kt.set("Encoding",z.Name.get("WinAnsiEncoding")),Fe.set("Helv",kt)}Ce.set("Font",Fe);const Oe=await G._getFontData(fe,de,{fontName:"Helvetica",fontSize:he},Ce),[Ie,Me,Le,qe]=me;let Xe=Le-Ie,Ue=qe-Me;xe%180!==0&&([Xe,Ue]=[Ue,Xe]);const $e=we.split(`
`),De=he/1e3;let Te=-1/0;const Ee=[];for(let kt of $e){kt=Oe.encodeString(kt).join(""),Ee.push(kt);let Qe=0;const vt=Oe.charsToGlyphs(kt);for(const ht of vt)Qe+=ht.width*De;Te=Math.max(Te,Qe)}let ze=1;Te>Xe&&(ze=Xe/Te);let tt=1;const ft=t.LINE_FACTOR*he,Be=t.LINE_DESCENT_FACTOR*he,Ne=ft*$e.length;Ne>Ue&&(tt=Ue/Ne);const ke=Math.min(ze,tt),rt=he*ke,ot=["q",`0 0 ${(0,m.numberToString)(Xe)} ${(0,m.numberToString)(Ue)} re W n`,"BT",`1 0 0 1 0 ${(0,m.numberToString)(Ue+Be)} Tm 0 Tc ${(0,ie.getPdfColor)(ue,!0)}`,`/Helv ${(0,m.numberToString)(rt)} Tf`],st=(0,m.numberToString)(ft);for(const kt of Ee)ot.push(`0 -${st} Td (${(0,t.escapeString)(kt)}) Tj`);ot.push("ET","Q");const xt=ot.join(`
`),et=new z.Dict(te);if(et.set("FormType",1),et.set("Subtype",z.Name.get("Form")),et.set("Type",z.Name.get("XObject")),et.set("BBox",[0,0,Xe,Ue]),et.set("Length",xt.length),et.set("Resources",Ce),xe){const kt=G._getRotationMatrix(xe,Xe,Ue);et.set("Matrix",kt)}const ut=new u.StringStream(xt);return ut.dict=et,ut}}class v extends g{constructor(M){super(M);const{dict:te}=M;this.data.annotationType=t.AnnotationType.LINE;const W=te.getArray("L");if(this.data.lineCoordinates=t.Util.normalizeRect(W),this.setLineEndings(te.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const ae=this.color?Array.from(this.color).map(Ce=>Ce/255):[0,0,0],fe=te.get("CA");let de=null,ue=te.getArray("IC");ue&&(ue=r(ue,null),de=ue?Array.from(ue).map(Ce=>Ce/255):null);const he=de?fe:null,me=this.borderStyle.width||1,xe=2*me,we=[this.data.lineCoordinates[0]-xe,this.data.lineCoordinates[1]-xe,this.data.lineCoordinates[2]+xe,this.data.lineCoordinates[3]+xe];t.Util.intersect(this.rectangle,we)||(this.rectangle=we),this._setDefaultAppearance({xref:M.xref,extra:`${me} w`,strokeColor:ae,fillColor:de,strokeAlpha:fe,fillAlpha:he,pointsCallback:(Ce,Fe)=>(Ce.push(`${W[0]} ${W[1]} m`,`${W[2]} ${W[3]} l`,"S"),[Fe[0].x-me,Fe[1].x+me,Fe[3].y-me,Fe[1].y+me])})}}}class F extends g{constructor(M){if(super(M),this.data.annotationType=t.AnnotationType.SQUARE,!this.appearance){const te=this.color?Array.from(this.color).map(ue=>ue/255):[0,0,0],W=M.dict.get("CA");let ae=null,fe=M.dict.getArray("IC");fe&&(fe=r(fe,null),ae=fe?Array.from(fe).map(ue=>ue/255):null);const de=ae?W:null;if(this.borderStyle.width===0&&!ae)return;this._setDefaultAppearance({xref:M.xref,extra:`${this.borderStyle.width} w`,strokeColor:te,fillColor:ae,strokeAlpha:W,fillAlpha:de,pointsCallback:(ue,he)=>{const me=he[2].x+this.borderStyle.width/2,xe=he[2].y+this.borderStyle.width/2,we=he[3].x-he[2].x-this.borderStyle.width,Ce=he[1].y-he[3].y-this.borderStyle.width;return ue.push(`${me} ${xe} ${we} ${Ce} re`),ae?ue.push("B"):ue.push("S"),[he[0].x,he[1].x,he[3].y,he[1].y]}})}}}class k extends g{constructor(M){if(super(M),this.data.annotationType=t.AnnotationType.CIRCLE,!this.appearance){const te=this.color?Array.from(this.color).map(he=>he/255):[0,0,0],W=M.dict.get("CA");let ae=null,fe=M.dict.getArray("IC");fe&&(fe=r(fe,null),ae=fe?Array.from(fe).map(he=>he/255):null);const de=ae?W:null;if(this.borderStyle.width===0&&!ae)return;const ue=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:M.xref,extra:`${this.borderStyle.width} w`,strokeColor:te,fillColor:ae,strokeAlpha:W,fillAlpha:de,pointsCallback:(he,me)=>{const xe=me[0].x+this.borderStyle.width/2,we=me[0].y-this.borderStyle.width/2,Ce=me[3].x-this.borderStyle.width/2,Fe=me[3].y+this.borderStyle.width/2,Oe=xe+(Ce-xe)/2,Ie=we+(Fe-we)/2,Me=(Ce-xe)/2*ue,Le=(Fe-we)/2*ue;return he.push(`${Oe} ${Fe} m`,`${Oe+Me} ${Fe} ${Ce} ${Ie+Le} ${Ce} ${Ie} c`,`${Ce} ${Ie-Le} ${Oe+Me} ${we} ${Oe} ${we} c`,`${Oe-Me} ${we} ${xe} ${Ie-Le} ${xe} ${Ie} c`,`${xe} ${Ie+Le} ${Oe-Me} ${Fe} ${Oe} ${Fe} c`,"h"),ae?he.push("B"):he.push("S"),[me[0].x,me[1].x,me[3].y,me[1].y]}})}}}class U extends g{constructor(M){super(M);const{dict:te}=M;this.data.annotationType=t.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof ee||(this.setLineEndings(te.getArray("LE")),this.data.lineEndings=this.lineEndings);const W=te.getArray("Vertices");if(Array.isArray(W)){for(let ae=0,fe=W.length;ae<fe;ae+=2)this.data.vertices.push({x:W[ae],y:W[ae+1]});if(!this.appearance){const ae=this.color?Array.from(this.color).map(me=>me/255):[0,0,0],fe=te.get("CA"),de=this.borderStyle.width||1,ue=2*de,he=[1/0,1/0,-1/0,-1/0];for(const me of this.data.vertices)he[0]=Math.min(he[0],me.x-ue),he[1]=Math.min(he[1],me.y-ue),he[2]=Math.max(he[2],me.x+ue),he[3]=Math.max(he[3],me.y+ue);t.Util.intersect(this.rectangle,he)||(this.rectangle=he),this._setDefaultAppearance({xref:M.xref,extra:`${de} w`,strokeColor:ae,strokeAlpha:fe,pointsCallback:(me,xe)=>{const we=this.data.vertices;for(let Ce=0,Fe=we.length;Ce<Fe;Ce++)me.push(`${we[Ce].x} ${we[Ce].y} ${Ce===0?"m":"l"}`);return me.push("S"),[xe[0].x,xe[1].x,xe[3].y,xe[1].y]}})}}}}class ee extends U{constructor(M){super(M),this.data.annotationType=t.AnnotationType.POLYGON}}class J extends g{constructor(M){super(M),this.data.annotationType=t.AnnotationType.CARET}}class I extends g{constructor(M){super(M),this.data.annotationType=t.AnnotationType.INK,this.data.inkLists=[];const te=M.dict.getArray("InkList");if(!Array.isArray(te))return;const W=M.xref;for(let ae=0,fe=te.length;ae<fe;++ae){this.data.inkLists.push([]);for(let de=0,ue=te[ae].length;de<ue;de+=2)this.data.inkLists[ae].push({x:W.fetchIfRef(te[ae][de]),y:W.fetchIfRef(te[ae][de+1])})}if(!this.appearance){const ae=this.color?Array.from(this.color).map(me=>me/255):[0,0,0],fe=M.dict.get("CA"),de=this.borderStyle.width||1,ue=2*de,he=[1/0,1/0,-1/0,-1/0];for(const me of this.data.inkLists)for(const xe of me)he[0]=Math.min(he[0],xe.x-ue),he[1]=Math.min(he[1],xe.y-ue),he[2]=Math.max(he[2],xe.x+ue),he[3]=Math.max(he[3],xe.y+ue);t.Util.intersect(this.rectangle,he)||(this.rectangle=he),this._setDefaultAppearance({xref:M.xref,extra:`${de} w`,strokeColor:ae,strokeAlpha:fe,pointsCallback:(me,xe)=>{for(const we of this.data.inkLists){for(let Ce=0,Fe=we.length;Ce<Fe;Ce++)me.push(`${we[Ce].x} ${we[Ce].y} ${Ce===0?"m":"l"}`);me.push("S")}return[xe[0].x,xe[1].x,xe[3].y,xe[1].y]}})}}static createNewDict(M,te,{apRef:W,ap:ae}){const{paths:fe,rect:de,rotation:ue}=M,he=new z.Dict(te);he.set("Type",z.Name.get("Annot")),he.set("Subtype",z.Name.get("Ink")),he.set("CreationDate",`D:${(0,t.getModificationDate)()}`),he.set("Rect",de),he.set("InkList",fe.map(xe=>xe.points)),he.set("F",4),he.set("Border",[0,0,0]),he.set("Rotate",ue);const me=new z.Dict(te);return he.set("AP",me),W?me.set("N",W):me.set("N",ae),he}static async createNewAppearanceStream(M,te,W){const{color:ae,rect:fe,rotation:de,paths:ue,thickness:he,opacity:me}=M,[xe,we,Ce,Fe]=fe;let Oe=Ce-xe,Ie=Fe-we;de%180!==0&&([Oe,Ie]=[Ie,Oe]);const Me=[`${he} w 1 J 1 j`,`${(0,ie.getPdfColor)(ae,!1)}`];me!==1&&Me.push("/R0 gs");const Le=[];for(const{bezier:$e}of ue){Le.length=0,Le.push(`${(0,m.numberToString)($e[0])} ${(0,m.numberToString)($e[1])} m`);for(let De=2,Te=$e.length;De<Te;De+=6){const Ee=$e.slice(De,De+6).map(m.numberToString).join(" ");Le.push(`${Ee} c`)}Le.push("S"),Me.push(Le.join(`
`))}const qe=Me.join(`
`),Xe=new z.Dict(te);if(Xe.set("FormType",1),Xe.set("Subtype",z.Name.get("Form")),Xe.set("Type",z.Name.get("XObject")),Xe.set("BBox",[0,0,Oe,Ie]),Xe.set("Length",qe.length),de){const $e=G._getRotationMatrix(de,Oe,Ie);Xe.set("Matrix",$e)}if(me!==1){const $e=new z.Dict(te),De=new z.Dict(te),Te=new z.Dict(te);Te.set("CA",me),Te.set("Type",z.Name.get("ExtGState")),De.set("R0",Te),$e.set("ExtGState",De),Xe.set("Resources",$e)}const Ue=new u.StringStream(qe);return Ue.dict=Xe,Ue}}class X extends g{constructor(M){if(super(M),this.data.annotationType=t.AnnotationType.HIGHLIGHT,this.data.quadPoints=l(M.dict,null)){const W=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!(W&&W.has("ExtGState"))){this.appearance&&(0,t.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const ae=this.color?Array.from(this.color).map(de=>de/255):[1,1,0],fe=M.dict.get("CA");this._setDefaultAppearance({xref:M.xref,fillColor:ae,blendMode:"Multiply",fillAlpha:fe,pointsCallback:(de,ue)=>(de.push(`${ue[0].x} ${ue[0].y} m`,`${ue[1].x} ${ue[1].y} l`,`${ue[3].x} ${ue[3].y} l`,`${ue[2].x} ${ue[2].y} l`,"f"),[ue[0].x,ue[1].x,ue[3].y,ue[1].y])})}}else this.data.hasPopup=!1}}class ne extends g{constructor(M){if(super(M),this.data.annotationType=t.AnnotationType.UNDERLINE,this.data.quadPoints=l(M.dict,null)){if(!this.appearance){const W=this.color?Array.from(this.color).map(fe=>fe/255):[0,0,0],ae=M.dict.get("CA");this._setDefaultAppearance({xref:M.xref,extra:"[] 0 d 1 w",strokeColor:W,strokeAlpha:ae,pointsCallback:(fe,de)=>(fe.push(`${de[2].x} ${de[2].y} m`,`${de[3].x} ${de[3].y} l`,"S"),[de[0].x,de[1].x,de[3].y,de[1].y])})}}else this.data.hasPopup=!1}}class P extends g{constructor(M){if(super(M),this.data.annotationType=t.AnnotationType.SQUIGGLY,this.data.quadPoints=l(M.dict,null)){if(!this.appearance){const W=this.color?Array.from(this.color).map(fe=>fe/255):[0,0,0],ae=M.dict.get("CA");this._setDefaultAppearance({xref:M.xref,extra:"[] 0 d 1 w",strokeColor:W,strokeAlpha:ae,pointsCallback:(fe,de)=>{const ue=(de[0].y-de[2].y)/6;let he=ue,me=de[2].x;const xe=de[2].y,we=de[3].x;fe.push(`${me} ${xe+he} m`);do me+=2,he=he===0?ue:0,fe.push(`${me} ${xe+he} l`);while(me<we);return fe.push("S"),[de[2].x,we,xe-2*ue,xe+2*ue]}})}}else this.data.hasPopup=!1}}class V extends g{constructor(M){if(super(M),this.data.annotationType=t.AnnotationType.STRIKEOUT,this.data.quadPoints=l(M.dict,null)){if(!this.appearance){const W=this.color?Array.from(this.color).map(fe=>fe/255):[0,0,0],ae=M.dict.get("CA");this._setDefaultAppearance({xref:M.xref,extra:"[] 0 d 1 w",strokeColor:W,strokeAlpha:ae,pointsCallback:(fe,de)=>(fe.push(`${(de[0].x+de[2].x)/2} ${(de[0].y+de[2].y)/2} m`,`${(de[1].x+de[3].x)/2} ${(de[1].y+de[3].y)/2} l`,"S"),[de[0].x,de[1].x,de[3].y,de[1].y])})}}else this.data.hasPopup=!1}}class Y extends g{constructor(M){super(M),this.data.annotationType=t.AnnotationType.STAMP}}class Z extends g{constructor(M){super(M);const te=new _.FileSpec(M.dict.get("FS"),M.xref);this.data.annotationType=t.AnnotationType.FILEATTACHMENT,this.data.file=te.serializable}}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.createDefaultAppearance=_,A.getPdfColor=E,A.parseDefaultAppearance=T;var t=se(6),m=se(2),ie=se(14),z=se(15),e=se(5),j=se(10);class f extends z.EvaluatorPreprocessor{constructor(n){super(new j.StringStream(n))}parse(){const n={fn:0,args:[]},u={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;n.args.length=0,!!this.read(n);){if(this.savedStatesDepth!==0)continue;const{fn:p,args:s}=n;switch(p|0){case m.OPS.setFont:const[r,l]=s;r instanceof e.Name&&(u.fontName=r.name),typeof l=="number"&&l>0&&(u.fontSize=l);break;case m.OPS.setFillRGBColor:ie.ColorSpace.singletons.rgb.getRgbItem(s,0,u.fontColor,0);break;case m.OPS.setFillGray:ie.ColorSpace.singletons.gray.getRgbItem(s,0,u.fontColor,0);break;case m.OPS.setFillColorSpace:ie.ColorSpace.singletons.cmyk.getRgbItem(s,0,u.fontColor,0);break}}}catch(p){(0,m.warn)(`parseDefaultAppearance - ignoring errors: "${p}".`)}return u}}function T(y){return new f(y).parse()}function E(y,n){if(y[0]===y[1]&&y[1]===y[2]){const u=y[0]/255;return`${(0,t.numberToString)(u)} ${n?"g":"G"}`}return Array.from(y).map(u=>(0,t.numberToString)(u/255)).join(" ")+` ${n?"rg":"RG"}`}function _({fontSize:y,fontName:n,fontColor:u}){return`/${(0,t.escapePDFName)(n)} ${y} Tf ${E(u,!0)}`}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ColorSpace=void 0;var t=se(2),m=se(5),ie=se(7),z=se(6);function e(r,l,c,d,K,g,G){G=G!==1?0:G;const w=c/K,R=d/g;let o=0,h;const H=new Uint16Array(K),L=c*3;for(let x=0;x<K;x++)H[x]=Math.floor(x*w)*3;for(let x=0;x<g;x++){const v=Math.floor(x*R)*L;for(let F=0;F<K;F++)h=v+H[F],l[o++]=r[h++],l[o++]=r[h++],l[o++]=r[h++],o+=G}}class j{constructor(l,c){this.constructor===j&&(0,t.unreachable)("Cannot initialize ColorSpace."),this.name=l,this.numComps=c}getRgb(l,c){const d=new Uint8ClampedArray(3);return this.getRgbItem(l,c,d,0),d}getRgbItem(l,c,d,K){(0,t.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(l,c,d,K,g,G,O){(0,t.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(l,c){(0,t.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(l){return!1}isDefaultDecode(l,c){return j.isDefaultDecode(l,this.numComps)}fillRgb(l,c,d,K,g,G,O,w,R){const o=c*d;let h=null;const H=1<<O,L=d!==g||c!==K;if(this.isPassthrough(O))h=w;else if(this.numComps===1&&o>H&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const x=O<=8?new Uint8Array(H):new Uint16Array(H);for(let F=0;F<H;F++)x[F]=F;const v=new Uint8ClampedArray(H*3);if(this.getRgbBuffer(x,0,H,v,0,O,0),L){h=new Uint8Array(o*3);let F=0;for(let k=0;k<o;++k){const U=w[k]*3;h[F++]=v[U],h[F++]=v[U+1],h[F++]=v[U+2]}}else{let F=0;for(let k=0;k<o;++k){const U=w[k]*3;l[F++]=v[U],l[F++]=v[U+1],l[F++]=v[U+2],F+=R}}}else L?(h=new Uint8ClampedArray(o*3),this.getRgbBuffer(w,0,o,h,0,O,0)):this.getRgbBuffer(w,0,K*G,l,0,O,R);if(h)if(L)e(h,l,c,d,K,g,R);else{let x=0,v=0;for(let F=0,k=K*G;F<k;F++)l[x++]=h[v++],l[x++]=h[v++],l[x++]=h[v++],x+=R}}get usesZeroToOneRange(){return(0,t.shadow)(this,"usesZeroToOneRange",!0)}static _cache(l,c,d,K){if(!d)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!K)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let g,G;l instanceof m.Ref&&(G=l,l=c.fetch(l)),l instanceof m.Name&&(g=l.name),(g||G)&&d.set(g,G,K)}static getCached(l,c,d){if(!d)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(l instanceof m.Ref){const K=d.getByRef(l);if(K)return K;try{l=c.fetch(l)}catch(g){if(g instanceof z.MissingDataException)throw g}}if(l instanceof m.Name){const K=d.getByName(l.name);if(K)return K}return null}static async parseAsync({cs:l,xref:c,resources:d=null,pdfFunctionFactory:K,localColorSpaceCache:g}){const G=this._parse(l,c,d,K);return this._cache(l,c,g,G),G}static parse({cs:l,xref:c,resources:d=null,pdfFunctionFactory:K,localColorSpaceCache:g}){const G=this.getCached(l,c,g);if(G)return G;const O=this._parse(l,c,d,K);return this._cache(l,c,g,O),O}static _parse(l,c,d=null,K){if(l=c.fetchIfRef(l),l instanceof m.Name)switch(l.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new T(null);default:if(d instanceof m.Dict){const g=d.get("ColorSpace");if(g instanceof m.Dict){const G=g.get(l.name);if(G){if(G instanceof m.Name)return this._parse(G,c,d,K);l=G;break}}}throw new t.FormatError(`Unrecognized ColorSpace: ${l.name}`)}if(Array.isArray(l)){const g=c.fetchIfRef(l[0]).name;let G,O,w,R,o,h;switch(g){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return G=c.fetchIfRef(l[1]),R=G.getArray("WhitePoint"),o=G.getArray("BlackPoint"),h=G.get("Gamma"),new u(R,o,h);case"CalRGB":G=c.fetchIfRef(l[1]),R=G.getArray("WhitePoint"),o=G.getArray("BlackPoint"),h=G.getArray("Gamma");const H=G.getArray("Matrix");return new p(R,o,h,H);case"ICCBased":const x=c.fetchIfRef(l[1]).dict;O=x.get("N");const v=x.get("Alternate");if(v){const I=this._parse(v,c,d,K);if(I.numComps===O)return I;(0,t.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(O===1)return this.singletons.gray;if(O===3)return this.singletons.rgb;if(O===4)return this.singletons.cmyk;break;case"Pattern":return w=l[1]||null,w&&(w=this._parse(w,c,d,K)),new T(w);case"I":case"Indexed":w=this._parse(l[1],c,d,K);const F=c.fetchIfRef(l[2])+1,k=c.fetchIfRef(l[3]);return new E(w,F,k);case"Separation":case"DeviceN":const U=c.fetchIfRef(l[1]);O=Array.isArray(U)?U.length:1,w=this._parse(l[2],c,d,K);const ee=K.create(l[3]);return new f(O,w,ee);case"Lab":G=c.fetchIfRef(l[1]),R=G.getArray("WhitePoint"),o=G.getArray("BlackPoint");const J=G.getArray("Range");return new s(R,o,J);default:throw new t.FormatError(`Unimplemented ColorSpace object: ${g}`)}}throw new t.FormatError(`Unrecognized ColorSpace object: ${l}`)}static isDefaultDecode(l,c){if(!Array.isArray(l))return!0;if(c*2!==l.length)return(0,t.warn)("The decode map is not the correct length"),!0;for(let d=0,K=l.length;d<K;d+=2)if(l[d]!==0||l[d+1]!==1)return!1;return!0}static get singletons(){return(0,t.shadow)(this,"singletons",{get gray(){return(0,t.shadow)(this,"gray",new _)},get rgb(){return(0,t.shadow)(this,"rgb",new y)},get cmyk(){return(0,t.shadow)(this,"cmyk",new n)}})}}A.ColorSpace=j;class f extends j{constructor(l,c,d){super("Alternate",l),this.base=c,this.tintFn=d,this.tmpBuf=new Float32Array(c.numComps)}getRgbItem(l,c,d,K){const g=this.tmpBuf;this.tintFn(l,c,g,0),this.base.getRgbItem(g,0,d,K)}getRgbBuffer(l,c,d,K,g,G,O){const w=this.tintFn,R=this.base,o=1/((1<<G)-1),h=R.numComps,H=R.usesZeroToOneRange,L=(R.isPassthrough(8)||!H)&&O===0;let x=L?g:0;const v=L?K:new Uint8ClampedArray(h*d),F=this.numComps,k=new Float32Array(F),U=new Float32Array(h);let ee,J;for(ee=0;ee<d;ee++){for(J=0;J<F;J++)k[J]=l[c++]*o;if(w(k,0,U,0),H)for(J=0;J<h;J++)v[x++]=U[J]*255;else R.getRgbItem(U,0,v,x),x+=h}L||R.getRgbBuffer(v,0,d,K,g,8,O)}getOutputLength(l,c){return this.base.getOutputLength(l*this.base.numComps/this.numComps,c)}}class T extends j{constructor(l){super("Pattern",null),this.base=l}isDefaultDecode(l,c){(0,t.unreachable)("Should not call PatternCS.isDefaultDecode")}}class E extends j{constructor(l,c,d){super("Indexed",1),this.base=l,this.highVal=c;const K=l.numComps*c;if(this.lookup=new Uint8Array(K),d instanceof ie.BaseStream){const g=d.getBytes(K);this.lookup.set(g)}else if(typeof d=="string")for(let g=0;g<K;++g)this.lookup[g]=d.charCodeAt(g)&255;else throw new t.FormatError(`IndexedCS - unrecognized lookup table: ${d}`)}getRgbItem(l,c,d,K){const g=this.base.numComps,G=l[c]*g;this.base.getRgbBuffer(this.lookup,G,1,d,K,8,0)}getRgbBuffer(l,c,d,K,g,G,O){const w=this.base,R=w.numComps,o=w.getOutputLength(R,O),h=this.lookup;for(let H=0;H<d;++H){const L=l[c++]*R;w.getRgbBuffer(h,L,1,K,g,8,O),g+=o}}getOutputLength(l,c){return this.base.getOutputLength(l*this.base.numComps,c)}isDefaultDecode(l,c){return Array.isArray(l)?l.length!==2?((0,t.warn)("Decode map length is not correct"),!0):!Number.isInteger(c)||c<1?((0,t.warn)("Bits per component is not correct"),!0):l[0]===0&&l[1]===(1<<c)-1:!0}}class _ extends j{constructor(){super("DeviceGray",1)}getRgbItem(l,c,d,K){const g=l[c]*255;d[K]=d[K+1]=d[K+2]=g}getRgbBuffer(l,c,d,K,g,G,O){const w=255/((1<<G)-1);let R=c,o=g;for(let h=0;h<d;++h){const H=w*l[R++];K[o++]=H,K[o++]=H,K[o++]=H,o+=O}}getOutputLength(l,c){return l*(3+c)}}class y extends j{constructor(){super("DeviceRGB",3)}getRgbItem(l,c,d,K){d[K]=l[c]*255,d[K+1]=l[c+1]*255,d[K+2]=l[c+2]*255}getRgbBuffer(l,c,d,K,g,G,O){if(G===8&&O===0){K.set(l.subarray(c,c+d*3),g);return}const w=255/((1<<G)-1);let R=c,o=g;for(let h=0;h<d;++h)K[o++]=w*l[R++],K[o++]=w*l[R++],K[o++]=w*l[R++],o+=O}getOutputLength(l,c){return l*(3+c)/3|0}isPassthrough(l){return l===8}}const n=function(){function l(d,K,g,G,O){const w=d[K]*g,R=d[K+1]*g,o=d[K+2]*g,h=d[K+3]*g;G[O]=255+w*(-4.387332384609988*w+54.48615194189176*R+18.82290502165302*o+212.25662451639585*h+-285.2331026137004)+R*(1.7149763477362134*R-5.6096736904047315*o+-17.873870861415444*h-5.497006427196366)+o*(-2.5217340131683033*o-21.248923337353073*h+17.5119270841813)+h*(-21.86122147463605*h-189.48180835922747),G[O+1]=255+w*(8.841041422036149*w+60.118027045597366*R+6.871425592049007*o+31.159100130055922*h+-79.2970844816548)+R*(-15.310361306967817*R+17.575251261109482*o+131.35250912493976*h-190.9453302588951)+o*(4.444339102852739*o+9.8632861493405*h-24.86741582555878)+h*(-20.737325471181034*h-187.80453709719578),G[O+2]=255+w*(.8842522430003296*w+8.078677503112928*R+30.89978309703729*o-.23883238689178934*h+-14.183576799673286)+R*(10.49593273432072*R+63.02378494754052*o+50.606957656360734*h-112.23884253719248)+o*(.03296041114873217*o+115.60384449646641*h+-193.58209356861505)+h*(-22.33816807309886*h-180.12613974708367)}class c extends j{constructor(){super("DeviceCMYK",4)}getRgbItem(K,g,G,O){l(K,g,1,G,O)}getRgbBuffer(K,g,G,O,w,R,o){const h=1/((1<<R)-1);for(let H=0;H<G;H++)l(K,g,h,O,w),g+=4,w+=3+o}getOutputLength(K,g){return K/4*(3+g)|0}}return c}(),u=function(){function l(d,K,g,G,O,w){const o=(K[g]*w)**d.G,h=d.YW*o,H=Math.max(295.8*h**.3333333333333333-40.8,0);G[O]=H,G[O+1]=H,G[O+2]=H}class c extends j{constructor(K,g,G){if(super("CalGray",1),!K)throw new t.FormatError("WhitePoint missing - required for color space CalGray");if(g=g||[0,0,0],G=G||1,this.XW=K[0],this.YW=K[1],this.ZW=K[2],this.XB=g[0],this.YB=g[1],this.ZB=g[2],this.G=G,this.XW<0||this.ZW<0||this.YW!==1)throw new t.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,t.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,t.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,t.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(K,g,G,O){l(this,K,g,G,O,1)}getRgbBuffer(K,g,G,O,w,R,o){const h=1/((1<<R)-1);for(let H=0;H<G;++H)l(this,K,g,O,w,h),g+=1,w+=3+o}getOutputLength(K,g){return K*(3+g)}}return c}(),p=function(){const l=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),c=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),d=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),K=new Float32Array([1,1,1]),g=new Float32Array(3),G=new Float32Array(3),O=new Float32Array(3),w=(24/116)**3/8;function R(J,I,X){X[0]=J[0]*I[0]+J[1]*I[1]+J[2]*I[2],X[1]=J[3]*I[0]+J[4]*I[1]+J[5]*I[2],X[2]=J[6]*I[0]+J[7]*I[1]+J[8]*I[2]}function o(J,I,X){X[0]=I[0]*1/J[0],X[1]=I[1]*1/J[1],X[2]=I[2]*1/J[2]}function h(J,I,X){X[0]=I[0]*.95047/J[0],X[1]=I[1]*1/J[1],X[2]=I[2]*1.08883/J[2]}function H(J){return J<=.0031308?L(0,1,12.92*J):J>=.99554525?1:L(0,1,(1+.055)*J**(1/2.4)-.055)}function L(J,I,X){return Math.max(J,Math.min(I,X))}function x(J){return J<0?-x(-J):J>8?((J+16)/116)**3:J*w}function v(J,I,X){if(J[0]===0&&J[1]===0&&J[2]===0){X[0]=I[0],X[1]=I[1],X[2]=I[2];return}const ne=x(0),P=ne,V=x(J[0]),Y=ne,Z=x(J[1]),q=ne,M=x(J[2]),te=(1-P)/(1-V),W=1-te,ae=(1-Y)/(1-Z),fe=1-ae,de=(1-q)/(1-M),ue=1-de;X[0]=I[0]*te+W,X[1]=I[1]*ae+fe,X[2]=I[2]*de+ue}function F(J,I,X){if(J[0]===1&&J[2]===1){X[0]=I[0],X[1]=I[1],X[2]=I[2];return}const ne=X;R(l,I,ne);const P=g;o(J,ne,P),R(c,P,X)}function k(J,I,X){const ne=X;R(l,I,ne);const P=g;h(J,ne,P),R(c,P,X)}function U(J,I,X,ne,P,V){const Y=L(0,1,I[X]*V),Z=L(0,1,I[X+1]*V),q=L(0,1,I[X+2]*V),M=Y===1?1:Y**J.GR,te=Z===1?1:Z**J.GG,W=q===1?1:q**J.GB,ae=J.MXA*M+J.MXB*te+J.MXC*W,fe=J.MYA*M+J.MYB*te+J.MYC*W,de=J.MZA*M+J.MZB*te+J.MZC*W,ue=G;ue[0]=ae,ue[1]=fe,ue[2]=de;const he=O;F(J.whitePoint,ue,he);const me=G;v(J.blackPoint,he,me);const xe=O;k(K,me,xe);const we=G;R(d,xe,we),ne[P]=H(we[0])*255,ne[P+1]=H(we[1])*255,ne[P+2]=H(we[2])*255}class ee extends j{constructor(I,X,ne,P){if(super("CalRGB",3),!I)throw new t.FormatError("WhitePoint missing - required for color space CalRGB");X=X||new Float32Array(3),ne=ne||new Float32Array([1,1,1]),P=P||new Float32Array([1,0,0,0,1,0,0,0,1]);const V=I[0],Y=I[1],Z=I[2];this.whitePoint=I;const q=X[0],M=X[1],te=X[2];if(this.blackPoint=X,this.GR=ne[0],this.GG=ne[1],this.GB=ne[2],this.MXA=P[0],this.MYA=P[1],this.MZA=P[2],this.MXB=P[3],this.MYB=P[4],this.MZB=P[5],this.MXC=P[6],this.MYC=P[7],this.MZC=P[8],V<0||Z<0||Y!==1)throw new t.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(q<0||M<0||te<0)&&((0,t.info)(`Invalid BlackPoint for ${this.name} [${q}, ${M}, ${te}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,t.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(I,X,ne,P){U(this,I,X,ne,P,1)}getRgbBuffer(I,X,ne,P,V,Y,Z){const q=1/((1<<Y)-1);for(let M=0;M<ne;++M)U(this,I,X,P,V,q),X+=3,V+=3+Z}getOutputLength(I,X){return I*(3+X)/3|0}}return ee}(),s=function(){function l(g){let G;return g>=6/29?G=g**3:G=108/841*(g-4/29),G}function c(g,G,O,w){return O+g*(w-O)/G}function d(g,G,O,w,R,o){let h=G[O],H=G[O+1],L=G[O+2];w!==!1&&(h=c(h,w,0,100),H=c(H,w,g.amin,g.amax),L=c(L,w,g.bmin,g.bmax)),H>g.amax?H=g.amax:H<g.amin&&(H=g.amin),L>g.bmax?L=g.bmax:L<g.bmin&&(L=g.bmin);const x=(h+16)/116,v=x+H/500,F=x-L/200,k=g.XW*l(v),U=g.YW*l(x),ee=g.ZW*l(F);let J,I,X;g.ZW<1?(J=k*3.1339+U*-1.617+ee*-.4906,I=k*-.9785+U*1.916+ee*.0333,X=k*.072+U*-.229+ee*1.4057):(J=k*3.2406+U*-1.5372+ee*-.4986,I=k*-.9689+U*1.8758+ee*.0415,X=k*.0557+U*-.204+ee*1.057),R[o]=Math.sqrt(J)*255,R[o+1]=Math.sqrt(I)*255,R[o+2]=Math.sqrt(X)*255}class K extends j{constructor(G,O,w){if(super("Lab",3),!G)throw new t.FormatError("WhitePoint missing - required for color space Lab");if(O=O||[0,0,0],w=w||[-100,100,-100,100],this.XW=G[0],this.YW=G[1],this.ZW=G[2],this.amin=w[0],this.amax=w[1],this.bmin=w[2],this.bmax=w[3],this.XB=O[0],this.YB=O[1],this.ZB=O[2],this.XW<0||this.ZW<0||this.YW!==1)throw new t.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,t.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,t.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(G,O,w,R){d(this,G,O,!1,w,R)}getRgbBuffer(G,O,w,R,o,h,H){const L=(1<<h)-1;for(let x=0;x<w;x++)d(this,G,O,L,R,o),O+=3,o+=3+H}getOutputLength(G,O){return G*(3+O)/3|0}isDefaultDecode(G,O){return!0}get usesZeroToOneRange(){return(0,t.shadow)(this,"usesZeroToOneRange",!1)}}return K}()},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PartialEvaluator=A.EvaluatorPreprocessor=void 0;var t=se(2),m=se(16),ie=se(5),z=se(34),e=se(38),j=se(37),f=se(41),T=se(40),E=se(50),_=se(51),y=se(42),n=se(57),u=se(17),p=se(59),s=se(10),r=se(7),l=se(60),c=se(14),d=se(19),K=se(39),g=se(6),G=se(45),O=se(61),w=se(62),R=se(63);const o=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),h={TILING:1,SHADING:2},H=10,L=Promise.resolve();function x(ne,P=!1){if(Array.isArray(ne)){for(let V=0,Y=ne.length;V<Y;V++){const Z=x(ne[V],!0);if(Z)return Z}return(0,t.warn)(`Unsupported blend mode Array: ${ne}`),"source-over"}if(!(ne instanceof ie.Name))return P?null:"source-over";switch(ne.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return P?null:((0,t.warn)(`Unsupported blend mode: ${ne.name}`),"source-over")}function v(ne){ne.fn===t.OPS.paintImageMaskXObject&&ne.args[0]&&ne.args[0].count>0&&ne.args[0].count++}class F{static get TIME_SLOT_DURATION_MS(){return(0,t.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,t.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return++this.checked<F.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+F.TIME_SLOT_DURATION_MS,this.checked=0}}class k{constructor({xref:P,handler:V,pageIndex:Y,idFactory:Z,fontCache:q,builtInCMapCache:M,standardFontDataCache:te,globalImageCache:W,options:ae=null}){this.xref=P,this.handler=V,this.pageIndex=Y,this.idFactory=Z,this.fontCache=q,this.builtInCMapCache=M,this.standardFontDataCache=te,this.globalImageCache=W,this.options=ae||o,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const P=new n.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,t.shadow)(this,"_pdfFunctionFactory",P)}clone(P=null){const V=Object.create(this);return V.options=Object.assign(Object.create(null),this.options,P),V}hasBlendModes(P,V){if(!(P instanceof ie.Dict)||P.objId&&V.has(P.objId))return!1;const Y=new ie.RefSet(V);P.objId&&Y.put(P.objId);const Z=[P],q=this.xref;for(;Z.length;){const M=Z.shift(),te=M.get("ExtGState");if(te instanceof ie.Dict)for(let ae of te.getRawValues()){if(ae instanceof ie.Ref){if(Y.has(ae))continue;try{ae=q.fetch(ae)}catch(de){Y.put(ae),(0,t.info)(`hasBlendModes - ignoring ExtGState: "${de}".`);continue}}if(!(ae instanceof ie.Dict))continue;ae.objId&&Y.put(ae.objId);const fe=ae.get("BM");if(fe instanceof ie.Name){if(fe.name!=="Normal")return!0;continue}if(fe!==void 0&&Array.isArray(fe)){for(const de of fe)if(de instanceof ie.Name&&de.name!=="Normal")return!0}}const W=M.get("XObject");if(W instanceof ie.Dict)for(let ae of W.getRawValues()){if(ae instanceof ie.Ref){if(Y.has(ae))continue;try{ae=q.fetch(ae)}catch(de){Y.put(ae),(0,t.info)(`hasBlendModes - ignoring XObject: "${de}".`);continue}}if(!(ae instanceof r.BaseStream))continue;ae.dict.objId&&Y.put(ae.dict.objId);const fe=ae.dict.get("Resources");fe instanceof ie.Dict&&(fe.objId&&Y.has(fe.objId)||(Z.push(fe),fe.objId&&Y.put(fe.objId)))}}for(const M of Y)V.put(M);return!1}async fetchBuiltInCMap(P){const V=this.builtInCMapCache.get(P);if(V)return V;let Y;if(this.options.cMapUrl!==null){const Z=`${this.options.cMapUrl}${P}.bcmap`,q=await fetch(Z);if(!q.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${Z}" with "${q.statusText}".`);Y={cMapData:new Uint8Array(await q.arrayBuffer()),compressionType:t.CMapCompressionType.BINARY}}else Y=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:P});return Y.compressionType!==t.CMapCompressionType.NONE&&this.builtInCMapCache.set(P,Y),Y}async fetchStandardFontData(P){const V=this.standardFontDataCache.get(P);if(V)return new s.Stream(V);if(this.options.useSystemFonts&&P!=="Symbol"&&P!=="ZapfDingbats")return null;const Y=(0,f.getFontNameToFileMap)(),Z=Y[P];let q;if(this.options.standardFontDataUrl!==null){const M=`${this.options.standardFontDataUrl}${Z}`,te=await fetch(M);te.ok?q=await te.arrayBuffer():(0,t.warn)(`fetchStandardFontData: failed to fetch file "${M}" with "${te.statusText}".`)}else try{q=await this.handler.sendWithPromise("FetchStandardFontData",{filename:Z})}catch(M){(0,t.warn)(`fetchStandardFontData: failed to fetch file "${Z}" with "${M}".`)}return q?(this.standardFontDataCache.set(P,q),new s.Stream(q)):null}async buildFormXObject(P,V,Y,Z,q,M,te){const W=V.dict,ae=W.getArray("Matrix");let fe=W.getArray("BBox");Array.isArray(fe)&&fe.length===4?fe=t.Util.normalizeRect(fe):fe=null;let de,ue;W.has("OC")&&(de=await this.parseMarkedContentProps(W.get("OC"),P)),de!==void 0&&Z.addOp(t.OPS.beginMarkedContentProps,["OC",de]);const he=W.get("Group");if(he){ue={matrix:ae,bbox:fe,smask:Y,isolated:!1,knockout:!1};const xe=he.get("S");let we=null;if((0,ie.isName)(xe,"Transparency")&&(ue.isolated=he.get("I")||!1,ue.knockout=he.get("K")||!1,he.has("CS"))){const Ce=he.getRaw("CS"),Fe=c.ColorSpace.getCached(Ce,this.xref,te);Fe?we=Fe:we=await this.parseColorSpace({cs:Ce,resources:P,localColorSpaceCache:te})}Y&&Y.backdrop&&(we=we||c.ColorSpace.singletons.rgb,Y.backdrop=we.getRgb(Y.backdrop,0)),Z.addOp(t.OPS.beginGroup,[ue])}const me=he?[ae,null]:[ae,fe];return Z.addOp(t.OPS.paintFormXObjectBegin,me),this.getOperatorList({stream:V,task:q,resources:W.get("Resources")||P,operatorList:Z,initialState:M}).then(function(){Z.addOp(t.OPS.paintFormXObjectEnd,[]),he&&Z.addOp(t.OPS.endGroup,[ue]),de!==void 0&&Z.addOp(t.OPS.endMarkedContent,[])})}_sendImgData(P,V,Y=!1){const Z=V?[V.bitmap||V.data.buffer]:null;return this.parsingType3Font||Y?this.handler.send("commonobj",[P,"Image",V],Z):this.handler.send("obj",[P,this.pageIndex,"Image",V],Z)}async buildPaintImageXObject({resources:P,image:V,isInline:Y=!1,operatorList:Z,cacheKey:q,localImageCache:M,localColorSpaceCache:te}){const W=V.dict,ae=W.objId,fe=W.get("W","Width"),de=W.get("H","Height");if(!(fe&&typeof fe=="number")||!(de&&typeof de=="number")){(0,t.warn)("Image dimensions are missing, or not numbers.");return}const ue=this.options.maxImageSize;if(ue!==-1&&fe*de>ue){const Le="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,t.warn)(Le);return}throw new Error(Le)}let he;W.has("OC")&&(he=await this.parseMarkedContentProps(W.get("OC"),P));const me=W.get("IM","ImageMask")||!1;let xe,we;if(me){const Le=W.get("I","Interpolate"),qe=fe+7>>3,Xe=V.getBytes(qe*de),Ue=W.getArray("D","Decode");if(this.parsingType3Font){xe=R.PDFImage.createRawMask({imgArray:Xe,width:fe,height:de,imageIsFromDecodeStream:V instanceof d.DecodeStream,inverseDecode:!!Ue&&Ue[0]>0,interpolate:Le}),xe.cached=!!q,we=[xe],Z.addImageOps(t.OPS.paintImageMaskXObject,we,he),q&&M.set(q,ae,{fn:t.OPS.paintImageMaskXObject,args:we,optionalContent:he});return}if(xe=R.PDFImage.createMask({imgArray:Xe,width:fe,height:de,imageIsFromDecodeStream:V instanceof d.DecodeStream,inverseDecode:!!Ue&&Ue[0]>0,interpolate:Le}),xe.isSingleOpaquePixel){Z.addImageOps(t.OPS.paintSolidColorImageMask,[],he),q&&M.set(q,ae,{fn:t.OPS.paintSolidColorImageMask,args:[],optionalContent:he});return}const $e=`mask_${this.idFactory.createObjId()}`;Z.addDependency($e),this._sendImgData($e,xe),we=[{data:$e,width:xe.width,height:xe.height,interpolate:xe.interpolate,count:1}],Z.addImageOps(t.OPS.paintImageMaskXObject,we,he),q&&M.set(q,ae,{fn:t.OPS.paintImageMaskXObject,args:we,optionalContent:he});return}const Ce=W.get("SM","SMask")||!1,Fe=W.get("Mask")||!1;if(Y&&!Ce&&!Fe&&fe+de<200){xe=new R.PDFImage({xref:this.xref,res:P,image:V,isInline:Y,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:te}).createImageData(!0),Z.addImageOps(t.OPS.paintInlineImageXObject,[xe],he);return}let Ie=`img_${this.idFactory.createObjId()}`,Me=!1;this.parsingType3Font?Ie=`${this.idFactory.getDocId()}_type3_${Ie}`:ae&&(Me=this.globalImageCache.shouldCache(ae,this.pageIndex),Me&&(Ie=`${this.idFactory.getDocId()}_${Ie}`)),Z.addDependency(Ie),we=[Ie,fe,de],R.PDFImage.buildImage({xref:this.xref,res:P,image:V,isInline:Y,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:te}).then(Le=>(xe=Le.createImageData(!1),q&&ae&&Me&&this.globalImageCache.addByteSize(ae,xe.data.length),this._sendImgData(Ie,xe,Me))).catch(Le=>((0,t.warn)(`Unable to decode image "${Ie}": "${Le}".`),this._sendImgData(Ie,null,Me))),Z.addImageOps(t.OPS.paintImageXObject,we,he),q&&(M.set(q,ae,{fn:t.OPS.paintImageXObject,args:we,optionalContent:he}),ae&&((0,t.assert)(!Y,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(ae,this.pageIndex),Me&&this.globalImageCache.setData(ae,{objId:Ie,fn:t.OPS.paintImageXObject,args:we,optionalContent:he,byteSize:0})))}handleSMask(P,V,Y,Z,q,M){const te=P.get("G"),W={subtype:P.get("S").name,backdrop:P.get("BC")},ae=P.get("TR");if((0,n.isPDFFunction)(ae)){const fe=this._pdfFunctionFactory.create(ae),de=new Uint8Array(256),ue=new Float32Array(1);for(let he=0;he<256;he++)ue[0]=he/255,fe(ue,0,ue,0),de[he]=ue[0]*255|0;W.transferMap=de}return this.buildFormXObject(V,te,W,Y,Z,q.state.clone(),M)}handleTransferFunction(P){let V;if(Array.isArray(P))V=P;else if((0,n.isPDFFunction)(P))V=[P];else return null;const Y=[];let Z=0,q=0;for(const M of V){const te=this.xref.fetchIfRef(M);if(Z++,(0,ie.isName)(te,"Identity")){Y.push(null);continue}else if(!(0,n.isPDFFunction)(te))return null;const W=this._pdfFunctionFactory.create(te),ae=new Uint8Array(256),fe=new Float32Array(1);for(let de=0;de<256;de++)fe[0]=de/255,W(fe,0,fe,0),ae[de]=fe[0]*255|0;Y.push(ae),q++}return!(Z===1||Z===4)||q===0?null:Y}handleTilingType(P,V,Y,Z,q,M,te,W){const ae=new w.OperatorList,fe=ie.Dict.merge({xref:this.xref,dictArray:[q.get("Resources"),Y]});return this.getOperatorList({stream:Z,task:te,resources:fe,operatorList:ae}).then(function(){const de=ae.getIR(),ue=(0,E.getTilingPatternIR)(de,q,V);M.addDependencies(ae.dependencies),M.addOp(P,ue),q.objId&&W.set(null,q.objId,{operatorListIR:de,dict:q})}).catch(de=>{if(!(de instanceof t.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,t.warn)(`handleTilingType - ignoring pattern: "${de}".`);return}throw de}})}handleSetFont(P,V,Y,Z,q,M,te=null,W=null){const ae=V&&V[0]instanceof ie.Name?V[0].name:null;return this.loadFont(ae,Y,P,te,W).then(fe=>fe.font.isType3Font?fe.loadType3Data(this,P,q).then(function(){return Z.addDependencies(fe.type3Dependencies),fe}).catch(de=>(this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontLoadType3}),new U({loadedName:"g_font_error",font:new z.ErrorFont(`Type3 font load error: ${de}`),dict:fe.font,evaluatorOptions:this.options}))):fe).then(fe=>(M.font=fe.font,fe.send(this.handler),fe.loadedName))}handleText(P,V){const Y=V.font,Z=Y.charsToGlyphs(P);return Y.data&&(V.textRenderingMode&t.TextRenderingMode.ADD_TO_PATH_FLAG||V.fillColorSpace.name==="Pattern"||Y.disableFontFace||this.options.disableFontFace)&&k.buildFontPaths(Y,Z,this.handler,this.options),Z}ensureStateFont(P){if(P.font)return;const V=new t.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontState}),(0,t.warn)(`ensureStateFont: "${V}".`);return}throw V}async setGState({resources:P,gState:V,operatorList:Y,cacheKey:Z,task:q,stateManager:M,localGStateCache:te,localColorSpaceCache:W}){const ae=V.objId;let fe=!0;const de=[],ue=V.getKeys();let he=Promise.resolve();for(let me=0,xe=ue.length;me<xe;me++){const we=ue[me],Ce=V.get(we);switch(we){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":de.push([we,Ce]);break;case"Font":fe=!1,he=he.then(()=>this.handleSetFont(P,null,Ce[0],Y,q,M.state).then(function(Oe){Y.addDependency(Oe),de.push([we,[Oe,Ce[1]]])}));break;case"BM":de.push([we,x(Ce)]);break;case"SMask":if((0,ie.isName)(Ce,"None")){de.push([we,!1]);break}Ce instanceof ie.Dict?(fe=!1,he=he.then(()=>this.handleSMask(Ce,P,Y,q,M,W)),de.push([we,!0])):(0,t.warn)("Unsupported SMask type");break;case"TR":const Fe=this.handleTransferFunction(Ce);de.push([we,Fe]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,t.info)("graphic state operator "+we);break;default:(0,t.info)("Unknown graphic state operator "+we);break}}return he.then(function(){de.length>0&&Y.addOp(t.OPS.setGState,[de]),fe&&te.set(Z,ae,de)})}loadFont(P,V,Y,Z=null,q=null){const M=async()=>new U({loadedName:"g_font_error",font:new z.ErrorFont(`Font "${P}" is not available.`),dict:V,evaluatorOptions:this.options}),te=this.xref;let W;if(V)V instanceof ie.Ref&&(W=V);else{const xe=Y.get("Font");xe&&(W=xe.getRaw(P))}if(!W){const xe=`Font "${P||V&&V.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,t.warn)(`${xe}.`),M();this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontMissing}),(0,t.warn)(`${xe} -- attempting to fallback to a default font.`),Z?W=Z:W=k.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(W))return M();if(this.fontCache.has(W))return this.fontCache.get(W);if(V=te.fetchIfRef(W),!(V instanceof ie.Dict))return M();if(V.cacheKey&&this.fontCache.has(V.cacheKey))return this.fontCache.get(V.cacheKey);const ae=(0,t.createPromiseCapability)();let fe;try{fe=this.preEvaluateFont(V),fe.cssFontInfo=q}catch(xe){return(0,t.warn)(`loadFont - preEvaluateFont failed: "${xe}".`),M()}const{descriptor:de,hash:ue}=fe,he=W instanceof ie.Ref;let me;if(he&&(me=`f${W.toString()}`),ue&&de instanceof ie.Dict){de.fontAliases||(de.fontAliases=Object.create(null));const xe=de.fontAliases;if(xe[ue]){const we=xe[ue].aliasRef;if(he&&we&&this.fontCache.has(we))return this.fontCache.putAlias(W,we),this.fontCache.get(W)}else xe[ue]={fontID:this.idFactory.createFontId()};he&&(xe[ue].aliasRef=W),me=xe[ue].fontID}return he?this.fontCache.put(W,ae.promise):(me||(me=this.idFactory.createFontId()),V.cacheKey=`cacheKey_${me}`,this.fontCache.put(V.cacheKey,ae.promise)),(0,t.assert)(me&&me.startsWith("f"),'The "fontID" must be (correctly) defined.'),V.loadedName=`${this.idFactory.getDocId()}_${me}`,this.translateFont(fe).then(xe=>{xe.fontType!==void 0&&te.stats.addFontType(xe.fontType),ae.resolve(new U({loadedName:V.loadedName,font:xe,dict:V,evaluatorOptions:this.options}))}).catch(xe=>{this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,t.warn)(`loadFont - translateFont failed: "${xe}".`);try{const we=de&&de.get("FontFile3"),Ce=we&&we.get("Subtype"),Fe=(0,e.getFontType)(fe.type,Ce&&Ce.name);Fe!==void 0&&te.stats.addFontType(Fe)}catch{}ae.resolve(new U({loadedName:V.loadedName,font:new z.ErrorFont(xe instanceof Error?xe.message:xe),dict:V,evaluatorOptions:this.options}))}),ae.promise}buildPath(P,V,Y,Z=!1){const q=P.length-1;Y||(Y=[]);let M;if(q<0||P.fnArray[q]!==t.OPS.constructPath)Z&&((0,t.warn)(`Encountered path operator "${V}" inside of a text object.`),P.addOp(t.OPS.save,null)),M=[1/0,-1/0,1/0,-1/0],P.addOp(t.OPS.constructPath,[[V],Y,M]),Z&&P.addOp(t.OPS.restore,null);else{const te=P.argsArray[q];te[0].push(V),Array.prototype.push.apply(te[1],Y),M=te[2]}switch(V){case t.OPS.rectangle:M[0]=Math.min(M[0],Y[0],Y[0]+Y[2]),M[1]=Math.max(M[1],Y[0],Y[0]+Y[2]),M[2]=Math.min(M[2],Y[1],Y[1]+Y[3]),M[3]=Math.max(M[3],Y[1],Y[1]+Y[3]);break;case t.OPS.moveTo:case t.OPS.lineTo:M[0]=Math.min(M[0],Y[0]),M[1]=Math.max(M[1],Y[0]),M[2]=Math.min(M[2],Y[1]),M[3]=Math.max(M[3],Y[1]);break}}parseColorSpace({cs:P,resources:V,localColorSpaceCache:Y}){return c.ColorSpace.parseAsync({cs:P,xref:this.xref,resources:V,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:Y}).catch(Z=>{if(Z instanceof t.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorColorSpace}),(0,t.warn)(`parseColorSpace - ignoring ColorSpace: "${Z}".`),null;throw Z})}parseShading({shading:P,resources:V,localColorSpaceCache:Y,localShadingPatternCache:Z}){let q=Z.get(P);if(!q){var M=E.Pattern.parseShading(P,this.xref,V,this.handler,this._pdfFunctionFactory,Y);const te=M.getIR();q=`pattern_${this.idFactory.createObjId()}`,Z.set(P,q),this.handler.send("obj",[q,this.pageIndex,"Pattern",te])}return q}handleColorN(P,V,Y,Z,q,M,te,W,ae,fe){const de=Y.pop();if(de instanceof ie.Name){const ue=q.getRaw(de.name),he=ue instanceof ie.Ref&&ae.getByRef(ue);if(he)try{const xe=Z.base?Z.base.getRgb(Y,0):null,we=(0,E.getTilingPatternIR)(he.operatorListIR,he.dict,xe);P.addOp(V,we);return}catch{}const me=this.xref.fetchIfRef(ue);if(me){const xe=me instanceof r.BaseStream?me.dict:me,we=xe.get("PatternType");if(we===h.TILING){const Ce=Z.base?Z.base.getRgb(Y,0):null;return this.handleTilingType(V,Ce,M,me,xe,P,te,ae)}else if(we===h.SHADING){const Ce=xe.get("Shading"),Fe=xe.getArray("Matrix"),Oe=this.parseShading({shading:Ce,resources:M,localColorSpaceCache:W,localShadingPatternCache:fe});P.addOp(V,["Shading",Oe,Fe]);return}throw new t.FormatError(`Unknown PatternType: ${we}`)}}throw new t.FormatError(`Unknown PatternName: ${de}`)}_parseVisibilityExpression(P,V,Y){if(++V>10){(0,t.warn)("Visibility expression is too deeply nested");return}const q=P.length,M=this.xref.fetchIfRef(P[0]);if(q<2||!(M instanceof ie.Name)){(0,t.warn)("Invalid visibility expression");return}switch(M.name){case"And":case"Or":case"Not":Y.push(M.name);break;default:(0,t.warn)(`Invalid operator ${M.name} in visibility expression`);return}for(let te=1;te<q;te++){const W=P[te],ae=this.xref.fetchIfRef(W);if(Array.isArray(ae)){const fe=[];Y.push(fe),this._parseVisibilityExpression(ae,V,fe)}else W instanceof ie.Ref&&Y.push(W.toString())}}async parseMarkedContentProps(P,V){let Y;if(P instanceof ie.Name)Y=V.get("Properties").get(P.name);else if(P instanceof ie.Dict)Y=P;else throw new t.FormatError("Optional content properties malformed.");const Z=Y.get("Type").name;if(Z==="OCG")return{type:Z,id:Y.objId};if(Z==="OCMD"){const q=Y.get("VE");if(Array.isArray(q)){const te=[];if(this._parseVisibilityExpression(q,0,te),te.length>0)return{type:"OCMD",expression:te}}const M=Y.get("OCGs");if(Array.isArray(M)||M instanceof ie.Dict){const te=[];if(Array.isArray(M))for(const W of M)te.push(W.toString());else te.push(M.objId);return{type:Z,ids:te,policy:Y.get("P")instanceof ie.Name?Y.get("P").name:null,expression:null}}else if(M instanceof ie.Ref)return{type:Z,id:M.toString()}}return null}getOperatorList({stream:P,task:V,resources:Y,operatorList:Z,initialState:q=null,fallbackFontDict:M=null}){if(Y=Y||ie.Dict.empty,q=q||new I,!Z)throw new Error('getOperatorList: missing "operatorList" parameter');const te=this,W=this.xref;let ae=!1;const fe=new p.LocalImageCache,de=new p.LocalColorSpaceCache,ue=new p.LocalGStateCache,he=new p.LocalTilingPatternCache,me=new Map,xe=Y.get("XObject")||ie.Dict.empty,we=Y.get("Pattern")||ie.Dict.empty,Ce=new ee(q),Fe=new X(P,W,Ce),Oe=new F;function Ie(Me){for(let Le=0,qe=Fe.savedStatesDepth;Le<qe;Le++)Z.addOp(t.OPS.restore,[])}return new Promise(function Me(Le,qe){const Xe=function(et){Promise.all([et,Z.ready]).then(function(){try{Me(Le,qe)}catch(ut){qe(ut)}},qe)};V.ensureNotTerminated(),Oe.reset();const Ue={};let $e,De,Te,Ee,ze,tt;for(;!($e=Oe.check())&&(Ue.args=null,!!Fe.read(Ue));){let et=Ue.args,ut=Ue.fn;switch(ut|0){case t.OPS.paintXObject:if(tt=et[0]instanceof ie.Name,ze=et[0].name,tt){const Qe=fe.getByName(ze);if(Qe){Z.addImageOps(Qe.fn,Qe.args,Qe.optionalContent),v(Qe),et=null;continue}}Xe(new Promise(function(Qe,vt){if(!tt)throw new t.FormatError("XObject must be referred to by name.");let ht=xe.getRaw(ze);if(ht instanceof ie.Ref){const Ot=fe.getByRef(ht);if(Ot){Z.addImageOps(Ot.fn,Ot.args,Ot.optionalContent),v(Ot),Qe();return}const It=te.globalImageCache.getData(ht,te.pageIndex);if(It){Z.addDependency(It.objId),Z.addImageOps(It.fn,It.args,It.optionalContent),Qe();return}ht=W.fetch(ht)}if(!(ht instanceof r.BaseStream))throw new t.FormatError("XObject should be a stream");const Ut=ht.dict.get("Subtype");if(!(Ut instanceof ie.Name))throw new t.FormatError("XObject should have a Name subtype");if(Ut.name==="Form"){Ce.save(),te.buildFormXObject(Y,ht,null,Z,V,Ce.state.clone(),de).then(function(){Ce.restore(),Qe()},vt);return}else if(Ut.name==="Image"){te.buildPaintImageXObject({resources:Y,image:ht,operatorList:Z,cacheKey:ze,localImageCache:fe,localColorSpaceCache:de}).then(Qe,vt);return}else if(Ut.name==="PS")(0,t.info)("Ignored XObject subtype PS");else throw new t.FormatError(`Unhandled XObject subtype ${Ut.name}`);Qe()}).catch(function(Qe){if(!(Qe instanceof t.AbortException)){if(te.options.ignoreErrors){te.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorXObject}),(0,t.warn)(`getOperatorList - ignoring XObject: "${Qe}".`);return}throw Qe}}));return;case t.OPS.setFont:var ft=et[1];Xe(te.handleSetFont(Y,et,null,Z,V,Ce.state,M).then(function(Qe){Z.addDependency(Qe),Z.addOp(t.OPS.setFont,[Qe,ft])}));return;case t.OPS.beginText:ae=!0;break;case t.OPS.endText:ae=!1;break;case t.OPS.endInlineImage:var Be=et[0].cacheKey;if(Be){const Qe=fe.getByName(Be);if(Qe){Z.addImageOps(Qe.fn,Qe.args,Qe.optionalContent),v(Qe),et=null;continue}}Xe(te.buildPaintImageXObject({resources:Y,image:et[0],isInline:!0,operatorList:Z,cacheKey:Be,localImageCache:fe,localColorSpaceCache:de}));return;case t.OPS.showText:if(!Ce.state.font){te.ensureStateFont(Ce.state);continue}et[0]=te.handleText(et[0],Ce.state);break;case t.OPS.showSpacedText:if(!Ce.state.font){te.ensureStateFont(Ce.state);continue}var Ne=et[0],ke=[],rt=Ne.length,ot=Ce.state;for(De=0;De<rt;++De){const Qe=Ne[De];typeof Qe=="string"?Array.prototype.push.apply(ke,te.handleText(Qe,ot)):typeof Qe=="number"&&ke.push(Qe)}et[0]=ke,ut=t.OPS.showText;break;case t.OPS.nextLineShowText:if(!Ce.state.font){te.ensureStateFont(Ce.state);continue}Z.addOp(t.OPS.nextLine),et[0]=te.handleText(et[0],Ce.state),ut=t.OPS.showText;break;case t.OPS.nextLineSetSpacingShowText:if(!Ce.state.font){te.ensureStateFont(Ce.state);continue}Z.addOp(t.OPS.nextLine),Z.addOp(t.OPS.setWordSpacing,[et.shift()]),Z.addOp(t.OPS.setCharSpacing,[et.shift()]),et[0]=te.handleText(et[0],Ce.state),ut=t.OPS.showText;break;case t.OPS.setTextRenderingMode:Ce.state.textRenderingMode=et[0];break;case t.OPS.setFillColorSpace:{const Qe=c.ColorSpace.getCached(et[0],W,de);if(Qe){Ce.state.fillColorSpace=Qe;continue}Xe(te.parseColorSpace({cs:et[0],resources:Y,localColorSpaceCache:de}).then(function(vt){vt&&(Ce.state.fillColorSpace=vt)}));return}case t.OPS.setStrokeColorSpace:{const Qe=c.ColorSpace.getCached(et[0],W,de);if(Qe){Ce.state.strokeColorSpace=Qe;continue}Xe(te.parseColorSpace({cs:et[0],resources:Y,localColorSpaceCache:de}).then(function(vt){vt&&(Ce.state.strokeColorSpace=vt)}));return}case t.OPS.setFillColor:Ee=Ce.state.fillColorSpace,et=Ee.getRgb(et,0),ut=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeColor:Ee=Ce.state.strokeColorSpace,et=Ee.getRgb(et,0),ut=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillGray:Ce.state.fillColorSpace=c.ColorSpace.singletons.gray,et=c.ColorSpace.singletons.gray.getRgb(et,0),ut=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeGray:Ce.state.strokeColorSpace=c.ColorSpace.singletons.gray,et=c.ColorSpace.singletons.gray.getRgb(et,0),ut=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillCMYKColor:Ce.state.fillColorSpace=c.ColorSpace.singletons.cmyk,et=c.ColorSpace.singletons.cmyk.getRgb(et,0),ut=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeCMYKColor:Ce.state.strokeColorSpace=c.ColorSpace.singletons.cmyk,et=c.ColorSpace.singletons.cmyk.getRgb(et,0),ut=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillRGBColor:Ce.state.fillColorSpace=c.ColorSpace.singletons.rgb,et=c.ColorSpace.singletons.rgb.getRgb(et,0);break;case t.OPS.setStrokeRGBColor:Ce.state.strokeColorSpace=c.ColorSpace.singletons.rgb,et=c.ColorSpace.singletons.rgb.getRgb(et,0);break;case t.OPS.setFillColorN:if(Ee=Ce.state.fillColorSpace,Ee.name==="Pattern"){Xe(te.handleColorN(Z,t.OPS.setFillColorN,et,Ee,we,Y,V,de,he,me));return}et=Ee.getRgb(et,0),ut=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeColorN:if(Ee=Ce.state.strokeColorSpace,Ee.name==="Pattern"){Xe(te.handleColorN(Z,t.OPS.setStrokeColorN,et,Ee,we,Y,V,de,he,me));return}et=Ee.getRgb(et,0),ut=t.OPS.setStrokeRGBColor;break;case t.OPS.shadingFill:var st=Y.get("Shading");if(!st)throw new t.FormatError("No shading resource found");var xt=st.get(et[0].name);if(!xt)throw new t.FormatError("No shading object found");et=[te.parseShading({shading:xt,resources:Y,localColorSpaceCache:de,localShadingPatternCache:me})],ut=t.OPS.shadingFill;break;case t.OPS.setGState:if(tt=et[0]instanceof ie.Name,ze=et[0].name,tt){const Qe=ue.getByName(ze);if(Qe){Qe.length>0&&Z.addOp(t.OPS.setGState,[Qe]),et=null;continue}}Xe(new Promise(function(Qe,vt){if(!tt)throw new t.FormatError("GState must be referred to by name.");const ht=Y.get("ExtGState");if(!(ht instanceof ie.Dict))throw new t.FormatError("ExtGState should be a dictionary.");const Ut=ht.get(ze);if(!(Ut instanceof ie.Dict))throw new t.FormatError("GState should be a dictionary.");te.setGState({resources:Y,gState:Ut,operatorList:Z,cacheKey:ze,task:V,stateManager:Ce,localGStateCache:ue,localColorSpaceCache:de}).then(Qe,vt)}).catch(function(Qe){if(!(Qe instanceof t.AbortException)){if(te.options.ignoreErrors){te.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorExtGState}),(0,t.warn)(`getOperatorList - ignoring ExtGState: "${Qe}".`);return}throw Qe}}));return;case t.OPS.moveTo:case t.OPS.lineTo:case t.OPS.curveTo:case t.OPS.curveTo2:case t.OPS.curveTo3:case t.OPS.closePath:case t.OPS.rectangle:te.buildPath(Z,ut,et,ae);continue;case t.OPS.markPoint:case t.OPS.markPointProps:case t.OPS.beginCompat:case t.OPS.endCompat:continue;case t.OPS.beginMarkedContentProps:if(!(et[0]instanceof ie.Name)){(0,t.warn)(`Expected name for beginMarkedContentProps arg0=${et[0]}`);continue}if(et[0].name==="OC"){Xe(te.parseMarkedContentProps(et[1],Y).then(Qe=>{Z.addOp(t.OPS.beginMarkedContentProps,["OC",Qe])}).catch(Qe=>{if(!(Qe instanceof t.AbortException)){if(te.options.ignoreErrors){te.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,t.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${Qe}".`);return}throw Qe}}));return}et=[et[0].name,et[1]instanceof ie.Dict?et[1].get("MCID"):null];break;case t.OPS.beginMarkedContent:case t.OPS.endMarkedContent:default:if(et!==null){for(De=0,Te=et.length;De<Te&&!(et[De]instanceof ie.Dict);De++);if(De<Te){(0,t.warn)("getOperatorList - ignoring operator: "+ut);continue}}}Z.addOp(ut,et)}if($e){Xe(L);return}Ie(),Le()}).catch(Me=>{if(!(Me instanceof t.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorOperatorList}),(0,t.warn)(`getOperatorList - ignoring errors during "${V.name}" task: "${Me}".`),Ie();return}throw Me}})}getTextContent({stream:P,task:V,resources:Y,stateManager:Z=null,combineTextItems:q=!1,includeMarkedContent:M=!1,sink:te,seenStyles:W=new Set,viewBox:ae}){Y=Y||ie.Dict.empty,Z=Z||new ee(new J);const fe=(0,T.getNormalizedUnicodes)(),de={items:[],styles:Object.create(null)},ue={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},he=[" "," "];let me=0;function xe(Qe){const vt=(me+1)%2,ht=he[me]!==" "&&he[vt]===" ";return he[me]=Qe,me=vt,ht}function we(){he[0]=he[1]=" ",me=0}const Ce=.1,Fe=.03,Oe=-.2,Ie=.1,Me=.6,Le=this,qe=this.xref,Xe=[];let Ue=null;const $e=new p.LocalImageCache,De=new p.LocalGStateCache,Te=new X(P,qe,Z);let Ee;function ze(){const Qe=Ee.font,vt=[Ee.fontSize*Ee.textHScale,0,0,Ee.fontSize,0,Ee.textRise];if(Qe.isType3Font&&(Ee.fontSize<=1||Qe.isCharBBox)&&!(0,t.isArrayEqual)(Ee.fontMatrix,t.FONT_IDENTITY_MATRIX)){const ht=Qe.bbox[3]-Qe.bbox[1];ht>0&&(vt[3]*=ht*Ee.fontMatrix[3])}return t.Util.transform(Ee.ctm,t.Util.transform(Ee.textMatrix,vt))}function tt(){if(ue.initialized)return ue;const Qe=Ee.font,vt=Qe.loadedName;W.has(vt)||(W.add(vt),de.styles[vt]={fontFamily:Qe.fallbackName,ascent:Qe.ascent,descent:Qe.descent,vertical:Qe.vertical}),ue.fontName=vt;const ht=ue.transform=ze();Qe.vertical?(ue.width=ue.totalWidth=Math.hypot(ht[0],ht[1]),ue.height=ue.totalHeight=0,ue.vertical=!0):(ue.width=ue.totalWidth=0,ue.height=ue.totalHeight=Math.hypot(ht[2],ht[3]),ue.vertical=!1);const Ut=Math.hypot(Ee.textLineMatrix[0],Ee.textLineMatrix[1]),Ot=Math.hypot(Ee.ctm[0],Ee.ctm[1]);return ue.textAdvanceScale=Ot*Ut,ue.trackingSpaceMin=Ee.fontSize*Ce,ue.notASpace=Ee.fontSize*Fe,ue.negativeSpaceMax=Ee.fontSize*Oe,ue.spaceInFlowMin=Ee.fontSize*Ie,ue.spaceInFlowMax=Ee.fontSize*Me,ue.hasEOL=!1,ue.initialized=!0,ue}function ft(){if(!ue.initialized)return;const Qe=Math.hypot(Ee.textLineMatrix[0],Ee.textLineMatrix[1]),ht=Math.hypot(Ee.ctm[0],Ee.ctm[1])*Qe;ht!==ue.textAdvanceScale&&(ue.vertical?(ue.totalHeight+=ue.height*ue.textAdvanceScale,ue.height=0):(ue.totalWidth+=ue.width*ue.textAdvanceScale,ue.width=0),ue.textAdvanceScale=ht)}function Be(Qe){const vt=Qe.str.join(""),ht=(0,l.bidi)(vt,-1,Qe.vertical);return{str:ht.str,dir:ht.dir,width:Math.abs(Qe.totalWidth),height:Math.abs(Qe.totalHeight),transform:Qe.transform,fontName:Qe.fontName,hasEOL:Qe.hasEOL}}function Ne(Qe,vt){return Le.loadFont(Qe,vt,Y).then(function(ht){return ht.font.isType3Font?ht.loadType3Data(Le,Y,V).catch(function(){}).then(function(){return ht}):ht}).then(function(ht){Ee.font=ht.font,Ee.fontMatrix=ht.font.fontMatrix||t.FONT_IDENTITY_MATRIX})}function ke(Qe,vt,ht){const Ut=Math.hypot(ht[0],ht[1]);return[(ht[0]*Qe+ht[1]*vt)/Ut,(ht[2]*Qe+ht[3]*vt)/Ut]}function rt(){const Qe=ze();let vt=Qe[4],ht=Qe[5];const Ut=vt-ae[0],Ot=ht-ae[1];if(Ut<0||Ut>ae[2]||Ot<0||Ot>ae[3])return!1;if(!q||!Ee.font||!ue.prevTransform)return!0;let It=ue.prevTransform[4],Ct=ue.prevTransform[5];if(It===vt&&Ct===ht)return!0;let Wt=-1;switch(Qe[0]&&Qe[1]===0&&Qe[2]===0?Wt=Qe[0]>0?0:180:Qe[1]&&Qe[0]===0&&Qe[3]===0&&(Wt=Qe[1]>0?90:270),Wt){case 0:break;case 90:[vt,ht]=[ht,vt],[It,Ct]=[Ct,It];break;case 180:[vt,ht,It,Ct]=[-vt,-ht,-It,-Ct];break;case 270:[vt,ht]=[-ht,-vt],[It,Ct]=[-Ct,-It];break;default:[vt,ht]=ke(vt,ht,Qe),[It,Ct]=ke(It,Ct,ue.prevTransform)}if(Ee.font.vertical){const nt=(Ct-ht)/ue.textAdvanceScale,it=vt-It,pt=Math.sign(ue.height);return nt<pt*ue.negativeSpaceMax?Math.abs(it)>.5*ue.width?(st(),!0):(we(),et(),!0):Math.abs(it)>ue.width?(st(),!0):(nt<=pt*ue.notASpace&&we(),nt<=pt*ue.trackingSpaceMin?ue.height+=nt:xt(nt,ue.prevTransform,pt)||(ue.str.length===0?(we(),de.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(nt),transform:ue.prevTransform,fontName:ue.fontName,hasEOL:!1})):ue.height+=nt),!0)}const zt=(vt-It)/ue.textAdvanceScale,Je=ht-Ct,Ve=Math.sign(ue.width);return zt<Ve*ue.negativeSpaceMax?Math.abs(Je)>.5*ue.height?(st(),!0):(we(),et(),!0):Math.abs(Je)>ue.height?(st(),!0):(zt<=Ve*ue.notASpace&&we(),zt<=Ve*ue.trackingSpaceMin?ue.width+=zt:xt(zt,ue.prevTransform,Ve)||(ue.str.length===0?(we(),de.items.push({str:" ",dir:"ltr",width:Math.abs(zt),height:0,transform:ue.prevTransform,fontName:ue.fontName,hasEOL:!1})):ue.width+=zt),!0)}function ot({chars:Qe,extraSpacing:vt}){const ht=Ee.font;if(!Qe){const It=Ee.charSpacing+vt;It&&(ht.vertical?Ee.translateTextMatrix(0,-It):Ee.translateTextMatrix(It*Ee.textHScale,0));return}const Ut=ht.charsToGlyphs(Qe),Ot=Ee.fontMatrix[0]*Ee.fontSize;for(let It=0,Ct=Ut.length;It<Ct;It++){const Wt=Ut[It];if(Wt.isInvisibleFormatMark)continue;let zt=Ee.charSpacing+(It+1===Ct?vt:0),Je=Wt.width;ht.vertical&&(Je=Wt.vmetric?Wt.vmetric[0]:-Je);let Ve=Je*Ot;if(Wt.isWhitespace){ht.vertical?(zt+=-Ve+Ee.wordSpacing,Ee.translateTextMatrix(0,-zt)):(zt+=Ve+Ee.wordSpacing,Ee.translateTextMatrix(zt*Ee.textHScale,0)),xe(" ");continue}if(!rt())continue;const nt=tt();Wt.isZeroWidthDiacritic&&(Ve=0),ht.vertical?(Ee.translateTextMatrix(0,Ve),Ve=Math.abs(Ve),nt.height+=Ve):(Ve*=Ee.textHScale,Ee.translateTextMatrix(Ve,0),nt.width+=Ve),Ve&&(nt.prevTransform=ze());let it=Wt.unicode;it=fe[it]||it,it=(0,T.reverseIfRtl)(it),xe(it)&&nt.str.push(" "),nt.str.push(it),zt&&(ht.vertical?Ee.translateTextMatrix(0,-zt):Ee.translateTextMatrix(zt*Ee.textHScale,0))}}function st(){we(),ue.initialized?(ue.hasEOL=!0,et()):de.items.push({str:"",dir:"ltr",width:0,height:0,transform:ze(),fontName:Ee.font.loadedName,hasEOL:!0})}function xt(Qe,vt,ht){if(ht*ue.spaceInFlowMin<=Qe&&Qe<=ht*ue.spaceInFlowMax)return ue.initialized&&(we(),ue.str.push(" ")),!1;const Ut=ue.fontName;let Ot=0;return ue.vertical&&(Ot=Qe,Qe=0),et(),we(),de.items.push({str:" ",dir:"ltr",width:Math.abs(Qe),height:Math.abs(Ot),transform:vt||ze(),fontName:Ut,hasEOL:!1}),!0}function et(){!ue.initialized||!ue.str||(ue.vertical?ue.totalHeight+=ue.height*ue.textAdvanceScale:ue.totalWidth+=ue.width*ue.textAdvanceScale,de.items.push(Be(ue)),ue.initialized=!1,ue.str.length=0)}function ut(Qe=!1){const vt=de.items.length;vt!==0&&(Qe&&vt<H||(te.enqueue(de,vt),de.items=[],de.styles=Object.create(null)))}const kt=new F;return new Promise(function Qe(vt,ht){const Ut=function(nt){ut(!0),Promise.all([nt,te.ready]).then(function(){try{Qe(vt,ht)}catch(it){ht(it)}},ht)};V.ensureNotTerminated(),kt.reset();const Ot={};let It,Ct=[];for(;!(It=kt.check())&&(Ct.length=0,Ot.args=Ct,!!Te.read(Ot));){Ee=Z.state;const nt=Ot.fn;switch(Ct=Ot.args,nt|0){case t.OPS.setFont:var Wt=Ct[0].name,zt=Ct[1];if(Ee.font&&Wt===Ee.fontName&&zt===Ee.fontSize)break;et(),Ee.fontName=Wt,Ee.fontSize=zt,Ut(Ne(Wt,null));return;case t.OPS.setTextRise:Ee.textRise=Ct[0];break;case t.OPS.setHScale:Ee.textHScale=Ct[0]/100;break;case t.OPS.setLeading:Ee.leading=Ct[0];break;case t.OPS.moveText:Ee.translateTextLineMatrix(Ct[0],Ct[1]),Ee.textMatrix=Ee.textLineMatrix.slice();break;case t.OPS.setLeadingMoveText:Ee.leading=-Ct[1],Ee.translateTextLineMatrix(Ct[0],Ct[1]),Ee.textMatrix=Ee.textLineMatrix.slice();break;case t.OPS.nextLine:Ee.carriageReturn();break;case t.OPS.setTextMatrix:Ee.setTextMatrix(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]),Ee.setTextLineMatrix(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]),ft();break;case t.OPS.setCharSpacing:Ee.charSpacing=Ct[0];break;case t.OPS.setWordSpacing:Ee.wordSpacing=Ct[0];break;case t.OPS.beginText:Ee.textMatrix=t.IDENTITY_MATRIX.slice(),Ee.textLineMatrix=t.IDENTITY_MATRIX.slice();break;case t.OPS.showSpacedText:if(!Z.state.font){Le.ensureStateFont(Z.state);continue}const it=(Ee.font.vertical?1:-1)*Ee.fontSize/1e3,pt=Ct[0];for(let mt=0,lt=pt.length;mt<lt-1;mt++){const yt=pt[mt];if(typeof yt=="string")Xe.push(yt);else if(typeof yt=="number"&&yt!==0){const Ft=Xe.join("");Xe.length=0,ot({chars:Ft,extraSpacing:yt*it})}}const Tt=pt.at(-1);if(typeof Tt=="string"&&Xe.push(Tt),Xe.length>0){const mt=Xe.join("");Xe.length=0,ot({chars:mt,extraSpacing:0})}break;case t.OPS.showText:if(!Z.state.font){Le.ensureStateFont(Z.state);continue}ot({chars:Ct[0],extraSpacing:0});break;case t.OPS.nextLineShowText:if(!Z.state.font){Le.ensureStateFont(Z.state);continue}Ee.carriageReturn(),ot({chars:Ct[0],extraSpacing:0});break;case t.OPS.nextLineSetSpacingShowText:if(!Z.state.font){Le.ensureStateFont(Z.state);continue}Ee.wordSpacing=Ct[0],Ee.charSpacing=Ct[1],Ee.carriageReturn(),ot({chars:Ct[2],extraSpacing:0});break;case t.OPS.paintXObject:et(),Ue||(Ue=Y.get("XObject")||ie.Dict.empty);var Je=Ct[0]instanceof ie.Name,Ve=Ct[0].name;if(Je&&$e.getByName(Ve))break;Ut(new Promise(function(mt,lt){if(!Je)throw new t.FormatError("XObject must be referred to by name.");let yt=Ue.getRaw(Ve);if(yt instanceof ie.Ref){if($e.getByRef(yt)){mt();return}if(Le.globalImageCache.getData(yt,Le.pageIndex)){mt();return}yt=qe.fetch(yt)}if(!(yt instanceof r.BaseStream))throw new t.FormatError("XObject should be a stream");const Ft=yt.dict.get("Subtype");if(!(Ft instanceof ie.Name))throw new t.FormatError("XObject should have a Name subtype");if(Ft.name!=="Form"){$e.set(Ve,yt.dict.objId,!0),mt();return}const Nt=Z.state.clone(),Dt=new ee(Nt),St=yt.dict.getArray("Matrix");Array.isArray(St)&&St.length===6&&Dt.transform(St),ut();const Re={enqueueInvoked:!1,enqueue(He,Ze){this.enqueueInvoked=!0,te.enqueue(He,Ze)},get desiredSize(){return te.desiredSize},get ready(){return te.ready}};Le.getTextContent({stream:yt,task:V,resources:yt.dict.get("Resources")||Y,stateManager:Dt,combineTextItems:q,includeMarkedContent:M,sink:Re,seenStyles:W,viewBox:ae}).then(function(){Re.enqueueInvoked||$e.set(Ve,yt.dict.objId,!0),mt()},lt)}).catch(function(mt){if(!(mt instanceof t.AbortException)){if(Le.options.ignoreErrors){(0,t.warn)(`getTextContent - ignoring XObject: "${mt}".`);return}throw mt}}));return;case t.OPS.setGState:if(Je=Ct[0]instanceof ie.Name,Ve=Ct[0].name,Je&&De.getByName(Ve))break;Ut(new Promise(function(mt,lt){if(!Je)throw new t.FormatError("GState must be referred to by name.");const yt=Y.get("ExtGState");if(!(yt instanceof ie.Dict))throw new t.FormatError("ExtGState should be a dictionary.");const Ft=yt.get(Ve);if(!(Ft instanceof ie.Dict))throw new t.FormatError("GState should be a dictionary.");const Nt=Ft.get("Font");if(!Nt){De.set(Ve,Ft.objId,!0),mt();return}et(),Ee.fontName=null,Ee.fontSize=Nt[1],Ne(null,Nt[0]).then(mt,lt)}).catch(function(mt){if(!(mt instanceof t.AbortException)){if(Le.options.ignoreErrors){(0,t.warn)(`getTextContent - ignoring ExtGState: "${mt}".`);return}throw mt}}));return;case t.OPS.beginMarkedContent:et(),M&&de.items.push({type:"beginMarkedContent",tag:Ct[0]instanceof ie.Name?Ct[0].name:null});break;case t.OPS.beginMarkedContentProps:if(et(),M){let mt=null;Ct[1]instanceof ie.Dict&&(mt=Ct[1].get("MCID")),de.items.push({type:"beginMarkedContentProps",id:Number.isInteger(mt)?`${Le.idFactory.getPageObjId()}_mcid${mt}`:null,tag:Ct[0]instanceof ie.Name?Ct[0].name:null})}break;case t.OPS.endMarkedContent:et(),M&&de.items.push({type:"endMarkedContent"});break}if(de.items.length>=te.desiredSize){It=!0;break}}if(It){Ut(L);return}et(),ut(),vt()}).catch(Qe=>{if(!(Qe instanceof t.AbortException)){if(this.options.ignoreErrors){(0,t.warn)(`getTextContent - ignoring errors during "${V.name}" task: "${Qe}".`),et(),ut();return}throw Qe}})}extractDataStructures(P,V,Y){const Z=this.xref;let q;const M=this.readToUnicode(Y.toUnicode||P.get("ToUnicode")||V.get("ToUnicode"));if(Y.composite){const fe=P.get("CIDSystemInfo");fe instanceof ie.Dict&&(Y.cidSystemInfo={registry:(0,t.stringToPDFString)(fe.get("Registry")),ordering:(0,t.stringToPDFString)(fe.get("Ordering")),supplement:fe.get("Supplement")});try{const de=P.get("CIDToGIDMap");de instanceof r.BaseStream&&(q=de.getBytes())}catch(de){if(!this.options.ignoreErrors)throw de;(0,t.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${de}".`)}}const te=[];let W=null,ae;if(P.has("Encoding")){if(ae=P.get("Encoding"),ae instanceof ie.Dict){if(W=ae.get("BaseEncoding"),W=W instanceof ie.Name?W.name:null,ae.has("Differences")){const fe=ae.get("Differences");let de=0;for(let ue=0,he=fe.length;ue<he;ue++){const me=Z.fetchIfRef(fe[ue]);if(typeof me=="number")de=me;else if(me instanceof ie.Name)te[de++]=me.name;else throw new t.FormatError(`Invalid entry in 'Differences' array: ${me}`)}}}else if(ae instanceof ie.Name)W=ae.name;else{const fe="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new t.FormatError(fe);(0,t.warn)(fe)}W!=="MacRomanEncoding"&&W!=="MacExpertEncoding"&&W!=="WinAnsiEncoding"&&(W=null)}if(W)Y.defaultEncoding=(0,j.getEncoding)(W);else{const fe=!!(Y.flags&e.FontFlags.Symbolic),de=!!(Y.flags&e.FontFlags.Nonsymbolic);ae=j.StandardEncoding,Y.type==="TrueType"&&!de&&(ae=j.WinAnsiEncoding),fe&&(ae=j.MacRomanEncoding,(!Y.file||Y.isInternalFont)&&(/Symbol/i.test(Y.name)?ae=j.SymbolSetEncoding:/Dingbats|Wingdings/i.test(Y.name)&&(ae=j.ZapfDingbatsEncoding))),Y.defaultEncoding=ae}return Y.differences=te,Y.baseEncodingName=W,Y.hasEncoding=!!W||te.length>0,Y.dict=P,M.then(fe=>(Y.toUnicode=fe,this.buildToUnicode(Y))).then(fe=>(Y.toUnicode=fe,q&&(Y.cidToGidMap=this.readCidToGidMap(q,fe)),Y))}_simpleFontToUnicode(P,V=!1){(0,t.assert)(!P.composite,"Must be a simple font.");const Y=[],Z=P.defaultEncoding.slice(),q=P.baseEncodingName,M=P.differences;for(const W in M){const ae=M[W];ae!==".notdef"&&(Z[W]=ae)}const te=(0,K.getGlyphsUnicode)();for(const W in Z){let ae=Z[W];if(ae!==""){if(te[ae]===void 0){let fe=0;switch(ae[0]){case"G":ae.length===3&&(fe=parseInt(ae.substring(1),16));break;case"g":ae.length===5&&(fe=parseInt(ae.substring(1),16));break;case"C":case"c":if(ae.length>=3&&ae.length<=4){const ue=ae.substring(1);if(V){fe=parseInt(ue,16);break}if(fe=+ue,Number.isNaN(fe)&&Number.isInteger(parseInt(ue,16)))return this._simpleFontToUnicode(P,!0)}break;default:const de=(0,T.getUnicodeForGlyph)(ae,te);de!==-1&&(fe=de)}if(fe>0&&fe<=1114111&&Number.isInteger(fe)){if(q&&fe===+W){const de=(0,j.getEncoding)(q);if(de&&(ae=de[W])){Y[W]=String.fromCharCode(te[ae]);continue}}Y[W]=String.fromCodePoint(fe)}continue}Y[W]=String.fromCharCode(te[ae])}}return Y}async buildToUnicode(P){if(P.hasIncludedToUnicodeMap=!!P.toUnicode&&P.toUnicode.length>0,P.hasIncludedToUnicodeMap)return!P.composite&&P.hasEncoding&&(P.fallbackToUnicode=this._simpleFontToUnicode(P)),P.toUnicode;if(!P.composite)return new y.ToUnicodeMap(this._simpleFontToUnicode(P));if(P.composite&&(P.cMap.builtInCMap&&!(P.cMap instanceof m.IdentityCMap)||P.cidSystemInfo.registry==="Adobe"&&(P.cidSystemInfo.ordering==="GB1"||P.cidSystemInfo.ordering==="CNS1"||P.cidSystemInfo.ordering==="Japan1"||P.cidSystemInfo.ordering==="Korea1"))){const{registry:V,ordering:Y}=P.cidSystemInfo,Z=ie.Name.get(`${V}-${Y}-UCS2`),q=await m.CMapFactory.create({encoding:Z,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),M=[];return P.cMap.forEach(function(te,W){if(W>65535)throw new t.FormatError("Max size of CID is 65,535");const ae=q.lookup(W);ae&&(M[te]=String.fromCharCode((ae.charCodeAt(0)<<8)+ae.charCodeAt(1)))}),new y.ToUnicodeMap(M)}return new y.IdentityToUnicodeMap(P.firstChar,P.lastChar)}readToUnicode(P){return P?P instanceof ie.Name?m.CMapFactory.create({encoding:P,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(V){return V instanceof m.IdentityCMap?new y.IdentityToUnicodeMap(0,65535):new y.ToUnicodeMap(V.getMap())}):P instanceof r.BaseStream?m.CMapFactory.create({encoding:P,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(V){if(V instanceof m.IdentityCMap)return new y.IdentityToUnicodeMap(0,65535);const Y=new Array(V.length);return V.forEach(function(Z,q){if(typeof q=="number"){Y[Z]=String.fromCodePoint(q);return}const M=[];for(let te=0;te<q.length;te+=2){const W=q.charCodeAt(te)<<8|q.charCodeAt(te+1);if((W&63488)!==55296){M.push(W);continue}te+=2;const ae=q.charCodeAt(te)<<8|q.charCodeAt(te+1);M.push(((W&1023)<<10)+(ae&1023)+65536)}Y[Z]=String.fromCodePoint(...M)}),new y.ToUnicodeMap(Y)},V=>{if(V instanceof t.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,t.warn)(`readToUnicode - ignoring ToUnicode data: "${V}".`),null;throw V}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(P,V){const Y=[];for(let Z=0,q=P.length;Z<q;Z++){const M=P[Z++]<<8|P[Z],te=Z>>1;M===0&&!V.has(te)||(Y[te]=M)}return Y}extractWidths(P,V,Y){const Z=this.xref;let q=[],M=0;const te=[];let W,ae,fe,de,ue,he,me,xe;if(Y.composite){if(M=P.has("DW")?P.get("DW"):1e3,xe=P.get("W"),xe)for(ae=0,fe=xe.length;ae<fe;ae++)if(he=Z.fetchIfRef(xe[ae++]),me=Z.fetchIfRef(xe[ae]),Array.isArray(me))for(de=0,ue=me.length;de<ue;de++)q[he++]=Z.fetchIfRef(me[de]);else{const Fe=Z.fetchIfRef(xe[++ae]);for(de=he;de<=me;de++)q[de]=Fe}if(Y.vertical){let Fe=P.getArray("DW2")||[880,-1e3];if(W=[Fe[1],M*.5,Fe[0]],Fe=P.get("W2"),Fe)for(ae=0,fe=Fe.length;ae<fe;ae++)if(he=Z.fetchIfRef(Fe[ae++]),me=Z.fetchIfRef(Fe[ae]),Array.isArray(me))for(de=0,ue=me.length;de<ue;de++)te[he++]=[Z.fetchIfRef(me[de++]),Z.fetchIfRef(me[de++]),Z.fetchIfRef(me[de])];else{const Oe=[Z.fetchIfRef(Fe[++ae]),Z.fetchIfRef(Fe[++ae]),Z.fetchIfRef(Fe[++ae])];for(de=he;de<=me;de++)te[de]=Oe}}}else{const Fe=Y.firstChar;if(xe=P.get("Widths"),xe){for(de=Fe,ae=0,fe=xe.length;ae<fe;ae++)q[de++]=Z.fetchIfRef(xe[ae]);M=parseFloat(V.get("MissingWidth"))||0}else{const Oe=P.get("BaseFont");if(Oe instanceof ie.Name){const Ie=this.getBaseFontMetrics(Oe.name);q=this.buildCharCodeToWidth(Ie.widths,Y),M=Ie.defaultWidth}}}let we=!0,Ce=M;for(const Fe in q){const Oe=q[Fe];if(Oe){if(!Ce){Ce=Oe;continue}if(Ce!==Oe){we=!1;break}}}we&&(Y.flags|=e.FontFlags.FixedPitch),Y.defaultWidth=M,Y.widths=q,Y.defaultVMetrics=W,Y.vmetrics=te}isSerifFont(P){const V=P.split("-")[0];return V in(0,f.getSerifFonts)()||V.search(/serif/gi)!==-1}getBaseFontMetrics(P){let V=0,Y=Object.create(null),Z=!1,M=(0,f.getStdFontMap)()[P]||P;const te=(0,G.getMetrics)();M in te||(this.isSerifFont(P)?M="Times-Roman":M="Helvetica");const W=te[M];return typeof W=="number"?(V=W,Z=!0):Y=W(),{defaultWidth:V,monospace:Z,widths:Y}}buildCharCodeToWidth(P,V){const Y=Object.create(null),Z=V.differences,q=V.defaultEncoding;for(let M=0;M<256;M++){if(M in Z&&P[Z[M]]){Y[M]=P[Z[M]];continue}if(M in q&&P[q[M]]){Y[M]=P[q[M]];continue}}return Y}preEvaluateFont(P){const V=P;let Y=P.get("Subtype");if(!(Y instanceof ie.Name))throw new t.FormatError("invalid font Subtype");let Z=!1,q,M;if(Y.name==="Type0"){const fe=P.get("DescendantFonts");if(!fe)throw new t.FormatError("Descendant fonts are not specified");if(P=Array.isArray(fe)?this.xref.fetchIfRef(fe[0]):fe,!(P instanceof ie.Dict))throw new t.FormatError("Descendant font is not a dictionary.");if(Y=P.get("Subtype"),!(Y instanceof ie.Name))throw new t.FormatError("invalid font Subtype");Z=!0}const te=P.get("FirstChar")||0,W=P.get("LastChar")||(Z?65535:255),ae=P.get("FontDescriptor");if(ae){q=new O.MurmurHash3_64;const fe=V.getRaw("Encoding");if(fe instanceof ie.Name)q.update(fe.name);else if(fe instanceof ie.Ref)q.update(fe.toString());else if(fe instanceof ie.Dict){for(const ue of fe.getRawValues())if(ue instanceof ie.Name)q.update(ue.name);else if(ue instanceof ie.Ref)q.update(ue.toString());else if(Array.isArray(ue)){const he=ue.length,me=new Array(he);for(let xe=0;xe<he;xe++){const we=ue[xe];we instanceof ie.Name?me[xe]=we.name:(typeof we=="number"||we instanceof ie.Ref)&&(me[xe]=we.toString())}q.update(me.join())}}if(q.update(`${te}-${W}`),M=P.get("ToUnicode")||V.get("ToUnicode"),M instanceof r.BaseStream){const ue=M.str||M,he=ue.buffer?new Uint8Array(ue.buffer.buffer,0,ue.bufferLength):new Uint8Array(ue.bytes.buffer,ue.start,ue.end-ue.start);q.update(he)}else M instanceof ie.Name&&q.update(M.name);const de=P.get("Widths")||V.get("Widths");if(Array.isArray(de)){const ue=[];for(const he of de)(typeof he=="number"||he instanceof ie.Ref)&&ue.push(he.toString());q.update(ue.join())}if(Z){q.update("compositeFont");const ue=P.get("W")||V.get("W");if(Array.isArray(ue)){const me=[];for(const xe of ue)if(typeof xe=="number"||xe instanceof ie.Ref)me.push(xe.toString());else if(Array.isArray(xe)){const we=[];for(const Ce of xe)(typeof Ce=="number"||Ce instanceof ie.Ref)&&we.push(Ce.toString());me.push(`[${we.join()}]`)}q.update(me.join())}const he=P.getRaw("CIDToGIDMap")||V.getRaw("CIDToGIDMap");he instanceof ie.Name?q.update(he.name):he instanceof ie.Ref?q.update(he.toString()):he instanceof r.BaseStream&&q.update(he.peekBytes())}}return{descriptor:ae,dict:P,baseDict:V,composite:Z,type:Y.name,firstChar:te,lastChar:W,toUnicode:M,hash:q?q.hexdigest():""}}async translateFont({descriptor:P,dict:V,baseDict:Y,composite:Z,type:q,firstChar:M,lastChar:te,toUnicode:W,cssFontInfo:ae}){const fe=q==="Type3";let de;if(!P)if(fe)P=new ie.Dict(null),P.set("FontName",ie.Name.get(q)),P.set("FontBBox",V.getArray("FontBBox")||[0,0,0,0]);else{let Le=V.get("BaseFont");if(!(Le instanceof ie.Name))throw new t.FormatError("Base font is not specified");Le=Le.name.replace(/[,_]/g,"-");const qe=this.getBaseFontMetrics(Le),Xe=Le.split("-")[0],Ue=(this.isSerifFont(Xe)?e.FontFlags.Serif:0)|(qe.monospace?e.FontFlags.FixedPitch:0)|((0,f.getSymbolsFonts)()[Xe]?e.FontFlags.Symbolic:e.FontFlags.Nonsymbolic);de={type:q,name:Le,loadedName:Y.loadedName,widths:qe.widths,defaultWidth:qe.defaultWidth,isSimulatedFlags:!0,flags:Ue,firstChar:M,lastChar:te,toUnicode:W,xHeight:0,capHeight:0,italicAngle:0,isType3Font:fe};const $e=V.get("Widths"),De=(0,f.getStandardFontName)(Le);let Te=null;return De&&(de.isStandardFont=!0,Te=await this.fetchStandardFontData(De),de.isInternalFont=!!Te),this.extractDataStructures(V,V,de).then(Ee=>{if($e){const ze=[];let tt=M;for(let ft=0,Be=$e.length;ft<Be;ft++)ze[tt++]=this.xref.fetchIfRef($e[ft]);Ee.widths=ze}else Ee.widths=this.buildCharCodeToWidth(qe.widths,Ee);return new z.Font(Le,Te,Ee)})}let ue=P.get("FontName"),he=V.get("BaseFont");if(typeof ue=="string"&&(ue=ie.Name.get(ue)),typeof he=="string"&&(he=ie.Name.get(he)),!fe){const Le=ue&&ue.name,qe=he&&he.name;Le!==qe&&((0,t.info)(`The FontDescriptor's FontName is "${Le}" but should be the same as the Font's BaseFont "${qe}".`),Le&&qe&&qe.startsWith(Le)&&(ue=he))}if(ue=ue||he,!(ue instanceof ie.Name))throw new t.FormatError("invalid font name");let me,xe,we,Ce,Fe;try{me=P.get("FontFile","FontFile2","FontFile3")}catch(Le){if(!this.options.ignoreErrors)throw Le;(0,t.warn)(`translateFont - fetching "${ue.name}" font file: "${Le}".`),me=new s.NullStream}let Oe=!1,Ie=!1,Me=null;if(me){if(me.dict){const Le=me.dict.get("Subtype");Le instanceof ie.Name&&(xe=Le.name),we=me.dict.get("Length1"),Ce=me.dict.get("Length2"),Fe=me.dict.get("Length3")}}else if(ae){const Le=(0,_.getXfaFontName)(ue.name);Le&&(ae.fontFamily=`${ae.fontFamily}-PdfJS-XFA`,ae.metrics=Le.metrics||null,Me=Le.factors||null,me=await this.fetchStandardFontData(Le.name),Ie=!!me,Y=V=(0,_.getXfaFontDict)(ue.name),Z=!0)}else if(!fe){const Le=(0,f.getStandardFontName)(ue.name);Le&&(Oe=!0,me=await this.fetchStandardFontData(Le),Ie=!!me)}if(de={type:q,name:ue.name,subtype:xe,file:me,length1:we,length2:Ce,length3:Fe,isStandardFont:Oe,isInternalFont:Ie,loadedName:Y.loadedName,composite:Z,fixedPitch:!1,fontMatrix:V.getArray("FontMatrix")||t.FONT_IDENTITY_MATRIX,firstChar:M,lastChar:te,toUnicode:W,bbox:P.getArray("FontBBox")||V.getArray("FontBBox"),ascent:P.get("Ascent"),descent:P.get("Descent"),xHeight:P.get("XHeight")||0,capHeight:P.get("CapHeight")||0,flags:P.get("Flags"),italicAngle:P.get("ItalicAngle")||0,isType3Font:fe,cssFontInfo:ae,scaleFactors:Me},Z){const Le=Y.get("Encoding");Le instanceof ie.Name&&(de.cidEncoding=Le.name);const qe=await m.CMapFactory.create({encoding:Le,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});de.cMap=qe,de.vertical=de.cMap.vertical}return this.extractDataStructures(V,Y,de).then(Le=>(this.extractWidths(V,P,Le),new z.Font(ue.name,me,Le)))}static buildFontPaths(P,V,Y,Z){function q(M){const te=`${P.loadedName}_path_${M}`;try{if(P.renderer.hasBuiltPath(M))return;Y.send("commonobj",[te,"FontPath",P.renderer.getPathJs(M)])}catch(W){if(Z.ignoreErrors){Y.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontBuildPath}),(0,t.warn)(`buildFontPaths - ignoring ${te} glyph: "${W}".`);return}throw W}}for(const M of V){q(M.fontChar);const te=M.accent;te&&te.fontChar&&q(te.fontChar)}}static get fallbackFontDict(){const P=new ie.Dict;return P.set("BaseFont",ie.Name.get("PDFJS-FallbackFont")),P.set("Type",ie.Name.get("FallbackType")),P.set("Subtype",ie.Name.get("FallbackType")),P.set("Encoding",ie.Name.get("WinAnsiEncoding")),(0,t.shadow)(this,"fallbackFontDict",P)}}A.PartialEvaluator=k;class U{constructor({loadedName:P,font:V,dict:Y,evaluatorOptions:Z}){this.loadedName=P,this.font=V,this.dict=Y,this._evaluatorOptions=Z||o,this.type3Loaded=null,this.type3Dependencies=V.isType3Font?new Set:null,this.sent=!1}send(P){this.sent||(this.sent=!0,P.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(P){this.font.data&&(this.font.disableFontFace=!0,k.buildFontPaths(this.font,this.font.glyphCacheValues,P,this._evaluatorOptions))}loadType3Data(P,V,Y){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const Z=P.clone({ignoreErrors:!1});Z.parsingType3Font=!0;const q=new ie.RefSet(P.type3FontRefs);this.dict.objId&&!q.has(this.dict.objId)&&q.put(this.dict.objId),Z.type3FontRefs=q;const M=this.font,te=this.type3Dependencies;let W=Promise.resolve();const ae=this.dict.get("CharProcs"),fe=this.dict.get("Resources")||V,de=Object.create(null),ue=t.Util.normalizeRect(M.bbox||[0,0,0,0]),he=ue[2]-ue[0],me=ue[3]-ue[1],xe=Math.hypot(he,me);for(const we of ae.getKeys())W=W.then(()=>{const Ce=ae.get(we),Fe=new w.OperatorList;return Z.getOperatorList({stream:Ce,task:Y,resources:fe,operatorList:Fe}).then(()=>{Fe.fnArray[0]===t.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Fe,xe),de[we]=Fe.getIR();for(const Oe of Fe.dependencies)te.add(Oe)}).catch(function(Oe){(0,t.warn)(`Type3 font resource "${we}" is not available.`);const Ie=new w.OperatorList;de[we]=Ie.getIR()})});return this.type3Loaded=W.then(()=>{M.charProcOperatorList=de,this._bbox&&(M.isCharBBox=!0,M.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(P,V=NaN){const Y=t.Util.normalizeRect(P.argsArray[0].slice(2)),Z=Y[2]-Y[0],q=Y[3]-Y[1],M=Math.hypot(Z,q);Z===0||q===0?(P.fnArray.splice(0,1),P.argsArray.splice(0,1)):(V===0||Math.round(M/V)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],Y[0]),this._bbox[1]=Math.min(this._bbox[1],Y[1]),this._bbox[2]=Math.max(this._bbox[2],Y[2]),this._bbox[3]=Math.max(this._bbox[3],Y[3]));let te=0,W=P.length;for(;te<W;){switch(P.fnArray[te]){case t.OPS.setCharWidthAndBounds:break;case t.OPS.setStrokeColorSpace:case t.OPS.setFillColorSpace:case t.OPS.setStrokeColor:case t.OPS.setStrokeColorN:case t.OPS.setFillColor:case t.OPS.setFillColorN:case t.OPS.setStrokeGray:case t.OPS.setFillGray:case t.OPS.setStrokeRGBColor:case t.OPS.setFillRGBColor:case t.OPS.setStrokeCMYKColor:case t.OPS.setFillCMYKColor:case t.OPS.shadingFill:case t.OPS.setRenderingIntent:P.fnArray.splice(te,1),P.argsArray.splice(te,1),W--;continue;case t.OPS.setGState:const[ae]=P.argsArray[te];let fe=0,de=ae.length;for(;fe<de;){const[ue]=ae[fe];switch(ue){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":ae.splice(fe,1),de--;continue}fe++}break}te++}}}class ee{constructor(P=new I){this.state=P,this.stateStack=[]}save(){const P=this.state;this.stateStack.push(this.state),this.state=P.clone()}restore(){const P=this.stateStack.pop();P&&(this.state=P)}transform(P){this.state.ctm=t.Util.transform(this.state.ctm,P)}}class J{constructor(){this.ctm=new Float32Array(t.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=t.FONT_IDENTITY_MATRIX,this.textMatrix=t.IDENTITY_MATRIX.slice(),this.textLineMatrix=t.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(P,V,Y,Z,q,M){const te=this.textMatrix;te[0]=P,te[1]=V,te[2]=Y,te[3]=Z,te[4]=q,te[5]=M}setTextLineMatrix(P,V,Y,Z,q,M){const te=this.textLineMatrix;te[0]=P,te[1]=V,te[2]=Y,te[3]=Z,te[4]=q,te[5]=M}translateTextMatrix(P,V){const Y=this.textMatrix;Y[4]=Y[0]*P+Y[2]*V+Y[4],Y[5]=Y[1]*P+Y[3]*V+Y[5]}translateTextLineMatrix(P,V){const Y=this.textLineMatrix;Y[4]=Y[0]*P+Y[2]*V+Y[4],Y[5]=Y[1]*P+Y[3]*V+Y[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const P=Object.create(this);return P.textMatrix=this.textMatrix.slice(),P.textLineMatrix=this.textLineMatrix.slice(),P.fontMatrix=this.fontMatrix.slice(),P}}class I{constructor(){this.ctm=new Float32Array(t.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=t.TextRenderingMode.FILL,this.fillColorSpace=c.ColorSpace.singletons.gray,this.strokeColorSpace=c.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class X{static get opMap(){const P=(0,g.getLookupTableFactory)(function(V){V.w={id:t.OPS.setLineWidth,numArgs:1,variableArgs:!1},V.J={id:t.OPS.setLineCap,numArgs:1,variableArgs:!1},V.j={id:t.OPS.setLineJoin,numArgs:1,variableArgs:!1},V.M={id:t.OPS.setMiterLimit,numArgs:1,variableArgs:!1},V.d={id:t.OPS.setDash,numArgs:2,variableArgs:!1},V.ri={id:t.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},V.i={id:t.OPS.setFlatness,numArgs:1,variableArgs:!1},V.gs={id:t.OPS.setGState,numArgs:1,variableArgs:!1},V.q={id:t.OPS.save,numArgs:0,variableArgs:!1},V.Q={id:t.OPS.restore,numArgs:0,variableArgs:!1},V.cm={id:t.OPS.transform,numArgs:6,variableArgs:!1},V.m={id:t.OPS.moveTo,numArgs:2,variableArgs:!1},V.l={id:t.OPS.lineTo,numArgs:2,variableArgs:!1},V.c={id:t.OPS.curveTo,numArgs:6,variableArgs:!1},V.v={id:t.OPS.curveTo2,numArgs:4,variableArgs:!1},V.y={id:t.OPS.curveTo3,numArgs:4,variableArgs:!1},V.h={id:t.OPS.closePath,numArgs:0,variableArgs:!1},V.re={id:t.OPS.rectangle,numArgs:4,variableArgs:!1},V.S={id:t.OPS.stroke,numArgs:0,variableArgs:!1},V.s={id:t.OPS.closeStroke,numArgs:0,variableArgs:!1},V.f={id:t.OPS.fill,numArgs:0,variableArgs:!1},V.F={id:t.OPS.fill,numArgs:0,variableArgs:!1},V["f*"]={id:t.OPS.eoFill,numArgs:0,variableArgs:!1},V.B={id:t.OPS.fillStroke,numArgs:0,variableArgs:!1},V["B*"]={id:t.OPS.eoFillStroke,numArgs:0,variableArgs:!1},V.b={id:t.OPS.closeFillStroke,numArgs:0,variableArgs:!1},V["b*"]={id:t.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},V.n={id:t.OPS.endPath,numArgs:0,variableArgs:!1},V.W={id:t.OPS.clip,numArgs:0,variableArgs:!1},V["W*"]={id:t.OPS.eoClip,numArgs:0,variableArgs:!1},V.BT={id:t.OPS.beginText,numArgs:0,variableArgs:!1},V.ET={id:t.OPS.endText,numArgs:0,variableArgs:!1},V.Tc={id:t.OPS.setCharSpacing,numArgs:1,variableArgs:!1},V.Tw={id:t.OPS.setWordSpacing,numArgs:1,variableArgs:!1},V.Tz={id:t.OPS.setHScale,numArgs:1,variableArgs:!1},V.TL={id:t.OPS.setLeading,numArgs:1,variableArgs:!1},V.Tf={id:t.OPS.setFont,numArgs:2,variableArgs:!1},V.Tr={id:t.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},V.Ts={id:t.OPS.setTextRise,numArgs:1,variableArgs:!1},V.Td={id:t.OPS.moveText,numArgs:2,variableArgs:!1},V.TD={id:t.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},V.Tm={id:t.OPS.setTextMatrix,numArgs:6,variableArgs:!1},V["T*"]={id:t.OPS.nextLine,numArgs:0,variableArgs:!1},V.Tj={id:t.OPS.showText,numArgs:1,variableArgs:!1},V.TJ={id:t.OPS.showSpacedText,numArgs:1,variableArgs:!1},V["'"]={id:t.OPS.nextLineShowText,numArgs:1,variableArgs:!1},V['"']={id:t.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},V.d0={id:t.OPS.setCharWidth,numArgs:2,variableArgs:!1},V.d1={id:t.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},V.CS={id:t.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},V.cs={id:t.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},V.SC={id:t.OPS.setStrokeColor,numArgs:4,variableArgs:!0},V.SCN={id:t.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},V.sc={id:t.OPS.setFillColor,numArgs:4,variableArgs:!0},V.scn={id:t.OPS.setFillColorN,numArgs:33,variableArgs:!0},V.G={id:t.OPS.setStrokeGray,numArgs:1,variableArgs:!1},V.g={id:t.OPS.setFillGray,numArgs:1,variableArgs:!1},V.RG={id:t.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},V.rg={id:t.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},V.K={id:t.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},V.k={id:t.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},V.sh={id:t.OPS.shadingFill,numArgs:1,variableArgs:!1},V.BI={id:t.OPS.beginInlineImage,numArgs:0,variableArgs:!1},V.ID={id:t.OPS.beginImageData,numArgs:0,variableArgs:!1},V.EI={id:t.OPS.endInlineImage,numArgs:1,variableArgs:!1},V.Do={id:t.OPS.paintXObject,numArgs:1,variableArgs:!1},V.MP={id:t.OPS.markPoint,numArgs:1,variableArgs:!1},V.DP={id:t.OPS.markPointProps,numArgs:2,variableArgs:!1},V.BMC={id:t.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},V.BDC={id:t.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},V.EMC={id:t.OPS.endMarkedContent,numArgs:0,variableArgs:!1},V.BX={id:t.OPS.beginCompat,numArgs:0,variableArgs:!1},V.EX={id:t.OPS.endCompat,numArgs:0,variableArgs:!1},V.BM=null,V.BD=null,V.true=null,V.fa=null,V.fal=null,V.fals=null,V.false=null,V.nu=null,V.nul=null,V.null=null});return(0,t.shadow)(this,"opMap",P())}static get MAX_INVALID_PATH_OPS(){return(0,t.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(P,V,Y=new ee){this.parser=new u.Parser({lexer:new u.Lexer(P,X.opMap),xref:V}),this.stateManager=Y,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(P){let V=P.args;for(;;){const Y=this.parser.getObj();if(Y instanceof ie.Cmd){const Z=Y.cmd,q=X.opMap[Z];if(!q){(0,t.warn)(`Unknown command "${Z}".`);continue}const M=q.id,te=q.numArgs;let W=V!==null?V.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=M>=t.OPS.moveTo&&M<=t.OPS.endPath,q.variableArgs)W>te&&(0,t.info)(`Command ${Z}: expected [0, ${te}] args, but received ${W} args.`);else{if(W!==te){const ae=this.nonProcessedArgs;for(;W>te;)ae.push(V.shift()),W--;for(;W<te&&ae.length!==0;)V===null&&(V=[]),V.unshift(ae.pop()),W++}if(W<te){const ae=`command ${Z}: expected ${te} args, but received ${W} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>X.MAX_INVALID_PATH_OPS)throw new t.FormatError(`Invalid ${ae}`);(0,t.warn)(`Skipping ${ae}`),V!==null&&(V.length=0);continue}}return this.preprocessCommand(M,V),P.fn=M,P.args=V,!0}if(Y===ie.EOF)return!1;if(Y!==null&&(V===null&&(V=[]),V.push(Y),V.length>33))throw new t.FormatError("Too many arguments")}}preprocessCommand(P,V){switch(P|0){case t.OPS.save:this.stateManager.save();break;case t.OPS.restore:this.stateManager.restore();break;case t.OPS.transform:this.stateManager.transform(V);break}}}A.EvaluatorPreprocessor=X},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.IdentityCMap=A.CMapFactory=A.CMap=void 0;var t=se(2),m=se(5),ie=se(7),z=se(17),e=se(6),j=se(10);const f=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],T=2**24-1;class E{constructor(p=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=p}addCodespaceRange(p,s,r){this.codespaceRanges[p-1].push(s,r),this.numCodespaceRanges++}mapCidRange(p,s,r){if(s-p>T)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;p<=s;)this._map[p++]=r++}mapBfRange(p,s,r){if(s-p>T)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const l=r.length-1;for(;p<=s;){this._map[p++]=r;const c=r.charCodeAt(l)+1;if(c>255){r=r.substring(0,l-1)+String.fromCharCode(r.charCodeAt(l-1)+1)+"\0";continue}r=r.substring(0,l)+String.fromCharCode(c)}}mapBfRangeToArray(p,s,r){if(s-p>T)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const l=r.length;let c=0;for(;p<=s&&c<l;)this._map[p]=r[c++],++p}mapOne(p,s){this._map[p]=s}lookup(p){return this._map[p]}contains(p){return this._map[p]!==void 0}forEach(p){const s=this._map,r=s.length;if(r<=65536)for(let l=0;l<r;l++)s[l]!==void 0&&p(l,s[l]);else for(const l in s)p(l,s[l])}charCodeOf(p){const s=this._map;if(s.length<=65536)return s.indexOf(p);for(const r in s)if(s[r]===p)return r|0;return-1}getMap(){return this._map}readCharCode(p,s,r){let l=0;const c=this.codespaceRanges;for(let d=0,K=c.length;d<K;d++){l=(l<<8|p.charCodeAt(s+d))>>>0;const g=c[d];for(let G=0,O=g.length;G<O;){const w=g[G++],R=g[G++];if(l>=w&&l<=R){r.charcode=l,r.length=d+1;return}}}r.charcode=0,r.length=1}getCharCodeLength(p){const s=this.codespaceRanges;for(let r=0,l=s.length;r<l;r++){const c=s[r];for(let d=0,K=c.length;d<K;){const g=c[d++],G=c[d++];if(p>=g&&p<=G)return r+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let p=0;p<65536;p++)if(this._map[p]!==p)return!1;return!0}}A.CMap=E;class _ extends E{constructor(p,s){super(),this.vertical=p,this.addCodespaceRange(s,0,65535)}mapCidRange(p,s,r){(0,t.unreachable)("should not call mapCidRange")}mapBfRange(p,s,r){(0,t.unreachable)("should not call mapBfRange")}mapBfRangeToArray(p,s,r){(0,t.unreachable)("should not call mapBfRangeToArray")}mapOne(p,s){(0,t.unreachable)("should not call mapCidOne")}lookup(p){return Number.isInteger(p)&&p<=65535?p:void 0}contains(p){return Number.isInteger(p)&&p<=65535}forEach(p){for(let s=0;s<=65535;s++)p(s,s)}charCodeOf(p){return Number.isInteger(p)&&p<=65535?p:-1}getMap(){const p=new Array(65536);for(let s=0;s<=65535;s++)p[s]=s;return p}get length(){return 65536}get isIdentityCMap(){(0,t.unreachable)("should not access .isIdentityCMap")}}A.IdentityCMap=_;const y=function(){function p(G,O){let w=0;for(let R=0;R<=O;R++)w=w<<8|G[R];return w>>>0}function s(G,O){return O===1?String.fromCharCode(G[0],G[1]):O===3?String.fromCharCode(G[0],G[1],G[2],G[3]):String.fromCharCode.apply(null,G.subarray(0,O+1))}function r(G,O,w){let R=0;for(let o=w;o>=0;o--)R+=G[o]+O[o],G[o]=R&255,R>>=8}function l(G,O){let w=1;for(let R=O;R>=0&&w>0;R--)w+=G[R],G[R]=w&255,w>>=8}const c=16,d=19;class K{constructor(O){this.buffer=O,this.pos=0,this.end=O.length,this.tmpBuf=new Uint8Array(d)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let O=0,w;do{const R=this.readByte();if(R<0)throw new t.FormatError("unexpected EOF in bcmap");w=!(R&128),O=O<<7|R&127}while(!w);return O}readSigned(){const O=this.readNumber();return O&1?~(O>>>1):O>>>1}readHex(O,w){O.set(this.buffer.subarray(this.pos,this.pos+w+1)),this.pos+=w+1}readHexNumber(O,w){let R;const o=this.tmpBuf;let h=0;do{const v=this.readByte();if(v<0)throw new t.FormatError("unexpected EOF in bcmap");R=!(v&128),o[h++]=v&127}while(!R);let H=w,L=0,x=0;for(;H>=0;){for(;x<8&&o.length>0;)L|=o[--h]<<x,x+=7;O[H]=L&255,H--,L>>=8,x-=8}}readHexSigned(O,w){this.readHexNumber(O,w);const R=O[w]&1?255:0;let o=0;for(let h=0;h<=w;h++)o=(o&1)<<8|O[h],O[h]=o>>1^R}readString(){const O=this.readNumber();let w="";for(let R=0;R<O;R++)w+=String.fromCharCode(this.readNumber());return w}}class g{async process(O,w,R){const o=new K(O),h=o.readByte();w.vertical=!!(h&1);let H=null;const L=new Uint8Array(c),x=new Uint8Array(c),v=new Uint8Array(c),F=new Uint8Array(c),k=new Uint8Array(c);let U,ee;for(;(ee=o.readByte())>=0;){const J=ee>>5;if(J===7){switch(ee&31){case 0:o.readString();break;case 1:H=o.readString();break}continue}const I=!!(ee&16),X=ee&15;if(X+1>c)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const ne=1,P=o.readNumber();switch(J){case 0:o.readHex(L,X),o.readHexNumber(x,X),r(x,L,X),w.addCodespaceRange(X+1,p(L,X),p(x,X));for(let V=1;V<P;V++)l(x,X),o.readHexNumber(L,X),r(L,x,X),o.readHexNumber(x,X),r(x,L,X),w.addCodespaceRange(X+1,p(L,X),p(x,X));break;case 1:o.readHex(L,X),o.readHexNumber(x,X),r(x,L,X),o.readNumber();for(let V=1;V<P;V++)l(x,X),o.readHexNumber(L,X),r(L,x,X),o.readHexNumber(x,X),r(x,L,X),o.readNumber();break;case 2:o.readHex(v,X),U=o.readNumber(),w.mapOne(p(v,X),U);for(let V=1;V<P;V++)l(v,X),I||(o.readHexNumber(k,X),r(v,k,X)),U=o.readSigned()+(U+1),w.mapOne(p(v,X),U);break;case 3:o.readHex(L,X),o.readHexNumber(x,X),r(x,L,X),U=o.readNumber(),w.mapCidRange(p(L,X),p(x,X),U);for(let V=1;V<P;V++)l(x,X),I?L.set(x):(o.readHexNumber(L,X),r(L,x,X)),o.readHexNumber(x,X),r(x,L,X),U=o.readNumber(),w.mapCidRange(p(L,X),p(x,X),U);break;case 4:o.readHex(v,ne),o.readHex(F,X),w.mapOne(p(v,ne),s(F,X));for(let V=1;V<P;V++)l(v,ne),I||(o.readHexNumber(k,ne),r(v,k,ne)),l(F,X),o.readHexSigned(k,X),r(F,k,X),w.mapOne(p(v,ne),s(F,X));break;case 5:o.readHex(L,ne),o.readHexNumber(x,ne),r(x,L,ne),o.readHex(F,X),w.mapBfRange(p(L,ne),p(x,ne),s(F,X));for(let V=1;V<P;V++)l(x,ne),I?L.set(x):(o.readHexNumber(L,ne),r(L,x,ne)),o.readHexNumber(x,ne),r(x,L,ne),o.readHex(F,X),w.mapBfRange(p(L,ne),p(x,ne),s(F,X));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${J}`)}}return H?R(H):w}}return g}(),n=function(){function p(h){let H=0;for(let L=0;L<h.length;L++)H=H<<8|h.charCodeAt(L);return H>>>0}function s(h){if(typeof h!="string")throw new t.FormatError("Malformed CMap: expected string.")}function r(h){if(!Number.isInteger(h))throw new t.FormatError("Malformed CMap: expected int.")}function l(h,H){for(;;){let L=H.getObj();if(L===m.EOF)break;if((0,m.isCmd)(L,"endbfchar"))return;s(L);const x=p(L);L=H.getObj(),s(L);const v=L;h.mapOne(x,v)}}function c(h,H){for(;;){let L=H.getObj();if(L===m.EOF)break;if((0,m.isCmd)(L,"endbfrange"))return;s(L);const x=p(L);L=H.getObj(),s(L);const v=p(L);if(L=H.getObj(),Number.isInteger(L)||typeof L=="string"){const F=Number.isInteger(L)?String.fromCharCode(L):L;h.mapBfRange(x,v,F)}else if((0,m.isCmd)(L,"[")){L=H.getObj();const F=[];for(;!(0,m.isCmd)(L,"]")&&L!==m.EOF;)F.push(L),L=H.getObj();h.mapBfRangeToArray(x,v,F)}else break}throw new t.FormatError("Invalid bf range.")}function d(h,H){for(;;){let L=H.getObj();if(L===m.EOF)break;if((0,m.isCmd)(L,"endcidchar"))return;s(L);const x=p(L);L=H.getObj(),r(L);const v=L;h.mapOne(x,v)}}function K(h,H){for(;;){let L=H.getObj();if(L===m.EOF)break;if((0,m.isCmd)(L,"endcidrange"))return;s(L);const x=p(L);L=H.getObj(),s(L);const v=p(L);L=H.getObj(),r(L);const F=L;h.mapCidRange(x,v,F)}}function g(h,H){for(;;){let L=H.getObj();if(L===m.EOF)break;if((0,m.isCmd)(L,"endcodespacerange"))return;if(typeof L!="string")break;const x=p(L);if(L=H.getObj(),typeof L!="string")break;const v=p(L);h.addCodespaceRange(L.length,x,v)}throw new t.FormatError("Invalid codespace range.")}function G(h,H){const L=H.getObj();Number.isInteger(L)&&(h.vertical=!!L)}function O(h,H){const L=H.getObj();L instanceof m.Name&&(h.name=L.name)}async function w(h,H,L,x){let v,F;e:for(;;)try{const k=H.getObj();if(k===m.EOF)break;if(k instanceof m.Name)k.name==="WMode"?G(h,H):k.name==="CMapName"&&O(h,H),v=k;else if(k instanceof m.Cmd)switch(k.cmd){case"endcmap":break e;case"usecmap":v instanceof m.Name&&(F=v.name);break;case"begincodespacerange":g(h,H);break;case"beginbfchar":l(h,H);break;case"begincidchar":d(h,H);break;case"beginbfrange":c(h,H);break;case"begincidrange":K(h,H);break}}catch(k){if(k instanceof e.MissingDataException)throw k;(0,t.warn)("Invalid cMap data: "+k);continue}return!x&&F&&(x=F),x?R(h,L,x):h}async function R(h,H,L){if(h.useCMap=await o(L,H),h.numCodespaceRanges===0){const x=h.useCMap.codespaceRanges;for(let v=0;v<x.length;v++)h.codespaceRanges[v]=x[v].slice();h.numCodespaceRanges=h.useCMap.numCodespaceRanges}return h.useCMap.forEach(function(x,v){h.contains(x)||h.mapOne(x,h.useCMap.lookup(x))}),h}async function o(h,H){if(h==="Identity-H")return new _(!1,2);if(h==="Identity-V")return new _(!0,2);if(!f.includes(h))throw new Error("Unknown CMap name: "+h);if(!H)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:L,compressionType:x}=await H(h),v=new E(!0);if(x===t.CMapCompressionType.BINARY)return new y().process(L,v,F=>R(v,H,F));if(x===t.CMapCompressionType.NONE){const F=new z.Lexer(new j.Stream(L));return w(v,F,H,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")}return{async create(h){const H=h.encoding,L=h.fetchBuiltInCMap,x=h.useCMap;if(H instanceof m.Name)return o(H.name,L);if(H instanceof ie.BaseStream){const v=await w(new E,new z.Lexer(H),L,x);return v.isIdentityCMap?o(v.name,L):v}throw new Error("Encoding required.")}}}();A.CMapFactory=n},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Parser=A.Linearization=A.Lexer=void 0;var t=se(2),m=se(5),ie=se(6),z=se(18),e=se(20),j=se(21),f=se(23),T=se(24),E=se(27),_=se(29),y=se(31),n=se(10),u=se(32),p=se(33);const s=1e3,r=5552;function l(O){const w=O.length;let R=1,o=0;for(let h=0;h<w;++h)R+=O[h]&255,o+=R;return o%65521<<16|R%65521}class c{constructor({lexer:w,xref:R,allowStreams:o=!1,recoveryMode:h=!1}){this.lexer=w,this.xref=R,this.allowStreams=o,this.recoveryMode=h,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof m.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(w){if(w instanceof ie.MissingDataException)throw w;return!1}}getObj(w=null){const R=this.buf1;if(this.shift(),R instanceof m.Cmd)switch(R.cmd){case"BI":return this.makeInlineImage(w);case"[":const o=[];for(;!(0,m.isCmd)(this.buf1,"]")&&this.buf1!==m.EOF;)o.push(this.getObj(w));if(this.buf1===m.EOF){if(this.recoveryMode)return o;throw new ie.ParserEOFException("End of file inside array.")}return this.shift(),o;case"<<":const h=new m.Dict(this.xref);for(;!(0,m.isCmd)(this.buf1,">>")&&this.buf1!==m.EOF;){if(!(this.buf1 instanceof m.Name)){(0,t.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const H=this.buf1.name;if(this.shift(),this.buf1===m.EOF)break;h.set(H,this.getObj(w))}if(this.buf1===m.EOF){if(this.recoveryMode)return h;throw new ie.ParserEOFException("End of file inside dictionary.")}return(0,m.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(h,w):h:(this.shift(),h);default:return R}if(Number.isInteger(R)){if(Number.isInteger(this.buf1)&&(0,m.isCmd)(this.buf2,"R")){const o=m.Ref.get(R,this.buf1);return this.shift(),this.shift(),o}return R}return typeof R=="string"&&w?w.decryptString(R):R}findDefaultInlineStreamEnd(w){const v=this.lexer,F=w.pos,k=10;let U=0,ee,J;for(;(ee=w.getByte())!==-1;)if(U===0)U=ee===69?1:0;else if(U===1)U=ee===73?2:0;else if((0,t.assert)(U===2,"findDefaultInlineStreamEnd - invalid state."),ee===32||ee===10||ee===13){J=w.pos;const X=w.peekBytes(k);for(let ne=0,P=X.length;ne<P;ne++)if(ee=X[ne],!(ee===0&&X[ne+1]!==0)&&ee!==10&&ee!==13&&(ee<32||ee>127)){U=0;break}if(U!==2)continue;if(v.knownCommands){const ne=v.peekObj();ne instanceof m.Cmd&&!v.knownCommands[ne.cmd]&&(U=0)}else(0,t.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(U===2)break}else U=0;ee===-1&&((0,t.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),J&&((0,t.warn)('... trying to recover by using the last "EI" occurrence.'),w.skip(-(w.pos-J))));let I=4;return w.skip(-I),ee=w.peekByte(),w.skip(I),(0,ie.isWhiteSpace)(ee)||I--,w.pos-I-F}findDCTDecodeInlineStreamEnd(w){const R=w.pos;let o=!1,h,H;for(;(h=w.getByte())!==-1;)if(h===255){switch(w.getByte()){case 0:break;case 255:w.skip(-1);break;case 217:o=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:H=w.getUint16(),H>2?w.skip(H-2):w.skip(-2);break}if(o)break}const L=w.pos-R;return h===-1?((0,t.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),w.skip(-L),this.findDefaultInlineStreamEnd(w)):(this.inlineStreamSkipEI(w),L)}findASCII85DecodeInlineStreamEnd(w){const h=w.pos;let H;for(;(H=w.getByte())!==-1;)if(H===126){const x=w.pos;for(H=w.peekByte();(0,ie.isWhiteSpace)(H);)w.skip(),H=w.peekByte();if(H===62){w.skip();break}if(w.pos>x){const v=w.peekBytes(2);if(v[0]===69&&v[1]===73)break}}const L=w.pos-h;return H===-1?((0,t.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),w.skip(-L),this.findDefaultInlineStreamEnd(w)):(this.inlineStreamSkipEI(w),L)}findASCIIHexDecodeInlineStreamEnd(w){const o=w.pos;let h;for(;(h=w.getByte())!==-1&&h!==62;);const H=w.pos-o;return h===-1?((0,t.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),w.skip(-H),this.findDefaultInlineStreamEnd(w)):(this.inlineStreamSkipEI(w),H)}inlineStreamSkipEI(w){let h=0,H;for(;(H=w.getByte())!==-1;)if(h===0)h=H===69?1:0;else if(h===1)h=H===73?2:0;else if(h===2)break}makeInlineImage(w){const R=this.lexer,o=R.stream,h=new m.Dict(this.xref);let H;for(;!(0,m.isCmd)(this.buf1,"ID")&&this.buf1!==m.EOF;){if(!(this.buf1 instanceof m.Name))throw new t.FormatError("Dictionary key must be a name object");const ee=this.buf1.name;if(this.shift(),this.buf1===m.EOF)break;h.set(ee,this.getObj(w))}R.beginInlineImagePos!==-1&&(H=o.pos-R.beginInlineImagePos);const L=h.get("F","Filter");let x;if(L instanceof m.Name)x=L.name;else if(Array.isArray(L)){const ee=this.xref.fetchIfRef(L[0]);ee instanceof m.Name&&(x=ee.name)}const v=o.pos;let F;switch(x){case"DCT":case"DCTDecode":F=this.findDCTDecodeInlineStreamEnd(o);break;case"A85":case"ASCII85Decode":F=this.findASCII85DecodeInlineStreamEnd(o);break;case"AHx":case"ASCIIHexDecode":F=this.findASCIIHexDecodeInlineStreamEnd(o);break;default:F=this.findDefaultInlineStreamEnd(o)}let k=o.makeSubStream(v,F,h),U;if(F<s&&H<r){const ee=k.getBytes();k.reset();const J=o.pos;o.pos=R.beginInlineImagePos;const I=o.getBytes(H);o.pos=J,U=l(ee)+"_"+l(I);const X=this.imageCache[U];if(X!==void 0)return this.buf2=m.Cmd.get("EI"),this.shift(),X.reset(),X}return w&&(k=w.createStream(k,F)),k=this.filter(k,h,F),k.dict=h,U!==void 0&&(k.cacheKey=`inline_${F}_${U}`,this.imageCache[U]=k),this.buf2=m.Cmd.get("EI"),this.shift(),k}_findStreamLength(w,R){const{stream:o}=this.lexer;o.pos=w;const h=2048,H=R.length;for(;o.pos<o.end;){const L=o.peekBytes(h),x=L.length-H;if(x<=0)break;let v=0;for(;v<x;){let F=0;for(;F<H&&L[v+F]===R[F];)F++;if(F>=H)return o.pos+=v,o.pos-w;v++}o.pos+=x}return-1}makeStream(w,R){const o=this.lexer;let h=o.stream;o.skipToNextLine();const H=h.pos-1;let L=w.get("Length");if(Number.isInteger(L)||((0,t.info)(`Bad length "${L&&L.toString()}" in stream.`),L=0),h.pos=H+L,o.nextChar(),this.tryShift()&&(0,m.isCmd)(this.buf2,"endstream"))this.shift();else{const x=new Uint8Array([101,110,100,115,116,114,101,97,109]);let v=this._findStreamLength(H,x);if(v<0){for(let k=1;k<=1;k++){const U=x.length-k,ee=x.slice(0,U),J=this._findStreamLength(H,ee);if(J>=0){const I=h.peekBytes(U+1)[U];if(!(0,ie.isWhiteSpace)(I))break;(0,t.info)(`Found "${(0,t.bytesToString)(ee)}" when searching for endstream command.`),v=J;break}}if(v<0)throw new t.FormatError("Missing endstream command.")}L=v,o.nextChar(),this.shift(),this.shift()}return this.shift(),h=h.makeSubStream(H,L,w),R&&(h=R.createStream(h,L)),h=this.filter(h,w,L),h.dict=w,h}filter(w,R,o){let h=R.get("F","Filter"),H=R.get("DP","DecodeParms");if(h instanceof m.Name)return Array.isArray(H)&&(0,t.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(w,h.name,o,H);let L=o;if(Array.isArray(h)){const x=h,v=H;for(let F=0,k=x.length;F<k;++F){if(h=this.xref.fetchIfRef(x[F]),!(h instanceof m.Name))throw new t.FormatError(`Bad filter name "${h}"`);H=null,Array.isArray(v)&&F in v&&(H=this.xref.fetchIfRef(v[F])),w=this.makeFilter(w,h.name,L,H),L=null}}return w}makeFilter(w,R,o,h){if(o===0)return(0,t.warn)(`Empty "${R}" stream.`),new n.NullStream;const H=this.xref.stats;try{switch(R){case"Fl":case"FlateDecode":return H.addStreamType(t.StreamType.FLATE),h?new u.PredictorStream(new f.FlateStream(w,o),o,h):new f.FlateStream(w,o);case"LZW":case"LZWDecode":H.addStreamType(t.StreamType.LZW);let L=1;return h?(h.has("EarlyChange")&&(L=h.get("EarlyChange")),new u.PredictorStream(new y.LZWStream(w,o,L),o,h)):new y.LZWStream(w,o,L);case"DCT":case"DCTDecode":return H.addStreamType(t.StreamType.DCT),new E.JpegStream(w,o,h);case"JPX":case"JPXDecode":return H.addStreamType(t.StreamType.JPX),new _.JpxStream(w,o,h);case"A85":case"ASCII85Decode":return H.addStreamType(t.StreamType.A85),new z.Ascii85Stream(w,o);case"AHx":case"ASCIIHexDecode":return H.addStreamType(t.StreamType.AHX),new e.AsciiHexStream(w,o);case"CCF":case"CCITTFaxDecode":return H.addStreamType(t.StreamType.CCF),new j.CCITTFaxStream(w,o,h);case"RL":case"RunLengthDecode":return H.addStreamType(t.StreamType.RLX),new p.RunLengthStream(w,o);case"JBIG2Decode":return H.addStreamType(t.StreamType.JBIG),new T.Jbig2Stream(w,o,h)}return(0,t.warn)(`Filter "${R}" is not supported.`),w}catch(L){if(L instanceof ie.MissingDataException)throw L;return(0,t.warn)(`Invalid stream: "${L}"`),new n.NullStream}}}A.Parser=c;const d=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function K(O){return O>=48&&O<=57?O&15:O>=65&&O<=70||O>=97&&O<=102?(O&15)+9:-1}class g{constructor(w,R=null){this.stream=w,this.nextChar(),this.strBuf=[],this.knownCommands=R,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let w=this.currentChar,R=!1,o=0,h=0;if(w===45?(h=-1,w=this.nextChar(),w===45&&(w=this.nextChar())):w===43&&(h=1,w=this.nextChar()),w===10||w===13)do w=this.nextChar();while(w===10||w===13);if(w===46&&(o=10,w=this.nextChar()),w<48||w>57){if((0,ie.isWhiteSpace)(w)||w===-1){if(o===10&&h===0)return(0,t.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;if(o===0&&h===-1)return(0,t.warn)("Lexer.getNumber - treating a single minus sign as zero."),0}throw new t.FormatError(`Invalid number: ${String.fromCharCode(w)} (charCode ${w})`)}h=h||1;let H=w-48,L=0,x=1;for(;(w=this.nextChar())>=0;)if(w>=48&&w<=57){const v=w-48;R?L=L*10+v:(o!==0&&(o*=10),H=H*10+v)}else if(w===46)if(o===0)o=1;else break;else if(w===45)(0,t.warn)("Badly formatted number: minus sign in the middle");else if(w===69||w===101){if(w=this.peekChar(),w===43||w===45)x=w===45?-1:1,this.nextChar();else if(w<48||w>57)break;R=!0}else break;return o!==0&&(H/=o),R&&(H*=10**(x*L)),h*H}getString(){let w=1,R=!1;const o=this.strBuf;o.length=0;let h=this.nextChar();for(;;){let H=!1;switch(h|0){case-1:(0,t.warn)("Unterminated string"),R=!0;break;case 40:++w,o.push("(");break;case 41:--w===0?(this.nextChar(),R=!0):o.push(")");break;case 92:switch(h=this.nextChar(),h){case-1:(0,t.warn)("Unterminated string"),R=!0;break;case 110:o.push(`
`);break;case 114:o.push("\r");break;case 116:o.push("	");break;case 98:o.push("\b");break;case 102:o.push("\f");break;case 92:case 40:case 41:o.push(String.fromCharCode(h));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let L=h&15;h=this.nextChar(),H=!0,h>=48&&h<=55&&(L=(L<<3)+(h&15),h=this.nextChar(),h>=48&&h<=55&&(H=!1,L=(L<<3)+(h&15))),o.push(String.fromCharCode(L));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:o.push(String.fromCharCode(h));break}break;default:o.push(String.fromCharCode(h));break}if(R)break;H||(h=this.nextChar())}return o.join("")}getName(){let w,R;const o=this.strBuf;for(o.length=0;(w=this.nextChar())>=0&&!d[w];)if(w===35){if(w=this.nextChar(),d[w]){(0,t.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),o.push("#");break}const h=K(w);if(h!==-1){R=w,w=this.nextChar();const H=K(w);if(H===-1){if((0,t.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(w)}) in hexadecimal number.`),o.push("#",String.fromCharCode(R)),d[w])break;o.push(String.fromCharCode(w));continue}o.push(String.fromCharCode(h<<4|H))}else o.push("#",String.fromCharCode(w))}else o.push(String.fromCharCode(w));return o.length>127&&(0,t.warn)(`Name token is longer than allowed by the spec: ${o.length}`),m.Name.get(o.join(""))}_hexStringWarn(w){if(this._hexStringNumWarn++===5){(0,t.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,t.warn)(`getHexString - ignoring invalid character: ${w}`)}getHexString(){const w=this.strBuf;w.length=0;let R=this.currentChar,o=!0,h,H;for(this._hexStringNumWarn=0;;)if(R<0){(0,t.warn)("Unterminated hex string");break}else if(R===62){this.nextChar();break}else if(d[R]===1){R=this.nextChar();continue}else{if(o){if(h=K(R),h===-1){this._hexStringWarn(R),R=this.nextChar();continue}}else{if(H=K(R),H===-1){this._hexStringWarn(R),R=this.nextChar();continue}w.push(String.fromCharCode(h<<4|H))}o=!o,R=this.nextChar()}return w.join("")}getObj(){let w=!1,R=this.currentChar;for(;;){if(R<0)return m.EOF;if(w)(R===10||R===13)&&(w=!1);else if(R===37)w=!0;else if(d[R]!==1)break;R=this.nextChar()}switch(R|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),m.Cmd.get("[");case 93:return this.nextChar(),m.Cmd.get("]");case 60:return R=this.nextChar(),R===60?(this.nextChar(),m.Cmd.get("<<")):this.getHexString();case 62:return R=this.nextChar(),R===62?(this.nextChar(),m.Cmd.get(">>")):m.Cmd.get(">");case 123:return this.nextChar(),m.Cmd.get("{");case 125:return this.nextChar(),m.Cmd.get("}");case 41:throw this.nextChar(),new t.FormatError(`Illegal character: ${R}`)}let o=String.fromCharCode(R);if(R<32||R>127){const L=this.peekChar();if(L>=32&&L<=127)return this.nextChar(),m.Cmd.get(o)}const h=this.knownCommands;let H=h&&h[o]!==void 0;for(;(R=this.nextChar())>=0&&!d[R];){const L=o+String.fromCharCode(R);if(H&&h[L]===void 0)break;if(o.length===128)throw new t.FormatError(`Command token too long: ${o.length}`);o=L,H=h&&h[o]!==void 0}return o==="true"?!0:o==="false"?!1:o==="null"?null:(o==="BI"&&(this.beginInlineImagePos=this.stream.pos),m.Cmd.get(o))}peekObj(){const w=this.stream.pos,R=this.currentChar,o=this.beginInlineImagePos;let h;try{h=this.getObj()}catch(H){if(H instanceof ie.MissingDataException)throw H;(0,t.warn)(`peekObj: ${H}`)}return this.stream.pos=w,this.currentChar=R,this.beginInlineImagePos=o,h}skipToNextLine(){let w=this.currentChar;for(;w>=0;){if(w===13){w=this.nextChar(),w===10&&this.nextChar();break}else if(w===10){this.nextChar();break}w=this.nextChar()}}}A.Lexer=g;class G{static create(w){function R(U,ee,J=!1){const I=U.get(ee);if(Number.isInteger(I)&&(J?I>=0:I>0))return I;throw new Error(`The "${ee}" parameter in the linearization dictionary is invalid.`)}function o(U){const ee=U.get("H");let J;if(Array.isArray(ee)&&((J=ee.length)===2||J===4)){for(let I=0;I<J;I++){const X=ee[I];if(!(Number.isInteger(X)&&X>0))throw new Error(`Hint (${I}) in the linearization dictionary is invalid.`)}return ee}throw new Error("Hint array in the linearization dictionary is invalid.")}const h=new c({lexer:new g(w),xref:null}),H=h.getObj(),L=h.getObj(),x=h.getObj(),v=h.getObj();let F,k;if(Number.isInteger(H)&&Number.isInteger(L)&&(0,m.isCmd)(x,"obj")&&v instanceof m.Dict&&typeof(F=v.get("Linearized"))=="number"&&F>0){if((k=R(v,"L"))!==w.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:k,hints:o(v),objectNumberFirst:R(v,"O"),endFirst:R(v,"E"),numPages:R(v,"N"),mainXRefEntriesOffset:R(v,"T"),pageFirst:v.has("P")?R(v,"P",!0):0}}}A.Linearization=G},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Ascii85Stream=void 0;var t=se(19),m=se(6);class ie extends t.DecodeStream{constructor(e,j){j&&(j*=.8),super(j),this.str=e,this.dict=e.dict,this.input=new Uint8Array(5)}readBlock(){const T=this.str;let E=T.getByte();for(;(0,m.isWhiteSpace)(E);)E=T.getByte();if(E===-1||E===126){this.eof=!0;return}const _=this.bufferLength;let y,n;if(E===122){for(y=this.ensureBuffer(_+4),n=0;n<4;++n)y[_+n]=0;this.bufferLength+=4}else{const u=this.input;for(u[0]=E,n=1;n<5;++n){for(E=T.getByte();(0,m.isWhiteSpace)(E);)E=T.getByte();if(u[n]=E,E===-1||E===126)break}if(y=this.ensureBuffer(_+n-1),this.bufferLength+=n-1,n<5){for(;n<5;++n)u[n]=117;this.eof=!0}let p=0;for(n=0;n<5;++n)p=p*85+(u[n]-33);for(n=3;n>=0;--n)y[_+n]=p&255,p>>=8}}}A.Ascii85Stream=ie},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.StreamsSequenceStream=A.DecodeStream=void 0;var t=se(7),m=se(10);const ie=new Uint8Array(0);class z extends t.BaseStream{constructor(f){if(super(),this._rawMinBufferLength=f||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=ie,this.minBufferLength=512,f)for(;this.minBufferLength<f;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(f){const T=this.buffer;if(f<=T.byteLength)return T;let E=this.minBufferLength;for(;E<f;)E*=2;const _=new Uint8Array(E);return _.set(T),this.buffer=_}getByte(){const f=this.pos;for(;this.bufferLength<=f;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(f){const T=this.pos;let E;if(f){for(this.ensureBuffer(T+f),E=T+f;!this.eof&&this.bufferLength<E;)this.readBlock();const _=this.bufferLength;E>_&&(E=_)}else{for(;!this.eof;)this.readBlock();E=this.bufferLength}return this.pos=E,this.buffer.subarray(T,E)}reset(){this.pos=0}makeSubStream(f,T,E=null){if(T===void 0)for(;!this.eof;)this.readBlock();else{const _=f+T;for(;this.bufferLength<=_&&!this.eof;)this.readBlock()}return new m.Stream(this.buffer,f,T,E)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}A.DecodeStream=z;class e extends z{constructor(f,T=null){let E=0;for(const _ of f)E+=_ instanceof z?_._rawMinBufferLength:_.length;super(E),this.streams=f,this._onError=T}readBlock(){const f=this.streams;if(f.length===0){this.eof=!0;return}const T=f.shift();let E;try{E=T.getBytes()}catch(u){if(this._onError){this._onError(u,T.dict&&T.dict.objId);return}throw u}const _=this.bufferLength,y=_+E.length;this.ensureBuffer(y).set(E,_),this.bufferLength=y}getBaseStreams(){const f=[];for(const T of this.streams){const E=T.getBaseStreams();E&&f.push(...E)}return f.length>0?f:null}}A.StreamsSequenceStream=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.AsciiHexStream=void 0;var t=se(19);class m extends t.DecodeStream{constructor(z,e){e&&(e*=.5),super(e),this.str=z,this.dict=z.dict,this.firstDigit=-1}readBlock(){const e=this.str.getBytes(8e3);if(!e.length){this.eof=!0;return}const j=e.length+1>>1,f=this.ensureBuffer(this.bufferLength+j);let T=this.bufferLength,E=this.firstDigit;for(const _ of e){let y;if(_>=48&&_<=57)y=_&15;else if(_>=65&&_<=70||_>=97&&_<=102)y=(_&15)+9;else if(_===62){this.eof=!0;break}else continue;E<0?E=y:(f[T++]=E<<4|y,E=-1)}E>=0&&this.eof&&(f[T++]=E<<4,E=-1),this.firstDigit=E,this.bufferLength=T}}A.AsciiHexStream=m},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CCITTFaxStream=void 0;var t=se(22),m=se(19),ie=se(5);class z extends m.DecodeStream{constructor(j,f,T){super(f),this.str=j,this.dict=j.dict,T instanceof ie.Dict||(T=ie.Dict.empty);const E={next(){return j.getByte()}};this.ccittFaxDecoder=new t.CCITTFaxDecoder(E,{K:T.get("K"),EndOfLine:T.get("EndOfLine"),EncodedByteAlign:T.get("EncodedByteAlign"),Columns:T.get("Columns"),Rows:T.get("Rows"),EndOfBlock:T.get("EndOfBlock"),BlackIs1:T.get("BlackIs1")})}readBlock(){for(;!this.eof;){const j=this.ccittFaxDecoder.readNextChar();if(j===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=j}}}A.CCITTFaxStream=z},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CCITTFaxDecoder=void 0;var t=se(2);const m=-2,ie=-1,z=0,e=1,j=2,f=3,T=4,E=5,_=6,y=7,n=8,u=[[-1,-1],[-1,-1],[7,n],[7,y],[6,_],[6,_],[6,E],[6,E],[4,z],[4,z],[4,z],[4,z],[4,z],[4,z],[4,z],[4,z],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,T],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[3,f],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j],[1,j]],p=[[-1,-1],[12,m],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],s=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],r=[[-1,-1],[-1,-1],[12,m],[12,m],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],l=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],c=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class d{constructor(g,G={}){if(!g||typeof g.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=g,this.eof=!1,this.encoding=G.K||0,this.eoline=G.EndOfLine||!1,this.byteAlign=G.EncodedByteAlign||!1,this.columns=G.Columns||1728,this.rows=G.Rows||0;let O=G.EndOfBlock;O==null&&(O=!0),this.eoblock=O,this.black=G.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let w;for(;(w=this._lookBits(12))===0;)this._eatBits(1);w===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const g=this.refLine,G=this.codingLine,O=this.columns;let w,R,o,h;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let L,x,v;if(this.nextLine2D){for(h=0;G[h]<O;++h)g[h]=G[h];for(g[h++]=O,g[h]=O,G[0]=0,this.codingPos=0,w=0,R=0;G[this.codingPos]<O;)switch(L=this._getTwoDimCode(),L){case z:this._addPixels(g[w+1],R),g[w+1]<O&&(w+=2);break;case e:if(L=x=0,R){do L+=v=this._getBlackCode();while(v>=64);do x+=v=this._getWhiteCode();while(v>=64)}else{do L+=v=this._getWhiteCode();while(v>=64);do x+=v=this._getBlackCode();while(v>=64)}for(this._addPixels(G[this.codingPos]+L,R),G[this.codingPos]<O&&this._addPixels(G[this.codingPos]+x,R^1);g[w]<=G[this.codingPos]&&g[w]<O;)w+=2;break;case y:if(this._addPixels(g[w]+3,R),R^=1,G[this.codingPos]<O)for(++w;g[w]<=G[this.codingPos]&&g[w]<O;)w+=2;break;case E:if(this._addPixels(g[w]+2,R),R^=1,G[this.codingPos]<O)for(++w;g[w]<=G[this.codingPos]&&g[w]<O;)w+=2;break;case f:if(this._addPixels(g[w]+1,R),R^=1,G[this.codingPos]<O)for(++w;g[w]<=G[this.codingPos]&&g[w]<O;)w+=2;break;case j:if(this._addPixels(g[w],R),R^=1,G[this.codingPos]<O)for(++w;g[w]<=G[this.codingPos]&&g[w]<O;)w+=2;break;case n:if(this._addPixelsNeg(g[w]-3,R),R^=1,G[this.codingPos]<O)for(w>0?--w:++w;g[w]<=G[this.codingPos]&&g[w]<O;)w+=2;break;case _:if(this._addPixelsNeg(g[w]-2,R),R^=1,G[this.codingPos]<O)for(w>0?--w:++w;g[w]<=G[this.codingPos]&&g[w]<O;)w+=2;break;case T:if(this._addPixelsNeg(g[w]-1,R),R^=1,G[this.codingPos]<O)for(w>0?--w:++w;g[w]<=G[this.codingPos]&&g[w]<O;)w+=2;break;case ie:this._addPixels(O,0),this.eof=!0;break;default:(0,t.info)("bad 2d code"),this._addPixels(O,0),this.err=!0}}else for(G[0]=0,this.codingPos=0,R=0;G[this.codingPos]<O;){if(L=0,R)do L+=v=this._getBlackCode();while(v>=64);else do L+=v=this._getWhiteCode();while(v>=64);this._addPixels(G[this.codingPos]+L,R),R^=1}let F=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(L=this._lookBits(12),this.eoline)for(;L!==ie&&L!==1;)this._eatBits(1),L=this._lookBits(12);else for(;L===0;)this._eatBits(1),L=this._lookBits(12);L===1?(this._eatBits(12),F=!0):L===ie&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&F&&this.byteAlign){if(L=this._lookBits(12),L===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(h=0;h<4;++h)L=this._lookBits(12),L!==1&&(0,t.info)("bad rtc code: "+L),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(L=this._lookBits(13),L===ie)return this.eof=!0,-1;if(L>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(L&1))}G[0]>0?this.outputBits=G[this.codingPos=0]:this.outputBits=G[this.codingPos=1],this.row++}let H;if(this.outputBits>=8)H=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&G[this.codingPos]<O&&(this.codingPos++,this.outputBits=G[this.codingPos]-G[this.codingPos-1]);else{o=8,H=0;do{if(typeof this.outputBits!="number")throw new t.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>o?(H<<=o,this.codingPos&1||(H|=255>>8-o),this.outputBits-=o,o=0):(H<<=this.outputBits,this.codingPos&1||(H|=255>>8-this.outputBits),o-=this.outputBits,this.outputBits=0,G[this.codingPos]<O?(this.codingPos++,this.outputBits=G[this.codingPos]-G[this.codingPos-1]):o>0&&(H<<=o,o=0))}while(o)}return this.black&&(H^=255),H}_addPixels(g,G){const O=this.codingLine;let w=this.codingPos;g>O[w]&&(g>this.columns&&((0,t.info)("row is wrong length"),this.err=!0,g=this.columns),w&1^G&&++w,O[w]=g),this.codingPos=w}_addPixelsNeg(g,G){const O=this.codingLine;let w=this.codingPos;if(g>O[w])g>this.columns&&((0,t.info)("row is wrong length"),this.err=!0,g=this.columns),w&1^G&&++w,O[w]=g;else if(g<O[w]){for(g<0&&((0,t.info)("invalid code"),this.err=!0,g=0);w>0&&g<O[w-1];)--w;O[w]=g}this.codingPos=w}_findTableCode(g,G,O,w){const R=w||0;for(let o=g;o<=G;++o){let h=this._lookBits(o);if(h===ie)return[!0,1,!1];if(o<G&&(h<<=G-o),!R||h>=R){const H=O[h-R];if(H[0]===o)return this._eatBits(o),[!0,H[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let g=0,G;if(this.eoblock){if(g=this._lookBits(7),G=u[g],G&&G[0]>0)return this._eatBits(G[0]),G[1]}else{const O=this._findTableCode(1,7,u);if(O[0]&&O[2])return O[1]}return(0,t.info)("Bad two dim code"),ie}_getWhiteCode(){let g=0,G;if(this.eoblock){if(g=this._lookBits(12),g===ie)return 1;if(g>>5?G=s[g>>3]:G=p[g],G[0]>0)return this._eatBits(G[0]),G[1]}else{let O=this._findTableCode(1,9,s);if(O[0]||(O=this._findTableCode(11,12,p),O[0]))return O[1]}return(0,t.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let g,G;if(this.eoblock){if(g=this._lookBits(13),g===ie)return 1;if(g>>7?!(g>>9)&&g>>7?G=l[(g>>1)-64]:G=c[g>>7]:G=r[g],G[0]>0)return this._eatBits(G[0]),G[1]}else{let O=this._findTableCode(2,6,c);if(O[0]||(O=this._findTableCode(7,12,l,64),O[0])||(O=this._findTableCode(10,13,r),O[0]))return O[1]}return(0,t.info)("bad black code"),this._eatBits(1),1}_lookBits(g){let G;for(;this.inputBits<g;){if((G=this.source.next())===-1)return this.inputBits===0?ie:this.inputBuf<<g-this.inputBits&65535>>16-g;this.inputBuf=this.inputBuf<<8|G,this.inputBits+=8}return this.inputBuf>>this.inputBits-g&65535>>16-g}_eatBits(g){(this.inputBits-=g)<0&&(this.inputBits=0)}}A.CCITTFaxDecoder=d},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.FlateStream=void 0;var t=se(19),m=se(2);const ie=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),e=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),j=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],f=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class T extends t.DecodeStream{constructor(_,y){super(y),this.str=_,this.dict=_.dict;const n=_.getByte(),u=_.getByte();if(n===-1||u===-1)throw new m.FormatError(`Invalid header in flate stream: ${n}, ${u}`);if((n&15)!==8)throw new m.FormatError(`Unknown compression method in flate stream: ${n}, ${u}`);if(((n<<8)+u)%31!==0)throw new m.FormatError(`Bad FCHECK in flate stream: ${n}, ${u}`);if(u&32)throw new m.FormatError(`FDICT bit set in flate stream: ${n}, ${u}`);this.codeSize=0,this.codeBuf=0}getBits(_){const y=this.str;let n=this.codeSize,u=this.codeBuf,p;for(;n<_;){if((p=y.getByte())===-1)throw new m.FormatError("Bad encoding in flate stream");u|=p<<n,n+=8}return p=u&(1<<_)-1,this.codeBuf=u>>_,this.codeSize=n-=_,p}getCode(_){const y=this.str,n=_[0],u=_[1];let p=this.codeSize,s=this.codeBuf,r;for(;p<u&&(r=y.getByte())!==-1;)s|=r<<p,p+=8;const l=n[s&(1<<u)-1],c=l>>16,d=l&65535;if(c<1||p<c)throw new m.FormatError("Bad encoding in flate stream");return this.codeBuf=s>>c,this.codeSize=p-c,d}generateHuffmanTable(_){const y=_.length;let n=0,u;for(u=0;u<y;++u)_[u]>n&&(n=_[u]);const p=1<<n,s=new Int32Array(p);for(let r=1,l=0,c=2;r<=n;++r,l<<=1,c<<=1)for(let d=0;d<y;++d)if(_[d]===r){let K=0,g=l;for(u=0;u<r;++u)K=K<<1|g&1,g>>=1;for(u=K;u<p;u+=c)s[u]=r<<16|d;++l}return[s,n]}readBlock(){let _,y;const n=this.str;let u=this.getBits(3);if(u&1&&(this.eof=!0),u>>=1,u===0){let c;if((c=n.getByte())===-1)throw new m.FormatError("Bad block header in flate stream");let d=c;if((c=n.getByte())===-1)throw new m.FormatError("Bad block header in flate stream");if(d|=c<<8,(c=n.getByte())===-1)throw new m.FormatError("Bad block header in flate stream");let K=c;if((c=n.getByte())===-1)throw new m.FormatError("Bad block header in flate stream");if(K|=c<<8,K!==(~d&65535)&&(d!==0||K!==0))throw new m.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const g=this.bufferLength,G=g+d;if(_=this.ensureBuffer(G),this.bufferLength=G,d===0)n.peekByte()===-1&&(this.eof=!0);else{const O=n.getBytes(d);_.set(O,g),O.length<d&&(this.eof=!0)}return}let p,s;if(u===1)p=j,s=f;else if(u===2){const c=this.getBits(5)+257,d=this.getBits(5)+1,K=this.getBits(4)+4,g=new Uint8Array(ie.length);let G;for(G=0;G<K;++G)g[ie[G]]=this.getBits(3);const O=this.generateHuffmanTable(g);y=0,G=0;const w=c+d,R=new Uint8Array(w);let o,h,H;for(;G<w;){const L=this.getCode(O);if(L===16)o=2,h=3,H=y;else if(L===17)o=3,h=3,H=y=0;else if(L===18)o=7,h=11,H=y=0;else{R[G++]=y=L;continue}let x=this.getBits(o)+h;for(;x-- >0;)R[G++]=H}p=this.generateHuffmanTable(R.subarray(0,c)),s=this.generateHuffmanTable(R.subarray(c,w))}else throw new m.FormatError("Unknown block type in flate stream");_=this.buffer;let r=_?_.length:0,l=this.bufferLength;for(;;){let c=this.getCode(p);if(c<256){l+1>=r&&(_=this.ensureBuffer(l+1),r=_.length),_[l++]=c;continue}if(c===256){this.bufferLength=l;return}c-=257,c=z[c];let d=c>>16;d>0&&(d=this.getBits(d)),y=(c&65535)+d,c=this.getCode(s),c=e[c],d=c>>16,d>0&&(d=this.getBits(d));const K=(c&65535)+d;l+y>=r&&(_=this.ensureBuffer(l+y),r=_.length);for(let g=0;g<y;++g,++l)_[l]=_[l-K]}}}A.FlateStream=T},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Jbig2Stream=void 0;var t=se(7),m=se(19),ie=se(5),z=se(25),e=se(2);class j extends m.DecodeStream{constructor(T,E,_){super(E),this.stream=T,this.dict=T.dict,this.maybeLength=E,this.params=_}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(T){}readBlock(){if(this.eof)return;const T=new z.Jbig2Image,E=[];if(this.params instanceof ie.Dict){const n=this.params.get("JBIG2Globals");if(n instanceof t.BaseStream){const u=n.getBytes();E.push({data:u,start:0,end:u.length})}}E.push({data:this.bytes,start:0,end:this.bytes.length});const _=T.parseChunks(E),y=_.length;for(let n=0;n<y;n++)_[n]^=255;this.buffer=_,this.bufferLength=y,this.eof=!0}}A.Jbig2Stream=j},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Jbig2Image=void 0;var t=se(2),m=se(6),ie=se(26),z=se(22);class e extends t.BaseException{constructor(Z){super(`JBIG2 error: ${Z}`,"Jbig2Error")}}class j{getContexts(Z){return Z in this?this[Z]:this[Z]=new Int8Array(65536)}}class f{constructor(Z,q,M){this.data=Z,this.start=q,this.end=M}get decoder(){const Z=new ie.ArithmeticDecoder(this.data,this.start,this.end);return(0,t.shadow)(this,"decoder",Z)}get contextCache(){const Z=new j;return(0,t.shadow)(this,"contextCache",Z)}}function T(Y,Z,q){const M=Y.getContexts(Z);let te=1;function W(de){let ue=0;for(let he=0;he<de;he++){const me=q.readBit(M,te);te=te<256?te<<1|me:(te<<1|me)&511|256,ue=ue<<1|me}return ue>>>0}const ae=W(1),fe=W(1)?W(1)?W(1)?W(1)?W(1)?W(32)+4436:W(12)+340:W(8)+84:W(6)+20:W(4)+4:W(2);return ae===0?fe:fe>0?-fe:null}function E(Y,Z,q){const M=Y.getContexts("IAID");let te=1;for(let W=0;W<q;W++){const ae=Z.readBit(M,te);te=te<<1|ae}return q<31?te&(1<<q)-1:te&2147483647}const _=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],y=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],n=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],u=[39717,1941,229,405];function p(Y,Z,q){const M=q.decoder,te=q.contextCache.getContexts("GB"),W=[];let ae,fe,de,ue,he,me,xe;const we=31735;for(fe=0;fe<Z;fe++)for(he=W[fe]=new Uint8Array(Y),me=fe<1?he:W[fe-1],xe=fe<2?he:W[fe-2],ae=xe[0]<<13|xe[1]<<12|xe[2]<<11|me[0]<<7|me[1]<<6|me[2]<<5|me[3]<<4,de=0;de<Y;de++)he[de]=ue=M.readBit(te,ae),ae=(ae&we)<<1|(de+3<Y?xe[de+3]<<11:0)|(de+4<Y?me[de+4]<<4:0)|ue;return W}function s(Y,Z,q,M,te,W,ae,fe){if(Y){const ut=new ee(fe.data,fe.start,fe.end);return P(ut,Z,q,!1)}if(M===0&&!W&&!te&&ae.length===4&&ae[0].x===3&&ae[0].y===-1&&ae[1].x===-3&&ae[1].y===-1&&ae[2].x===2&&ae[2].y===-2&&ae[3].x===-2&&ae[3].y===-2)return p(Z,q,fe);const de=y[M].concat(ae);de.sort(function(ut,kt){return ut.y-kt.y||ut.x-kt.x});const ue=de.length,he=new Int8Array(ue),me=new Int8Array(ue),xe=[];let we=0,Ce=0,Fe=0,Oe=0,Ie,Me;for(Me=0;Me<ue;Me++)he[Me]=de[Me].x,me[Me]=de[Me].y,Ce=Math.min(Ce,de[Me].x),Fe=Math.max(Fe,de[Me].x),Oe=Math.min(Oe,de[Me].y),Me<ue-1&&de[Me].y===de[Me+1].y&&de[Me].x===de[Me+1].x-1?we|=1<<ue-1-Me:xe.push(Me);const Le=xe.length,qe=new Int8Array(Le),Xe=new Int8Array(Le),Ue=new Uint16Array(Le);for(Ie=0;Ie<Le;Ie++)Me=xe[Ie],qe[Ie]=de[Me].x,Xe[Ie]=de[Me].y,Ue[Ie]=1<<ue-1-Me;const $e=-Ce,De=-Oe,Te=Z-Fe,Ee=u[M];let ze=new Uint8Array(Z);const tt=[],ft=fe.decoder,Be=fe.contextCache.getContexts("GB");let Ne=0,ke,rt,ot,st=0,xt,et;for(let ut=0;ut<q;ut++){if(te){const kt=ft.readBit(Be,Ee);if(Ne^=kt,Ne){tt.push(ze);continue}}for(ze=new Uint8Array(ze),tt.push(ze),ke=0;ke<Z;ke++){if(ke>=$e&&ke<Te&&ut>=De)for(st=st<<1&we,Me=0;Me<Le;Me++)rt=ut+Xe[Me],ot=ke+qe[Me],xt=tt[rt][ot],xt&&(xt=Ue[Me],st|=xt);else for(st=0,et=ue-1,Me=0;Me<ue;Me++,et--)ot=ke+he[Me],ot>=0&&ot<Z&&(rt=ut+me[Me],rt>=0&&(xt=tt[rt][ot],xt&&(st|=xt<<et)));const kt=ft.readBit(Be,st);ze[ke]=kt}}return tt}function r(Y,Z,q,M,te,W,ae,fe,de){let ue=n[q].coding;q===0&&(ue=ue.concat([fe[0]]));const he=ue.length,me=new Int32Array(he),xe=new Int32Array(he);let we;for(we=0;we<he;we++)me[we]=ue[we].x,xe[we]=ue[we].y;let Ce=n[q].reference;q===0&&(Ce=Ce.concat([fe[1]]));const Fe=Ce.length,Oe=new Int32Array(Fe),Ie=new Int32Array(Fe);for(we=0;we<Fe;we++)Oe[we]=Ce[we].x,Ie[we]=Ce[we].y;const Me=M[0].length,Le=M.length,qe=[],Xe=de.decoder,Ue=de.contextCache.getContexts("GR");for(let $e=0;$e<Z;$e++){const De=new Uint8Array(Y);qe.push(De);for(let Te=0;Te<Y;Te++){let Ee,ze,tt=0;for(we=0;we<he;we++)Ee=$e+xe[we],ze=Te+me[we],Ee<0||ze<0||ze>=Y?tt<<=1:tt=tt<<1|qe[Ee][ze];for(we=0;we<Fe;we++)Ee=$e+Ie[we]-W,ze=Te+Oe[we]-te,Ee<0||Ee>=Le||ze<0||ze>=Me?tt<<=1:tt=tt<<1|M[Ee][ze];const ft=Xe.readBit(Ue,tt);De[Te]=ft}}return qe}function l(Y,Z,q,M,te,W,ae,fe,de,ue,he,me){if(Y&&Z)throw new e("symbol refinement with Huffman is not supported");const xe=[];let we=0,Ce=(0,m.log2)(q.length+M);const Fe=he.decoder,Oe=he.contextCache;let Ie,Me;for(Y&&(Ie=U(1),Me=[],Ce=Math.max(Ce,1));xe.length<M;){const Te=Y?W.tableDeltaHeight.decode(me):T(Oe,"IADH",Fe);we+=Te;let Ee=0,ze=0;const tt=Y?Me.length:0;for(;;){const ft=Y?W.tableDeltaWidth.decode(me):T(Oe,"IADW",Fe);if(ft===null)break;Ee+=ft,ze+=Ee;let Be;if(Z){const Ne=T(Oe,"IAAI",Fe);if(Ne>1)Be=c(Y,Z,Ee,we,0,Ne,1,q.concat(xe),Ce,0,0,1,0,W,de,ue,he,0,me);else{const ke=E(Oe,Fe,Ce),rt=T(Oe,"IARDX",Fe),ot=T(Oe,"IARDY",Fe),st=ke<q.length?q[ke]:xe[ke-q.length];Be=r(Ee,we,de,st,rt,ot,!1,ue,he)}xe.push(Be)}else Y?Me.push(Ee):(Be=s(!1,Ee,we,ae,!1,null,fe,he),xe.push(Be))}if(Y&&!Z){const ft=W.tableBitmapSize.decode(me);me.byteAlign();let Be;if(ft===0)Be=ne(me,ze,we);else{const ke=me.end,rt=me.position+ft;me.end=rt,Be=P(me,ze,we,!1),me.end=ke,me.position=rt}const Ne=Me.length;if(tt===Ne-1)xe.push(Be);else{let ke,rt,ot=0,st,xt,et;for(ke=tt;ke<Ne;ke++){for(xt=Me[ke],st=ot+xt,et=[],rt=0;rt<we;rt++)et.push(Be[rt].subarray(ot,st));xe.push(et),ot=st}}}}const Le=[],qe=[];let Xe=!1,Ue,$e;const De=q.length+M;for(;qe.length<De;){let Te=Y?Ie.decode(me):T(Oe,"IAEX",Fe);for(;Te--;)qe.push(Xe);Xe=!Xe}for(Ue=0,$e=q.length;Ue<$e;Ue++)qe[Ue]&&Le.push(q[Ue]);for(let Te=0;Te<M;Ue++,Te++)qe[Ue]&&Le.push(xe[Te]);return Le}function c(Y,Z,q,M,te,W,ae,fe,de,ue,he,me,xe,we,Ce,Fe,Oe,Ie,Me){if(Y&&Z)throw new e("refinement with Huffman is not supported");const Le=[];let qe,Xe;for(qe=0;qe<M;qe++){if(Xe=new Uint8Array(q),te)for(let Ee=0;Ee<q;Ee++)Xe[Ee]=te;Le.push(Xe)}const Ue=Oe.decoder,$e=Oe.contextCache;let De=Y?-we.tableDeltaT.decode(Me):-T($e,"IADT",Ue),Te=0;for(qe=0;qe<W;){const Ee=Y?we.tableDeltaT.decode(Me):T($e,"IADT",Ue);De+=Ee;const ze=Y?we.tableFirstS.decode(Me):T($e,"IAFS",Ue);Te+=ze;let tt=Te;do{let ft=0;ae>1&&(ft=Y?Me.readBits(Ie):T($e,"IAIT",Ue));const Be=ae*De+ft,Ne=Y?we.symbolIDTable.decode(Me):E($e,Ue,de),ke=Z&&(Y?Me.readBit():T($e,"IARI",Ue));let rt=fe[Ne],ot=rt[0].length,st=rt.length;if(ke){const ht=T($e,"IARDW",Ue),Ut=T($e,"IARDH",Ue),Ot=T($e,"IARDX",Ue),It=T($e,"IARDY",Ue);ot+=ht,st+=Ut,rt=r(ot,st,Ce,rt,(ht>>1)+Ot,(Ut>>1)+It,!1,Fe,Oe)}const xt=Be-(me&1?0:st-1),et=tt-(me&2?ot-1:0);let ut,kt,Qe;if(ue){for(ut=0;ut<st;ut++){if(Xe=Le[et+ut],!Xe)continue;Qe=rt[ut];const ht=Math.min(q-xt,ot);switch(xe){case 0:for(kt=0;kt<ht;kt++)Xe[xt+kt]|=Qe[kt];break;case 2:for(kt=0;kt<ht;kt++)Xe[xt+kt]^=Qe[kt];break;default:throw new e(`operator ${xe} is not supported`)}}tt+=st-1}else{for(kt=0;kt<st;kt++)if(Xe=Le[xt+kt],!!Xe)switch(Qe=rt[kt],xe){case 0:for(ut=0;ut<ot;ut++)Xe[et+ut]|=Qe[ut];break;case 2:for(ut=0;ut<ot;ut++)Xe[et+ut]^=Qe[ut];break;default:throw new e(`operator ${xe} is not supported`)}tt+=ot-1}qe++;const vt=Y?we.tableDeltaS.decode(Me):T($e,"IADS",Ue);if(vt===null)break;tt+=vt+he}while(!0)}return Le}function d(Y,Z,q,M,te,W){const ae=[];Y||(ae.push({x:-Z,y:0}),te===0&&ae.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const fe=(M+1)*Z,de=s(Y,fe,q,te,!1,null,ae,W),ue=[];for(let he=0;he<=M;he++){const me=[],xe=Z*he,we=xe+Z;for(let Ce=0;Ce<q;Ce++)me.push(de[Ce].subarray(xe,we));ue.push(me)}return ue}function K(Y,Z,q,M,te,W,ae,fe,de,ue,he,me,xe,we,Ce){if(ae)throw new e("skip is not supported");if(fe!==0)throw new e(`operator "${fe}" is not supported in halftone region`);const Oe=[];let Ie,Me,Le;for(Ie=0;Ie<te;Ie++){if(Le=new Uint8Array(M),W)for(Me=0;Me<M;Me++)Le[Me]=W;Oe.push(Le)}const qe=Z.length,Xe=Z[0],Ue=Xe[0].length,$e=Xe.length,De=(0,m.log2)(qe),Te=[];Y||(Te.push({x:q<=1?3:2,y:-1}),q===0&&Te.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Ee=[];let ze,tt;for(Y&&(ze=new ee(Ce.data,Ce.start,Ce.end)),Ie=De-1;Ie>=0;Ie--)Y?tt=P(ze,de,ue,!0):tt=s(!1,de,ue,q,!1,null,Te,Ce),Ee[Ie]=tt;let ft,Be,Ne,ke,rt,ot,st,xt,et;for(ft=0;ft<ue;ft++)for(Be=0;Be<de;Be++){for(Ne=0,ke=0,Me=De-1;Me>=0;Me--)Ne^=Ee[Me][ft][Be],ke|=Ne<<Me;if(rt=Z[ke],ot=he+ft*we+Be*xe>>8,st=me+ft*xe-Be*we>>8,ot>=0&&ot+Ue<=M&&st>=0&&st+$e<=te)for(Ie=0;Ie<$e;Ie++)for(et=Oe[st+Ie],xt=rt[Ie],Me=0;Me<Ue;Me++)et[ot+Me]|=xt[Me];else{let ut,kt;for(Ie=0;Ie<$e;Ie++)if(kt=st+Ie,!(kt<0||kt>=te))for(et=Oe[kt],xt=rt[Ie],Me=0;Me<Ue;Me++)ut=ot+Me,ut>=0&&ut<M&&(et[ut]|=xt[Me])}}return Oe}function g(Y,Z){const q={};q.number=(0,m.readUint32)(Y,Z);const M=Y[Z+4],te=M&63;if(!_[te])throw new e("invalid segment type: "+te);q.type=te,q.typeName=_[te],q.deferredNonRetain=!!(M&128);const W=!!(M&64),ae=Y[Z+5];let fe=ae>>5&7;const de=[ae&31];let ue=Z+6;if(ae===7){fe=(0,m.readUint32)(Y,ue-1)&536870911,ue+=3;let Ce=fe+7>>3;for(de[0]=Y[ue++];--Ce>0;)de.push(Y[ue++])}else if(ae===5||ae===6)throw new e("invalid referred-to flags");q.retainBits=de;let he=4;q.number<=256?he=1:q.number<=65536&&(he=2);const me=[];let xe,we;for(xe=0;xe<fe;xe++){let Ce;he===1?Ce=Y[ue]:he===2?Ce=(0,m.readUint16)(Y,ue):Ce=(0,m.readUint32)(Y,ue),me.push(Ce),ue+=he}if(q.referredTo=me,W?(q.pageAssociation=(0,m.readUint32)(Y,ue),ue+=4):q.pageAssociation=Y[ue++],q.length=(0,m.readUint32)(Y,ue),ue+=4,q.length===4294967295)if(te===38){const Ce=O(Y,ue),Oe=!!(Y[ue+w]&1),Ie=6,Me=new Uint8Array(Ie);for(Oe||(Me[0]=255,Me[1]=172),Me[2]=Ce.height>>>24&255,Me[3]=Ce.height>>16&255,Me[4]=Ce.height>>8&255,Me[5]=Ce.height&255,xe=ue,we=Y.length;xe<we;xe++){let Le=0;for(;Le<Ie&&Me[Le]===Y[xe+Le];)Le++;if(Le===Ie){q.length=xe+Ie;break}}if(q.length===4294967295)throw new e("segment end was not found")}else throw new e("invalid unknown segment length");return q.headerEnd=ue,q}function G(Y,Z,q,M){const te=[];let W=q;for(;W<M;){const ae=g(Z,W);W=ae.headerEnd;const fe={header:ae,data:Z};if(Y.randomAccess||(fe.start=W,W+=ae.length,fe.end=W),te.push(fe),ae.type===51)break}if(Y.randomAccess)for(let ae=0,fe=te.length;ae<fe;ae++)te[ae].start=W,W+=te[ae].header.length,te[ae].end=W;return te}function O(Y,Z){return{width:(0,m.readUint32)(Y,Z),height:(0,m.readUint32)(Y,Z+4),x:(0,m.readUint32)(Y,Z+8),y:(0,m.readUint32)(Y,Z+12),combinationOperator:Y[Z+16]&7}}const w=17;function R(Y,Z){const q=Y.header,M=Y.data,te=Y.end;let W=Y.start,ae,fe,de,ue;switch(q.type){case 0:const me={},xe=(0,m.readUint16)(M,W);if(me.huffman=!!(xe&1),me.refinement=!!(xe&2),me.huffmanDHSelector=xe>>2&3,me.huffmanDWSelector=xe>>4&3,me.bitmapSizeSelector=xe>>6&1,me.aggregationInstancesSelector=xe>>7&1,me.bitmapCodingContextUsed=!!(xe&256),me.bitmapCodingContextRetained=!!(xe&512),me.template=xe>>10&3,me.refinementTemplate=xe>>12&1,W+=2,!me.huffman){for(ue=me.template===0?4:1,fe=[],de=0;de<ue;de++)fe.push({x:(0,m.readInt8)(M,W),y:(0,m.readInt8)(M,W+1)}),W+=2;me.at=fe}if(me.refinement&&!me.refinementTemplate){for(fe=[],de=0;de<2;de++)fe.push({x:(0,m.readInt8)(M,W),y:(0,m.readInt8)(M,W+1)}),W+=2;me.refinementAt=fe}me.numberOfExportedSymbols=(0,m.readUint32)(M,W),W+=4,me.numberOfNewSymbols=(0,m.readUint32)(M,W),W+=4,ae=[me,q.number,q.referredTo,M,W,te];break;case 6:case 7:const we={};we.info=O(M,W),W+=w;const Ce=(0,m.readUint16)(M,W);if(W+=2,we.huffman=!!(Ce&1),we.refinement=!!(Ce&2),we.logStripSize=Ce>>2&3,we.stripSize=1<<we.logStripSize,we.referenceCorner=Ce>>4&3,we.transposed=!!(Ce&64),we.combinationOperator=Ce>>7&3,we.defaultPixelValue=Ce>>9&1,we.dsOffset=Ce<<17>>27,we.refinementTemplate=Ce>>15&1,we.huffman){const $e=(0,m.readUint16)(M,W);W+=2,we.huffmanFS=$e&3,we.huffmanDS=$e>>2&3,we.huffmanDT=$e>>4&3,we.huffmanRefinementDW=$e>>6&3,we.huffmanRefinementDH=$e>>8&3,we.huffmanRefinementDX=$e>>10&3,we.huffmanRefinementDY=$e>>12&3,we.huffmanRefinementSizeSelector=!!($e&16384)}if(we.refinement&&!we.refinementTemplate){for(fe=[],de=0;de<2;de++)fe.push({x:(0,m.readInt8)(M,W),y:(0,m.readInt8)(M,W+1)}),W+=2;we.refinementAt=fe}we.numberOfSymbolInstances=(0,m.readUint32)(M,W),W+=4,ae=[we,q.referredTo,M,W,te];break;case 16:const Fe={},Oe=M[W++];Fe.mmr=!!(Oe&1),Fe.template=Oe>>1&3,Fe.patternWidth=M[W++],Fe.patternHeight=M[W++],Fe.maxPatternIndex=(0,m.readUint32)(M,W),W+=4,ae=[Fe,q.number,M,W,te];break;case 22:case 23:const Ie={};Ie.info=O(M,W),W+=w;const Me=M[W++];Ie.mmr=!!(Me&1),Ie.template=Me>>1&3,Ie.enableSkip=!!(Me&8),Ie.combinationOperator=Me>>4&7,Ie.defaultPixelValue=Me>>7&1,Ie.gridWidth=(0,m.readUint32)(M,W),W+=4,Ie.gridHeight=(0,m.readUint32)(M,W),W+=4,Ie.gridOffsetX=(0,m.readUint32)(M,W)&4294967295,W+=4,Ie.gridOffsetY=(0,m.readUint32)(M,W)&4294967295,W+=4,Ie.gridVectorX=(0,m.readUint16)(M,W),W+=2,Ie.gridVectorY=(0,m.readUint16)(M,W),W+=2,ae=[Ie,q.referredTo,M,W,te];break;case 38:case 39:const Le={};Le.info=O(M,W),W+=w;const qe=M[W++];if(Le.mmr=!!(qe&1),Le.template=qe>>1&3,Le.prediction=!!(qe&8),!Le.mmr){for(ue=Le.template===0?4:1,fe=[],de=0;de<ue;de++)fe.push({x:(0,m.readInt8)(M,W),y:(0,m.readInt8)(M,W+1)}),W+=2;Le.at=fe}ae=[Le,M,W,te];break;case 48:const Xe={width:(0,m.readUint32)(M,W),height:(0,m.readUint32)(M,W+4),resolutionX:(0,m.readUint32)(M,W+8),resolutionY:(0,m.readUint32)(M,W+12)};Xe.height===4294967295&&delete Xe.height;const Ue=M[W+16];(0,m.readUint16)(M,W+17),Xe.lossless=!!(Ue&1),Xe.refinement=!!(Ue&2),Xe.defaultPixelValue=Ue>>2&1,Xe.combinationOperator=Ue>>3&3,Xe.requiresBuffer=!!(Ue&32),Xe.combinationOperatorOverride=!!(Ue&64),ae=[Xe];break;case 49:break;case 50:break;case 51:break;case 53:ae=[q.number,M,W,te];break;case 62:break;default:throw new e(`segment type ${q.typeName}(${q.type}) is not implemented`)}const he="on"+q.typeName;he in Z&&Z[he].apply(Z,ae)}function o(Y,Z){for(let q=0,M=Y.length;q<M;q++)R(Y[q],Z)}function h(Y){const Z=new H;for(let q=0,M=Y.length;q<M;q++){const te=Y[q],W=G({},te.data,te.start,te.end);o(W,Z)}return Z.buffer}class H{onPageInformation(Z){this.currentPageInfo=Z;const q=Z.width+7>>3,M=new Uint8ClampedArray(q*Z.height);Z.defaultPixelValue&&M.fill(255),this.buffer=M}drawBitmap(Z,q){const M=this.currentPageInfo,te=Z.width,W=Z.height,ae=M.width+7>>3,fe=M.combinationOperatorOverride?Z.combinationOperator:M.combinationOperator,de=this.buffer,ue=128>>(Z.x&7);let he=Z.y*ae+(Z.x>>3),me,xe,we,Ce;switch(fe){case 0:for(me=0;me<W;me++){for(we=ue,Ce=he,xe=0;xe<te;xe++)q[me][xe]&&(de[Ce]|=we),we>>=1,we||(we=128,Ce++);he+=ae}break;case 2:for(me=0;me<W;me++){for(we=ue,Ce=he,xe=0;xe<te;xe++)q[me][xe]&&(de[Ce]^=we),we>>=1,we||(we=128,Ce++);he+=ae}break;default:throw new e(`operator ${fe} is not supported`)}}onImmediateGenericRegion(Z,q,M,te){const W=Z.info,ae=new f(q,M,te),fe=s(Z.mmr,W.width,W.height,Z.template,Z.prediction,null,Z.at,ae);this.drawBitmap(W,fe)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(Z,q,M,te,W,ae){let fe,de;Z.huffman&&(fe=X(Z,M,this.customTables),de=new ee(te,W,ae));let ue=this.symbols;ue||(this.symbols=ue={});const he=[];for(const xe of M){const we=ue[xe];we&&he.push(...we)}const me=new f(te,W,ae);ue[q]=l(Z.huffman,Z.refinement,he,Z.numberOfNewSymbols,Z.numberOfExportedSymbols,fe,Z.template,Z.at,Z.refinementTemplate,Z.refinementAt,me,de)}onImmediateTextRegion(Z,q,M,te,W){const ae=Z.info;let fe,de;const ue=this.symbols,he=[];for(const Ce of q){const Fe=ue[Ce];Fe&&he.push(...Fe)}const me=(0,m.log2)(he.length);Z.huffman&&(de=new ee(M,te,W),fe=I(Z,q,this.customTables,he.length,de));const xe=new f(M,te,W),we=c(Z.huffman,Z.refinement,ae.width,ae.height,Z.defaultPixelValue,Z.numberOfSymbolInstances,Z.stripSize,he,me,Z.transposed,Z.dsOffset,Z.referenceCorner,Z.combinationOperator,fe,Z.refinementTemplate,Z.refinementAt,xe,Z.logStripSize,de);this.drawBitmap(ae,we)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(Z,q,M,te,W){let ae=this.patterns;ae||(this.patterns=ae={});const fe=new f(M,te,W);ae[q]=d(Z.mmr,Z.patternWidth,Z.patternHeight,Z.maxPatternIndex,Z.template,fe)}onImmediateHalftoneRegion(Z,q,M,te,W){const ae=this.patterns[q[0]],fe=Z.info,de=new f(M,te,W),ue=K(Z.mmr,ae,Z.template,fe.width,fe.height,Z.defaultPixelValue,Z.enableSkip,Z.combinationOperator,Z.gridWidth,Z.gridHeight,Z.gridOffsetX,Z.gridOffsetY,Z.gridVectorX,Z.gridVectorY,de);this.drawBitmap(fe,ue)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(Z,q,M,te){let W=this.customTables;W||(this.customTables=W={}),W[Z]=F(q,M,te)}}class L{constructor(Z){Z.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=Z[0],this.rangeLength=0,this.prefixCode=Z[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=Z[0],this.prefixLength=Z[1],this.rangeLength=Z[2],this.prefixCode=Z[3],this.isLowerRange=Z[4]==="lower")}}class x{constructor(Z){this.children=[],Z?(this.isLeaf=!0,this.rangeLength=Z.rangeLength,this.rangeLow=Z.rangeLow,this.isLowerRange=Z.isLowerRange,this.isOOB=Z.isOOB):this.isLeaf=!1}buildTree(Z,q){const M=Z.prefixCode>>q&1;if(q<=0)this.children[M]=new x(Z);else{let te=this.children[M];te||(this.children[M]=te=new x(null)),te.buildTree(Z,q-1)}}decodeNode(Z){if(this.isLeaf){if(this.isOOB)return null;const M=Z.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-M:M)}const q=this.children[Z.readBit()];if(!q)throw new e("invalid Huffman data");return q.decodeNode(Z)}}class v{constructor(Z,q){q||this.assignPrefixCodes(Z),this.rootNode=new x(null);for(let M=0,te=Z.length;M<te;M++){const W=Z[M];W.prefixLength>0&&this.rootNode.buildTree(W,W.prefixLength-1)}}decode(Z){return this.rootNode.decodeNode(Z)}assignPrefixCodes(Z){const q=Z.length;let M=0;for(let he=0;he<q;he++)M=Math.max(M,Z[he].prefixLength);const te=new Uint32Array(M+1);for(let he=0;he<q;he++)te[Z[he].prefixLength]++;let W=1,ae=0,fe,de,ue;for(te[0]=0;W<=M;){for(ae=ae+te[W-1]<<1,fe=ae,de=0;de<q;)ue=Z[de],ue.prefixLength===W&&(ue.prefixCode=fe,fe++),de++;W++}}}function F(Y,Z,q){const M=Y[Z],te=(0,m.readUint32)(Y,Z+1)&4294967295,W=(0,m.readUint32)(Y,Z+5)&4294967295,ae=new ee(Y,Z+9,q),fe=(M>>1&7)+1,de=(M>>4&7)+1,ue=[];let he,me,xe=te;do he=ae.readBits(fe),me=ae.readBits(de),ue.push(new L([xe,he,me,0])),xe+=1<<me;while(xe<W);return he=ae.readBits(fe),ue.push(new L([te-1,he,32,0,"lower"])),he=ae.readBits(fe),ue.push(new L([W,he,32,0])),M&1&&(he=ae.readBits(fe),ue.push(new L([he,0]))),new v(ue,!1)}const k={};function U(Y){let Z=k[Y];if(Z)return Z;let q;switch(Y){case 1:q=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:q=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:q=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:q=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:q=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:q=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:q=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:q=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:q=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:q=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:q=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:q=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:q=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:q=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:q=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new e(`standard table B.${Y} does not exist`)}for(let M=0,te=q.length;M<te;M++)q[M]=new L(q[M]);return Z=new v(q,!0),k[Y]=Z,Z}class ee{constructor(Z,q,M){this.data=Z,this.start=q,this.end=M,this.position=q,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new e("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const Z=this.currentByte>>this.shift&1;return this.shift--,Z}readBits(Z){let q=0,M;for(M=Z-1;M>=0;M--)q|=this.readBit()<<M;return q}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function J(Y,Z,q){let M=0;for(let te=0,W=Z.length;te<W;te++){const ae=q[Z[te]];if(ae){if(Y===M)return ae;M++}}throw new e("can't find custom Huffman table")}function I(Y,Z,q,M,te){const W=[];for(let xe=0;xe<=34;xe++){const we=te.readBits(4);W.push(new L([xe,we,0,0]))}const ae=new v(W,!1);W.length=0;for(let xe=0;xe<M;){const we=ae.decode(te);if(we>=32){let Ce,Fe,Oe;switch(we){case 32:if(xe===0)throw new e("no previous value in symbol ID table");Fe=te.readBits(2)+3,Ce=W[xe-1].prefixLength;break;case 33:Fe=te.readBits(3)+3,Ce=0;break;case 34:Fe=te.readBits(7)+11,Ce=0;break;default:throw new e("invalid code length in symbol ID table")}for(Oe=0;Oe<Fe;Oe++)W.push(new L([xe,Ce,0,0])),xe++}else W.push(new L([xe,we,0,0])),xe++}te.byteAlign();const fe=new v(W,!1);let de=0,ue,he,me;switch(Y.huffmanFS){case 0:case 1:ue=U(Y.huffmanFS+6);break;case 3:ue=J(de,Z,q),de++;break;default:throw new e("invalid Huffman FS selector")}switch(Y.huffmanDS){case 0:case 1:case 2:he=U(Y.huffmanDS+8);break;case 3:he=J(de,Z,q),de++;break;default:throw new e("invalid Huffman DS selector")}switch(Y.huffmanDT){case 0:case 1:case 2:me=U(Y.huffmanDT+11);break;case 3:me=J(de,Z,q),de++;break;default:throw new e("invalid Huffman DT selector")}if(Y.refinement)throw new e("refinement with Huffman is not supported");return{symbolIDTable:fe,tableFirstS:ue,tableDeltaS:he,tableDeltaT:me}}function X(Y,Z,q){let M=0,te,W;switch(Y.huffmanDHSelector){case 0:case 1:te=U(Y.huffmanDHSelector+4);break;case 3:te=J(M,Z,q),M++;break;default:throw new e("invalid Huffman DH selector")}switch(Y.huffmanDWSelector){case 0:case 1:W=U(Y.huffmanDWSelector+2);break;case 3:W=J(M,Z,q),M++;break;default:throw new e("invalid Huffman DW selector")}let ae,fe;return Y.bitmapSizeSelector?(ae=J(M,Z,q),M++):ae=U(1),Y.aggregationInstancesSelector?fe=J(M,Z,q):fe=U(1),{tableDeltaHeight:te,tableDeltaWidth:W,tableBitmapSize:ae,tableAggregateInstances:fe}}function ne(Y,Z,q){const M=[];for(let te=0;te<q;te++){const W=new Uint8Array(Z);M.push(W);for(let ae=0;ae<Z;ae++)W[ae]=Y.readBit();Y.byteAlign()}return M}function P(Y,Z,q,M){const te={K:-1,Columns:Z,Rows:q,BlackIs1:!0,EndOfBlock:M},W=new z.CCITTFaxDecoder(Y,te),ae=[];let fe,de=!1;for(let ue=0;ue<q;ue++){const he=new Uint8Array(Z);ae.push(he);let me=-1;for(let xe=0;xe<Z;xe++)me<0&&(fe=W.readNextChar(),fe===-1&&(fe=0,de=!0),me=7),he[xe]=fe>>me&1,me--}if(M&&!de)for(let he=0;he<5&&W.readNextChar()!==-1;he++);return ae}class V{parseChunks(Z){return h(Z)}parse(Z){throw new Error("Not implemented: Jbig2Image.parse")}}A.Jbig2Image=V},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ArithmeticDecoder=void 0;const se=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class t{constructor(ie,z,e){this.data=ie,this.bp=z,this.dataEnd=e,this.chigh=ie[z],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const ie=this.data;let z=this.bp;ie[z]===255?ie[z+1]>143?(this.clow+=65280,this.ct=8):(z++,this.clow+=ie[z]<<9,this.ct=7,this.bp=z):(z++,this.clow+=z<this.dataEnd?ie[z]<<8:65280,this.ct=8,this.bp=z),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(ie,z){let e=ie[z]>>1,j=ie[z]&1;const f=se[e],T=f.qe;let E,_=this.a-T;if(this.chigh<T)_<T?(_=T,E=j,e=f.nmps):(_=T,E=1^j,f.switchFlag===1&&(j=E),e=f.nlps);else{if(this.chigh-=T,_&32768)return this.a=_,j;_<T?(E=1^j,f.switchFlag===1&&(j=E),e=f.nlps):(E=j,e=f.nmps)}do this.ct===0&&this.byteIn(),_<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(_&32768));return this.a=_,ie[z]=e<<1|j,E}}A.ArithmeticDecoder=t},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.JpegStream=void 0;var t=se(19),m=se(5),ie=se(28),z=se(2);class e extends t.DecodeStream{constructor(f,T,E){let _;for(;(_=f.getByte())!==-1;)if(_===255){f.skip(-1);break}super(T),this.stream=f,this.dict=f.dict,this.maybeLength=T,this.params=E}get bytes(){return(0,z.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(f){}readBlock(){if(this.eof)return;const f={decodeTransform:void 0,colorTransform:void 0},T=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(T)){const y=this.dict.get("BPC","BitsPerComponent")||8,n=T.length,u=new Int32Array(n);let p=!1;const s=(1<<y)-1;for(let r=0;r<n;r+=2)u[r]=(T[r+1]-T[r])*256|0,u[r+1]=T[r]*s|0,(u[r]!==256||u[r+1]!==0)&&(p=!0);p&&(f.decodeTransform=u)}if(this.params instanceof m.Dict){const y=this.params.get("ColorTransform");Number.isInteger(y)&&(f.colorTransform=y)}const E=new ie.JpegImage(f);E.parse(this.bytes);const _=E.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=_,this.bufferLength=_.length,this.eof=!0}}A.JpegStream=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.JpegImage=void 0;var t=se(2),m=se(6);class ie extends t.BaseException{constructor(O){super(`JPEG error: ${O}`,"JpegError")}}class z extends t.BaseException{constructor(O,w){super(O,"DNLMarkerError"),this.scanLines=w}}class e extends t.BaseException{constructor(O){super(O,"EOIMarkerError")}}const j=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),f=4017,T=799,E=3406,_=2276,y=1567,n=3784,u=5793,p=2896;function s(G,O){let w=0,R,o,h=16;for(;h>0&&!G[h-1];)h--;const H=[{children:[],index:0}];let L=H[0],x;for(R=0;R<h;R++){for(o=0;o<G[R];o++){for(L=H.pop(),L.children[L.index]=O[w];L.index>0;)L=H.pop();for(L.index++,H.push(L);H.length<=R;)H.push(x={children:[],index:0}),L.children[L.index]=x.children,L=x;w++}R+1<h&&(H.push(x={children:[],index:0}),L.children[L.index]=x.children,L=x)}return H[0].children}function r(G,O,w){return 64*((G.blocksPerLine+1)*O+w)}function l(G,O,w,R,o,h,H,L,x,v=!1){const F=w.mcusPerLine,k=w.progressive,U=O;let ee=0,J=0;function I(){if(J>0)return J--,ee>>J&1;if(ee=G[O++],ee===255){const Ue=G[O++];if(Ue){if(Ue===220&&v){O+=2;const $e=(0,m.readUint16)(G,O);if(O+=2,$e>0&&$e!==w.scanLines)throw new z("Found DNL marker (0xFFDC) while parsing scan data",$e)}else if(Ue===217){if(v){const $e=fe*(w.precision===8?8:0);if($e>0&&Math.round(w.scanLines/$e)>=10)throw new z("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",$e)}throw new e("Found EOI marker (0xFFD9) while parsing scan data")}throw new ie(`unexpected marker ${(ee<<8|Ue).toString(16)}`)}}return J=7,ee>>>7}function X(Ue){let $e=Ue;for(;;){switch($e=$e[I()],typeof $e){case"number":return $e;case"object":continue}throw new ie("invalid huffman sequence")}}function ne(Ue){let $e=0;for(;Ue>0;)$e=$e<<1|I(),Ue--;return $e}function P(Ue){if(Ue===1)return I()===1?1:-1;const $e=ne(Ue);return $e>=1<<Ue-1?$e:$e+(-1<<Ue)+1}function V(Ue,$e){const De=X(Ue.huffmanTableDC),Te=De===0?0:P(De);Ue.blockData[$e]=Ue.pred+=Te;let Ee=1;for(;Ee<64;){const ze=X(Ue.huffmanTableAC),tt=ze&15,ft=ze>>4;if(tt===0){if(ft<15)break;Ee+=16;continue}Ee+=ft;const Be=j[Ee];Ue.blockData[$e+Be]=P(tt),Ee++}}function Y(Ue,$e){const De=X(Ue.huffmanTableDC),Te=De===0?0:P(De)<<x;Ue.blockData[$e]=Ue.pred+=Te}function Z(Ue,$e){Ue.blockData[$e]|=I()<<x}let q=0;function M(Ue,$e){if(q>0){q--;return}let De=h;const Te=H;for(;De<=Te;){const Ee=X(Ue.huffmanTableAC),ze=Ee&15,tt=Ee>>4;if(ze===0){if(tt<15){q=ne(tt)+(1<<tt)-1;break}De+=16;continue}De+=tt;const ft=j[De];Ue.blockData[$e+ft]=P(ze)*(1<<x),De++}}let te=0,W;function ae(Ue,$e){let De=h;const Te=H;let Ee=0,ze,tt;for(;De<=Te;){const ft=$e+j[De],Be=Ue.blockData[ft]<0?-1:1;switch(te){case 0:if(tt=X(Ue.huffmanTableAC),ze=tt&15,Ee=tt>>4,ze===0)Ee<15?(q=ne(Ee)+(1<<Ee),te=4):(Ee=16,te=1);else{if(ze!==1)throw new ie("invalid ACn encoding");W=P(ze),te=Ee?2:3}continue;case 1:case 2:Ue.blockData[ft]?Ue.blockData[ft]+=Be*(I()<<x):(Ee--,Ee===0&&(te=te===2?3:0));break;case 3:Ue.blockData[ft]?Ue.blockData[ft]+=Be*(I()<<x):(Ue.blockData[ft]=W<<x,te=0);break;case 4:Ue.blockData[ft]&&(Ue.blockData[ft]+=Be*(I()<<x));break}De++}te===4&&(q--,q===0&&(te=0))}let fe=0;function de(Ue,$e,De,Te,Ee){const ze=De/F|0,tt=De%F;fe=ze*Ue.v+Te;const ft=tt*Ue.h+Ee,Be=r(Ue,fe,ft);$e(Ue,Be)}function ue(Ue,$e,De){fe=De/Ue.blocksPerLine|0;const Te=De%Ue.blocksPerLine,Ee=r(Ue,fe,Te);$e(Ue,Ee)}const he=R.length;let me,xe,we,Ce,Fe,Oe;k?h===0?Oe=L===0?Y:Z:Oe=L===0?M:ae:Oe=V;let Ie=0,Me,Le;he===1?Le=R[0].blocksPerLine*R[0].blocksPerColumn:Le=F*w.mcusPerColumn;let qe,Xe;for(;Ie<=Le;){const Ue=o?Math.min(Le-Ie,o):Le;if(Ue>0){for(xe=0;xe<he;xe++)R[xe].pred=0;if(q=0,he===1)for(me=R[0],Fe=0;Fe<Ue;Fe++)ue(me,Oe,Ie),Ie++;else for(Fe=0;Fe<Ue;Fe++){for(xe=0;xe<he;xe++)for(me=R[xe],qe=me.h,Xe=me.v,we=0;we<Xe;we++)for(Ce=0;Ce<qe;Ce++)de(me,Oe,Ie,we,Ce);Ie++}}if(J=0,Me=K(G,O),!Me)break;if(Me.invalid){const $e=Ue>0?"unexpected":"excessive";(0,t.warn)(`decodeScan - ${$e} MCU data, current marker is: ${Me.invalid}`),O=Me.offset}if(Me.marker>=65488&&Me.marker<=65495)O+=2;else break}return O-U}function c(G,O,w){const R=G.quantizationTable,o=G.blockData;let h,H,L,x,v,F,k,U,ee,J,I,X,ne,P,V,Y,Z;if(!R)throw new ie("missing required Quantization Table.");for(let q=0;q<64;q+=8){if(ee=o[O+q],J=o[O+q+1],I=o[O+q+2],X=o[O+q+3],ne=o[O+q+4],P=o[O+q+5],V=o[O+q+6],Y=o[O+q+7],ee*=R[q],!(J|I|X|ne|P|V|Y)){Z=u*ee+512>>10,w[q]=Z,w[q+1]=Z,w[q+2]=Z,w[q+3]=Z,w[q+4]=Z,w[q+5]=Z,w[q+6]=Z,w[q+7]=Z;continue}J*=R[q+1],I*=R[q+2],X*=R[q+3],ne*=R[q+4],P*=R[q+5],V*=R[q+6],Y*=R[q+7],h=u*ee+128>>8,H=u*ne+128>>8,L=I,x=V,v=p*(J-Y)+128>>8,U=p*(J+Y)+128>>8,F=X<<4,k=P<<4,h=h+H+1>>1,H=h-H,Z=L*n+x*y+128>>8,L=L*y-x*n+128>>8,x=Z,v=v+k+1>>1,k=v-k,U=U+F+1>>1,F=U-F,h=h+x+1>>1,x=h-x,H=H+L+1>>1,L=H-L,Z=v*_+U*E+2048>>12,v=v*E-U*_+2048>>12,U=Z,Z=F*T+k*f+2048>>12,F=F*f-k*T+2048>>12,k=Z,w[q]=h+U,w[q+7]=h-U,w[q+1]=H+k,w[q+6]=H-k,w[q+2]=L+F,w[q+5]=L-F,w[q+3]=x+v,w[q+4]=x-v}for(let q=0;q<8;++q){if(ee=w[q],J=w[q+8],I=w[q+16],X=w[q+24],ne=w[q+32],P=w[q+40],V=w[q+48],Y=w[q+56],!(J|I|X|ne|P|V|Y)){Z=u*ee+8192>>14,Z<-2040?Z=0:Z>=2024?Z=255:Z=Z+2056>>4,o[O+q]=Z,o[O+q+8]=Z,o[O+q+16]=Z,o[O+q+24]=Z,o[O+q+32]=Z,o[O+q+40]=Z,o[O+q+48]=Z,o[O+q+56]=Z;continue}h=u*ee+2048>>12,H=u*ne+2048>>12,L=I,x=V,v=p*(J-Y)+2048>>12,U=p*(J+Y)+2048>>12,F=X,k=P,h=(h+H+1>>1)+4112,H=h-H,Z=L*n+x*y+2048>>12,L=L*y-x*n+2048>>12,x=Z,v=v+k+1>>1,k=v-k,U=U+F+1>>1,F=U-F,h=h+x+1>>1,x=h-x,H=H+L+1>>1,L=H-L,Z=v*_+U*E+2048>>12,v=v*E-U*_+2048>>12,U=Z,Z=F*T+k*f+2048>>12,F=F*f-k*T+2048>>12,k=Z,ee=h+U,Y=h-U,J=H+k,V=H-k,I=L+F,P=L-F,X=x+v,ne=x-v,ee<16?ee=0:ee>=4080?ee=255:ee>>=4,J<16?J=0:J>=4080?J=255:J>>=4,I<16?I=0:I>=4080?I=255:I>>=4,X<16?X=0:X>=4080?X=255:X>>=4,ne<16?ne=0:ne>=4080?ne=255:ne>>=4,P<16?P=0:P>=4080?P=255:P>>=4,V<16?V=0:V>=4080?V=255:V>>=4,Y<16?Y=0:Y>=4080?Y=255:Y>>=4,o[O+q]=ee,o[O+q+8]=J,o[O+q+16]=I,o[O+q+24]=X,o[O+q+32]=ne,o[O+q+40]=P,o[O+q+48]=V,o[O+q+56]=Y}}function d(G,O){const w=O.blocksPerLine,R=O.blocksPerColumn,o=new Int16Array(64);for(let h=0;h<R;h++)for(let H=0;H<w;H++){const L=r(O,h,H);c(O,L,o)}return O.blockData}function K(G,O,w=O){const R=G.length-1;let o=w<O?w:O;if(O>=R)return null;const h=(0,m.readUint16)(G,O);if(h>=65472&&h<=65534)return{invalid:null,marker:h,offset:O};let H=(0,m.readUint16)(G,o);for(;!(H>=65472&&H<=65534);){if(++o>=R)return null;H=(0,m.readUint16)(G,o)}return{invalid:h.toString(16),marker:H,offset:o}}class g{constructor({decodeTransform:O=null,colorTransform:w=-1}={}){this._decodeTransform=O,this._colorTransform=w}parse(O,{dnlScanLines:w=null}={}){function R(){const I=(0,m.readUint16)(O,h);h+=2;let X=h+I-2;const ne=K(O,X,h);ne&&ne.invalid&&((0,t.warn)("readDataBlock - incorrect length, current marker is: "+ne.invalid),X=ne.offset);const P=O.subarray(h,X);return h+=P.length,P}function o(I){const X=Math.ceil(I.samplesPerLine/8/I.maxH),ne=Math.ceil(I.scanLines/8/I.maxV);for(let P=0,V=I.components.length;P<V;P++){const Y=I.components[P],Z=Math.ceil(Math.ceil(I.samplesPerLine/8)*Y.h/I.maxH),q=Math.ceil(Math.ceil(I.scanLines/8)*Y.v/I.maxV),M=X*Y.h,W=64*(ne*Y.v)*(M+1);Y.blockData=new Int16Array(W),Y.blocksPerLine=Z,Y.blocksPerColumn=q}I.mcusPerLine=X,I.mcusPerColumn=ne}let h=0,H=null,L=null,x,v,F=0;const k=[],U=[],ee=[];let J=(0,m.readUint16)(O,h);if(h+=2,J!==65496)throw new ie("SOI not found");J=(0,m.readUint16)(O,h),h+=2;e:for(;J!==65497;){let I,X,ne;switch(J){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const P=R();J===65504&&P[0]===74&&P[1]===70&&P[2]===73&&P[3]===70&&P[4]===0&&(H={version:{major:P[5],minor:P[6]},densityUnits:P[7],xDensity:P[8]<<8|P[9],yDensity:P[10]<<8|P[11],thumbWidth:P[12],thumbHeight:P[13],thumbData:P.subarray(14,14+3*P[12]*P[13])}),J===65518&&P[0]===65&&P[1]===100&&P[2]===111&&P[3]===98&&P[4]===101&&(L={version:P[5]<<8|P[6],flags0:P[7]<<8|P[8],flags1:P[9]<<8|P[10],transformCode:P[11]});break;case 65499:const V=(0,m.readUint16)(O,h);h+=2;const Y=V+h-2;let Z;for(;h<Y;){const Ce=O[h++],Fe=new Uint16Array(64);if(Ce>>4)if(Ce>>4===1)for(X=0;X<64;X++)Z=j[X],Fe[Z]=(0,m.readUint16)(O,h),h+=2;else throw new ie("DQT - invalid table spec");else for(X=0;X<64;X++)Z=j[X],Fe[Z]=O[h++];k[Ce&15]=Fe}break;case 65472:case 65473:case 65474:if(x)throw new ie("Only single frame JPEGs supported");h+=2,x={},x.extended=J===65473,x.progressive=J===65474,x.precision=O[h++];const q=(0,m.readUint16)(O,h);h+=2,x.scanLines=w||q,x.samplesPerLine=(0,m.readUint16)(O,h),h+=2,x.components=[],x.componentIds={};const M=O[h++];let te=0,W=0;for(I=0;I<M;I++){const Ce=O[h],Fe=O[h+1]>>4,Oe=O[h+1]&15;te<Fe&&(te=Fe),W<Oe&&(W=Oe);const Ie=O[h+2];ne=x.components.push({h:Fe,v:Oe,quantizationId:Ie,quantizationTable:null}),x.componentIds[Ce]=ne-1,h+=3}x.maxH=te,x.maxV=W,o(x);break;case 65476:const ae=(0,m.readUint16)(O,h);for(h+=2,I=2;I<ae;){const Ce=O[h++],Fe=new Uint8Array(16);let Oe=0;for(X=0;X<16;X++,h++)Oe+=Fe[X]=O[h];const Ie=new Uint8Array(Oe);for(X=0;X<Oe;X++,h++)Ie[X]=O[h];I+=17+Oe,(Ce>>4?U:ee)[Ce&15]=s(Fe,Ie)}break;case 65501:h+=2,v=(0,m.readUint16)(O,h),h+=2;break;case 65498:const fe=++F===1&&!w;h+=2;const de=O[h++],ue=[];for(I=0;I<de;I++){const Ce=O[h++],Fe=x.componentIds[Ce],Oe=x.components[Fe];Oe.index=Ce;const Ie=O[h++];Oe.huffmanTableDC=ee[Ie>>4],Oe.huffmanTableAC=U[Ie&15],ue.push(Oe)}const he=O[h++],me=O[h++],xe=O[h++];try{const Ce=l(O,h,x,ue,v,he,me,xe>>4,xe&15,fe);h+=Ce}catch(Ce){if(Ce instanceof z)return(0,t.warn)(`${Ce.message} -- attempting to re-parse the JPEG image.`),this.parse(O,{dnlScanLines:Ce.scanLines});if(Ce instanceof e){(0,t.warn)(`${Ce.message} -- ignoring the rest of the image data.`);break e}throw Ce}break;case 65500:h+=4;break;case 65535:O[h]!==255&&h--;break;default:const we=K(O,h-2,h-3);if(we&&we.invalid){(0,t.warn)("JpegImage.parse - unexpected data, current marker is: "+we.invalid),h=we.offset;break}if(!we||h>=O.length-1){(0,t.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new ie("JpegImage.parse - unknown marker: "+J.toString(16))}J=(0,m.readUint16)(O,h),h+=2}this.width=x.samplesPerLine,this.height=x.scanLines,this.jfif=H,this.adobe=L,this.components=[];for(let I=0,X=x.components.length;I<X;I++){const ne=x.components[I],P=k[ne.quantizationId];P&&(ne.quantizationTable=P),this.components.push({index:ne.index,output:d(x,ne),scaleX:ne.h/x.maxH,scaleY:ne.v/x.maxV,blocksPerLine:ne.blocksPerLine,blocksPerColumn:ne.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(O,w,R=!1){const o=this.width/O,h=this.height/w;let H,L,x,v,F,k,U,ee,J,I,X=0,ne;const P=this.components.length,V=O*w*P,Y=new Uint8ClampedArray(V),Z=new Uint32Array(O),q=4294967288;let M;for(U=0;U<P;U++){if(H=this.components[U],L=H.scaleX*o,x=H.scaleY*h,X=U,ne=H.output,v=H.blocksPerLine+1<<3,L!==M){for(F=0;F<O;F++)ee=0|F*L,Z[F]=(ee&q)<<3|ee&7;M=L}for(k=0;k<w;k++)for(ee=0|k*x,I=v*(ee&q)|(ee&7)<<3,F=0;F<O;F++)Y[X]=ne[I+Z[F]],X+=P}let te=this._decodeTransform;if(!R&&P===4&&!te&&(te=new Int32Array([-256,255,-256,255,-256,255,-256,255])),te)for(U=0;U<V;)for(ee=0,J=0;ee<P;ee++,U++,J+=2)Y[U]=(Y[U]*te[J]>>8)+te[J+1];return Y}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(O){let w,R,o;for(let h=0,H=O.length;h<H;h+=3)w=O[h],R=O[h+1],o=O[h+2],O[h]=w-179.456+1.402*o,O[h+1]=w+135.459-.344*R-.714*o,O[h+2]=w-226.816+1.772*R;return O}_convertYcckToRgb(O){let w,R,o,h,H=0;for(let L=0,x=O.length;L<x;L+=4)w=O[L],R=O[L+1],o=O[L+2],h=O[L+3],O[H++]=-122.67195406894+R*(-660635669420364e-19*R+.000437130475926232*o-54080610064599e-18*w+.00048449797120281*h-.154362151871126)+o*(-.000957964378445773*o+.000817076911346625*w-.00477271405408747*h+1.53380253221734)+w*(.000961250184130688*w-.00266257332283933*h+.48357088451265)+h*(-.000336197177618394*h+.484791561490776),O[H++]=107.268039397724+R*(219927104525741e-19*R-.000640992018297945*o+.000659397001245577*w+.000426105652938837*h-.176491792462875)+o*(-.000778269941513683*o+.00130872261408275*w+.000770482631801132*h-.151051492775562)+w*(.00126935368114843*w-.00265090189010898*h+.25802910206845)+h*(-.000318913117588328*h-.213742400323665),O[H++]=-20.810012546947+R*(-.000570115196973677*R-263409051004589e-19*o+.0020741088115012*w-.00288260236853442*h+.814272968359295)+o*(-153496057440975e-19*o-.000132689043961446*w+.000560833691242812*h-.195152027534049)+w*(.00174418132927582*w-.00255243321439347*h+.116935020465145)+h*(-.000343531996510555*h+.24165260232407);return O.subarray(0,H)}_convertYcckToCmyk(O){let w,R,o;for(let h=0,H=O.length;h<H;h+=4)w=O[h],R=O[h+1],o=O[h+2],O[h]=434.456-w-1.402*o,O[h+1]=119.541-w+.344*R+.714*o,O[h+2]=481.816-w-1.772*R;return O}_convertCmykToRgb(O){let w,R,o,h,H=0;for(let L=0,x=O.length;L<x;L+=4)w=O[L],R=O[L+1],o=O[L+2],h=O[L+3],O[H++]=255+w*(-6747147073602441e-20*w+.0008379262121013727*R+.0002894718188643294*o+.003264231057537806*h-1.1185611867203937)+R*(26374107616089405e-21*R-8626949158638572e-20*o-.0002748769067499491*h-.02155688794978967)+o*(-3878099212869363e-20*o-.0003267808279485286*h+.0686742238595345)-h*(.0003361971776183937*h+.7430659151342254),O[H++]=255+w*(.00013596372813588848*w+.000924537132573585*R+.00010567359618683593*o+.0004791864687436512*h-.3109689587515875)+R*(-.00023545346108370344*R+.0002702845253534714*o+.0020200308977307156*h-.7488052167015494)+o*(6834815998235662e-20*o+.00015168452363460973*h-.09751927774728933)-h*(.0003189131175883281*h+.7364883807733168),O[H++]=255+w*(13598650411385307e-21*w+.00012423956175490851*R+.0004751985097583589*o-36729317476630422e-22*h-.05562186980264034)+R*(.00016141380598724676*R+.0009692239130725186*o+.0007782692450036253*h-.44015232367526463)+o*(5068882914068769e-22*o+.0017778369011375071*h-.7591454649749609)-h*(.0003435319965105553*h+.7063770186160144);return O.subarray(0,H)}getData({width:O,height:w,forceRGB:R=!1,isSourcePDF:o=!1}){if(this.numComponents>4)throw new ie("Unsupported color mode");const h=this._getLinearizedBlockData(O,w,o);if(this.numComponents===1&&R){const H=h.length,L=new Uint8ClampedArray(H*3);let x=0;for(let v=0;v<H;v++){const F=h[v];L[x++]=F,L[x++]=F,L[x++]=F}return L}else{if(this.numComponents===3&&this._isColorConversionNeeded)return this._convertYccToRgb(h);if(this.numComponents===4){if(this._isColorConversionNeeded)return R?this._convertYcckToRgb(h):this._convertYcckToCmyk(h);if(R)return this._convertCmykToRgb(h)}}return h}}A.JpegImage=g},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.JpxStream=void 0;var t=se(19),m=se(30),ie=se(2);class z extends t.DecodeStream{constructor(j,f,T){super(f),this.stream=j,this.dict=j.dict,this.maybeLength=f,this.params=T}get bytes(){return(0,ie.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(j){}readBlock(){if(this.eof)return;const j=new m.JpxImage;j.parse(this.bytes);const f=j.width,T=j.height,E=j.componentsCount,_=j.tiles.length;if(_===1)this.buffer=j.tiles[0].items;else{const y=new Uint8ClampedArray(f*T*E);for(let n=0;n<_;n++){const u=j.tiles[n],p=u.width,s=u.height,r=u.left,l=u.top,c=u.items;let d=0,K=(f*l+r)*E;const g=f*E,G=p*E;for(let O=0;O<s;O++){const w=c.subarray(d,d+G);y.set(w,K),d+=G,K+=g}}this.buffer=y}this.bufferLength=this.buffer.length,this.eof=!0}}A.JpxStream=z},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.JpxImage=void 0;var t=se(2),m=se(6),ie=se(26);class z extends t.BaseException{constructor(k){super(`JPX error: ${k}`,"JpxError")}}const e={LL:0,LH:1,HL:1,HH:2};class j{constructor(){this.failOnCorruptedImage=!1}parse(k){if((0,m.readUint16)(k,0)===65359){this.parseCodestream(k,0,k.length);return}const ee=k.length;let J=0;for(;J<ee;){let I=8,X=(0,m.readUint32)(k,J);const ne=(0,m.readUint32)(k,J+4);if(J+=I,X===1&&(X=(0,m.readUint32)(k,J)*4294967296+(0,m.readUint32)(k,J+4),J+=8,I+=8),X===0&&(X=ee-J+I),X<I)throw new z("Invalid box field size");const P=X-I;let V=!0;switch(ne){case 1785737832:V=!1;break;case 1668246642:const Y=k[J];if(Y===1){const q=(0,m.readUint32)(k,J+3);switch(q){case 16:case 17:case 18:break;default:(0,t.warn)("Unknown colorspace "+q);break}}else Y===2&&(0,t.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(k,J,J+P);break;case 1783636e3:(0,m.readUint32)(k,J)!==218793738&&(0,t.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Z=String.fromCharCode(ne>>24&255,ne>>16&255,ne>>8&255,ne&255);(0,t.warn)(`Unsupported header type ${ne} (${Z}).`);break}V&&(J+=P)}}parseImageProperties(k){let U=k.getByte();for(;U>=0;){const ee=U;if(U=k.getByte(),(ee<<8|U)===65361){k.skip(4);const I=k.getInt32()>>>0,X=k.getInt32()>>>0,ne=k.getInt32()>>>0,P=k.getInt32()>>>0;k.skip(16);const V=k.getUint16();this.width=I-ne,this.height=X-P,this.componentsCount=V,this.bitsPerComponent=8;return}}throw new z("No size marker found in JPX stream")}parseCodestream(k,U,ee){const J={};let I=!1;try{let X=U;for(;X+1<ee;){const ne=(0,m.readUint16)(k,X);X+=2;let P=0,V,Y,Z,q,M,te;switch(ne){case 65359:J.mainHeader=!0;break;case 65497:break;case 65361:P=(0,m.readUint16)(k,X);const W={};W.Xsiz=(0,m.readUint32)(k,X+4),W.Ysiz=(0,m.readUint32)(k,X+8),W.XOsiz=(0,m.readUint32)(k,X+12),W.YOsiz=(0,m.readUint32)(k,X+16),W.XTsiz=(0,m.readUint32)(k,X+20),W.YTsiz=(0,m.readUint32)(k,X+24),W.XTOsiz=(0,m.readUint32)(k,X+28),W.YTOsiz=(0,m.readUint32)(k,X+32);const ae=(0,m.readUint16)(k,X+36);W.Csiz=ae;const fe=[];V=X+38;for(let Fe=0;Fe<ae;Fe++){const Oe={precision:(k[V]&127)+1,isSigned:!!(k[V]&128),XRsiz:k[V+1],YRsiz:k[V+2]};V+=3,f(Oe,W),fe.push(Oe)}J.SIZ=W,J.components=fe,T(J,fe),J.QCC=[],J.COC=[];break;case 65372:P=(0,m.readUint16)(k,X);const de={};switch(V=X+2,Y=k[V++],Y&31){case 0:q=8,M=!0;break;case 1:q=16,M=!1;break;case 2:q=16,M=!0;break;default:throw new Error("Invalid SQcd value "+Y)}for(de.noQuantization=q===8,de.scalarExpounded=M,de.guardBits=Y>>5,Z=[];V<P+X;){const Fe={};q===8?(Fe.epsilon=k[V++]>>3,Fe.mu=0):(Fe.epsilon=k[V]>>3,Fe.mu=(k[V]&7)<<8|k[V+1],V+=2),Z.push(Fe)}de.SPqcds=Z,J.mainHeader?J.QCD=de:(J.currentTile.QCD=de,J.currentTile.QCC=[]);break;case 65373:P=(0,m.readUint16)(k,X);const ue={};V=X+2;let he;switch(J.SIZ.Csiz<257?he=k[V++]:(he=(0,m.readUint16)(k,V),V+=2),Y=k[V++],Y&31){case 0:q=8,M=!0;break;case 1:q=16,M=!1;break;case 2:q=16,M=!0;break;default:throw new Error("Invalid SQcd value "+Y)}for(ue.noQuantization=q===8,ue.scalarExpounded=M,ue.guardBits=Y>>5,Z=[];V<P+X;){const Fe={};q===8?(Fe.epsilon=k[V++]>>3,Fe.mu=0):(Fe.epsilon=k[V]>>3,Fe.mu=(k[V]&7)<<8|k[V+1],V+=2),Z.push(Fe)}ue.SPqcds=Z,J.mainHeader?J.QCC[he]=ue:J.currentTile.QCC[he]=ue;break;case 65362:P=(0,m.readUint16)(k,X);const me={};V=X+2;const xe=k[V++];me.entropyCoderWithCustomPrecincts=!!(xe&1),me.sopMarkerUsed=!!(xe&2),me.ephMarkerUsed=!!(xe&4),me.progressionOrder=k[V++],me.layersCount=(0,m.readUint16)(k,V),V+=2,me.multipleComponentTransform=k[V++],me.decompositionLevelsCount=k[V++],me.xcb=(k[V++]&15)+2,me.ycb=(k[V++]&15)+2;const we=k[V++];if(me.selectiveArithmeticCodingBypass=!!(we&1),me.resetContextProbabilities=!!(we&2),me.terminationOnEachCodingPass=!!(we&4),me.verticallyStripe=!!(we&8),me.predictableTermination=!!(we&16),me.segmentationSymbolUsed=!!(we&32),me.reversibleTransformation=k[V++],me.entropyCoderWithCustomPrecincts){const Fe=[];for(;V<P+X;){const Oe=k[V++];Fe.push({PPx:Oe&15,PPy:Oe>>4})}me.precinctsSizes=Fe}const Ce=[];me.selectiveArithmeticCodingBypass&&Ce.push("selectiveArithmeticCodingBypass"),me.terminationOnEachCodingPass&&Ce.push("terminationOnEachCodingPass"),me.verticallyStripe&&Ce.push("verticallyStripe"),me.predictableTermination&&Ce.push("predictableTermination"),Ce.length>0&&(I=!0,(0,t.warn)(`JPX: Unsupported COD options (${Ce.join(", ")}).`)),J.mainHeader?J.COD=me:(J.currentTile.COD=me,J.currentTile.COC=[]);break;case 65424:P=(0,m.readUint16)(k,X),te={},te.index=(0,m.readUint16)(k,X+2),te.length=(0,m.readUint32)(k,X+4),te.dataEnd=te.length+X-2,te.partIndex=k[X+8],te.partsCount=k[X+9],J.mainHeader=!1,te.partIndex===0&&(te.COD=J.COD,te.COC=J.COC.slice(0),te.QCD=J.QCD,te.QCC=J.QCC.slice(0)),J.currentTile=te;break;case 65427:te=J.currentTile,te.partIndex===0&&(R(J,te.index),K(J)),P=te.dataEnd-X,g(J,k,X,P);break;case 65363:(0,t.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:P=(0,m.readUint16)(k,X);break;default:throw new Error("Unknown codestream code: "+ne.toString(16))}X+=P}}catch(X){if(I||this.failOnCorruptedImage)throw new z(X.message);(0,t.warn)(`JPX: Trying to recover from: "${X.message}".`)}this.tiles=w(J),this.width=J.SIZ.Xsiz-J.SIZ.XOsiz,this.height=J.SIZ.Ysiz-J.SIZ.YOsiz,this.componentsCount=J.SIZ.Csiz}}A.JpxImage=j;function f(F,k){F.x0=Math.ceil(k.XOsiz/F.XRsiz),F.x1=Math.ceil(k.Xsiz/F.XRsiz),F.y0=Math.ceil(k.YOsiz/F.YRsiz),F.y1=Math.ceil(k.Ysiz/F.YRsiz),F.width=F.x1-F.x0,F.height=F.y1-F.y0}function T(F,k){const U=F.SIZ,ee=[];let J;const I=Math.ceil((U.Xsiz-U.XTOsiz)/U.XTsiz),X=Math.ceil((U.Ysiz-U.YTOsiz)/U.YTsiz);for(let P=0;P<X;P++)for(let V=0;V<I;V++)J={},J.tx0=Math.max(U.XTOsiz+V*U.XTsiz,U.XOsiz),J.ty0=Math.max(U.YTOsiz+P*U.YTsiz,U.YOsiz),J.tx1=Math.min(U.XTOsiz+(V+1)*U.XTsiz,U.Xsiz),J.ty1=Math.min(U.YTOsiz+(P+1)*U.YTsiz,U.Ysiz),J.width=J.tx1-J.tx0,J.height=J.ty1-J.ty0,J.components=[],ee.push(J);F.tiles=ee;const ne=U.Csiz;for(let P=0,V=ne;P<V;P++){const Y=k[P];for(let Z=0,q=ee.length;Z<q;Z++){const M={};J=ee[Z],M.tcx0=Math.ceil(J.tx0/Y.XRsiz),M.tcy0=Math.ceil(J.ty0/Y.YRsiz),M.tcx1=Math.ceil(J.tx1/Y.XRsiz),M.tcy1=Math.ceil(J.ty1/Y.YRsiz),M.width=M.tcx1-M.tcx0,M.height=M.tcy1-M.tcy0,J.components[P]=M}}}function E(F,k,U){const ee=k.codingStyleParameters,J={};return ee.entropyCoderWithCustomPrecincts?(J.PPx=ee.precinctsSizes[U].PPx,J.PPy=ee.precinctsSizes[U].PPy):(J.PPx=15,J.PPy=15),J.xcb_=U>0?Math.min(ee.xcb,J.PPx-1):Math.min(ee.xcb,J.PPx),J.ycb_=U>0?Math.min(ee.ycb,J.PPy-1):Math.min(ee.ycb,J.PPy),J}function _(F,k,U){const ee=1<<U.PPx,J=1<<U.PPy,I=k.resLevel===0,X=1<<U.PPx+(I?0:-1),ne=1<<U.PPy+(I?0:-1),P=k.trx1>k.trx0?Math.ceil(k.trx1/ee)-Math.floor(k.trx0/ee):0,V=k.try1>k.try0?Math.ceil(k.try1/J)-Math.floor(k.try0/J):0,Y=P*V;k.precinctParameters={precinctWidth:ee,precinctHeight:J,numprecinctswide:P,numprecinctshigh:V,numprecincts:Y,precinctWidthInSubband:X,precinctHeightInSubband:ne}}function y(F,k,U){const ee=U.xcb_,J=U.ycb_,I=1<<ee,X=1<<J,ne=k.tbx0>>ee,P=k.tby0>>J,V=k.tbx1+I-1>>ee,Y=k.tby1+X-1>>J,Z=k.resolution.precinctParameters,q=[],M=[];let te,W,ae,fe;for(W=P;W<Y;W++)for(te=ne;te<V;te++){ae={cbx:te,cby:W,tbx0:I*te,tby0:X*W,tbx1:I*(te+1),tby1:X*(W+1)},ae.tbx0_=Math.max(k.tbx0,ae.tbx0),ae.tby0_=Math.max(k.tby0,ae.tby0),ae.tbx1_=Math.min(k.tbx1,ae.tbx1),ae.tby1_=Math.min(k.tby1,ae.tby1);const de=Math.floor((ae.tbx0_-k.tbx0)/Z.precinctWidthInSubband),ue=Math.floor((ae.tby0_-k.tby0)/Z.precinctHeightInSubband);if(fe=de+ue*Z.numprecinctswide,ae.precinctNumber=fe,ae.subbandType=k.type,ae.Lblock=3,ae.tbx1_<=ae.tbx0_||ae.tby1_<=ae.tby0_)continue;q.push(ae);let he=M[fe];he!==void 0?(te<he.cbxMin?he.cbxMin=te:te>he.cbxMax&&(he.cbxMax=te),W<he.cbyMin?he.cbxMin=W:W>he.cbyMax&&(he.cbyMax=W)):M[fe]=he={cbxMin:te,cbyMin:W,cbxMax:te,cbyMax:W},ae.precinct=he}k.codeblockParameters={codeblockWidth:ee,codeblockHeight:J,numcodeblockwide:V-ne+1,numcodeblockhigh:Y-P+1},k.codeblocks=q,k.precincts=M}function n(F,k,U){const ee=[],J=F.subbands;for(let I=0,X=J.length;I<X;I++){const P=J[I].codeblocks;for(let V=0,Y=P.length;V<Y;V++){const Z=P[V];Z.precinctNumber===k&&ee.push(Z)}}return{layerNumber:U,codeblocks:ee}}function u(F){const k=F.SIZ,U=F.currentTile.index,ee=F.tiles[U],J=ee.codingStyleDefaultParameters.layersCount,I=k.Csiz;let X=0;for(let Z=0;Z<I;Z++)X=Math.max(X,ee.components[Z].codingStyleParameters.decompositionLevelsCount);let ne=0,P=0,V=0,Y=0;this.nextPacket=function(){for(;ne<J;ne++){for(;P<=X;P++){for(;V<I;V++){const q=ee.components[V];if(P>q.codingStyleParameters.decompositionLevelsCount)continue;const M=q.resolutions[P],te=M.precinctParameters.numprecincts;for(;Y<te;){const W=n(M,Y,ne);return Y++,W}Y=0}V=0}P=0}throw new z("Out of packets")}}function p(F){const k=F.SIZ,U=F.currentTile.index,ee=F.tiles[U],J=ee.codingStyleDefaultParameters.layersCount,I=k.Csiz;let X=0;for(let Z=0;Z<I;Z++)X=Math.max(X,ee.components[Z].codingStyleParameters.decompositionLevelsCount);let ne=0,P=0,V=0,Y=0;this.nextPacket=function(){for(;ne<=X;ne++){for(;P<J;P++){for(;V<I;V++){const q=ee.components[V];if(ne>q.codingStyleParameters.decompositionLevelsCount)continue;const M=q.resolutions[ne],te=M.precinctParameters.numprecincts;for(;Y<te;){const W=n(M,Y,P);return Y++,W}Y=0}V=0}P=0}throw new z("Out of packets")}}function s(F){const k=F.SIZ,U=F.currentTile.index,ee=F.tiles[U],J=ee.codingStyleDefaultParameters.layersCount,I=k.Csiz;let X,ne,P,V,Y=0;for(P=0;P<I;P++){const q=ee.components[P];Y=Math.max(Y,q.codingStyleParameters.decompositionLevelsCount)}const Z=new Int32Array(Y+1);for(ne=0;ne<=Y;++ne){let q=0;for(P=0;P<I;++P){const M=ee.components[P].resolutions;ne<M.length&&(q=Math.max(q,M[ne].precinctParameters.numprecincts))}Z[ne]=q}X=0,ne=0,P=0,V=0,this.nextPacket=function(){for(;ne<=Y;ne++){for(;V<Z[ne];V++){for(;P<I;P++){const M=ee.components[P];if(ne>M.codingStyleParameters.decompositionLevelsCount)continue;const te=M.resolutions[ne],W=te.precinctParameters.numprecincts;if(!(V>=W)){for(;X<J;){const ae=n(te,V,X);return X++,ae}X=0}}P=0}V=0}throw new z("Out of packets")}}function r(F){const k=F.SIZ,U=F.currentTile.index,ee=F.tiles[U],J=ee.codingStyleDefaultParameters.layersCount,I=k.Csiz,X=d(ee),ne=X;let P=0,V=0,Y=0,Z=0,q=0;this.nextPacket=function(){for(;q<ne.maxNumHigh;q++){for(;Z<ne.maxNumWide;Z++){for(;Y<I;Y++){const te=ee.components[Y],W=te.codingStyleParameters.decompositionLevelsCount;for(;V<=W;V++){const ae=te.resolutions[V],fe=X.components[Y].resolutions[V],de=c(Z,q,fe,ne,ae);if(de!==null){for(;P<J;){const ue=n(ae,de,P);return P++,ue}P=0}}V=0}Y=0}Z=0}throw new z("Out of packets")}}function l(F){const k=F.SIZ,U=F.currentTile.index,ee=F.tiles[U],J=ee.codingStyleDefaultParameters.layersCount,I=k.Csiz,X=d(ee);let ne=0,P=0,V=0,Y=0,Z=0;this.nextPacket=function(){for(;V<I;++V){const M=ee.components[V],te=X.components[V],W=M.codingStyleParameters.decompositionLevelsCount;for(;Z<te.maxNumHigh;Z++){for(;Y<te.maxNumWide;Y++){for(;P<=W;P++){const ae=M.resolutions[P],fe=te.resolutions[P],de=c(Y,Z,fe,te,ae);if(de!==null){for(;ne<J;){const ue=n(ae,de,ne);return ne++,ue}ne=0}}P=0}Y=0}Z=0}throw new z("Out of packets")}}function c(F,k,U,ee,J){const I=F*ee.minWidth,X=k*ee.minHeight;if(I%U.width!==0||X%U.height!==0)return null;const ne=X/U.width*J.precinctParameters.numprecinctswide;return I/U.height+ne}function d(F){const k=F.components.length;let U=Number.MAX_VALUE,ee=Number.MAX_VALUE,J=0,I=0;const X=new Array(k);for(let ne=0;ne<k;ne++){const P=F.components[ne],V=P.codingStyleParameters.decompositionLevelsCount,Y=new Array(V+1);let Z=Number.MAX_VALUE,q=Number.MAX_VALUE,M=0,te=0,W=1;for(let ae=V;ae>=0;--ae){const fe=P.resolutions[ae],de=W*fe.precinctParameters.precinctWidth,ue=W*fe.precinctParameters.precinctHeight;Z=Math.min(Z,de),q=Math.min(q,ue),M=Math.max(M,fe.precinctParameters.numprecinctswide),te=Math.max(te,fe.precinctParameters.numprecinctshigh),Y[ae]={width:de,height:ue},W<<=1}U=Math.min(U,Z),ee=Math.min(ee,q),J=Math.max(J,M),I=Math.max(I,te),X[ne]={resolutions:Y,minWidth:Z,minHeight:q,maxNumWide:M,maxNumHigh:te}}return{components:X,minWidth:U,minHeight:ee,maxNumWide:J,maxNumHigh:I}}function K(F){const k=F.SIZ,U=F.currentTile.index,ee=F.tiles[U],J=k.Csiz;for(let X=0;X<J;X++){const ne=ee.components[X],P=ne.codingStyleParameters.decompositionLevelsCount,V=[],Y=[];for(let Z=0;Z<=P;Z++){const q=E(F,ne,Z),M={},te=1<<P-Z;M.trx0=Math.ceil(ne.tcx0/te),M.try0=Math.ceil(ne.tcy0/te),M.trx1=Math.ceil(ne.tcx1/te),M.try1=Math.ceil(ne.tcy1/te),M.resLevel=Z,_(F,M,q),V.push(M);let W;if(Z===0)W={},W.type="LL",W.tbx0=Math.ceil(ne.tcx0/te),W.tby0=Math.ceil(ne.tcy0/te),W.tbx1=Math.ceil(ne.tcx1/te),W.tby1=Math.ceil(ne.tcy1/te),W.resolution=M,y(F,W,q),Y.push(W),M.subbands=[W];else{const ae=1<<P-Z+1,fe=[];W={},W.type="HL",W.tbx0=Math.ceil(ne.tcx0/ae-.5),W.tby0=Math.ceil(ne.tcy0/ae),W.tbx1=Math.ceil(ne.tcx1/ae-.5),W.tby1=Math.ceil(ne.tcy1/ae),W.resolution=M,y(F,W,q),Y.push(W),fe.push(W),W={},W.type="LH",W.tbx0=Math.ceil(ne.tcx0/ae),W.tby0=Math.ceil(ne.tcy0/ae-.5),W.tbx1=Math.ceil(ne.tcx1/ae),W.tby1=Math.ceil(ne.tcy1/ae-.5),W.resolution=M,y(F,W,q),Y.push(W),fe.push(W),W={},W.type="HH",W.tbx0=Math.ceil(ne.tcx0/ae-.5),W.tby0=Math.ceil(ne.tcy0/ae-.5),W.tbx1=Math.ceil(ne.tcx1/ae-.5),W.tby1=Math.ceil(ne.tcy1/ae-.5),W.resolution=M,y(F,W,q),Y.push(W),fe.push(W),M.subbands=fe}}ne.resolutions=V,ne.subbands=Y}const I=ee.codingStyleDefaultParameters.progressionOrder;switch(I){case 0:ee.packetsIterator=new u(F);break;case 1:ee.packetsIterator=new p(F);break;case 2:ee.packetsIterator=new s(F);break;case 3:ee.packetsIterator=new r(F);break;case 4:ee.packetsIterator=new l(F);break;default:throw new z(`Unsupported progression order ${I}`)}}function g(F,k,U,ee){let J=0,I,X=0,ne=!1;function P(de){for(;X<de;){const ue=k[U+J];J++,ne?(I=I<<7|ue,X+=7,ne=!1):(I=I<<8|ue,X+=8),ue===255&&(ne=!0)}return X-=de,I>>>X&(1<<de)-1}function V(de){return k[U+J-1]===255&&k[U+J]===de?(Y(1),!0):k[U+J]===255&&k[U+J+1]===de?(Y(2),!0):!1}function Y(de){J+=de}function Z(){X=0,ne&&(J++,ne=!1)}function q(){if(P(1)===0)return 1;if(P(1)===0)return 2;let de=P(2);return de<3?de+3:(de=P(5),de<31?de+6:(de=P(7),de+37))}const M=F.currentTile.index,te=F.tiles[M],W=F.COD.sopMarkerUsed,ae=F.COD.ephMarkerUsed,fe=te.packetsIterator;for(;J<ee;){Z(),W&&V(145)&&Y(4);const de=fe.nextPacket();if(!P(1))continue;const ue=de.layerNumber,he=[];let me;for(let xe=0,we=de.codeblocks.length;xe<we;xe++){me=de.codeblocks[xe];let Ce=me.precinct;const Fe=me.cbx-Ce.cbxMin,Oe=me.cby-Ce.cbyMin;let Ie=!1,Me=!1,Le,qe;if(me.included!==void 0)Ie=!!P(1);else{Ce=me.precinct;let Te;if(Ce.inclusionTree!==void 0)Te=Ce.inclusionTree;else{const Ee=Ce.cbxMax-Ce.cbxMin+1,ze=Ce.cbyMax-Ce.cbyMin+1;Te=new h(Ee,ze,ue),qe=new o(Ee,ze),Ce.inclusionTree=Te,Ce.zeroBitPlanesTree=qe;for(let tt=0;tt<ue;tt++)if(P(1)!==0)throw new z("Invalid tag tree")}if(Te.reset(Fe,Oe,ue))for(;;)if(P(1)){if(Le=!Te.nextLevel(),Le){me.included=!0,Ie=Me=!0;break}}else{Te.incrementValue(ue);break}}if(!Ie)continue;if(Me){for(qe=Ce.zeroBitPlanesTree,qe.reset(Fe,Oe);;)if(P(1)){if(Le=!qe.nextLevel(),Le)break}else qe.incrementValue();me.zeroBitPlanes=qe.value}const Xe=q();for(;P(1);)me.Lblock++;const Ue=(0,m.log2)(Xe),$e=(Xe<1<<Ue?Ue-1:Ue)+me.Lblock,De=P($e);he.push({codeblock:me,codingpasses:Xe,dataLength:De})}for(Z(),ae&&V(146);he.length>0;){const xe=he.shift();me=xe.codeblock,me.data===void 0&&(me.data=[]),me.data.push({data:k,start:U+J,end:U+J+xe.dataLength,codingpasses:xe.codingpasses}),J+=xe.dataLength}}return J}function G(F,k,U,ee,J,I,X,ne,P){const V=ee.tbx0,Y=ee.tby0,Z=ee.tbx1-ee.tbx0,q=ee.codeblocks,M=ee.type.charAt(0)==="H"?1:0,te=ee.type.charAt(1)==="H"?k:0;for(let W=0,ae=q.length;W<ae;++W){const fe=q[W],de=fe.tbx1_-fe.tbx0_,ue=fe.tby1_-fe.tby0_;if(de===0||ue===0||fe.data===void 0)continue;const he=new H(de,ue,fe.subbandType,fe.zeroBitPlanes,I);let me=2;const xe=fe.data;let we=0,Ce=0,Fe,Oe,Ie;for(Fe=0,Oe=xe.length;Fe<Oe;Fe++)Ie=xe[Fe],we+=Ie.end-Ie.start,Ce+=Ie.codingpasses;const Me=new Uint8Array(we);let Le=0;for(Fe=0,Oe=xe.length;Fe<Oe;Fe++){Ie=xe[Fe];const Be=Ie.data.subarray(Ie.start,Ie.end);Me.set(Be,Le),Le+=Be.length}const qe=new ie.ArithmeticDecoder(Me,0,we);for(he.setDecoder(qe),Fe=0;Fe<Ce;Fe++){switch(me){case 0:he.runSignificancePropagationPass();break;case 1:he.runMagnitudeRefinementPass();break;case 2:he.runCleanupPass(),ne&&he.checkSegmentationSymbol();break}P&&he.reset(),me=(me+1)%3}let Xe=fe.tbx0_-V+(fe.tby0_-Y)*Z;const Ue=he.coefficentsSign,$e=he.coefficentsMagnitude,De=he.bitsDecoded,Te=X?0:.5;let Ee,ze,tt;Le=0;const ft=ee.type!=="LL";for(Fe=0;Fe<ue;Fe++){const Ne=2*(Xe/Z|0)*(k-Z)+M+te;for(Ee=0;Ee<de;Ee++){if(ze=$e[Le],ze!==0){ze=(ze+Te)*J,Ue[Le]!==0&&(ze=-ze),tt=De[Le];const ke=ft?Ne+(Xe<<1):Xe;X&&tt>=I?F[ke]=ze:F[ke]=ze*(1<<I-tt)}Xe++,Le++}Xe+=Z-de}}}function O(F,k,U){const ee=k.components[U],J=ee.codingStyleParameters,I=ee.quantizationParameters,X=J.decompositionLevelsCount,ne=I.SPqcds,P=I.scalarExpounded,V=I.guardBits,Y=J.segmentationSymbolUsed,Z=J.resetContextProbabilities,q=F.components[U].precision,M=J.reversibleTransformation,te=M?new v:new x,W=[];let ae=0;for(let de=0;de<=X;de++){const ue=ee.resolutions[de],he=ue.trx1-ue.trx0,me=ue.try1-ue.try0,xe=new Float32Array(he*me);for(let we=0,Ce=ue.subbands.length;we<Ce;we++){let Fe,Oe;P?(Fe=ne[ae].mu,Oe=ne[ae].epsilon,ae++):(Fe=ne[0].mu,Oe=ne[0].epsilon+(de>0?1-de:0));const Ie=ue.subbands[we],Me=e[Ie.type],Le=M?1:2**(q+Me-Oe)*(1+Fe/2048),qe=V+Oe-1;G(xe,he,me,Ie,Le,qe,M,Y,Z)}W.push({width:he,height:me,items:xe})}const fe=te.calculate(W,ee.tcx0,ee.tcy0);return{left:ee.tcx0,top:ee.tcy0,width:fe.width,height:fe.height,items:fe.items}}function w(F){const k=F.SIZ,U=F.components,ee=k.Csiz,J=[];for(let I=0,X=F.tiles.length;I<X;I++){const ne=F.tiles[I],P=[];for(let he=0;he<ee;he++)P[he]=O(F,ne,he);const V=P[0],Y=new Uint8ClampedArray(V.items.length*ee),Z={left:V.left,top:V.top,width:V.width,height:V.height,items:Y};let q,M,te=0,W,ae,fe,de,ue;if(ne.codingStyleDefaultParameters.multipleComponentTransform){const he=ee===4,me=P[0].items,xe=P[1].items,we=P[2].items,Ce=he?P[3].items:null;q=U[0].precision-8,M=(128<<q)+.5;const Fe=ne.components[0],Oe=ee-3;if(ae=me.length,Fe.codingStyleParameters.reversibleTransformation)for(W=0;W<ae;W++,te+=Oe){fe=me[W]+M,de=xe[W],ue=we[W];const Ie=fe-(ue+de>>2);Y[te++]=Ie+ue>>q,Y[te++]=Ie>>q,Y[te++]=Ie+de>>q}else for(W=0;W<ae;W++,te+=Oe)fe=me[W]+M,de=xe[W],ue=we[W],Y[te++]=fe+1.402*ue>>q,Y[te++]=fe-.34413*de-.71414*ue>>q,Y[te++]=fe+1.772*de>>q;if(he)for(W=0,te=3;W<ae;W++,te+=4)Y[te]=Ce[W]+M>>q}else for(let he=0;he<ee;he++){const me=P[he].items;for(q=U[he].precision-8,M=(128<<q)+.5,te=he,W=0,ae=me.length;W<ae;W++)Y[te]=me[W]+M>>q,te+=ee}J.push(Z)}return J}function R(F,k){const ee=F.SIZ.Csiz,J=F.tiles[k];for(let I=0;I<ee;I++){const X=J.components[I],ne=F.currentTile.QCC[I]!==void 0?F.currentTile.QCC[I]:F.currentTile.QCD;X.quantizationParameters=ne;const P=F.currentTile.COC[I]!==void 0?F.currentTile.COC[I]:F.currentTile.COD;X.codingStyleParameters=P}J.codingStyleDefaultParameters=F.currentTile.COD}class o{constructor(k,U){const ee=(0,m.log2)(Math.max(k,U))+1;this.levels=[];for(let J=0;J<ee;J++){const I={width:k,height:U,items:[]};this.levels.push(I),k=Math.ceil(k/2),U=Math.ceil(U/2)}}reset(k,U){let ee=0,J=0,I;for(;ee<this.levels.length;){I=this.levels[ee];const X=k+U*I.width;if(I.items[X]!==void 0){J=I.items[X];break}I.index=X,k>>=1,U>>=1,ee++}ee--,I=this.levels[ee],I.items[I.index]=J,this.currentLevel=ee,delete this.value}incrementValue(){const k=this.levels[this.currentLevel];k.items[k.index]++}nextLevel(){let k=this.currentLevel,U=this.levels[k];const ee=U.items[U.index];return k--,k<0?(this.value=ee,!1):(this.currentLevel=k,U=this.levels[k],U.items[U.index]=ee,!0)}}class h{constructor(k,U,ee){const J=(0,m.log2)(Math.max(k,U))+1;this.levels=[];for(let I=0;I<J;I++){const X=new Uint8Array(k*U);for(let P=0,V=X.length;P<V;P++)X[P]=ee;const ne={width:k,height:U,items:X};this.levels.push(ne),k=Math.ceil(k/2),U=Math.ceil(U/2)}}reset(k,U,ee){let J=0;for(;J<this.levels.length;){const I=this.levels[J],X=k+U*I.width;I.index=X;const ne=I.items[X];if(ne===255)break;if(ne>ee)return this.currentLevel=J,this.propagateValues(),!1;k>>=1,U>>=1,J++}return this.currentLevel=J-1,!0}incrementValue(k){const U=this.levels[this.currentLevel];U.items[U.index]=k+1,this.propagateValues()}propagateValues(){let k=this.currentLevel,U=this.levels[k];const ee=U.items[U.index];for(;--k>=0;)U=this.levels[k],U.items[U.index]=ee}nextLevel(){let k=this.currentLevel,U=this.levels[k];const ee=U.items[U.index];return U.items[U.index]=255,k--,k<0?!1:(this.currentLevel=k,U=this.levels[k],U.items[U.index]=ee,!0)}}const H=function(){const ee=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),J=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),I=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);class X{constructor(P,V,Y,Z,q){this.width=P,this.height=V;let M;Y==="HH"?M=I:Y==="HL"?M=J:M=ee,this.contextLabelTable=M;const te=P*V;this.neighborsSignificance=new Uint8Array(te),this.coefficentsSign=new Uint8Array(te);let W;q>14?W=new Uint32Array(te):q>6?W=new Uint16Array(te):W=new Uint8Array(te),this.coefficentsMagnitude=W,this.processingFlags=new Uint8Array(te);const ae=new Uint8Array(te);if(Z!==0)for(let fe=0;fe<te;fe++)ae[fe]=Z;this.bitsDecoded=ae,this.reset()}setDecoder(P){this.decoder=P}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}setNeighborsSignificance(P,V,Y){const Z=this.neighborsSignificance,q=this.width,M=this.height,te=V>0,W=V+1<q;let ae;P>0&&(ae=Y-q,te&&(Z[ae-1]+=16),W&&(Z[ae+1]+=16),Z[ae]+=4),P+1<M&&(ae=Y+q,te&&(Z[ae-1]+=16),W&&(Z[ae+1]+=16),Z[ae]+=4),te&&(Z[Y-1]+=1),W&&(Z[Y+1]+=1),Z[Y]|=128}runSignificancePropagationPass(){const P=this.decoder,V=this.width,Y=this.height,Z=this.coefficentsMagnitude,q=this.coefficentsSign,M=this.neighborsSignificance,te=this.processingFlags,W=this.contexts,ae=this.contextLabelTable,fe=this.bitsDecoded,de=-2,ue=1,he=2;for(let me=0;me<Y;me+=4)for(let xe=0;xe<V;xe++){let we=me*V+xe;for(let Ce=0;Ce<4;Ce++,we+=V){const Fe=me+Ce;if(Fe>=Y)break;if(te[we]&=de,Z[we]||!M[we])continue;const Oe=ae[M[we]];if(P.readBit(W,Oe)){const Me=this.decodeSignBit(Fe,xe,we);q[we]=Me,Z[we]=1,this.setNeighborsSignificance(Fe,xe,we),te[we]|=he}fe[we]++,te[we]|=ue}}}decodeSignBit(P,V,Y){const Z=this.width,q=this.height,M=this.coefficentsMagnitude,te=this.coefficentsSign;let W,ae,fe,de,ue,he;de=V>0&&M[Y-1]!==0,V+1<Z&&M[Y+1]!==0?(fe=te[Y+1],de?(ae=te[Y-1],W=1-fe-ae):W=1-fe-fe):de?(ae=te[Y-1],W=1-ae-ae):W=0;const me=3*W;return de=P>0&&M[Y-Z]!==0,P+1<q&&M[Y+Z]!==0?(fe=te[Y+Z],de?(ae=te[Y-Z],W=1-fe-ae+me):W=1-fe-fe+me):de?(ae=te[Y-Z],W=1-ae-ae+me):W=me,W>=0?(ue=9+W,he=this.decoder.readBit(this.contexts,ue)):(ue=9-W,he=this.decoder.readBit(this.contexts,ue)^1),he}runMagnitudeRefinementPass(){const P=this.decoder,V=this.width,Y=this.height,Z=this.coefficentsMagnitude,q=this.neighborsSignificance,M=this.contexts,te=this.bitsDecoded,W=this.processingFlags,ae=1,fe=2,de=V*Y,ue=V*4;for(let he=0,me;he<de;he=me){me=Math.min(de,he+ue);for(let xe=0;xe<V;xe++)for(let we=he+xe;we<me;we+=V){if(!Z[we]||W[we]&ae)continue;let Ce=16;W[we]&fe&&(W[we]^=fe,Ce=(q[we]&127)===0?15:14);const Fe=P.readBit(M,Ce);Z[we]=Z[we]<<1|Fe,te[we]++,W[we]|=ae}}}runCleanupPass(){const P=this.decoder,V=this.width,Y=this.height,Z=this.neighborsSignificance,q=this.coefficentsMagnitude,M=this.coefficentsSign,te=this.contexts,W=this.contextLabelTable,ae=this.bitsDecoded,fe=this.processingFlags,de=1,ue=2,he=V,me=V*2,xe=V*3;let we;for(let Ce=0;Ce<Y;Ce=we){we=Math.min(Ce+4,Y);const Fe=Ce*V,Oe=Ce+3<Y;for(let Ie=0;Ie<V;Ie++){const Me=Fe+Ie,Le=Oe&&fe[Me]===0&&fe[Me+he]===0&&fe[Me+me]===0&&fe[Me+xe]===0&&Z[Me]===0&&Z[Me+he]===0&&Z[Me+me]===0&&Z[Me+xe]===0;let qe=0,Xe=Me,Ue=Ce,$e;if(Le){if(!P.readBit(te,18)){ae[Me]++,ae[Me+he]++,ae[Me+me]++,ae[Me+xe]++;continue}qe=P.readBit(te,17)<<1|P.readBit(te,17),qe!==0&&(Ue=Ce+qe,Xe+=qe*V),$e=this.decodeSignBit(Ue,Ie,Xe),M[Xe]=$e,q[Xe]=1,this.setNeighborsSignificance(Ue,Ie,Xe),fe[Xe]|=ue,Xe=Me;for(let Te=Ce;Te<=Ue;Te++,Xe+=V)ae[Xe]++;qe++}for(Ue=Ce+qe;Ue<we;Ue++,Xe+=V){if(q[Xe]||fe[Xe]&de)continue;const De=W[Z[Xe]];P.readBit(te,De)===1&&($e=this.decodeSignBit(Ue,Ie,Xe),M[Xe]=$e,q[Xe]=1,this.setNeighborsSignificance(Ue,Ie,Xe),fe[Xe]|=ue),ae[Xe]++}}}}checkSegmentationSymbol(){const P=this.decoder,V=this.contexts;if((P.readBit(V,17)<<3|P.readBit(V,17)<<2|P.readBit(V,17)<<1|P.readBit(V,17))!==10)throw new z("Invalid segmentation symbol")}}return X}();class L{constructor(){this.constructor===L&&(0,t.unreachable)("Cannot initialize Transform.")}calculate(k,U,ee){let J=k[0];for(let I=1,X=k.length;I<X;I++)J=this.iterate(J,k[I],U,ee);return J}extend(k,U,ee){let J=U-1,I=U+1,X=U+ee-2,ne=U+ee;k[J--]=k[I++],k[ne++]=k[X--],k[J--]=k[I++],k[ne++]=k[X--],k[J--]=k[I++],k[ne++]=k[X--],k[J]=k[I],k[ne]=k[X]}filter(k,U,ee){(0,t.unreachable)("Abstract method `filter` called")}iterate(k,U,ee,J){const I=k.width,X=k.height;let ne=k.items;const P=U.width,V=U.height,Y=U.items;let Z,q,M,te,W,ae;for(M=0,Z=0;Z<X;Z++)for(te=Z*2*P,q=0;q<I;q++,M++,te+=2)Y[te]=ne[M];ne=k.items=null;const fe=4,de=new Float32Array(P+2*fe);if(P===1){if(ee&1)for(ae=0,M=0;ae<V;ae++,M+=P)Y[M]*=.5}else for(ae=0,M=0;ae<V;ae++,M+=P)de.set(Y.subarray(M,M+P),fe),this.extend(de,fe,P),this.filter(de,fe,P),Y.set(de.subarray(fe,fe+P),M);let ue=16;const he=[];for(Z=0;Z<ue;Z++)he.push(new Float32Array(V+2*fe));let me,xe=0;if(k=fe+V,V===1){if(J&1)for(W=0;W<P;W++)Y[W]*=.5}else for(W=0;W<P;W++){if(xe===0){for(ue=Math.min(P-W,ue),M=W,te=fe;te<k;M+=P,te++)for(me=0;me<ue;me++)he[me][te]=Y[M+me];xe=ue}xe--;const we=he[xe];if(this.extend(we,fe,V),this.filter(we,fe,V),xe===0)for(M=W-ue+1,te=fe;te<k;M+=P,te++)for(me=0;me<ue;me++)Y[M+me]=he[me][te]}return{width:P,height:V,items:Y}}}class x extends L{filter(k,U,ee){const J=ee>>1;U|=0;let I,X,ne,P;const V=-1.586134342059924,Y=-.052980118572961,Z=.882911075530934,q=.443506852043971,M=1.230174104914001,te=1/M;for(I=U-3,X=J+4;X--;I+=2)k[I]*=te;for(I=U-2,ne=q*k[I-1],X=J+3;X--&&(P=q*k[I+1],k[I]=M*k[I]-ne-P,X--);I+=2)I+=2,ne=q*k[I+1],k[I]=M*k[I]-ne-P;for(I=U-1,ne=Z*k[I-1],X=J+2;X--&&(P=Z*k[I+1],k[I]-=ne+P,X--);I+=2)I+=2,ne=Z*k[I+1],k[I]-=ne+P;for(I=U,ne=Y*k[I-1],X=J+1;X--&&(P=Y*k[I+1],k[I]-=ne+P,X--);I+=2)I+=2,ne=Y*k[I+1],k[I]-=ne+P;if(J!==0)for(I=U+1,ne=V*k[I-1],X=J;X--&&(P=V*k[I+1],k[I]-=ne+P,X--);I+=2)I+=2,ne=V*k[I+1],k[I]-=ne+P}}class v extends L{filter(k,U,ee){const J=ee>>1;U|=0;let I,X;for(I=U,X=J+1;X--;I+=2)k[I]-=k[I-1]+k[I+1]+2>>2;for(I=U+1,X=J;X--;I+=2)k[I]+=k[I-1]+k[I+1]>>1}}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.LZWStream=void 0;var t=se(19);class m extends t.DecodeStream{constructor(z,e,j){super(e),this.str=z,this.dict=z.dict,this.cachedData=0,this.bitsCached=0;const f=4096,T={earlyChange:j,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(f),dictionaryLengths:new Uint16Array(f),dictionaryPrevCodes:new Uint16Array(f),currentSequence:new Uint8Array(f),currentSequenceLength:0};for(let E=0;E<256;++E)T.dictionaryValues[E]=E,T.dictionaryLengths[E]=1;this.lzwState=T}readBits(z){let e=this.bitsCached,j=this.cachedData;for(;e<z;){const f=this.str.getByte();if(f===-1)return this.eof=!0,null;j=j<<8|f,e+=8}return this.bitsCached=e-=z,this.cachedData=j,this.lastCode=null,j>>>e&(1<<z)-1}readBlock(){let j=1024,f,T,E;const _=this.lzwState;if(!_)return;const y=_.earlyChange;let n=_.nextCode;const u=_.dictionaryValues,p=_.dictionaryLengths,s=_.dictionaryPrevCodes;let r=_.codeLength,l=_.prevCode;const c=_.currentSequence;let d=_.currentSequenceLength,K=0,g=this.bufferLength,G=this.ensureBuffer(this.bufferLength+j);for(f=0;f<512;f++){const O=this.readBits(r),w=d>0;if(O<256)c[0]=O,d=1;else if(O>=258)if(O<n)for(d=p[O],T=d-1,E=O;T>=0;T--)c[T]=u[E],E=s[E];else c[d++]=c[0];else if(O===256){r=9,n=258,d=0;continue}else{this.eof=!0,delete this.lzwState;break}if(w&&(s[n]=l,p[n]=p[l]+1,u[n]=c[0],n++,r=n+y&n+y-1?r:Math.min(Math.log(n+y)/.6931471805599453+1,12)|0),l=O,K+=d,j<K){do j+=512;while(j<K);G=this.ensureBuffer(this.bufferLength+j)}for(T=0;T<d;T++)G[g++]=c[T]}_.nextCode=n,_.codeLength=r,_.prevCode=l,_.currentSequenceLength=d,this.bufferLength=g}}A.LZWStream=m},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PredictorStream=void 0;var t=se(19),m=se(5),ie=se(2);class z extends t.DecodeStream{constructor(j,f,T){if(super(f),!(T instanceof m.Dict))return j;const E=this.predictor=T.get("Predictor")||1;if(E<=1)return j;if(E!==2&&(E<10||E>15))throw new ie.FormatError(`Unsupported predictor: ${E}`);E===2?this.readBlock=this.readBlockTiff:this.readBlock=this.readBlockPng,this.str=j,this.dict=j.dict;const _=this.colors=T.get("Colors")||1,y=this.bits=T.get("BPC","BitsPerComponent")||8,n=this.columns=T.get("Columns")||1;return this.pixBytes=_*y+7>>3,this.rowBytes=n*_*y+7>>3,this}readBlockTiff(){const j=this.rowBytes,f=this.bufferLength,T=this.ensureBuffer(f+j),E=this.bits,_=this.colors,y=this.str.getBytes(j);if(this.eof=!y.length,this.eof)return;let n=0,u=0,p=0,s=0,r=f,l;if(E===1&&_===1)for(l=0;l<j;++l){let c=y[l]^n;c^=c>>1,c^=c>>2,c^=c>>4,n=(c&1)<<7,T[r++]=c}else if(E===8){for(l=0;l<_;++l)T[r++]=y[l];for(;l<j;++l)T[r]=T[r-_]+y[l],r++}else if(E===16){const c=_*2;for(l=0;l<c;++l)T[r++]=y[l];for(;l<j;l+=2){const d=((y[l]&255)<<8)+(y[l+1]&255)+((T[r-c]&255)<<8)+(T[r-c+1]&255);T[r++]=d>>8&255,T[r++]=d&255}}else{const c=new Uint8Array(_+1),d=(1<<E)-1;let K=0,g=f;const G=this.columns;for(l=0;l<G;++l)for(let O=0;O<_;++O)p<E&&(n=n<<8|y[K++]&255,p+=8),c[O]=c[O]+(n>>p-E)&d,p-=E,u=u<<E|c[O],s+=E,s>=8&&(T[g++]=u>>s-8&255,s-=8);s>0&&(T[g++]=(u<<8-s)+(n&(1<<8-s)-1))}this.bufferLength+=j}readBlockPng(){const j=this.rowBytes,f=this.pixBytes,T=this.str.getByte(),E=this.str.getBytes(j);if(this.eof=!E.length,this.eof)return;const _=this.bufferLength,y=this.ensureBuffer(_+j);let n=y.subarray(_-j,_);n.length===0&&(n=new Uint8Array(j));let u,p=_,s,r;switch(T){case 0:for(u=0;u<j;++u)y[p++]=E[u];break;case 1:for(u=0;u<f;++u)y[p++]=E[u];for(;u<j;++u)y[p]=y[p-f]+E[u]&255,p++;break;case 2:for(u=0;u<j;++u)y[p++]=n[u]+E[u]&255;break;case 3:for(u=0;u<f;++u)y[p++]=(n[u]>>1)+E[u];for(;u<j;++u)y[p]=(n[u]+y[p-f]>>1)+E[u]&255,p++;break;case 4:for(u=0;u<f;++u)s=n[u],r=E[u],y[p++]=s+r;for(;u<j;++u){s=n[u];const l=n[u-f],c=y[p-f],d=c+s-l;let K=d-c;K<0&&(K=-K);let g=d-s;g<0&&(g=-g);let G=d-l;G<0&&(G=-G),r=E[u],K<=g&&K<=G?y[p++]=c+r:g<=G?y[p++]=s+r:y[p++]=l+r}break;default:throw new ie.FormatError(`Unsupported predictor: ${T}`)}this.bufferLength+=j}}A.PredictorStream=z},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.RunLengthStream=void 0;var t=se(19);class m extends t.DecodeStream{constructor(z,e){super(e),this.str=z,this.dict=z.dict}readBlock(){const z=this.str.getBytes(2);if(!z||z.length<2||z[0]===128){this.eof=!0;return}let e,j=this.bufferLength,f=z[0];if(f<128){if(e=this.ensureBuffer(j+f+1),e[j++]=z[1],f>0){const T=this.str.getBytes(f);e.set(T,j),j+=f}}else{f=257-f;const T=z[1];e=this.ensureBuffer(j+f+1);for(let E=0;E<f;E++)e[j++]=T}this.bufferLength=j}}A.RunLengthStream=m},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Font=A.ErrorFont=void 0;var t=se(2),m=se(35),ie=se(38),z=se(40),e=se(39),j=se(37),f=se(41),T=se(42),E=se(43),_=se(44),y=se(45),n=se(46),u=se(16),p=se(47),s=se(6),r=se(10),l=se(48);const c=[[57344,63743],[1048576,1114109]],d=1e3,K=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],g=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function G(ue){if(!ue.fontMatrix||ue.fontMatrix[0]===t.FONT_IDENTITY_MATRIX[0])return;const he=.001/ue.fontMatrix[0],me=ue.widths;for(const xe in me)me[xe]*=he;ue.defaultWidth*=he}function O(ue,he){if(ue.isInternalFont||he===ue.defaultEncoding||ue.toUnicode instanceof T.IdentityToUnicodeMap)return;const me=[],xe=(0,e.getGlyphsUnicode)();for(const we in he){if(ue.hasIncludedToUnicodeMap){if(ue.toUnicode.has(we))continue}else if(ue.hasEncoding&&(ue.differences.length===0||ue.differences[we]!==void 0))continue;const Ce=he[we],Fe=(0,z.getUnicodeForGlyph)(Ce,xe);Fe!==-1&&(me[we]=String.fromCharCode(Fe))}me.length>0&&ue.toUnicode.amend(me)}function w(ue){if(!ue.fallbackToUnicode||ue.toUnicode instanceof T.IdentityToUnicodeMap)return;const he=[];for(const me in ue.fallbackToUnicode)ue.toUnicode.has(me)||(he[me]=ue.fallbackToUnicode[me]);he.length>0&&ue.toUnicode.amend(he)}class R{constructor(he,me,xe,we,Ce,Fe,Oe,Ie,Me){this.originalCharCode=he,this.fontChar=me,this.unicode=xe,this.accent=we,this.width=Ce,this.vmetric=Fe,this.operatorListId=Oe,this.isSpace=Ie,this.isInFont=Me;const Le=(0,z.getCharUnicodeCategory)(xe);this.isWhitespace=Le.isWhitespace,this.isZeroWidthDiacritic=Le.isZeroWidthDiacritic,this.isInvisibleFormatMark=Le.isInvisibleFormatMark}matchesForCache(he,me,xe,we,Ce,Fe,Oe,Ie,Me){return this.originalCharCode===he&&this.fontChar===me&&this.unicode===xe&&this.accent===we&&this.width===Ce&&this.vmetric===Fe&&this.operatorListId===Oe&&this.isSpace===Ie&&this.isInFont===Me}}function o(ue,he){return(ue<<8)+he}function h(ue,he,me){ue[he+1]=me,ue[he]=me>>>8}function H(ue,he){const me=(ue<<8)+he;return me&32768?me-65536:me}function L(ue,he,me,xe){return(ue<<24)+(he<<16)+(me<<8)+xe}function x(ue){return String.fromCharCode(ue>>8&255,ue&255)}function v(ue){return ue>32767?ue=32767:ue<-32768&&(ue=-32768),String.fromCharCode(ue>>8&255,ue&255)}function F(ue){const he=ue.peekBytes(4);return(0,s.readUint32)(he,0)===65536||(0,t.bytesToString)(he)==="true"}function k(ue){const he=ue.peekBytes(4);return(0,t.bytesToString)(he)==="ttcf"}function U(ue){const he=ue.peekBytes(4);return(0,t.bytesToString)(he)==="OTTO"}function ee(ue){const he=ue.peekBytes(2);return he[0]===37&&he[1]===33||he[0]===128&&he[1]===1}function J(ue){const he=ue.peekBytes(4);return he[0]>=1&&he[3]>=1&&he[3]<=4}function I(ue,{type:he,subtype:me,composite:xe}){let we,Ce;return F(ue)||k(ue)?xe?we="CIDFontType2":we="TrueType":U(ue)?xe?we="CIDFontType2":we="OpenType":ee(ue)?xe?we="CIDFontType0":we=he==="MMType1"?"MMType1":"Type1":J(ue)?xe?(we="CIDFontType0",Ce="CIDFontType0C"):(we=he==="MMType1"?"MMType1":"Type1",Ce="Type1C"):((0,t.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),we=he,Ce=me),[we,Ce]}function X(ue,he){for(const me in he)ue[+me]=he[me]}function ne(ue,he,me){const xe=[];let we;for(let Ce=0,Fe=ue.length;Ce<Fe;Ce++)we=(0,z.getUnicodeForGlyph)(ue[Ce],he),we!==-1&&(xe[Ce]=we);for(const Ce in me)we=(0,z.getUnicodeForGlyph)(me[Ce],he),we!==-1&&(xe[+Ce]=we);return xe}function P(ue,he,me=!1){switch(he.length){case 1:return he.charCodeAt(0);case 2:return he.charCodeAt(0)<<8|he.charCodeAt(1)}const xe=`Unsupported CID string (charCode ${ue}): "${he}".`;if(me)throw new t.FormatError(xe);return(0,t.warn)(xe),he}function V(ue,he,me,xe){const we=Object.create(null),Ce=new Map,Fe=[],Oe=new Set;let Ie=0;const Me=c[Ie][0];let Le=Me,qe=c[Ie][1];for(let Xe in ue){Xe|=0;let Ue=ue[Xe];if(!he(Ue))continue;if(Le>qe){if(Ie++,Ie>=c.length){(0,t.warn)("Ran out of space in font private use area.");break}Le=c[Ie][0],qe=c[Ie][1]}const $e=Le++;Ue===0&&(Ue=me);let De=xe.get(Xe);typeof De=="string"&&(De=De.codePointAt(0)),De&&De<Me&&!Oe.has(Ue)&&(Ce.set(De,Ue),Oe.add(Ue)),we[$e]=Ue,Fe[Xe]=$e}return{toFontChar:Fe,charCodeToGlyphId:we,toUnicodeExtraMap:Ce,nextAvailableFontCharCode:Le}}function Y(ue,he,me){const xe=[];for(const Fe in ue)ue[Fe]>=me||xe.push({fontCharCode:Fe|0,glyphId:ue[Fe]});if(he)for(const[Fe,Oe]of he)Oe>=me||xe.push({fontCharCode:Fe,glyphId:Oe});xe.length===0&&xe.push({fontCharCode:0,glyphId:0}),xe.sort(function(Oe,Ie){return Oe.fontCharCode-Ie.fontCharCode});const we=[],Ce=xe.length;for(let Fe=0;Fe<Ce;){const Oe=xe[Fe].fontCharCode,Ie=[xe[Fe].glyphId];++Fe;let Me=Oe;for(;Fe<Ce&&Me+1===xe[Fe].fontCharCode&&(Ie.push(xe[Fe].glyphId),++Me,++Fe,Me!==65535););we.push([Oe,Me,Ie])}return we}function Z(ue,he,me){const xe=Y(ue,he,me),we=xe.at(-1)[1]>65535?2:1;let Ce="\0\0"+x(we)+"\0\0"+(0,t.string32)(4+we*8),Fe,Oe,Ie,Me;for(Fe=xe.length-1;Fe>=0&&!(xe[Fe][0]<=65535);--Fe);const Le=Fe+1;xe[Fe][0]<65535&&xe[Fe][1]===65535&&(xe[Fe][1]=65534);const qe=xe[Fe][1]<65535?1:0,Xe=Le+qe,Ue=p.OpenTypeFileBuilder.getSearchParams(Xe,2);let $e="",De="",Te="",Ee="",ze="",tt=0,ft,Be,Ne,ke;for(Fe=0,Oe=Le;Fe<Oe;Fe++){ft=xe[Fe],Be=ft[0],Ne=ft[1],$e+=x(Be),De+=x(Ne),ke=ft[2];let xt=!0;for(Ie=1,Me=ke.length;Ie<Me;++Ie)if(ke[Ie]!==ke[Ie-1]+1){xt=!1;break}if(xt){const et=ke[0];Te+=x(et-Be&65535),Ee+=x(0)}else{const et=(Xe-Fe)*2+tt*2;for(tt+=Ne-Be+1,Te+=x(0),Ee+=x(et),Ie=0,Me=ke.length;Ie<Me;++Ie)ze+=x(ke[Ie])}}qe>0&&(De+="ÿÿ",$e+="ÿÿ",Te+="\0",Ee+="\0\0");const rt="\0\0"+x(2*Xe)+x(Ue.range)+x(Ue.entry)+x(Ue.rangeShift)+De+"\0\0"+$e+Te+Ee+ze;let ot="",st="";if(we>1){for(Ce+=`\0\0
`+(0,t.string32)(4+we*8+4+rt.length),ot="",Fe=0,Oe=xe.length;Fe<Oe;Fe++){ft=xe[Fe],Be=ft[0],ke=ft[2];let xt=ke[0];for(Ie=1,Me=ke.length;Ie<Me;++Ie)ke[Ie]!==ke[Ie-1]+1&&(Ne=ft[0]+Ie-1,ot+=(0,t.string32)(Be)+(0,t.string32)(Ne)+(0,t.string32)(xt),Be=Ne+1,xt=ke[Ie]);ot+=(0,t.string32)(Be)+(0,t.string32)(ft[1])+(0,t.string32)(xt)}st="\0\f\0\0"+(0,t.string32)(ot.length+16)+"\0\0\0\0"+(0,t.string32)(ot.length/12)}return Ce+"\0"+x(rt.length+4)+rt+st+ot}function q(ue,he){he.pos=(he.start||0)+ue.offset;const me=he.getUint16();he.skip(60);const xe=he.getUint16();if(me<4&&xe&768)return!1;const we=he.getUint16(),Ce=he.getUint16();return we>Ce||(he.skip(6),he.getUint16()===0)?!1:(ue.data[8]=ue.data[9]=0,!0)}function M(ue,he,me){me=me||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let xe=0,we=0,Ce=0,Fe=0,Oe=null,Ie=0;if(he){for(let Te in he){Te|=0,(Oe>Te||!Oe)&&(Oe=Te),Ie<Te&&(Ie=Te);const Ee=(0,z.getUnicodeRangeFor)(Te);if(Ee<32)xe|=1<<Ee;else if(Ee<64)we|=1<<Ee-32;else if(Ee<96)Ce|=1<<Ee-64;else if(Ee<123)Fe|=1<<Ee-96;else throw new t.FormatError("Unicode ranges Bits > 123 are reserved for internal usage")}Ie>65535&&(Ie=65535)}else Oe=0,Ie=255;const Me=ue.bbox||[0,0,0,0],Le=me.unitsPerEm||1/(ue.fontMatrix||t.FONT_IDENTITY_MATRIX)[0],qe=ue.ascentScaled?1:Le/d,Xe=me.ascent||Math.round(qe*(ue.ascent||Me[3]));let Ue=me.descent||Math.round(qe*(ue.descent||Me[1]));Ue>0&&ue.descent>0&&Me[1]<0&&(Ue=-Ue);const $e=me.yMax||Xe,De=-me.yMin||-Ue;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(ue.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,t.string32)(xe)+(0,t.string32)(we)+(0,t.string32)(Ce)+(0,t.string32)(Fe)+"*21*"+x(ue.italicAngle?1:0)+x(Oe||ue.firstChar)+x(Ie||ue.lastChar)+x(Xe)+x(Ue)+"\0d"+x($e)+x(De)+"\0\0\0\0\0\0\0\0"+x(ue.xHeight)+x(ue.capHeight)+x(0)+x(Oe||ue.firstChar)+"\0"}function te(ue){const he=Math.floor(ue.italicAngle*65536);return"\0\0\0"+(0,t.string32)(he)+"\0\0\0\0"+(0,t.string32)(ue.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function W(ue){return ue.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function ae(ue,he){he||(he=[[],[]]);const me=[he[0][0]||"Original licence",he[0][1]||ue,he[0][2]||"Unknown",he[0][3]||"uniqueID",he[0][4]||ue,he[0][5]||"Version 0.11",he[0][6]||W(ue),he[0][7]||"Unknown",he[0][8]||"Unknown",he[0][9]||"Unknown"],xe=[];let we,Ce,Fe,Oe,Ie;for(we=0,Ce=me.length;we<Ce;we++){Ie=he[1][we]||me[we];const Te=[];for(Fe=0,Oe=Ie.length;Fe<Oe;Fe++)Te.push(x(Ie.charCodeAt(Fe)));xe.push(Te.join(""))}const Me=[me,xe],Le=["\0","\0"],qe=["\0\0","\0"],Xe=["\0\0","	"],Ue=me.length*Le.length;let $e="\0\0"+x(Ue)+x(Ue*12+6),De=0;for(we=0,Ce=Le.length;we<Ce;we++){const Te=Me[we];for(Fe=0,Oe=Te.length;Fe<Oe;Fe++){Ie=Te[Fe];const Ee=Le[we]+qe[we]+Xe[we]+x(Fe)+x(Ie.length)+x(De);$e+=Ee,De+=Ie.length}}return $e+=me.join("")+xe.join(""),$e}class fe{constructor(he,me,xe){this.name=he,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=xe.loadedName,this.isType3Font=xe.isType3Font,this.missingFile=!1,this.cssFontInfo=xe.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let we=!!(xe.flags&ie.FontFlags.Serif);if(!we&&!xe.isSimulatedFlags){const Me=he.replace(/[,_]/g,"-").split("-")[0],Le=(0,f.getSerifFonts)();for(const qe of Me.split("+"))if(Le[qe]){we=!0;break}}this.isSerifFont=we,this.isSymbolicFont=!!(xe.flags&ie.FontFlags.Symbolic),this.isMonospace=!!(xe.flags&ie.FontFlags.FixedPitch);let Ce=xe.type,Fe=xe.subtype;this.type=Ce,this.subtype=Fe;let Oe="sans-serif";if(this.isMonospace?Oe="monospace":this.isSerifFont&&(Oe="serif"),this.fallbackName=Oe,this.differences=xe.differences,this.widths=xe.widths,this.defaultWidth=xe.defaultWidth,this.composite=xe.composite,this.cMap=xe.cMap,this.capHeight=xe.capHeight/d,this.ascent=xe.ascent/d,this.descent=xe.descent/d,this.lineHeight=this.ascent-this.descent,this.fontMatrix=xe.fontMatrix,this.bbox=xe.bbox,this.defaultEncoding=xe.defaultEncoding,this.toUnicode=xe.toUnicode,this.toFontChar=[],xe.type==="Type3"){for(let Me=0;Me<256;Me++)this.toFontChar[Me]=this.differences[Me]||xe.defaultEncoding[Me];this.fontType=t.FontType.TYPE3;return}if(this.cidEncoding=xe.cidEncoding||"",this.vertical=!!xe.vertical,this.vertical&&(this.vmetrics=xe.vmetrics,this.defaultVMetrics=xe.defaultVMetrics),!me||me.isEmpty){me&&(0,t.warn)('Font file is empty in "'+he+'" ('+this.loadedName+")"),this.fallbackToSystemFont(xe);return}[Ce,Fe]=I(me,xe),(Ce!==this.type||Fe!==this.subtype)&&(0,t.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${Ce}/${Fe}.`);let Ie;try{switch(Ce){case"MMType1":(0,t.info)("MMType1 font ("+he+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Me=Fe==="Type1C"||Fe==="CIDFontType0C"?new E.CFFFont(me,xe):new l.Type1Font(he,me,xe);G(xe),Ie=this.convert(he,Me,xe);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",Ie=this.checkAndRepair(he,me,xe),this.isOpenType&&(G(xe),Ce="OpenType");break;default:throw new t.FormatError(`Font ${Ce} is not supported`)}}catch(Me){(0,t.warn)(Me),this.fallbackToSystemFont(xe);return}w(xe),this.data=Ie,this.fontType=(0,ie.getFontType)(Ce,Fe,xe.isStandardFont),this.fontMatrix=xe.fontMatrix,this.widths=xe.widths,this.defaultWidth=xe.defaultWidth,this.toUnicode=xe.toUnicode,this.seacMap=xe.seacMap}get renderer(){const he=_.FontRendererFactory.create(this,ie.SEAC_ANALYSIS_ENABLED);return(0,t.shadow)(this,"renderer",he)}exportData(he=!1){const me=he?[...K,...g]:K,xe=Object.create(null);let we,Ce;for(we of me)Ce=this[we],Ce!==void 0&&(xe[we]=Ce);return xe}fallbackToSystemFont(he){this.missingFile=!0;const me=this.name,xe=this.type,we=this.subtype;let Ce=(0,ie.normalizeFontName)(me);const Fe=(0,f.getStdFontMap)(),Oe=(0,f.getNonStdFontMap)(),Ie=!!Fe[Ce],Me=!!(Oe[Ce]&&Fe[Oe[Ce]]);Ce=Fe[Ce]||Oe[Ce]||Ce;const qe=(0,y.getFontBasicMetrics)()[Ce];qe&&(isNaN(this.ascent)&&(this.ascent=qe.ascent/d),isNaN(this.descent)&&(this.descent=qe.descent/d),isNaN(this.capHeight)&&(this.capHeight=qe.capHeight/d)),this.bold=Ce.search(/bold/gi)!==-1,this.italic=Ce.search(/oblique/gi)!==-1||Ce.search(/italic/gi)!==-1,this.black=me.search(/Black/g)!==-1;const Xe=me.search(/Narrow/g)!==-1;if(this.remeasure=(!Ie||Xe)&&Object.keys(this.widths).length>0,(Ie||Me)&&xe==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const Ue=he.cidToGidMap,$e=[];if(X($e,(0,f.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(me)?X($e,(0,f.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(me)&&X($e,(0,f.getSupplementalGlyphMapForCalibri)()),Ue){for(const De in $e){const Te=$e[De];Ue[Te]!==void 0&&($e[+De]=Ue[Te])}Ue.length!==this.toUnicode.length&&he.hasIncludedToUnicodeMap&&this.toUnicode instanceof T.IdentityToUnicodeMap&&this.toUnicode.forEach(function(De,Te){const Ee=$e[De];Ue[Ee]===void 0&&($e[+De]=Te)})}this.toUnicode instanceof T.IdentityToUnicodeMap||this.toUnicode.forEach(function(De,Te){$e[+De]=Te}),this.toFontChar=$e,this.toUnicode=new T.ToUnicodeMap($e)}else if(/Symbol/i.test(Ce))this.toFontChar=ne(j.SymbolSetEncoding,(0,e.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(Ce))/Wingdings/i.test(me)&&(0,t.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=ne(j.ZapfDingbatsEncoding,(0,e.getDingbatsGlyphsUnicode)(),this.differences);else if(Ie){const Ue=ne(this.defaultEncoding,(0,e.getGlyphsUnicode)(),this.differences);xe==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof T.IdentityToUnicodeMap)&&this.toUnicode.forEach(function($e,De){Ue[+$e]=De}),this.toFontChar=Ue}else{const Ue=(0,e.getGlyphsUnicode)(),$e=[];this.toUnicode.forEach((De,Te)=>{if(!this.composite){const Ee=this.differences[De]||this.defaultEncoding[De],ze=(0,z.getUnicodeForGlyph)(Ee,Ue);ze!==-1&&(Te=ze)}$e[+De]=Te}),this.composite&&this.toUnicode instanceof T.IdentityToUnicodeMap&&/Verdana/i.test(me)&&X($e,(0,f.getGlyphMapForStandardFonts)()),this.toFontChar=$e}w(he),this.loadedName=Ce.split("-")[0],this.fontType=(0,ie.getFontType)(xe,we,he.isStandardFont)}checkAndRepair(he,me,xe){const we=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function Ce(Je,Ve){const nt=Object.create(null);nt["OS/2"]=null,nt.cmap=null,nt.head=null,nt.hhea=null,nt.hmtx=null,nt.maxp=null,nt.name=null,nt.post=null;for(let it=0;it<Ve;it++){const pt=Fe(Je);we.includes(pt.tag)&&pt.length!==0&&(nt[pt.tag]=pt)}return nt}function Fe(Je){const Ve=Je.getString(4),nt=Je.getInt32()>>>0,it=Je.getInt32()>>>0,pt=Je.getInt32()>>>0,Tt=Je.pos;Je.pos=Je.start||0,Je.skip(it);const mt=Je.getBytes(pt);return Je.pos=Tt,Ve==="head"&&(mt[8]=mt[9]=mt[10]=mt[11]=0,mt[17]|=32),{tag:Ve,checksum:nt,length:pt,offset:it,data:mt}}function Oe(Je){return{version:Je.getString(4),numTables:Je.getUint16(),searchRange:Je.getUint16(),entrySelector:Je.getUint16(),rangeShift:Je.getUint16()}}function Ie(Je){const Ve=Je.getString(4);(0,t.assert)(Ve==="ttcf","Must be a TrueType Collection font.");const nt=Je.getUint16(),it=Je.getUint16(),pt=Je.getInt32()>>>0,Tt=[];for(let lt=0;lt<pt;lt++)Tt.push(Je.getInt32()>>>0);const mt={ttcTag:Ve,majorVersion:nt,minorVersion:it,numFonts:pt,offsetTable:Tt};switch(nt){case 1:return mt;case 2:return mt.dsigTag=Je.getInt32()>>>0,mt.dsigLength=Je.getInt32()>>>0,mt.dsigOffset=Je.getInt32()>>>0,mt}throw new t.FormatError(`Invalid TrueType Collection majorVersion: ${nt}.`)}function Me(Je,Ve){const{numFonts:nt,offsetTable:it}=Ie(Je),pt=Ve.split("+");let Tt;for(let mt=0;mt<nt;mt++){Je.pos=(Je.start||0)+it[mt];const lt=Oe(Je),yt=Ce(Je,lt.numTables);if(!yt.name)throw new t.FormatError('TrueType Collection font must contain a "name" table.');const Ft=Te(yt.name);for(let Nt=0,Dt=Ft.length;Nt<Dt;Nt++)for(let St=0,Re=Ft[Nt].length;St<Re;St++){const He=Ft[Nt][St]&&Ft[Nt][St].replace(/\s/g,"");if(He){if(He===Ve)return{header:lt,tables:yt};if(!(pt.length<2))for(const Ze of pt)He===Ze&&(Tt={name:Ze,header:lt,tables:yt})}}}if(Tt)return(0,t.warn)(`TrueType Collection does not contain "${Ve}" font, falling back to "${Tt.name}" font instead.`),{header:Tt.header,tables:Tt.tables};throw new t.FormatError(`TrueType Collection does not contain "${Ve}" font.`)}function Le(Je,Ve,nt,it){if(!Je)return(0,t.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let pt,Tt=(Ve.start||0)+Je.offset;Ve.pos=Tt,Ve.skip(2);const mt=Ve.getUint16();let lt,yt=!1;for(let He=0;He<mt;He++){const Ze=Ve.getUint16(),Ke=Ve.getUint16(),gt=Ve.getInt32()>>>0;let Pt=!1;if(!(lt&&lt.platformId===Ze&&lt.encodingId===Ke)){if(Ze===0&&(Ke===0||Ke===1||Ke===3))Pt=!0;else if(Ze===1&&Ke===0)Pt=!0;else if(Ze===3&&Ke===1&&(it||!lt))Pt=!0,nt||(yt=!0);else if(nt&&Ze===3&&Ke===0){Pt=!0;let Vt=!0;if(He<mt-1){const Rt=Ve.peekBytes(2);o(Rt[0],Rt[1])<Ze&&(Vt=!1)}Vt&&(yt=!0)}if(Pt&&(lt={platformId:Ze,encodingId:Ke,offset:gt}),yt)break}}if(lt&&(Ve.pos=Tt+lt.offset),!lt||Ve.peekByte()===-1)return(0,t.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const Ft=Ve.getUint16();let Nt=!1;const Dt=[];let St,Re;if(Ft===0){for(Ve.skip(4),St=0;St<256;St++){const He=Ve.getByte();He&&Dt.push({charCode:St,glyphId:He})}Nt=!0}else if(Ft===2){Ve.skip(4);const He=[];let Ze=0;for(let gt=0;gt<256;gt++){const Pt=Ve.getUint16()>>3;He.push(Pt),Ze=Math.max(Pt,Ze)}const Ke=[];for(let gt=0;gt<=Ze;gt++)Ke.push({firstCode:Ve.getUint16(),entryCount:Ve.getUint16(),idDelta:H(Ve.getByte(),Ve.getByte()),idRangePos:Ve.pos+Ve.getUint16()});for(let gt=0;gt<256;gt++)if(He[gt]===0)Ve.pos=Ke[0].idRangePos+2*gt,Re=Ve.getUint16(),Dt.push({charCode:gt,glyphId:Re});else{const Pt=Ke[He[gt]];for(St=0;St<Pt.entryCount;St++){const Vt=(gt<<8)+St+Pt.firstCode;Ve.pos=Pt.idRangePos+2*St,Re=Ve.getUint16(),Re!==0&&(Re=(Re+Pt.idDelta)%65536),Dt.push({charCode:Vt,glyphId:Re})}}}else if(Ft===4){Ve.skip(4);const He=Ve.getUint16()>>1;Ve.skip(6);const Ze=[];let Ke;for(Ke=0;Ke<He;Ke++)Ze.push({end:Ve.getUint16()});for(Ve.skip(2),Ke=0;Ke<He;Ke++)Ze[Ke].start=Ve.getUint16();for(Ke=0;Ke<He;Ke++)Ze[Ke].delta=Ve.getUint16();let gt=0,Pt;for(Ke=0;Ke<He;Ke++){pt=Ze[Ke];const Rt=Ve.getUint16();if(!Rt){pt.offsetIndex=-1;continue}Pt=(Rt>>1)-(He-Ke),pt.offsetIndex=Pt,gt=Math.max(gt,Pt+pt.end-pt.start+1)}const Vt=[];for(St=0;St<gt;St++)Vt.push(Ve.getUint16());for(Ke=0;Ke<He;Ke++){pt=Ze[Ke],Tt=pt.start;const Rt=pt.end,Lt=pt.delta;for(Pt=pt.offsetIndex,St=Tt;St<=Rt;St++)St!==65535&&(Re=Pt<0?St:Vt[Pt+St-Tt],Re=Re+Lt&65535,Dt.push({charCode:St,glyphId:Re}))}}else if(Ft===6){Ve.skip(4);const He=Ve.getUint16(),Ze=Ve.getUint16();for(St=0;St<Ze;St++){Re=Ve.getUint16();const Ke=He+St;Dt.push({charCode:Ke,glyphId:Re})}}else if(Ft===12){Ve.skip(10);const He=Ve.getInt32()>>>0;for(St=0;St<He;St++){const Ze=Ve.getInt32()>>>0,Ke=Ve.getInt32()>>>0;let gt=Ve.getInt32()>>>0;for(let Pt=Ze;Pt<=Ke;Pt++)Dt.push({charCode:Pt,glyphId:gt++})}}else return(0,t.warn)("cmap table has unsupported format: "+Ft),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};Dt.sort(function(He,Ze){return He.charCode-Ze.charCode});for(let He=1;He<Dt.length;He++)Dt[He-1].charCode===Dt[He].charCode&&(Dt.splice(He,1),He--);return{platformId:lt.platformId,encodingId:lt.encodingId,mappings:Dt,hasShortCmap:Nt}}function qe(Je,Ve,nt,it,pt,Tt){if(!Ve){nt&&(nt.data=null);return}Je.pos=(Je.start||0)+Ve.offset,Je.pos+=4,Je.pos+=2,Je.pos+=2,Je.pos+=2,Je.pos+=2,Je.pos+=2,Je.pos+=2,Je.pos+=2,Je.pos+=2,Je.pos+=2;const mt=Je.getUint16();Je.pos+=8,Je.pos+=2;let lt=Je.getUint16();mt!==0&&(o(it.data[44],it.data[45])&2||(Ve.data[22]=0,Ve.data[23]=0)),lt>pt&&((0,t.info)(`The numOfMetrics (${lt}) should not be greater than the numGlyphs (${pt}).`),lt=pt,Ve.data[34]=(lt&65280)>>8,Ve.data[35]=lt&255);const Ft=pt-lt-(nt.length-lt*4>>1);if(Ft>0){const Nt=new Uint8Array(nt.length+Ft*2);Nt.set(nt.data),Tt&&(Nt[nt.length]=nt.data[2],Nt[nt.length+1]=nt.data[3]),nt.data=Nt}}function Xe(Je,Ve,nt,it,pt,Tt){const mt={length:0,sizeOfInstructions:0};if(nt-Ve<=12)return mt;const lt=Je.subarray(Ve,nt);let yt=H(lt[0],lt[1]);if(yt<0)return yt=-1,h(lt,0,yt),it.set(lt,pt),mt.length=lt.length,mt;let Ft,Nt=10,Dt=0;for(Ft=0;Ft<yt;Ft++)Dt=(lt[Nt]<<8|lt[Nt+1])+1,Nt+=2;const St=Nt,Re=lt[Nt]<<8|lt[Nt+1];mt.sizeOfInstructions=Re,Nt+=2+Re;const He=Nt;let Ze=0;for(Ft=0;Ft<Dt;Ft++){const gt=lt[Nt++];gt&192&&(lt[Nt-1]=gt&63);let Pt=2;gt&2?Pt=1:gt&16&&(Pt=0);let Vt=2;gt&4?Vt=1:gt&32&&(Vt=0);const Rt=Pt+Vt;if(Ze+=Rt,gt&8){const Lt=lt[Nt++];Ft+=Lt,Ze+=Lt*Rt}}if(Ze===0)return mt;let Ke=Nt+Ze;return Ke>lt.length?mt:!Tt&&Re>0?(it.set(lt.subarray(0,St),pt),it.set([0,0],pt+St),it.set(lt.subarray(He,Ke),pt+St+2),Ke-=Re,lt.length-Ke>3&&(Ke=Ke+3&-4),mt.length=Ke,mt):lt.length-Ke>3?(Ke=Ke+3&-4,it.set(lt.subarray(0,Ke),pt),mt.length=Ke,mt):(it.set(lt,pt),mt.length=lt.length,mt)}function Ue(Je,Ve,nt){const it=Je.data,pt=L(it[0],it[1],it[2],it[3]);pt>>16!==1&&((0,t.info)("Attempting to fix invalid version in head table: "+pt),it[0]=0,it[1]=1,it[2]=0,it[3]=0);const Tt=o(it[50],it[51]);if(Tt<0||Tt>1){(0,t.info)("Attempting to fix invalid indexToLocFormat in head table: "+Tt);const mt=Ve+1;if(nt===mt<<1)it[50]=0,it[51]=0;else if(nt===mt<<2)it[50]=0,it[51]=1;else throw new t.FormatError("Could not fix indexToLocFormat: "+Tt)}}function $e(Je,Ve,nt,it,pt,Tt,mt){let lt,yt,Ft;it?(lt=4,yt=function(qt,nn){return qt[nn]<<24|qt[nn+1]<<16|qt[nn+2]<<8|qt[nn+3]},Ft=function(qt,nn,dn){qt[nn]=dn>>>24&255,qt[nn+1]=dn>>16&255,qt[nn+2]=dn>>8&255,qt[nn+3]=dn&255}):(lt=2,yt=function(qt,nn){return qt[nn]<<9|qt[nn+1]<<1},Ft=function(qt,nn,dn){qt[nn]=dn>>9&255,qt[nn+1]=dn>>1&255});const Nt=Tt?nt+1:nt,Dt=lt*(1+Nt),St=new Uint8Array(Dt);St.set(Je.data.subarray(0,Dt)),Je.data=St;const Re=Ve.data,He=Re.length,Ze=new Uint8Array(He);let Ke,gt;const Pt=[];for(Ke=0,gt=0;Ke<nt+1;Ke++,gt+=lt){let Lt=yt(St,gt);Lt>He&&(Lt=He),Pt.push({index:Ke,offset:Lt,endOffset:0})}for(Pt.sort((Lt,qt)=>Lt.offset-qt.offset),Ke=0;Ke<nt;Ke++)Pt[Ke].endOffset=Pt[Ke+1].offset;for(Pt.sort((Lt,qt)=>Lt.index-qt.index),Ke=0;Ke<nt;Ke++){const{offset:Lt,endOffset:qt}=Pt[Ke];if(Lt!==0||qt!==0)break;const nn=Pt[Ke+1].offset;if(nn!==0){Pt[Ke].endOffset=nn;break}}const Vt=Object.create(null);let Rt=0;for(Ft(St,0,Rt),Ke=0,gt=lt;Ke<nt;Ke++,gt+=lt){const Lt=Xe(Re,Pt[Ke].offset,Pt[Ke].endOffset,Ze,Rt,pt),qt=Lt.length;qt===0&&(Vt[Ke]=!0),Lt.sizeOfInstructions>mt&&(mt=Lt.sizeOfInstructions),Rt+=qt,Ft(St,gt,Rt)}if(Rt===0){const Lt=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Ke=0,gt=lt;Ke<Nt;Ke++,gt+=lt)Ft(St,gt,Lt.length);Ve.data=Lt}else if(Tt){const Lt=yt(St,lt);Ze.length>Lt+Rt?Ve.data=Ze.subarray(0,Lt+Rt):(Ve.data=new Uint8Array(Lt+Rt),Ve.data.set(Ze.subarray(0,Rt))),Ve.data.set(Ze.subarray(0,Lt),Rt),Ft(Je.data,St.length-lt,Rt+Lt)}else Ve.data=Ze.subarray(0,Rt);return{missingGlyphs:Vt,maxSizeOfInstructions:mt}}function De(Je,Ve,nt){const it=(me.start||0)+Je.offset;me.pos=it;const pt=Je.length,Tt=it+pt,mt=me.getInt32();me.skip(28);let lt,yt=!0,Ft;switch(mt){case 65536:lt=ie.MacStandardGlyphOrdering;break;case 131072:const Nt=me.getUint16();if(Nt!==nt){yt=!1;break}const Dt=[];for(Ft=0;Ft<Nt;++Ft){const He=me.getUint16();if(He>=32768){yt=!1;break}Dt.push(He)}if(!yt)break;const St=[],Re=[];for(;me.pos<Tt;){const He=me.getByte();for(Re.length=He,Ft=0;Ft<He;++Ft)Re[Ft]=String.fromCharCode(me.getByte());St.push(Re.join(""))}for(lt=[],Ft=0;Ft<Nt;++Ft){const He=Dt[Ft];if(He<258){lt.push(ie.MacStandardGlyphOrdering[He]);continue}lt.push(St[He-258])}break;case 196608:break;default:(0,t.warn)("Unknown/unsupported post table version "+mt),yt=!1,Ve.defaultEncoding&&(lt=Ve.defaultEncoding);break}return Ve.glyphNames=lt,yt}function Te(Je){const Ve=(me.start||0)+Je.offset;me.pos=Ve;const nt=[[],[]],it=Je.length,pt=Ve+it;if(me.getUint16()!==0||it<6)return nt;const lt=me.getUint16(),yt=me.getUint16(),Ft=[],Nt=12;let Dt,St;for(Dt=0;Dt<lt&&me.pos+Nt<=pt;Dt++){const Re={platform:me.getUint16(),encoding:me.getUint16(),language:me.getUint16(),name:me.getUint16(),length:me.getUint16(),offset:me.getUint16()};(Re.platform===1&&Re.encoding===0&&Re.language===0||Re.platform===3&&Re.encoding===1&&Re.language===1033)&&Ft.push(Re)}for(Dt=0,St=Ft.length;Dt<St;Dt++){const Re=Ft[Dt];if(Re.length<=0)continue;const He=Ve+yt+Re.offset;if(He+Re.length>pt)continue;me.pos=He;const Ze=Re.name;if(Re.encoding){let Ke="";for(let gt=0,Pt=Re.length;gt<Pt;gt+=2)Ke+=String.fromCharCode(me.getUint16());nt[1][Ze]=Ke}else nt[0][Ze]=me.getString(Re.length)}return nt}const Ee=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function ze(Je,Ve){let nt=Je.data,it=0,pt,Tt,mt,lt,yt,Ft=0,Nt=0;const Dt=[],St=[],Re=[];let He=Ve.tooComplexToFollowFunctions,Ze=!1,Ke=0,gt=0;for(let Vt=nt.length;it<Vt;){const Rt=nt[it++];if(Rt===64)if(Tt=nt[it++],Ze||gt)it+=Tt;else for(pt=0;pt<Tt;pt++)Dt.push(nt[it++]);else if(Rt===65)if(Tt=nt[it++],Ze||gt)it+=Tt*2;else for(pt=0;pt<Tt;pt++)mt=nt[it++],Dt.push(mt<<8|nt[it++]);else if((Rt&248)===176)if(Tt=Rt-176+1,Ze||gt)it+=Tt;else for(pt=0;pt<Tt;pt++)Dt.push(nt[it++]);else if((Rt&248)===184)if(Tt=Rt-184+1,Ze||gt)it+=Tt*2;else for(pt=0;pt<Tt;pt++)mt=nt[it++],Dt.push(mt<<8|nt[it++]);else if(Rt===43&&!He){if(!Ze&&!gt){if(lt=Dt.at(-1),isNaN(lt))(0,t.info)("TT: CALL empty stack (or invalid entry).");else if(Ve.functionsUsed[lt]=!0,lt in Ve.functionsStackDeltas){const Lt=Dt.length+Ve.functionsStackDeltas[lt];if(Lt<0){(0,t.warn)("TT: CALL invalid functions stack delta."),Ve.hintsValid=!1;return}Dt.length=Lt}else if(lt in Ve.functionsDefined&&!Re.includes(lt)){if(St.push({data:nt,i:it,stackTop:Dt.length-1}),Re.push(lt),yt=Ve.functionsDefined[lt],!yt){(0,t.warn)("TT: CALL non-existent function"),Ve.hintsValid=!1;return}nt=yt.data,it=yt.i}}}else if(Rt===44&&!He)(Ze||gt)&&((0,t.warn)("TT: nested FDEFs not allowed"),He=!0),Ze=!0,Nt=it,lt=Dt.pop(),Ve.functionsDefined[lt]={data:nt,i:it};else if(Rt===45)if(Ze)Ze=!1,Ft=it;else{if(yt=St.pop(),!yt){(0,t.warn)("TT: ENDF bad stack"),Ve.hintsValid=!1;return}lt=Re.pop(),nt=yt.data,it=yt.i,Ve.functionsStackDeltas[lt]=Dt.length-yt.stackTop}else if(Rt===137)(Ze||gt)&&((0,t.warn)("TT: nested IDEFs not allowed"),He=!0),Ze=!0,Nt=it;else if(Rt===88)++Ke;else if(Rt===27)gt=Ke;else if(Rt===89)gt===Ke&&(gt=0),--Ke;else if(Rt===28&&!Ze&&!gt){const Lt=Dt.at(-1);Lt>0&&(it+=Lt-1)}if(!Ze&&!gt){let Lt=0;for(Rt<=142?Lt=Ee[Rt]:Rt>=192&&Rt<=223?Lt=-1:Rt>=224&&(Lt=-2),Rt>=113&&Rt<=117&&(Tt=Dt.pop(),isNaN(Tt)||(Lt=-Tt*2));Lt<0&&Dt.length>0;)Dt.pop(),Lt++;for(;Lt>0;)Dt.push(NaN),Lt--}}Ve.tooComplexToFollowFunctions=He;const Pt=[nt];it>nt.length&&Pt.push(new Uint8Array(it-nt.length)),Nt>Ft&&((0,t.warn)("TT: complementing a missing function tail"),Pt.push(new Uint8Array([34,45]))),ft(Je,Pt)}function tt(Je,Ve){if(!Je.tooComplexToFollowFunctions){if(Je.functionsDefined.length>Ve){(0,t.warn)("TT: more functions defined than expected"),Je.hintsValid=!1;return}for(let nt=0,it=Je.functionsUsed.length;nt<it;nt++){if(nt>Ve){(0,t.warn)("TT: invalid function id: "+nt),Je.hintsValid=!1;return}if(Je.functionsUsed[nt]&&!Je.functionsDefined[nt]){(0,t.warn)("TT: undefined function: "+nt),Je.hintsValid=!1;return}}}}function ft(Je,Ve){if(Ve.length>1){let nt=0,it,pt;for(it=0,pt=Ve.length;it<pt;it++)nt+=Ve[it].length;nt=nt+3&-4;const Tt=new Uint8Array(nt);let mt=0;for(it=0,pt=Ve.length;it<pt;it++)Tt.set(Ve[it],mt),mt+=Ve[it].length;Je.data=Tt,Je.length=nt}}function Be(Je,Ve,nt,it){const pt={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Je&&ze(Je,pt),Ve&&ze(Ve,pt),Je&&tt(pt,it),nt&&nt.length&1){const Tt=new Uint8Array(nt.length+1);Tt.set(nt.data),nt.data=Tt}return pt.hintsValid}me=new r.Stream(new Uint8Array(me.getBytes()));let Ne,ke;if(k(me)){const Je=Me(me,this.name);Ne=Je.header,ke=Je.tables}else Ne=Oe(me),ke=Ce(me,Ne.numTables);let rt,ot;const st=!ke["CFF "];if(st){if(!ke.loca)throw new t.FormatError('Required "loca" table is not found');ke.glyf||((0,t.warn)('Required "glyf" table is not found -- trying to recover.'),ke.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Je=xe.composite&&((xe.cidToGidMap||[]).length>0||!(xe.cMap instanceof u.IdentityCMap));if(Ne.version==="OTTO"&&!Je||!ke.head||!ke.hhea||!ke.maxp||!ke.post)return ot=new r.Stream(ke["CFF "].data),rt=new E.CFFFont(ot,xe),G(xe),this.convert(he,rt,xe);delete ke.glyf,delete ke.loca,delete ke.fpgm,delete ke.prep,delete ke["cvt "],this.isOpenType=!0}if(!ke.maxp)throw new t.FormatError('Required "maxp" table is not found');me.pos=(me.start||0)+ke.maxp.offset;const xt=me.getInt32(),et=me.getUint16();if(xe.scaleFactors&&xe.scaleFactors.length===et&&st){const{scaleFactors:Je}=xe,Ve=o(ke.head.data[50],ke.head.data[51]),nt=new n.GlyfTable({glyfTable:ke.glyf.data,isGlyphLocationsLong:Ve,locaTable:ke.loca.data,numGlyphs:et});nt.scale(Je);const{glyf:it,loca:pt,isLocationLong:Tt}=nt.write();ke.glyf.data=it,ke.loca.data=pt,Tt!==!!Ve&&(ke.head.data[50]=0,ke.head.data[51]=Tt?1:0);const mt=ke.hmtx.data;for(let lt=0;lt<et;lt++){const yt=4*lt,Ft=Math.round(Je[lt]*o(mt[yt],mt[yt+1]));mt[yt]=Ft>>8&255,mt[yt+1]=Ft&255;const Nt=Math.round(Je[lt]*H(mt[yt+2],mt[yt+3]));h(mt,yt+2,Nt)}}let ut=et+1,kt=!0;ut>65535&&(kt=!1,ut=et,(0,t.warn)("Not enough space in glyfs to duplicate first glyph."));let Qe=0,vt=0;xt>=65536&&ke.maxp.length>=22&&(me.pos+=8,me.getUint16()>2&&(ke.maxp.data[14]=0,ke.maxp.data[15]=2),me.pos+=4,Qe=me.getUint16(),me.pos+=4,vt=me.getUint16()),ke.maxp.data[4]=ut>>8,ke.maxp.data[5]=ut&255;const ht=Be(ke.fpgm,ke.prep,ke["cvt "],Qe);if(ht||(delete ke.fpgm,delete ke.prep,delete ke["cvt "]),qe(me,ke.hhea,ke.hmtx,ke.head,ut,kt),!ke.head)throw new t.FormatError('Required "head" table is not found');Ue(ke.head,et,st?ke.loca.length:0);let Ut=Object.create(null);if(st){const Je=o(ke.head.data[50],ke.head.data[51]),Ve=$e(ke.loca,ke.glyf,et,Je,ht,kt,vt);Ut=Ve.missingGlyphs,xt>=65536&&ke.maxp.length>=22&&(ke.maxp.data[26]=Ve.maxSizeOfInstructions>>8,ke.maxp.data[27]=Ve.maxSizeOfInstructions&255)}if(!ke.hhea)throw new t.FormatError('Required "hhea" table is not found');ke.hhea.data[10]===0&&ke.hhea.data[11]===0&&(ke.hhea.data[10]=255,ke.hhea.data[11]=255);const Ot={unitsPerEm:o(ke.head.data[18],ke.head.data[19]),yMax:o(ke.head.data[42],ke.head.data[43]),yMin:H(ke.head.data[38],ke.head.data[39]),ascent:H(ke.hhea.data[4],ke.hhea.data[5]),descent:H(ke.hhea.data[6],ke.hhea.data[7]),lineGap:H(ke.hhea.data[8],ke.hhea.data[9])};this.ascent=Ot.ascent/Ot.unitsPerEm,this.descent=Ot.descent/Ot.unitsPerEm,this.lineGap=Ot.lineGap/Ot.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,ke.post&&De(ke.post,xe,et),ke.post={tag:"post",data:te(xe)};const It=[];function Ct(Je){return!Ut[Je]}if(xe.composite){const Je=xe.cidToGidMap||[],Ve=Je.length===0;xe.cMap.forEach(function(nt,it){if(typeof it=="string"&&(it=P(nt,it,!0)),it>65535)throw new t.FormatError("Max size of CID is 65,535");let pt=-1;Ve?pt=it:Je[it]!==void 0&&(pt=Je[it]),pt>=0&&pt<et&&Ct(pt)&&(It[nt]=pt)})}else{const Je=Le(ke.cmap,me,this.isSymbolicFont,xe.hasEncoding),Ve=Je.platformId,nt=Je.encodingId,it=Je.mappings,pt=it.length;let Tt=[],mt=!1;if(xe.hasEncoding&&(xe.baseEncodingName==="MacRomanEncoding"||xe.baseEncodingName==="WinAnsiEncoding")&&(Tt=(0,j.getEncoding)(xe.baseEncodingName)),xe.hasEncoding&&!this.isSymbolicFont&&(Ve===3&&nt===1||Ve===1&&nt===0)){const lt=(0,e.getGlyphsUnicode)();for(let yt=0;yt<256;yt++){let Ft;if(this.differences[yt]!==void 0?Ft=this.differences[yt]:Tt.length&&Tt[yt]!==""?Ft=Tt[yt]:Ft=j.StandardEncoding[yt],!Ft)continue;const Nt=(0,ie.recoverGlyphName)(Ft,lt);let Dt;if(Ve===3&&nt===1?Dt=lt[Nt]:Ve===1&&nt===0&&(Dt=j.MacRomanEncoding.indexOf(Nt)),Dt===void 0){if(!xe.glyphNames&&xe.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof T.IdentityToUnicodeMap)){const St=this.toUnicode.get(yt);St&&(Dt=St.codePointAt(0))}if(Dt===void 0)continue}for(let St=0;St<pt;++St)if(it[St].charCode===Dt){It[yt]=it[St].glyphId;break}}}else if(Ve===0){for(let lt=0;lt<pt;++lt)It[it[lt].charCode]=it[lt].glyphId;mt=!0}else for(let lt=0;lt<pt;++lt){let yt=it[lt].charCode;Ve===3&&yt>=61440&&yt<=61695&&(yt&=255),It[yt]=it[lt].glyphId}if(xe.glyphNames&&(Tt.length||this.differences.length))for(let lt=0;lt<256;++lt){if(!mt&&It[lt]!==void 0)continue;const yt=this.differences[lt]||Tt[lt];if(!yt)continue;const Ft=xe.glyphNames.indexOf(yt);Ft>0&&Ct(Ft)&&(It[lt]=Ft)}}It.length===0&&(It[0]=0);let Wt=ut-1;if(kt||(Wt=0),!xe.cssFontInfo){const Je=V(It,Ct,Wt,this.toUnicode);this.toFontChar=Je.toFontChar,ke.cmap={tag:"cmap",data:Z(Je.charCodeToGlyphId,Je.toUnicodeExtraMap,ut)},(!ke["OS/2"]||!q(ke["OS/2"],me))&&(ke["OS/2"]={tag:"OS/2",data:M(xe,Je.charCodeToGlyphId,Ot)})}if(!st)try{ot=new r.Stream(ke["CFF "].data),rt=new m.CFFParser(ot,xe,ie.SEAC_ANALYSIS_ENABLED).parse(),rt.duplicateFirstGlyph();const Ve=new m.CFFCompiler(rt);ke["CFF "].data=Ve.compile()}catch{(0,t.warn)("Failed to compile font "+xe.loadedName)}if(!ke.name)ke.name={tag:"name",data:ae(this.name)};else{const Je=Te(ke.name);ke.name.data=ae(he,Je),this.psName=Je[0][6]||null}const zt=new p.OpenTypeFileBuilder(Ne.version);for(const Je in ke)zt.addTable(Je,ke[Je].data);return zt.toArray()}convert(he,me,xe){xe.fixedPitch=!1,xe.builtInEncoding&&O(xe,xe.builtInEncoding);let we=1;me instanceof E.CFFFont&&(we=me.numGlyphs-1);const Ce=me.getGlyphMapping(xe);let Fe=null,Oe=Ce,Ie=null;xe.cssFontInfo||(Fe=V(Ce,me.hasGlyphId.bind(me),we,this.toUnicode),this.toFontChar=Fe.toFontChar,Oe=Fe.charCodeToGlyphId,Ie=Fe.toUnicodeExtraMap);const Me=me.numGlyphs;function Le(De,Te){let Ee=null;for(const ze in De)Te===De[ze]&&(Ee||(Ee=[]),Ee.push(ze|0));return Ee}function qe(De,Te){for(const Ee in De)if(Te===De[Ee])return Ee|0;return Fe.charCodeToGlyphId[Fe.nextAvailableFontCharCode]=Te,Fe.nextAvailableFontCharCode++}const Xe=me.seacs;if(Fe&&ie.SEAC_ANALYSIS_ENABLED&&Xe&&Xe.length){const De=xe.fontMatrix||t.FONT_IDENTITY_MATRIX,Te=me.getCharset(),Ee=Object.create(null);for(let ze in Xe){ze|=0;const tt=Xe[ze],ft=j.StandardEncoding[tt[2]],Be=j.StandardEncoding[tt[3]],Ne=Te.indexOf(ft),ke=Te.indexOf(Be);if(Ne<0||ke<0)continue;const rt={x:tt[0]*De[0]+tt[1]*De[2]+De[4],y:tt[0]*De[1]+tt[1]*De[3]+De[5]},ot=Le(Ce,ze);if(ot)for(let st=0,xt=ot.length;st<xt;st++){const et=ot[st],ut=Fe.charCodeToGlyphId,kt=qe(ut,Ne),Qe=qe(ut,ke);Ee[et]={baseFontCharCode:kt,accentFontCharCode:Qe,accentOffset:rt}}}xe.seacMap=Ee}const Ue=1/(xe.fontMatrix||t.FONT_IDENTITY_MATRIX)[0],$e=new p.OpenTypeFileBuilder("OTTO");return $e.addTable("CFF ",me.data),$e.addTable("OS/2",M(xe,Oe)),$e.addTable("cmap",Z(Oe,Ie,Me)),$e.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+v(Ue)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+v(xe.descent)+"ÿ"+v(xe.ascent)+x(xe.italicAngle?2:0)+"\0\0\0\0\0\0\0"),$e.addTable("hhea","\0\0\0"+v(xe.ascent)+v(xe.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+v(xe.capHeight)+v(Math.tan(xe.italicAngle)*xe.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+x(Me)),$e.addTable("hmtx",function(){const Te=me.charstrings,Ee=me.cff?me.cff.widths:null;let ze="\0\0\0\0";for(let tt=1,ft=Me;tt<ft;tt++){let Be=0;if(Te){const Ne=Te[tt-1];Be="width"in Ne?Ne.width:0}else Ee&&(Be=Math.ceil(Ee[tt]||0));ze+=x(Be)+x(0)}return ze}()),$e.addTable("maxp","\0\0P\0"+x(Me)),$e.addTable("name",ae(he)),$e.addTable("post",te(xe)),$e.toArray()}get spaceWidth(){const he=["space","minus","one","i","I"];let me;for(let xe=0,we=he.length;xe<we;xe++){const Ce=he[xe];if(Ce in this.widths){me=this.widths[Ce];break}const Oe=(0,e.getGlyphsUnicode)()[Ce];let Ie=0;if(this.composite&&this.cMap.contains(Oe)&&(Ie=this.cMap.lookup(Oe),typeof Ie=="string"&&(Ie=P(Oe,Ie))),!Ie&&this.toUnicode&&(Ie=this.toUnicode.charCodeOf(Oe)),Ie<=0&&(Ie=Oe),me=this.widths[Ie],me)break}return me=me||this.defaultWidth,(0,t.shadow)(this,"spaceWidth",me)}_charToGlyph(he,me=!1){let xe,we,Ce,Fe=he;this.cMap&&this.cMap.contains(he)&&(Fe=this.cMap.lookup(he),typeof Fe=="string"&&(Fe=P(he,Fe))),we=this.widths[Fe],typeof we!="number"&&(we=this.defaultWidth);const Oe=this.vmetrics&&this.vmetrics[Fe];let Ie=this.toUnicode.get(he)||he;typeof Ie=="number"&&(Ie=String.fromCharCode(Ie));let Me=this.toFontChar[he]!==void 0;if(xe=this.toFontChar[he]||he,this.missingFile){const Ue=this.differences[he]||this.defaultEncoding[he];(Ue===".notdef"||Ue==="")&&this.type==="Type1"&&(xe=32),xe=(0,z.mapSpecialUnicodeValues)(xe)}this.isType3Font&&(Ce=xe);let Le=null;if(this.seacMap&&this.seacMap[he]){Me=!0;const Ue=this.seacMap[he];xe=Ue.baseFontCharCode,Le={fontChar:String.fromCodePoint(Ue.accentFontCharCode),offset:Ue.accentOffset}}let qe="";typeof xe=="number"&&(xe<=1114111?qe=String.fromCodePoint(xe):(0,t.warn)(`charToGlyph - invalid fontCharCode: ${xe}`));let Xe=this._glyphCache[he];return(!Xe||!Xe.matchesForCache(he,qe,Ie,Le,we,Oe,Ce,me,Me))&&(Xe=new R(he,qe,Ie,Le,we,Oe,Ce,me,Me),this._glyphCache[he]=Xe),Xe}charsToGlyphs(he){let me=this._charsCache[he];if(me)return me;if(me=[],this.cMap){const xe=Object.create(null),we=he.length;let Ce=0;for(;Ce<we;){this.cMap.readCharCode(he,Ce,xe);const{charcode:Fe,length:Oe}=xe;Ce+=Oe;const Ie=this._charToGlyph(Fe,Oe===1&&he.charCodeAt(Ce-1)===32);me.push(Ie)}}else for(let xe=0,we=he.length;xe<we;++xe){const Ce=he.charCodeAt(xe),Fe=this._charToGlyph(Ce,Ce===32);me.push(Fe)}return this._charsCache[he]=me}getCharPositions(he){const me=[];if(this.cMap){const xe=Object.create(null);let we=0;for(;we<he.length;){this.cMap.readCharCode(he,we,xe);const Ce=xe.length;me.push([we,we+Ce]),we+=Ce}}else for(let xe=0,we=he.length;xe<we;++xe)me.push([xe,xe+1]);return me}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(he){const me=[],xe=[],we=()=>me.length%2===1,Ce=this.toUnicode instanceof T.IdentityToUnicodeMap?Fe=>this.toUnicode.charCodeOf(Fe):Fe=>this.toUnicode.charCodeOf(String.fromCodePoint(Fe));for(let Fe=0,Oe=he.length;Fe<Oe;Fe++){const Ie=he.codePointAt(Fe);if(Ie>55295&&(Ie<57344||Ie>65533)&&Fe++,this.toUnicode){const Me=Ce(Ie);if(Me!==-1){we()&&(me.push(xe.join("")),xe.length=0);const Le=this.cMap?this.cMap.getCharCodeLength(Me):1;for(let qe=Le-1;qe>=0;qe--)xe.push(String.fromCharCode(Me>>8*qe&255));continue}}we()||(me.push(xe.join("")),xe.length=0),xe.push(String.fromCodePoint(Ie))}return me.push(xe.join("")),me}}A.Font=fe;class de{constructor(he){this.error=he,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(he){return[he]}exportData(he=!1){return{error:this.error}}}A.ErrorFont=de},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CFFTopDict=A.CFFStrings=A.CFFStandardStrings=A.CFFPrivateDict=A.CFFParser=A.CFFIndex=A.CFFHeader=A.CFFFDSelect=A.CFFCompiler=A.CFFCharset=A.CFF=void 0;var t=se(2),m=se(36),ie=se(37);const z=10,e=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];A.CFFStandardStrings=e;const j=391,f=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],T=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(R,o){R[o-2]=R[o-2]+R[o-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(R,o){R[o-2]=R[o-2]-R[o-1]}},{id:"div",min:2,stackDelta:-1,stackFn(R,o){R[o-2]=R[o-2]/R[o-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(R,o){R[o-1]=-R[o-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(R,o){R[o-2]=R[o-2]*R[o-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class E{constructor(o,h,H){this.bytes=o.getBytes(),this.properties=h,this.seacAnalysisEnabled=!!H}parse(){const o=this.properties,h=new _;this.cff=h;const H=this.parseHeader(),L=this.parseIndex(H.endPos),x=this.parseIndex(L.endPos),v=this.parseIndex(x.endPos),F=this.parseIndex(v.endPos),k=this.parseDict(x.obj.get(0)),U=this.createDict(r,k,h.strings);h.header=H.obj,h.names=this.parseNameIndex(L.obj),h.strings=this.parseStringIndex(v.obj),h.topDict=U,h.globalSubrIndex=F.obj,this.parsePrivateDict(h.topDict),h.isCIDFont=U.hasName("ROS");const ee=U.getByName("CharStrings"),J=this.parseIndex(ee).obj,I=U.getByName("FontMatrix");I&&(o.fontMatrix=I);const X=U.getByName("FontBBox");X&&(o.ascent=Math.max(X[3],X[1]),o.descent=Math.min(X[1],X[3]),o.ascentScaled=!0);let ne,P;if(h.isCIDFont){const Y=this.parseIndex(U.getByName("FDArray")).obj;for(let Z=0,q=Y.count;Z<q;++Z){const M=Y.get(Z),te=this.createDict(r,this.parseDict(M),h.strings);this.parsePrivateDict(te),h.fdArray.push(te)}P=null,ne=this.parseCharsets(U.getByName("charset"),J.count,h.strings,!0),h.fdSelect=this.parseFDSelect(U.getByName("FDSelect"),J.count)}else ne=this.parseCharsets(U.getByName("charset"),J.count,h.strings,!1),P=this.parseEncoding(U.getByName("Encoding"),o,h.strings,ne.charset);h.charset=ne,h.encoding=P;const V=this.parseCharStrings({charStrings:J,localSubrIndex:U.privateDict.subrsIndex,globalSubrIndex:F.obj,fdSelect:h.fdSelect,fdArray:h.fdArray,privateDict:U.privateDict});return h.charStrings=V.charStrings,h.seacs=V.seacs,h.widths=V.widths,h}parseHeader(){let o=this.bytes;const h=o.length;let H=0;for(;H<h&&o[H]!==1;)++H;if(H>=h)throw new t.FormatError("Invalid CFF header");H!==0&&((0,t.info)("cff data is shifted"),o=o.subarray(H),this.bytes=o);const L=o[0],x=o[1],v=o[2],F=o[3];return{obj:new y(L,x,v,F),endPos:v}}parseDict(o){let h=0;function H(){let k=o[h++];return k===30?L():k===28?(k=o[h++],k=(k<<24|o[h++]<<16)>>16,k):k===29?(k=o[h++],k=k<<8|o[h++],k=k<<8|o[h++],k=k<<8|o[h++],k):k>=32&&k<=246?k-139:k>=247&&k<=250?(k-247)*256+o[h++]+108:k>=251&&k<=254?-((k-251)*256)-o[h++]-108:((0,t.warn)('CFFParser_parseDict: "'+k+'" is a reserved command.'),NaN)}function L(){let k="";const ee=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],J=o.length;for(;h<J;){const I=o[h++],X=I>>4,ne=I&15;if(X===15||(k+=ee[X],ne===15))break;k+=ee[ne]}return parseFloat(k)}let x=[];const v=[];h=0;const F=o.length;for(;h<F;){let k=o[h];k<=21?(k===12&&(k=k<<8|o[++h]),v.push([k,x]),x=[],++h):x.push(H())}return v}parseIndex(o){const h=new u,H=this.bytes,L=H[o++]<<8|H[o++],x=[];let v=o,F,k;if(L!==0){const U=H[o++],ee=o+(L+1)*U-1;for(F=0,k=L+1;F<k;++F){let J=0;for(let I=0;I<U;++I)J<<=8,J+=H[o++];x.push(ee+J)}v=x[L]}for(F=0,k=x.length-1;F<k;++F){const U=x[F],ee=x[F+1];h.add(H.subarray(U,ee))}return{obj:h,endPos:v}}parseNameIndex(o){const h=[];for(let H=0,L=o.count;H<L;++H){const x=o.get(H);h.push((0,t.bytesToString)(x))}return h}parseStringIndex(o){const h=new n;for(let H=0,L=o.count;H<L;++H){const x=o.get(H);h.add((0,t.bytesToString)(x))}return h}createDict(o,h,H){const L=new o(H);for(let x=0,v=h.length;x<v;++x){const F=h[x],k=F[0],U=F[1];L.setByKey(k,U)}return L}parseCharString(o,h,H,L){if(!h||o.callDepth>z)return!1;let x=o.stackSize;const v=o.stack,F=h.length;for(let k=0;k<F;){const U=h[k++];let ee=null;if(U===12){const J=h[k++];J===0?(h[k-2]=139,h[k-1]=22,x=0):ee=T[J]}else if(U===28)v[x]=(h[k]<<24|h[k+1]<<16)>>16,k+=2,x++;else if(U===14){if(x>=4&&(x-=4,this.seacAnalysisEnabled))return o.seac=v.slice(x,x+4),!1;ee=f[U]}else if(U>=32&&U<=246)v[x]=U-139,x++;else if(U>=247&&U<=254)v[x]=U<251?(U-247<<8)+h[k]+108:-(U-251<<8)-h[k]-108,k++,x++;else if(U===255)v[x]=(h[k]<<24|h[k+1]<<16|h[k+2]<<8|h[k+3])/65536,k+=4,x++;else if(U===19||U===20)o.hints+=x>>1,k+=o.hints+7>>3,x%=2,ee=f[U];else if(U===10||U===29){let J;if(U===10?J=H:J=L,!J)return ee=f[U],(0,t.warn)("Missing subrsIndex for "+ee.id),!1;let I=32768;J.count<1240?I=107:J.count<33900&&(I=1131);const X=v[--x]+I;if(X<0||X>=J.count||isNaN(X))return ee=f[U],(0,t.warn)("Out of bounds subrIndex for "+ee.id),!1;if(o.stackSize=x,o.callDepth++,!this.parseCharString(o,J.get(X),H,L))return!1;o.callDepth--,x=o.stackSize;continue}else{if(U===11)return o.stackSize=x,!0;U===0&&k===h.length?(h[k-1]=14,ee=f[14]):ee=f[U]}if(ee){if(ee.stem&&(o.hints+=x>>1,U===3||U===23?o.hasVStems=!0:o.hasVStems&&(U===1||U===18)&&((0,t.warn)("CFF stem hints are in wrong order"),h[k-1]=U===1?3:23)),"min"in ee&&!o.undefStack&&x<ee.min)return(0,t.warn)("Not enough parameters for "+ee.id+"; actual: "+x+", expected: "+ee.min),x===0?(h[k-1]=14,!0):!1;o.firstStackClearing&&ee.stackClearing&&(o.firstStackClearing=!1,x-=ee.min,x>=2&&ee.stem?x%=2:x>1&&(0,t.warn)("Found too many parameters for stack-clearing command"),x>0&&(o.width=v[x-1])),"stackDelta"in ee?("stackFn"in ee&&ee.stackFn(v,x),x+=ee.stackDelta):ee.stackClearing?x=0:ee.resetStack?(x=0,o.undefStack=!1):ee.undefStack&&(x=0,o.undefStack=!0,o.firstStackClearing=!1)}}return o.stackSize=x,!0}parseCharStrings({charStrings:o,localSubrIndex:h,globalSubrIndex:H,fdSelect:L,fdArray:x,privateDict:v}){const F=[],k=[],U=o.count;for(let ee=0;ee<U;ee++){const J=o.get(ee),I={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let X=!0,ne=null,P=v;if(L&&x.length){const V=L.getFDIndex(ee);V===-1&&((0,t.warn)("Glyph index is not in fd select."),X=!1),V>=x.length&&((0,t.warn)("Invalid fd index for glyph index."),X=!1),X&&(P=x[V].privateDict,ne=P.subrsIndex)}else h&&(ne=h);if(X&&(X=this.parseCharString(I,J,ne,H)),I.width!==null){const V=P.getByName("nominalWidthX");k[ee]=V+I.width}else{const V=P.getByName("defaultWidthX");k[ee]=V}I.seac!==null&&(F[ee]=I.seac),X||o.set(ee,new Uint8Array([14]))}return{charStrings:o,seacs:F,widths:k}}emptyPrivateDictionary(o){const h=this.createDict(c,[],o.strings);o.setByKey(18,[0,0]),o.privateDict=h}parsePrivateDict(o){if(!o.hasName("Private")){this.emptyPrivateDictionary(o);return}const h=o.getByName("Private");if(!Array.isArray(h)||h.length!==2){o.removeByName("Private");return}const H=h[0],L=h[1];if(H===0||L>=this.bytes.length){this.emptyPrivateDictionary(o);return}const x=L+H,v=this.bytes.subarray(L,x),F=this.parseDict(v),k=this.createDict(c,F,o.strings);if(o.privateDict=k,!k.getByName("Subrs"))return;const U=k.getByName("Subrs"),ee=L+U;if(U===0||ee>=this.bytes.length){this.emptyPrivateDictionary(o);return}const J=this.parseIndex(ee);k.subrsIndex=J.obj}parseCharsets(o,h,H,L){if(o===0)return new K(!0,d.ISO_ADOBE,m.ISOAdobeCharset);if(o===1)return new K(!0,d.EXPERT,m.ExpertCharset);if(o===2)return new K(!0,d.EXPERT_SUBSET,m.ExpertSubsetCharset);const x=this.bytes,v=o,F=x[o++],k=[L?0:".notdef"];let U,ee,J;switch(h-=1,F){case 0:for(J=0;J<h;J++)U=x[o++]<<8|x[o++],k.push(L?U:H.get(U));break;case 1:for(;k.length<=h;)for(U=x[o++]<<8|x[o++],ee=x[o++],J=0;J<=ee;J++)k.push(L?U++:H.get(U++));break;case 2:for(;k.length<=h;)for(U=x[o++]<<8|x[o++],ee=x[o++]<<8|x[o++],J=0;J<=ee;J++)k.push(L?U++:H.get(U++));break;default:throw new t.FormatError("Unknown charset format")}const I=o,X=x.subarray(v,I);return new K(!1,F,k,X)}parseEncoding(o,h,H,L){const x=Object.create(null),v=this.bytes;let F=!1,k,U,ee,J=null;function I(){const X=v[o++];for(U=0;U<X;U++){const ne=v[o++],P=(v[o++]<<8)+(v[o++]&255);x[ne]=L.indexOf(H.get(P))}}if(o===0||o===1){F=!0,k=o;const X=o?ie.ExpertEncoding:ie.StandardEncoding;for(U=0,ee=L.length;U<ee;U++){const ne=X.indexOf(L[U]);ne!==-1&&(x[ne]=U)}}else{const X=o;switch(k=v[o++],k&127){case 0:const P=v[o++];for(U=1;U<=P;U++)x[v[o++]]=U;break;case 1:const V=v[o++];let Y=1;for(U=0;U<V;U++){const Z=v[o++],q=v[o++];for(let M=Z;M<=Z+q;M++)x[M]=Y++}break;default:throw new t.FormatError(`Unknown encoding format: ${k} in CFF`)}const ne=o;k&128&&(v[X]&=127,I()),J=v.subarray(X,ne)}return k&=127,new g(F,k,x,J)}parseFDSelect(o,h){const H=this.bytes,L=H[o++],x=[];let v;switch(L){case 0:for(v=0;v<h;++v){const k=H[o++];x.push(k)}break;case 3:const F=H[o++]<<8|H[o++];for(v=0;v<F;++v){let k=H[o++]<<8|H[o++];v===0&&k!==0&&((0,t.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),k=0);const U=H[o++],ee=H[o]<<8|H[o+1];for(let J=k;J<ee;++J)x.push(U)}o+=2;break;default:throw new t.FormatError(`parseFDSelect: Unknown format "${L}".`)}if(x.length!==h)throw new t.FormatError("parseFDSelect: Invalid font data.");return new G(L,x)}}A.CFFParser=E;class _{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new n,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,t.warn)("Not enough space in charstrings to duplicate first glyph.");return}const o=this.charStrings.get(0);this.charStrings.add(o),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(o){return o<0||o>=this.charStrings.count?!1:this.charStrings.get(o).length>0}}A.CFF=_;class y{constructor(o,h,H,L){this.major=o,this.minor=h,this.hdrSize=H,this.offSize=L}}A.CFFHeader=y;class n{constructor(){this.strings=[]}get(o){return o>=0&&o<=j-1?e[o]:o-j<=this.strings.length?this.strings[o-j]:e[0]}getSID(o){let h=e.indexOf(o);return h!==-1?h:(h=this.strings.indexOf(o),h!==-1?h+j:-1)}add(o){this.strings.push(o)}get count(){return this.strings.length}}A.CFFStrings=n;class u{constructor(){this.objects=[],this.length=0}add(o){this.length+=o.length,this.objects.push(o)}set(o,h){this.length+=h.length-this.objects[o].length,this.objects[o]=h}get(o){return this.objects[o]}get count(){return this.objects.length}}A.CFFIndex=u;class p{constructor(o,h){this.keyToNameMap=o.keyToNameMap,this.nameToKeyMap=o.nameToKeyMap,this.defaults=o.defaults,this.types=o.types,this.opcodes=o.opcodes,this.order=o.order,this.strings=h,this.values=Object.create(null)}setByKey(o,h){if(!(o in this.keyToNameMap))return!1;const H=h.length;if(H===0)return!0;for(let x=0;x<H;x++)if(isNaN(h[x]))return(0,t.warn)('Invalid CFFDict value: "'+h+'" for key "'+o+'".'),!0;const L=this.types[o];return(L==="num"||L==="sid"||L==="offset")&&(h=h[0]),this.values[o]=h,!0}setByName(o,h){if(!(o in this.nameToKeyMap))throw new t.FormatError(`Invalid dictionary name "${o}"`);this.values[this.nameToKeyMap[o]]=h}hasName(o){return this.nameToKeyMap[o]in this.values}getByName(o){if(!(o in this.nameToKeyMap))throw new t.FormatError(`Invalid dictionary name ${o}"`);const h=this.nameToKeyMap[o];return h in this.values?this.values[h]:this.defaults[h]}removeByName(o){delete this.values[this.nameToKeyMap[o]]}static createTables(o){const h={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let H=0,L=o.length;H<L;++H){const x=o[H],v=Array.isArray(x[0])?(x[0][0]<<8)+x[0][1]:x[0];h.keyToNameMap[v]=x[1],h.nameToKeyMap[x[1]]=v,h.types[v]=x[2],h.defaults[v]=x[3],h.opcodes[v]=Array.isArray(x[0])?x[0]:[x[0]],h.order.push(v)}return h}}const s=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class r extends p{static get tables(){return(0,t.shadow)(this,"tables",this.createTables(s))}constructor(o){super(r.tables,o),this.privateDict=null}}A.CFFTopDict=r;const l=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class c extends p{static get tables(){return(0,t.shadow)(this,"tables",this.createTables(l))}constructor(o){super(c.tables,o),this.subrsIndex=null}}A.CFFPrivateDict=c;const d={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class K{constructor(o,h,H,L){this.predefined=o,this.format=h,this.charset=H,this.raw=L}}A.CFFCharset=K;class g{constructor(o,h,H,L){this.predefined=o,this.format=h,this.encoding=H,this.raw=L}}class G{constructor(o,h){this.format=o,this.fdSelect=h}getFDIndex(o){return o<0||o>=this.fdSelect.length?-1:this.fdSelect[o]}}A.CFFFDSelect=G;class O{constructor(){this.offsets=Object.create(null)}isTracking(o){return o in this.offsets}track(o,h){if(o in this.offsets)throw new t.FormatError(`Already tracking location of ${o}`);this.offsets[o]=h}offset(o){for(const h in this.offsets)this.offsets[h]+=o}setEntryLocation(o,h,H){if(!(o in this.offsets))throw new t.FormatError(`Not tracking location of ${o}`);const L=H.data,x=this.offsets[o],v=5;for(let F=0,k=h.length;F<k;++F){const U=F*v+x,ee=U+1,J=U+2,I=U+3,X=U+4;if(L[U]!==29||L[ee]!==0||L[J]!==0||L[I]!==0||L[X]!==0)throw new t.FormatError("writing to an offset that is not empty");const ne=h[F];L[U]=29,L[ee]=ne>>24&255,L[J]=ne>>16&255,L[I]=ne>>8&255,L[X]=ne&255}}}class w{constructor(o){this.cff=o}compile(){const o=this.cff,h={data:[],length:0,add(I){this.data=this.data.concat(I),this.length=this.data.length}},H=this.compileHeader(o.header);h.add(H);const L=this.compileNameIndex(o.names);if(h.add(L),o.isCIDFont&&o.topDict.hasName("FontMatrix")){const I=o.topDict.getByName("FontMatrix");o.topDict.removeByName("FontMatrix");for(let X=0,ne=o.fdArray.length;X<ne;X++){const P=o.fdArray[X];let V=I.slice(0);P.hasName("FontMatrix")&&(V=t.Util.transform(V,P.getByName("FontMatrix"))),P.setByName("FontMatrix",V)}}const x=o.topDict.getByName("XUID");x&&x.length>16&&o.topDict.removeByName("XUID"),o.topDict.setByName("charset",0);let v=this.compileTopDicts([o.topDict],h.length,o.isCIDFont);h.add(v.output);const F=v.trackers[0],k=this.compileStringIndex(o.strings.strings);h.add(k);const U=this.compileIndex(o.globalSubrIndex);if(h.add(U),o.encoding&&o.topDict.hasName("Encoding"))if(o.encoding.predefined)F.setEntryLocation("Encoding",[o.encoding.format],h);else{const I=this.compileEncoding(o.encoding);F.setEntryLocation("Encoding",[h.length],h),h.add(I)}const ee=this.compileCharset(o.charset,o.charStrings.count,o.strings,o.isCIDFont);F.setEntryLocation("charset",[h.length],h),h.add(ee);const J=this.compileCharStrings(o.charStrings);if(F.setEntryLocation("CharStrings",[h.length],h),h.add(J),o.isCIDFont){F.setEntryLocation("FDSelect",[h.length],h);const I=this.compileFDSelect(o.fdSelect);h.add(I),v=this.compileTopDicts(o.fdArray,h.length,!0),F.setEntryLocation("FDArray",[h.length],h),h.add(v.output);const X=v.trackers;this.compilePrivateDicts(o.fdArray,X,h)}return this.compilePrivateDicts([o.topDict],[F],h),h.add([0]),h.data}encodeNumber(o){return Number.isInteger(o)?this.encodeInteger(o):this.encodeFloat(o)}static get EncodeFloatRegExp(){return(0,t.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(o){let h=o.toString();const H=w.EncodeFloatRegExp.exec(h);if(H){const k=parseFloat("1e"+((H[2]?+H[2]:0)+H[1].length));h=(Math.round(o*k)/k).toString()}let L="",x,v;for(x=0,v=h.length;x<v;++x){const k=h[x];k==="e"?L+=h[++x]==="-"?"c":"b":k==="."?L+="a":k==="-"?L+="e":L+=k}L+=L.length&1?"f":"ff";const F=[30];for(x=0,v=L.length;x<v;x+=2)F.push(parseInt(L.substring(x,x+2),16));return F}encodeInteger(o){let h;return o>=-107&&o<=107?h=[o+139]:o>=108&&o<=1131?(o-=108,h=[(o>>8)+247,o&255]):o>=-1131&&o<=-108?(o=-o-108,h=[(o>>8)+251,o&255]):o>=-32768&&o<=32767?h=[28,o>>8&255,o&255]:h=[29,o>>24&255,o>>16&255,o>>8&255,o&255],h}compileHeader(o){return[o.major,o.minor,4,o.offSize]}compileNameIndex(o){const h=new u;for(let H=0,L=o.length;H<L;++H){const x=o[H],v=Math.min(x.length,127);let F=new Array(v);for(let k=0;k<v;k++){let U=x[k];(U<"!"||U>"~"||U==="["||U==="]"||U==="("||U===")"||U==="{"||U==="}"||U==="<"||U===">"||U==="/"||U==="%")&&(U="_"),F[k]=U}F=F.join(""),F===""&&(F="Bad_Font_Name"),h.add((0,t.stringToBytes)(F))}return this.compileIndex(h)}compileTopDicts(o,h,H){const L=[];let x=new u;for(let v=0,F=o.length;v<F;++v){const k=o[v];H&&(k.removeByName("CIDFontVersion"),k.removeByName("CIDFontRevision"),k.removeByName("CIDFontType"),k.removeByName("CIDCount"),k.removeByName("UIDBase"));const U=new O,ee=this.compileDict(k,U);L.push(U),x.add(ee),U.offset(h)}return x=this.compileIndex(x,L),{trackers:L,output:x}}compilePrivateDicts(o,h,H){for(let L=0,x=o.length;L<x;++L){const v=o[L],F=v.privateDict;if(!F||!v.hasName("Private"))throw new t.FormatError("There must be a private dictionary.");const k=new O,U=this.compileDict(F,k);let ee=H.length;if(k.offset(ee),U.length||(ee=0),h[L].setEntryLocation("Private",[U.length,ee],H),H.add(U),F.subrsIndex&&F.hasName("Subrs")){const J=this.compileIndex(F.subrsIndex);k.setEntryLocation("Subrs",[U.length],H),H.add(J)}}}compileDict(o,h){const H=[];for(const L of o.order){if(!(L in o.values))continue;let x=o.values[L],v=o.types[L];if(Array.isArray(v)||(v=[v]),Array.isArray(x)||(x=[x]),x.length!==0){for(let F=0,k=v.length;F<k;++F){const U=v[F],ee=x[F];switch(U){case"num":case"sid":H.push(...this.encodeNumber(ee));break;case"offset":const J=o.keyToNameMap[L];h.isTracking(J)||h.track(J,H.length),H.push(29,0,0,0,0);break;case"array":case"delta":H.push(...this.encodeNumber(ee));for(let I=1,X=x.length;I<X;++I)H.push(...this.encodeNumber(x[I]));break;default:throw new t.FormatError(`Unknown data type of ${U}`)}}H.push(...o.opcodes[L])}}return H}compileStringIndex(o){const h=new u;for(let H=0,L=o.length;H<L;++H)h.add((0,t.stringToBytes)(o[H]));return this.compileIndex(h)}compileGlobalSubrIndex(){const o=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(o))}compileCharStrings(o){const h=new u;for(let H=0;H<o.count;H++){const L=o.get(H);if(L.length===0){h.add(new Uint8Array([139,14]));continue}h.add(L)}return this.compileIndex(h)}compileCharset(o,h,H,L){let x;const v=h-1;if(L)x=new Uint8Array([2,0,0,v>>8&255,v&255]);else{const F=1+v*2;x=new Uint8Array(F),x[0]=0;let k=0;const U=o.charset.length;let ee=!1;for(let J=1;J<x.length;J+=2){let I=0;if(k<U){const X=o.charset[k++];I=H.getSID(X),I===-1&&(I=0,ee||(ee=!0,(0,t.warn)(`Couldn't find ${X} in CFF strings`)))}x[J]=I>>8&255,x[J+1]=I&255}}return this.compileTypedArray(x)}compileEncoding(o){return this.compileTypedArray(o.raw)}compileFDSelect(o){const h=o.format;let H,L;switch(h){case 0:for(H=new Uint8Array(1+o.fdSelect.length),H[0]=h,L=0;L<o.fdSelect.length;L++)H[L+1]=o.fdSelect[L];break;case 3:const x=0;let v=o.fdSelect[0];const F=[h,0,0,x>>8&255,x&255,v];for(L=1;L<o.fdSelect.length;L++){const U=o.fdSelect[L];U!==v&&(F.push(L>>8&255,L&255,U),v=U)}const k=(F.length-3)/3;F[1]=k>>8&255,F[2]=k&255,F.push(L>>8&255,L&255),H=new Uint8Array(F);break}return this.compileTypedArray(H)}compileTypedArray(o){const h=[];for(let H=0,L=o.length;H<L;++H)h[H]=o[H];return h}compileIndex(o,h=[]){const H=o.objects,L=H.length;if(L===0)return[0,0];const x=[L>>8&255,L&255];let v=1,F;for(F=0;F<L;++F)v+=H[F].length;let k;v<256?k=1:v<65536?k=2:v<16777216?k=3:k=4,x.push(k);let U=1;for(F=0;F<L+1;F++)k===1?x.push(U&255):k===2?x.push(U>>8&255,U&255):k===3?x.push(U>>16&255,U>>8&255,U&255):x.push(U>>>24&255,U>>16&255,U>>8&255,U&255),H[F]&&(U+=H[F].length);for(F=0;F<L;F++){h[F]&&h[F].offset(x.length);for(let ee=0,J=H[F].length;ee<J;ee++)x.push(H[F][ee])}return x}}A.CFFCompiler=w},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ISOAdobeCharset=A.ExpertSubsetCharset=A.ExpertCharset=void 0;const se=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];A.ISOAdobeCharset=se;const t=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];A.ExpertCharset=t;const m=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];A.ExpertSubsetCharset=m},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ZapfDingbatsEncoding=A.WinAnsiEncoding=A.SymbolSetEncoding=A.StandardEncoding=A.MacRomanEncoding=A.ExpertEncoding=void 0,A.getEncoding=f;const se=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];A.ExpertEncoding=se;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],m=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];A.MacRomanEncoding=m;const ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];A.StandardEncoding=ie;const z=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];A.WinAnsiEncoding=z;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];A.SymbolSetEncoding=e;const j=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];A.ZapfDingbatsEncoding=j;function f(T){switch(T){case"WinAnsiEncoding":return z;case"StandardEncoding":return ie;case"MacRomanEncoding":return m;case"SymbolSetEncoding":return e;case"ZapfDingbatsEncoding":return j;case"ExpertEncoding":return se;case"MacExpertEncoding":return t;default:return null}}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.SEAC_ANALYSIS_ENABLED=A.MacStandardGlyphOrdering=A.FontFlags=void 0,A.getFontType=T,A.normalizeFontName=y,A.recoverGlyphName=E,A.type1FontGlyphMapping=_;var t=se(2),m=se(37),ie=se(39),z=se(40);const e=!0;A.SEAC_ANALYSIS_ENABLED=e;const j={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};A.FontFlags=j;const f=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];A.MacStandardGlyphOrdering=f;function T(n,u,p=!1){switch(n){case"Type1":return p?t.FontType.TYPE1STANDARD:u==="Type1C"?t.FontType.TYPE1C:t.FontType.TYPE1;case"CIDFontType0":return u==="CIDFontType0C"?t.FontType.CIDFONTTYPE0C:t.FontType.CIDFONTTYPE0;case"OpenType":return t.FontType.OPENTYPE;case"TrueType":return t.FontType.TRUETYPE;case"CIDFontType2":return t.FontType.CIDFONTTYPE2;case"MMType1":return t.FontType.MMTYPE1;case"Type0":return t.FontType.TYPE0;default:return t.FontType.UNKNOWN}}function E(n,u){if(u[n]!==void 0)return n;const p=(0,z.getUnicodeForGlyph)(n,u);if(p!==-1){for(const s in u)if(u[s]===p)return s}return(0,t.info)("Unable to recover a standard glyph name for: "+n),n}function _(n,u,p){const s=Object.create(null);let r,l,c;const d=!!(n.flags&j.Symbolic);if(n.isInternalFont)for(c=u,l=0;l<c.length;l++)r=p.indexOf(c[l]),r>=0?s[l]=r:s[l]=0;else if(n.baseEncodingName)for(c=(0,m.getEncoding)(n.baseEncodingName),l=0;l<c.length;l++)r=p.indexOf(c[l]),r>=0?s[l]=r:s[l]=0;else if(d)for(l in u)s[l]=u[l];else for(c=m.StandardEncoding,l=0;l<c.length;l++)r=p.indexOf(c[l]),r>=0?s[l]=r:s[l]=0;const K=n.differences;let g;if(K)for(l in K){const G=K[l];if(r=p.indexOf(G),r===-1){g||(g=(0,ie.getGlyphsUnicode)());const O=E(G,g);O!==G&&(r=p.indexOf(O))}r>=0?s[l]=r:s[l]=0}return s}function y(n){return n.replace(/[,_]/g,"-").replace(/\s/g,"")}},(Ae,A,se)=>{se.r(A),se.d(A,{getDingbatsGlyphsUnicode:()=>ie,getGlyphsUnicode:()=>m});var t=se(6);const m=(0,t.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),ie=(0,t.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(Ae,A,se)=>{se.r(A),se.d(A,{clearUnicodeCaches:()=>u,getCharUnicodeCategory:()=>n,getNormalizedUnicodes:()=>T,getUnicodeForGlyph:()=>z,getUnicodeRangeFor:()=>j,mapSpecialUnicodeValues:()=>ie,reverseIfRtl:()=>E});var t=se(6);const m=(0,t.getLookupTableFactory)(function(p){p[63721]=169,p[63193]=169,p[63720]=174,p[63194]=174,p[63722]=8482,p[63195]=8482,p[63729]=9127,p[63730]=9128,p[63731]=9129,p[63740]=9131,p[63741]=9132,p[63742]=9133,p[63726]=9121,p[63727]=9122,p[63728]=9123,p[63737]=9124,p[63738]=9125,p[63739]=9126,p[63723]=9115,p[63724]=9116,p[63725]=9117,p[63734]=9118,p[63735]=9119,p[63736]=9120});function ie(p){return p>=65520&&p<=65535?0:p>=62976&&p<=63743?m()[p]||p:p===173?45:p}function z(p,s){let r=s[p];if(r!==void 0)return r;if(!p)return-1;if(p[0]==="u"){const l=p.length;let c;if(l===7&&p[1]==="n"&&p[2]==="i")c=p.substring(3);else if(l>=5&&l<=7)c=p.substring(1);else return-1;if(c===c.toUpperCase()&&(r=parseInt(c,16),r>=0))return r}return-1}const e=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function j(p){for(let s=0,r=e.length;s<r;s++){const l=e[s];if(p>=l.begin&&p<l.end)return s}return-1}function f(p){let s=e[13];return p>=s.begin&&p<s.end||(s=e[11],p>=s.begin&&p<s.end)}const T=(0,t.getArrayLookupTableFactory)(function(){return["¨"," ̈","¯"," ̄","´"," ́","µ","μ","¸"," ̧","Ĳ","IJ","ĳ","ij","Ŀ","L·","ŀ","l·","ŉ","ʼn","ſ","s","Ǆ","DŽ","ǅ","Dž","ǆ","dž","Ǉ","LJ","ǈ","Lj","ǉ","lj","Ǌ","NJ","ǋ","Nj","ǌ","nj","Ǳ","DZ","ǲ","Dz","ǳ","dz","˘"," ̆","˙"," ̇","˚"," ̊","˛"," ̨","˜"," ̃","˝"," ̋","ͺ"," ͅ","΄"," ́","ϐ","β","ϑ","θ","ϒ","Υ","ϕ","φ","ϖ","π","ϰ","κ","ϱ","ρ","ϲ","ς","ϴ","Θ","ϵ","ε","Ϲ","Σ","և","եւ","ٵ","اٴ","ٶ","وٴ","ٷ","ۇٴ","ٸ","يٴ","ำ","ํา","ຳ","ໍາ","ໜ","ຫນ","ໝ","ຫມ","ཷ","ྲཱྀ","ཹ","ླཱྀ","ẚ","aʾ","᾽"," ̓","᾿"," ̓","῀"," ͂","῾"," ̔"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","‗"," ̳","․",".","‥","..","…","...","″","′′","‴","′′′","‶","‵‵","‷","‵‵‵","‼","!!","‾"," ̅","⁇","??","⁈","?!","⁉","!?","⁗","′′′′"," "," ","₨","Rs","℀","a/c","℁","a/s","℃","°C","℅","c/o","℆","c/u","ℇ","Ɛ","℉","°F","№","No","℡","TEL","ℵ","א","ℶ","ב","ℷ","ג","ℸ","ד","℻","FAX","Ⅰ","I","Ⅱ","II","Ⅲ","III","Ⅳ","IV","Ⅴ","V","Ⅵ","VI","Ⅶ","VII","Ⅷ","VIII","Ⅸ","IX","Ⅹ","X","Ⅺ","XI","Ⅻ","XII","Ⅼ","L","Ⅽ","C","Ⅾ","D","Ⅿ","M","ⅰ","i","ⅱ","ii","ⅲ","iii","ⅳ","iv","ⅴ","v","ⅵ","vi","ⅶ","vii","ⅷ","viii","ⅸ","ix","ⅹ","x","ⅺ","xi","ⅻ","xii","ⅼ","l","ⅽ","c","ⅾ","d","ⅿ","m","∬","∫∫","∭","∫∫∫","∯","∮∮","∰","∮∮∮","⑴","(1)","⑵","(2)","⑶","(3)","⑷","(4)","⑸","(5)","⑹","(6)","⑺","(7)","⑻","(8)","⑼","(9)","⑽","(10)","⑾","(11)","⑿","(12)","⒀","(13)","⒁","(14)","⒂","(15)","⒃","(16)","⒄","(17)","⒅","(18)","⒆","(19)","⒇","(20)","⒈","1.","⒉","2.","⒊","3.","⒋","4.","⒌","5.","⒍","6.","⒎","7.","⒏","8.","⒐","9.","⒑","10.","⒒","11.","⒓","12.","⒔","13.","⒕","14.","⒖","15.","⒗","16.","⒘","17.","⒙","18.","⒚","19.","⒛","20.","⒜","(a)","⒝","(b)","⒞","(c)","⒟","(d)","⒠","(e)","⒡","(f)","⒢","(g)","⒣","(h)","⒤","(i)","⒥","(j)","⒦","(k)","⒧","(l)","⒨","(m)","⒩","(n)","⒪","(o)","⒫","(p)","⒬","(q)","⒭","(r)","⒮","(s)","⒯","(t)","⒰","(u)","⒱","(v)","⒲","(w)","⒳","(x)","⒴","(y)","⒵","(z)","⨌","∫∫∫∫","⩴","::=","⩵","==","⩶","===","⺟","母","⻳","龟","⼀","一","⼁","丨","⼂","丶","⼃","丿","⼄","乙","⼅","亅","⼆","二","⼇","亠","⼈","人","⼉","儿","⼊","入","⼋","八","⼌","冂","⼍","冖","⼎","冫","⼏","几","⼐","凵","⼑","刀","⼒","力","⼓","勹","⼔","匕","⼕","匚","⼖","匸","⼗","十","⼘","卜","⼙","卩","⼚","厂","⼛","厶","⼜","又","⼝","口","⼞","囗","⼟","土","⼠","士","⼡","夂","⼢","夊","⼣","夕","⼤","大","⼥","女","⼦","子","⼧","宀","⼨","寸","⼩","小","⼪","尢","⼫","尸","⼬","屮","⼭","山","⼮","巛","⼯","工","⼰","己","⼱","巾","⼲","干","⼳","幺","⼴","广","⼵","廴","⼶","廾","⼷","弋","⼸","弓","⼹","彐","⼺","彡","⼻","彳","⼼","心","⼽","戈","⼾","戶","⼿","手","⽀","支","⽁","攴","⽂","文","⽃","斗","⽄","斤","⽅","方","⽆","无","⽇","日","⽈","曰","⽉","月","⽊","木","⽋","欠","⽌","止","⽍","歹","⽎","殳","⽏","毋","⽐","比","⽑","毛","⽒","氏","⽓","气","⽔","水","⽕","火","⽖","爪","⽗","父","⽘","爻","⽙","爿","⽚","片","⽛","牙","⽜","牛","⽝","犬","⽞","玄","⽟","玉","⽠","瓜","⽡","瓦","⽢","甘","⽣","生","⽤","用","⽥","田","⽦","疋","⽧","疒","⽨","癶","⽩","白","⽪","皮","⽫","皿","⽬","目","⽭","矛","⽮","矢","⽯","石","⽰","示","⽱","禸","⽲","禾","⽳","穴","⽴","立","⽵","竹","⽶","米","⽷","糸","⽸","缶","⽹","网","⽺","羊","⽻","羽","⽼","老","⽽","而","⽾","耒","⽿","耳","⾀","聿","⾁","肉","⾂","臣","⾃","自","⾄","至","⾅","臼","⾆","舌","⾇","舛","⾈","舟","⾉","艮","⾊","色","⾋","艸","⾌","虍","⾍","虫","⾎","血","⾏","行","⾐","衣","⾑","襾","⾒","見","⾓","角","⾔","言","⾕","谷","⾖","豆","⾗","豕","⾘","豸","⾙","貝","⾚","赤","⾛","走","⾜","足","⾝","身","⾞","車","⾟","辛","⾠","辰","⾡","辵","⾢","邑","⾣","酉","⾤","釆","⾥","里","⾦","金","⾧","長","⾨","門","⾩","阜","⾪","隶","⾫","隹","⾬","雨","⾭","靑","⾮","非","⾯","面","⾰","革","⾱","韋","⾲","韭","⾳","音","⾴","頁","⾵","風","⾶","飛","⾷","食","⾸","首","⾹","香","⾺","馬","⾻","骨","⾼","高","⾽","髟","⾾","鬥","⾿","鬯","⿀","鬲","⿁","鬼","⿂","魚","⿃","鳥","⿄","鹵","⿅","鹿","⿆","麥","⿇","麻","⿈","黃","⿉","黍","⿊","黑","⿋","黹","⿌","黽","⿍","鼎","⿎","鼓","⿏","鼠","⿐","鼻","⿑","齊","⿒","齒","⿓","龍","⿔","龜","⿕","龠","〶","〒","〸","十","〹","卄","〺","卅","゛"," ゙","゜"," ゚","ㄱ","ᄀ","ㄲ","ᄁ","ㄳ","ᆪ","ㄴ","ᄂ","ㄵ","ᆬ","ㄶ","ᆭ","ㄷ","ᄃ","ㄸ","ᄄ","ㄹ","ᄅ","ㄺ","ᆰ","ㄻ","ᆱ","ㄼ","ᆲ","ㄽ","ᆳ","ㄾ","ᆴ","ㄿ","ᆵ","ㅀ","ᄚ","ㅁ","ᄆ","ㅂ","ᄇ","ㅃ","ᄈ","ㅄ","ᄡ","ㅅ","ᄉ","ㅆ","ᄊ","ㅇ","ᄋ","ㅈ","ᄌ","ㅉ","ᄍ","ㅊ","ᄎ","ㅋ","ᄏ","ㅌ","ᄐ","ㅍ","ᄑ","ㅎ","ᄒ","ㅏ","ᅡ","ㅐ","ᅢ","ㅑ","ᅣ","ㅒ","ᅤ","ㅓ","ᅥ","ㅔ","ᅦ","ㅕ","ᅧ","ㅖ","ᅨ","ㅗ","ᅩ","ㅘ","ᅪ","ㅙ","ᅫ","ㅚ","ᅬ","ㅛ","ᅭ","ㅜ","ᅮ","ㅝ","ᅯ","ㅞ","ᅰ","ㅟ","ᅱ","ㅠ","ᅲ","ㅡ","ᅳ","ㅢ","ᅴ","ㅣ","ᅵ","ㅤ","ᅠ","ㅥ","ᄔ","ㅦ","ᄕ","ㅧ","ᇇ","ㅨ","ᇈ","ㅩ","ᇌ","ㅪ","ᇎ","ㅫ","ᇓ","ㅬ","ᇗ","ㅭ","ᇙ","ㅮ","ᄜ","ㅯ","ᇝ","ㅰ","ᇟ","ㅱ","ᄝ","ㅲ","ᄞ","ㅳ","ᄠ","ㅴ","ᄢ","ㅵ","ᄣ","ㅶ","ᄧ","ㅷ","ᄩ","ㅸ","ᄫ","ㅹ","ᄬ","ㅺ","ᄭ","ㅻ","ᄮ","ㅼ","ᄯ","ㅽ","ᄲ","ㅾ","ᄶ","ㅿ","ᅀ","ㆀ","ᅇ","ㆁ","ᅌ","ㆂ","ᇱ","ㆃ","ᇲ","ㆄ","ᅗ","ㆅ","ᅘ","ㆆ","ᅙ","ㆇ","ᆄ","ㆈ","ᆅ","ㆉ","ᆈ","ㆊ","ᆑ","ㆋ","ᆒ","ㆌ","ᆔ","ㆍ","ᆞ","ㆎ","ᆡ","㈀","(ᄀ)","㈁","(ᄂ)","㈂","(ᄃ)","㈃","(ᄅ)","㈄","(ᄆ)","㈅","(ᄇ)","㈆","(ᄉ)","㈇","(ᄋ)","㈈","(ᄌ)","㈉","(ᄎ)","㈊","(ᄏ)","㈋","(ᄐ)","㈌","(ᄑ)","㈍","(ᄒ)","㈎","(가)","㈏","(나)","㈐","(다)","㈑","(라)","㈒","(마)","㈓","(바)","㈔","(사)","㈕","(아)","㈖","(자)","㈗","(차)","㈘","(카)","㈙","(타)","㈚","(파)","㈛","(하)","㈜","(주)","㈝","(오전)","㈞","(오후)","㈠","(一)","㈡","(二)","㈢","(三)","㈣","(四)","㈤","(五)","㈥","(六)","㈦","(七)","㈧","(八)","㈨","(九)","㈩","(十)","㈪","(月)","㈫","(火)","㈬","(水)","㈭","(木)","㈮","(金)","㈯","(土)","㈰","(日)","㈱","(株)","㈲","(有)","㈳","(社)","㈴","(名)","㈵","(特)","㈶","(財)","㈷","(祝)","㈸","(労)","㈹","(代)","㈺","(呼)","㈻","(学)","㈼","(監)","㈽","(企)","㈾","(資)","㈿","(協)","㉀","(祭)","㉁","(休)","㉂","(自)","㉃","(至)","㋀","1月","㋁","2月","㋂","3月","㋃","4月","㋄","5月","㋅","6月","㋆","7月","㋇","8月","㋈","9月","㋉","10月","㋊","11月","㋋","12月","㍘","0点","㍙","1点","㍚","2点","㍛","3点","㍜","4点","㍝","5点","㍞","6点","㍟","7点","㍠","8点","㍡","9点","㍢","10点","㍣","11点","㍤","12点","㍥","13点","㍦","14点","㍧","15点","㍨","16点","㍩","17点","㍪","18点","㍫","19点","㍬","20点","㍭","21点","㍮","22点","㍯","23点","㍰","24点","㏠","1日","㏡","2日","㏢","3日","㏣","4日","㏤","5日","㏥","6日","㏦","7日","㏧","8日","㏨","9日","㏩","10日","㏪","11日","㏫","12日","㏬","13日","㏭","14日","㏮","15日","㏯","16日","㏰","17日","㏱","18日","㏲","19日","㏳","20日","㏴","21日","㏵","22日","㏶","23日","㏷","24日","㏸","25日","㏹","26日","㏺","27日","㏻","28日","㏼","29日","㏽","30日","㏾","31日","ﬀ","ff","ﬁ","fi","ﬂ","fl","ﬃ","ffi","ﬄ","ffl","ﬅ","ſt","ﬆ","st","ﬓ","մն","ﬔ","մե","ﬕ","մի","ﬖ","վն","ﬗ","մխ","ﭏ","אל","ﭐ","ٱ","ﭑ","ٱ","ﭒ","ٻ","ﭓ","ٻ","ﭔ","ٻ","ﭕ","ٻ","ﭖ","پ","ﭗ","پ","ﭘ","پ","ﭙ","پ","ﭚ","ڀ","ﭛ","ڀ","ﭜ","ڀ","ﭝ","ڀ","ﭞ","ٺ","ﭟ","ٺ","ﭠ","ٺ","ﭡ","ٺ","ﭢ","ٿ","ﭣ","ٿ","ﭤ","ٿ","ﭥ","ٿ","ﭦ","ٹ","ﭧ","ٹ","ﭨ","ٹ","ﭩ","ٹ","ﭪ","ڤ","ﭫ","ڤ","ﭬ","ڤ","ﭭ","ڤ","ﭮ","ڦ","ﭯ","ڦ","ﭰ","ڦ","ﭱ","ڦ","ﭲ","ڄ","ﭳ","ڄ","ﭴ","ڄ","ﭵ","ڄ","ﭶ","ڃ","ﭷ","ڃ","ﭸ","ڃ","ﭹ","ڃ","ﭺ","چ","ﭻ","چ","ﭼ","چ","ﭽ","چ","ﭾ","ڇ","ﭿ","ڇ","ﮀ","ڇ","ﮁ","ڇ","ﮂ","ڍ","ﮃ","ڍ","ﮄ","ڌ","ﮅ","ڌ","ﮆ","ڎ","ﮇ","ڎ","ﮈ","ڈ","ﮉ","ڈ","ﮊ","ژ","ﮋ","ژ","ﮌ","ڑ","ﮍ","ڑ","ﮎ","ک","ﮏ","ک","ﮐ","ک","ﮑ","ک","ﮒ","گ","ﮓ","گ","ﮔ","گ","ﮕ","گ","ﮖ","ڳ","ﮗ","ڳ","ﮘ","ڳ","ﮙ","ڳ","ﮚ","ڱ","ﮛ","ڱ","ﮜ","ڱ","ﮝ","ڱ","ﮞ","ں","ﮟ","ں","ﮠ","ڻ","ﮡ","ڻ","ﮢ","ڻ","ﮣ","ڻ","ﮤ","ۀ","ﮥ","ۀ","ﮦ","ہ","ﮧ","ہ","ﮨ","ہ","ﮩ","ہ","ﮪ","ھ","ﮫ","ھ","ﮬ","ھ","ﮭ","ھ","ﮮ","ے","ﮯ","ے","ﮰ","ۓ","ﮱ","ۓ","ﯓ","ڭ","ﯔ","ڭ","ﯕ","ڭ","ﯖ","ڭ","ﯗ","ۇ","ﯘ","ۇ","ﯙ","ۆ","ﯚ","ۆ","ﯛ","ۈ","ﯜ","ۈ","ﯝ","ٷ","ﯞ","ۋ","ﯟ","ۋ","ﯠ","ۅ","ﯡ","ۅ","ﯢ","ۉ","ﯣ","ۉ","ﯤ","ې","ﯥ","ې","ﯦ","ې","ﯧ","ې","ﯨ","ى","ﯩ","ى","ﯪ","ئا","ﯫ","ئا","ﯬ","ئە","ﯭ","ئە","ﯮ","ئو","ﯯ","ئو","ﯰ","ئۇ","ﯱ","ئۇ","ﯲ","ئۆ","ﯳ","ئۆ","ﯴ","ئۈ","ﯵ","ئۈ","ﯶ","ئې","ﯷ","ئې","ﯸ","ئې","ﯹ","ئى","ﯺ","ئى","ﯻ","ئى","ﯼ","ی","ﯽ","ی","ﯾ","ی","ﯿ","ی","ﰀ","ئج","ﰁ","ئح","ﰂ","ئم","ﰃ","ئى","ﰄ","ئي","ﰅ","بج","ﰆ","بح","ﰇ","بخ","ﰈ","بم","ﰉ","بى","ﰊ","بي","ﰋ","تج","ﰌ","تح","ﰍ","تخ","ﰎ","تم","ﰏ","تى","ﰐ","تي","ﰑ","ثج","ﰒ","ثم","ﰓ","ثى","ﰔ","ثي","ﰕ","جح","ﰖ","جم","ﰗ","حج","ﰘ","حم","ﰙ","خج","ﰚ","خح","ﰛ","خم","ﰜ","سج","ﰝ","سح","ﰞ","سخ","ﰟ","سم","ﰠ","صح","ﰡ","صم","ﰢ","ضج","ﰣ","ضح","ﰤ","ضخ","ﰥ","ضم","ﰦ","طح","ﰧ","طم","ﰨ","ظم","ﰩ","عج","ﰪ","عم","ﰫ","غج","ﰬ","غم","ﰭ","فج","ﰮ","فح","ﰯ","فخ","ﰰ","فم","ﰱ","فى","ﰲ","في","ﰳ","قح","ﰴ","قم","ﰵ","قى","ﰶ","قي","ﰷ","كا","ﰸ","كج","ﰹ","كح","ﰺ","كخ","ﰻ","كل","ﰼ","كم","ﰽ","كى","ﰾ","كي","ﰿ","لج","ﱀ","لح","ﱁ","لخ","ﱂ","لم","ﱃ","لى","ﱄ","لي","ﱅ","مج","ﱆ","مح","ﱇ","مخ","ﱈ","مم","ﱉ","مى","ﱊ","مي","ﱋ","نج","ﱌ","نح","ﱍ","نخ","ﱎ","نم","ﱏ","نى","ﱐ","ني","ﱑ","هج","ﱒ","هم","ﱓ","هى","ﱔ","هي","ﱕ","يج","ﱖ","يح","ﱗ","يخ","ﱘ","يم","ﱙ","يى","ﱚ","يي","ﱛ","ذٰ","ﱜ","رٰ","ﱝ","ىٰ","ﱞ"," ٌّ","ﱟ"," ٍّ","ﱠ"," َّ","ﱡ"," ُّ","ﱢ"," ِّ","ﱣ"," ّٰ","ﱤ","ئر","ﱥ","ئز","ﱦ","ئم","ﱧ","ئن","ﱨ","ئى","ﱩ","ئي","ﱪ","بر","ﱫ","بز","ﱬ","بم","ﱭ","بن","ﱮ","بى","ﱯ","بي","ﱰ","تر","ﱱ","تز","ﱲ","تم","ﱳ","تن","ﱴ","تى","ﱵ","تي","ﱶ","ثر","ﱷ","ثز","ﱸ","ثم","ﱹ","ثن","ﱺ","ثى","ﱻ","ثي","ﱼ","فى","ﱽ","في","ﱾ","قى","ﱿ","قي","ﲀ","كا","ﲁ","كل","ﲂ","كم","ﲃ","كى","ﲄ","كي","ﲅ","لم","ﲆ","لى","ﲇ","لي","ﲈ","ما","ﲉ","مم","ﲊ","نر","ﲋ","نز","ﲌ","نم","ﲍ","نن","ﲎ","نى","ﲏ","ني","ﲐ","ىٰ","ﲑ","ير","ﲒ","يز","ﲓ","يم","ﲔ","ين","ﲕ","يى","ﲖ","يي","ﲗ","ئج","ﲘ","ئح","ﲙ","ئخ","ﲚ","ئم","ﲛ","ئه","ﲜ","بج","ﲝ","بح","ﲞ","بخ","ﲟ","بم","ﲠ","به","ﲡ","تج","ﲢ","تح","ﲣ","تخ","ﲤ","تم","ﲥ","ته","ﲦ","ثم","ﲧ","جح","ﲨ","جم","ﲩ","حج","ﲪ","حم","ﲫ","خج","ﲬ","خم","ﲭ","سج","ﲮ","سح","ﲯ","سخ","ﲰ","سم","ﲱ","صح","ﲲ","صخ","ﲳ","صم","ﲴ","ضج","ﲵ","ضح","ﲶ","ضخ","ﲷ","ضم","ﲸ","طح","ﲹ","ظم","ﲺ","عج","ﲻ","عم","ﲼ","غج","ﲽ","غم","ﲾ","فج","ﲿ","فح","ﳀ","فخ","ﳁ","فم","ﳂ","قح","ﳃ","قم","ﳄ","كج","ﳅ","كح","ﳆ","كخ","ﳇ","كل","ﳈ","كم","ﳉ","لج","ﳊ","لح","ﳋ","لخ","ﳌ","لم","ﳍ","له","ﳎ","مج","ﳏ","مح","ﳐ","مخ","ﳑ","مم","ﳒ","نج","ﳓ","نح","ﳔ","نخ","ﳕ","نم","ﳖ","نه","ﳗ","هج","ﳘ","هم","ﳙ","هٰ","ﳚ","يج","ﳛ","يح","ﳜ","يخ","ﳝ","يم","ﳞ","يه","ﳟ","ئم","ﳠ","ئه","ﳡ","بم","ﳢ","به","ﳣ","تم","ﳤ","ته","ﳥ","ثم","ﳦ","ثه","ﳧ","سم","ﳨ","سه","ﳩ","شم","ﳪ","شه","ﳫ","كل","ﳬ","كم","ﳭ","لم","ﳮ","نم","ﳯ","نه","ﳰ","يم","ﳱ","يه","ﳲ","ـَّ","ﳳ","ـُّ","ﳴ","ـِّ","ﳵ","طى","ﳶ","طي","ﳷ","عى","ﳸ","عي","ﳹ","غى","ﳺ","غي","ﳻ","سى","ﳼ","سي","ﳽ","شى","ﳾ","شي","ﳿ","حى","ﴀ","حي","ﴁ","جى","ﴂ","جي","ﴃ","خى","ﴄ","خي","ﴅ","صى","ﴆ","صي","ﴇ","ضى","ﴈ","ضي","ﴉ","شج","ﴊ","شح","ﴋ","شخ","ﴌ","شم","ﴍ","شر","ﴎ","سر","ﴏ","صر","ﴐ","ضر","ﴑ","طى","ﴒ","طي","ﴓ","عى","ﴔ","عي","ﴕ","غى","ﴖ","غي","ﴗ","سى","ﴘ","سي","ﴙ","شى","ﴚ","شي","ﴛ","حى","ﴜ","حي","ﴝ","جى","ﴞ","جي","ﴟ","خى","ﴠ","خي","ﴡ","صى","ﴢ","صي","ﴣ","ضى","ﴤ","ضي","ﴥ","شج","ﴦ","شح","ﴧ","شخ","ﴨ","شم","ﴩ","شر","ﴪ","سر","ﴫ","صر","ﴬ","ضر","ﴭ","شج","ﴮ","شح","ﴯ","شخ","ﴰ","شم","ﴱ","سه","ﴲ","شه","ﴳ","طم","ﴴ","سج","ﴵ","سح","ﴶ","سخ","ﴷ","شج","ﴸ","شح","ﴹ","شخ","ﴺ","طم","ﴻ","ظم","ﴼ","اً","ﴽ","اً","ﵐ","تجم","ﵑ","تحج","ﵒ","تحج","ﵓ","تحم","ﵔ","تخم","ﵕ","تمج","ﵖ","تمح","ﵗ","تمخ","ﵘ","جمح","ﵙ","جمح","ﵚ","حمي","ﵛ","حمى","ﵜ","سحج","ﵝ","سجح","ﵞ","سجى","ﵟ","سمح","ﵠ","سمح","ﵡ","سمج","ﵢ","سمم","ﵣ","سمم","ﵤ","صحح","ﵥ","صحح","ﵦ","صمم","ﵧ","شحم","ﵨ","شحم","ﵩ","شجي","ﵪ","شمخ","ﵫ","شمخ","ﵬ","شمم","ﵭ","شمم","ﵮ","ضحى","ﵯ","ضخم","ﵰ","ضخم","ﵱ","طمح","ﵲ","طمح","ﵳ","طمم","ﵴ","طمي","ﵵ","عجم","ﵶ","عمم","ﵷ","عمم","ﵸ","عمى","ﵹ","غمم","ﵺ","غمي","ﵻ","غمى","ﵼ","فخم","ﵽ","فخم","ﵾ","قمح","ﵿ","قمم","ﶀ","لحم","ﶁ","لحي","ﶂ","لحى","ﶃ","لجج","ﶄ","لجج","ﶅ","لخم","ﶆ","لخم","ﶇ","لمح","ﶈ","لمح","ﶉ","محج","ﶊ","محم","ﶋ","محي","ﶌ","مجح","ﶍ","مجم","ﶎ","مخج","ﶏ","مخم","ﶒ","مجخ","ﶓ","همج","ﶔ","همم","ﶕ","نحم","ﶖ","نحى","ﶗ","نجم","ﶘ","نجم","ﶙ","نجى","ﶚ","نمي","ﶛ","نمى","ﶜ","يمم","ﶝ","يمم","ﶞ","بخي","ﶟ","تجي","ﶠ","تجى","ﶡ","تخي","ﶢ","تخى","ﶣ","تمي","ﶤ","تمى","ﶥ","جمي","ﶦ","جحى","ﶧ","جمى","ﶨ","سخى","ﶩ","صحي","ﶪ","شحي","ﶫ","ضحي","ﶬ","لجي","ﶭ","لمي","ﶮ","يحي","ﶯ","يجي","ﶰ","يمي","ﶱ","ممي","ﶲ","قمي","ﶳ","نحي","ﶴ","قمح","ﶵ","لحم","ﶶ","عمي","ﶷ","كمي","ﶸ","نجح","ﶹ","مخي","ﶺ","لجم","ﶻ","كمم","ﶼ","لجم","ﶽ","نجح","ﶾ","جحي","ﶿ","حجي","ﷀ","مجي","ﷁ","فمي","ﷂ","بحي","ﷃ","كمم","ﷄ","عجم","ﷅ","صمم","ﷆ","سخي","ﷇ","نجي","﹉","‾","﹊","‾","﹋","‾","﹌","‾","﹍","_","﹎","_","﹏","_","ﺀ","ء","ﺁ","آ","ﺂ","آ","ﺃ","أ","ﺄ","أ","ﺅ","ؤ","ﺆ","ؤ","ﺇ","إ","ﺈ","إ","ﺉ","ئ","ﺊ","ئ","ﺋ","ئ","ﺌ","ئ","ﺍ","ا","ﺎ","ا","ﺏ","ب","ﺐ","ب","ﺑ","ب","ﺒ","ب","ﺓ","ة","ﺔ","ة","ﺕ","ت","ﺖ","ت","ﺗ","ت","ﺘ","ت","ﺙ","ث","ﺚ","ث","ﺛ","ث","ﺜ","ث","ﺝ","ج","ﺞ","ج","ﺟ","ج","ﺠ","ج","ﺡ","ح","ﺢ","ح","ﺣ","ح","ﺤ","ح","ﺥ","خ","ﺦ","خ","ﺧ","خ","ﺨ","خ","ﺩ","د","ﺪ","د","ﺫ","ذ","ﺬ","ذ","ﺭ","ر","ﺮ","ر","ﺯ","ز","ﺰ","ز","ﺱ","س","ﺲ","س","ﺳ","س","ﺴ","س","ﺵ","ش","ﺶ","ش","ﺷ","ش","ﺸ","ش","ﺹ","ص","ﺺ","ص","ﺻ","ص","ﺼ","ص","ﺽ","ض","ﺾ","ض","ﺿ","ض","ﻀ","ض","ﻁ","ط","ﻂ","ط","ﻃ","ط","ﻄ","ط","ﻅ","ظ","ﻆ","ظ","ﻇ","ظ","ﻈ","ظ","ﻉ","ع","ﻊ","ع","ﻋ","ع","ﻌ","ع","ﻍ","غ","ﻎ","غ","ﻏ","غ","ﻐ","غ","ﻑ","ف","ﻒ","ف","ﻓ","ف","ﻔ","ف","ﻕ","ق","ﻖ","ق","ﻗ","ق","ﻘ","ق","ﻙ","ك","ﻚ","ك","ﻛ","ك","ﻜ","ك","ﻝ","ل","ﻞ","ل","ﻟ","ل","ﻠ","ل","ﻡ","م","ﻢ","م","ﻣ","م","ﻤ","م","ﻥ","ن","ﻦ","ن","ﻧ","ن","ﻨ","ن","ﻩ","ه","ﻪ","ه","ﻫ","ه","ﻬ","ه","ﻭ","و","ﻮ","و","ﻯ","ى","ﻰ","ى","ﻱ","ي","ﻲ","ي","ﻳ","ي","ﻴ","ي","ﻵ","لآ","ﻶ","لآ","ﻷ","لأ","ﻸ","لأ","ﻹ","لإ","ﻺ","لإ","ﻻ","لا","ﻼ","لا"]});function E(p){const s=p.length;if(s<=1||!f(p.charCodeAt(0)))return p;const r=[];for(let l=s-1;l>=0;l--)r.push(p[l]);return r.join("")}const _=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),y=new Map;function n(p){const s=y.get(p);if(s)return s;const r=p.match(_),l={isWhitespace:!!(r&&r[1]),isZeroWidthDiacritic:!!(r&&r[2]),isInvisibleFormatMark:!!(r&&r[3])};return y.set(p,l),l}function u(){y.clear()}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.getSerifFonts=A.getNonStdFontMap=A.getGlyphMapForStandardFonts=A.getFontNameToFileMap=void 0,A.getStandardFontName=y,A.getSymbolsFonts=A.getSupplementalGlyphMapForCalibri=A.getSupplementalGlyphMapForArialBlack=A.getStdFontMap=void 0;var t=se(6),m=se(38);const ie=(0,t.getLookupTableFactory)(function(n){n["Times-Roman"]="Times-Roman",n.Helvetica="Helvetica",n.Courier="Courier",n.Symbol="Symbol",n["Times-Bold"]="Times-Bold",n["Helvetica-Bold"]="Helvetica-Bold",n["Courier-Bold"]="Courier-Bold",n.ZapfDingbats="ZapfDingbats",n["Times-Italic"]="Times-Italic",n["Helvetica-Oblique"]="Helvetica-Oblique",n["Courier-Oblique"]="Courier-Oblique",n["Times-BoldItalic"]="Times-BoldItalic",n["Helvetica-BoldOblique"]="Helvetica-BoldOblique",n["Courier-BoldOblique"]="Courier-BoldOblique",n.ArialNarrow="Helvetica",n["ArialNarrow-Bold"]="Helvetica-Bold",n["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",n["ArialNarrow-Italic"]="Helvetica-Oblique",n.ArialBlack="Helvetica",n["ArialBlack-Bold"]="Helvetica-Bold",n["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",n["ArialBlack-Italic"]="Helvetica-Oblique",n["Arial-Black"]="Helvetica",n["Arial-Black-Bold"]="Helvetica-Bold",n["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",n["Arial-Black-Italic"]="Helvetica-Oblique",n.Arial="Helvetica",n["Arial-Bold"]="Helvetica-Bold",n["Arial-BoldItalic"]="Helvetica-BoldOblique",n["Arial-Italic"]="Helvetica-Oblique",n.ArialMT="Helvetica",n["Arial-BoldItalicMT"]="Helvetica-BoldOblique",n["Arial-BoldMT"]="Helvetica-Bold",n["Arial-ItalicMT"]="Helvetica-Oblique",n.ArialUnicodeMS="Helvetica",n["ArialUnicodeMS-Bold"]="Helvetica-Bold",n["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",n["ArialUnicodeMS-Italic"]="Helvetica-Oblique",n["Courier-BoldItalic"]="Courier-BoldOblique",n["Courier-Italic"]="Courier-Oblique",n.CourierNew="Courier",n["CourierNew-Bold"]="Courier-Bold",n["CourierNew-BoldItalic"]="Courier-BoldOblique",n["CourierNew-Italic"]="Courier-Oblique",n["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",n["CourierNewPS-BoldMT"]="Courier-Bold",n["CourierNewPS-ItalicMT"]="Courier-Oblique",n.CourierNewPSMT="Courier",n["Helvetica-BoldItalic"]="Helvetica-BoldOblique",n["Helvetica-Italic"]="Helvetica-Oblique",n["Symbol-Bold"]="Symbol",n["Symbol-BoldItalic"]="Symbol",n["Symbol-Italic"]="Symbol",n.TimesNewRoman="Times-Roman",n["TimesNewRoman-Bold"]="Times-Bold",n["TimesNewRoman-BoldItalic"]="Times-BoldItalic",n["TimesNewRoman-Italic"]="Times-Italic",n.TimesNewRomanPS="Times-Roman",n["TimesNewRomanPS-Bold"]="Times-Bold",n["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",n["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",n["TimesNewRomanPS-BoldMT"]="Times-Bold",n["TimesNewRomanPS-Italic"]="Times-Italic",n["TimesNewRomanPS-ItalicMT"]="Times-Italic",n.TimesNewRomanPSMT="Times-Roman",n["TimesNewRomanPSMT-Bold"]="Times-Bold",n["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",n["TimesNewRomanPSMT-Italic"]="Times-Italic"});A.getStdFontMap=ie;const z=(0,t.getLookupTableFactory)(function(n){n.Courier="FoxitFixed.pfb",n["Courier-Bold"]="FoxitFixedBold.pfb",n["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",n["Courier-Oblique"]="FoxitFixedItalic.pfb",n.Helvetica="FoxitSans.pfb",n["Helvetica-Bold"]="FoxitSansBold.pfb",n["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",n["Helvetica-Oblique"]="FoxitSansItalic.pfb",n["Times-Roman"]="FoxitSerif.pfb",n["Times-Bold"]="FoxitSerifBold.pfb",n["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",n["Times-Italic"]="FoxitSerifItalic.pfb",n.Symbol="FoxitSymbol.pfb",n.ZapfDingbats="FoxitDingbats.pfb",n["LiberationSans-Regular"]="LiberationSans-Regular.ttf",n["LiberationSans-Bold"]="LiberationSans-Bold.ttf",n["LiberationSans-Italic"]="LiberationSans-Italic.ttf",n["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});A.getFontNameToFileMap=z;const e=(0,t.getLookupTableFactory)(function(n){n.Calibri="Helvetica",n["Calibri-Bold"]="Helvetica-Bold",n["Calibri-BoldItalic"]="Helvetica-BoldOblique",n["Calibri-Italic"]="Helvetica-Oblique",n.CenturyGothic="Helvetica",n["CenturyGothic-Bold"]="Helvetica-Bold",n["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",n["CenturyGothic-Italic"]="Helvetica-Oblique",n.ComicSansMS="Comic Sans MS",n["ComicSansMS-Bold"]="Comic Sans MS-Bold",n["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",n["ComicSansMS-Italic"]="Comic Sans MS-Italic",n["ItcSymbol-Bold"]="Helvetica-Bold",n["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",n["ItcSymbol-Book"]="Helvetica",n["ItcSymbol-BookItalic"]="Helvetica-Oblique",n["ItcSymbol-Medium"]="Helvetica",n["ItcSymbol-MediumItalic"]="Helvetica-Oblique",n.LucidaConsole="Courier",n["LucidaConsole-Bold"]="Courier-Bold",n["LucidaConsole-BoldItalic"]="Courier-BoldOblique",n["LucidaConsole-Italic"]="Courier-Oblique",n["LucidaSans-Demi"]="Helvetica-Bold",n["MS-Gothic"]="MS Gothic",n["MS-Gothic-Bold"]="MS Gothic-Bold",n["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",n["MS-Gothic-Italic"]="MS Gothic-Italic",n["MS-Mincho"]="MS Mincho",n["MS-Mincho-Bold"]="MS Mincho-Bold",n["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",n["MS-Mincho-Italic"]="MS Mincho-Italic",n["MS-PGothic"]="MS PGothic",n["MS-PGothic-Bold"]="MS PGothic-Bold",n["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",n["MS-PGothic-Italic"]="MS PGothic-Italic",n["MS-PMincho"]="MS PMincho",n["MS-PMincho-Bold"]="MS PMincho-Bold",n["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",n["MS-PMincho-Italic"]="MS PMincho-Italic",n.NuptialScript="Times-Italic",n.SegoeUISymbol="Helvetica",n.Wingdings="ZapfDingbats",n["Wingdings-Regular"]="ZapfDingbats"});A.getNonStdFontMap=e;const j=(0,t.getLookupTableFactory)(function(n){n["Adobe Jenson"]=!0,n["Adobe Text"]=!0,n.Albertus=!0,n.Aldus=!0,n.Alexandria=!0,n.Algerian=!0,n["American Typewriter"]=!0,n.Antiqua=!0,n.Apex=!0,n.Arno=!0,n.Aster=!0,n.Aurora=!0,n.Baskerville=!0,n.Bell=!0,n.Bembo=!0,n["Bembo Schoolbook"]=!0,n.Benguiat=!0,n["Berkeley Old Style"]=!0,n["Bernhard Modern"]=!0,n["Berthold City"]=!0,n.Bodoni=!0,n["Bauer Bodoni"]=!0,n["Book Antiqua"]=!0,n.Bookman=!0,n["Bordeaux Roman"]=!0,n["Californian FB"]=!0,n.Calisto=!0,n.Calvert=!0,n.Capitals=!0,n.Cambria=!0,n.Cartier=!0,n.Caslon=!0,n.Catull=!0,n.Centaur=!0,n["Century Old Style"]=!0,n["Century Schoolbook"]=!0,n.Chaparral=!0,n["Charis SIL"]=!0,n.Cheltenham=!0,n["Cholla Slab"]=!0,n.Clarendon=!0,n.Clearface=!0,n.Cochin=!0,n.Colonna=!0,n["Computer Modern"]=!0,n["Concrete Roman"]=!0,n.Constantia=!0,n["Cooper Black"]=!0,n.Corona=!0,n.Ecotype=!0,n.Egyptienne=!0,n.Elephant=!0,n.Excelsior=!0,n.Fairfield=!0,n["FF Scala"]=!0,n.Folkard=!0,n.Footlight=!0,n.FreeSerif=!0,n["Friz Quadrata"]=!0,n.Garamond=!0,n.Gentium=!0,n.Georgia=!0,n.Gloucester=!0,n["Goudy Old Style"]=!0,n["Goudy Schoolbook"]=!0,n["Goudy Pro Font"]=!0,n.Granjon=!0,n["Guardian Egyptian"]=!0,n.Heather=!0,n.Hercules=!0,n["High Tower Text"]=!0,n.Hiroshige=!0,n["Hoefler Text"]=!0,n["Humana Serif"]=!0,n.Imprint=!0,n["Ionic No. 5"]=!0,n.Janson=!0,n.Joanna=!0,n.Korinna=!0,n.Lexicon=!0,n.LiberationSerif=!0,n["Liberation Serif"]=!0,n["Linux Libertine"]=!0,n.Literaturnaya=!0,n.Lucida=!0,n["Lucida Bright"]=!0,n.Melior=!0,n.Memphis=!0,n.Miller=!0,n.Minion=!0,n.Modern=!0,n["Mona Lisa"]=!0,n["Mrs Eaves"]=!0,n["MS Serif"]=!0,n["Museo Slab"]=!0,n["New York"]=!0,n["Nimbus Roman"]=!0,n["NPS Rawlinson Roadway"]=!0,n.NuptialScript=!0,n.Palatino=!0,n.Perpetua=!0,n.Plantin=!0,n["Plantin Schoolbook"]=!0,n.Playbill=!0,n["Poor Richard"]=!0,n["Rawlinson Roadway"]=!0,n.Renault=!0,n.Requiem=!0,n.Rockwell=!0,n.Roman=!0,n["Rotis Serif"]=!0,n.Sabon=!0,n.Scala=!0,n.Seagull=!0,n.Sistina=!0,n.Souvenir=!0,n.STIX=!0,n["Stone Informal"]=!0,n["Stone Serif"]=!0,n.Sylfaen=!0,n.Times=!0,n.Trajan=!0,n.Trinité=!0,n["Trump Mediaeval"]=!0,n.Utopia=!0,n["Vale Type"]=!0,n["Bitstream Vera"]=!0,n["Vera Serif"]=!0,n.Versailles=!0,n.Wanted=!0,n.Weiss=!0,n["Wide Latin"]=!0,n.Windsor=!0,n.XITS=!0});A.getSerifFonts=j;const f=(0,t.getLookupTableFactory)(function(n){n.Dingbats=!0,n.Symbol=!0,n.ZapfDingbats=!0});A.getSymbolsFonts=f;const T=(0,t.getLookupTableFactory)(function(n){n[2]=10,n[3]=32,n[4]=33,n[5]=34,n[6]=35,n[7]=36,n[8]=37,n[9]=38,n[10]=39,n[11]=40,n[12]=41,n[13]=42,n[14]=43,n[15]=44,n[16]=45,n[17]=46,n[18]=47,n[19]=48,n[20]=49,n[21]=50,n[22]=51,n[23]=52,n[24]=53,n[25]=54,n[26]=55,n[27]=56,n[28]=57,n[29]=58,n[30]=894,n[31]=60,n[32]=61,n[33]=62,n[34]=63,n[35]=64,n[36]=65,n[37]=66,n[38]=67,n[39]=68,n[40]=69,n[41]=70,n[42]=71,n[43]=72,n[44]=73,n[45]=74,n[46]=75,n[47]=76,n[48]=77,n[49]=78,n[50]=79,n[51]=80,n[52]=81,n[53]=82,n[54]=83,n[55]=84,n[56]=85,n[57]=86,n[58]=87,n[59]=88,n[60]=89,n[61]=90,n[62]=91,n[63]=92,n[64]=93,n[65]=94,n[66]=95,n[67]=96,n[68]=97,n[69]=98,n[70]=99,n[71]=100,n[72]=101,n[73]=102,n[74]=103,n[75]=104,n[76]=105,n[77]=106,n[78]=107,n[79]=108,n[80]=109,n[81]=110,n[82]=111,n[83]=112,n[84]=113,n[85]=114,n[86]=115,n[87]=116,n[88]=117,n[89]=118,n[90]=119,n[91]=120,n[92]=121,n[93]=122,n[94]=123,n[95]=124,n[96]=125,n[97]=126,n[98]=196,n[99]=197,n[100]=199,n[101]=201,n[102]=209,n[103]=214,n[104]=220,n[105]=225,n[106]=224,n[107]=226,n[108]=228,n[109]=227,n[110]=229,n[111]=231,n[112]=233,n[113]=232,n[114]=234,n[115]=235,n[116]=237,n[117]=236,n[118]=238,n[119]=239,n[120]=241,n[121]=243,n[122]=242,n[123]=244,n[124]=246,n[125]=245,n[126]=250,n[127]=249,n[128]=251,n[129]=252,n[130]=8224,n[131]=176,n[132]=162,n[133]=163,n[134]=167,n[135]=8226,n[136]=182,n[137]=223,n[138]=174,n[139]=169,n[140]=8482,n[141]=180,n[142]=168,n[143]=8800,n[144]=198,n[145]=216,n[146]=8734,n[147]=177,n[148]=8804,n[149]=8805,n[150]=165,n[151]=181,n[152]=8706,n[153]=8721,n[154]=8719,n[156]=8747,n[157]=170,n[158]=186,n[159]=8486,n[160]=230,n[161]=248,n[162]=191,n[163]=161,n[164]=172,n[165]=8730,n[166]=402,n[167]=8776,n[168]=8710,n[169]=171,n[170]=187,n[171]=8230,n[200]=193,n[203]=205,n[210]=218,n[223]=711,n[224]=321,n[225]=322,n[226]=352,n[227]=353,n[228]=381,n[229]=382,n[233]=221,n[234]=253,n[252]=263,n[253]=268,n[254]=269,n[258]=258,n[260]=260,n[261]=261,n[265]=280,n[266]=281,n[267]=282,n[268]=283,n[269]=313,n[275]=323,n[276]=324,n[278]=328,n[283]=344,n[284]=345,n[285]=346,n[286]=347,n[292]=367,n[295]=377,n[296]=378,n[298]=380,n[305]=963,n[306]=964,n[307]=966,n[308]=8215,n[309]=8252,n[310]=8319,n[311]=8359,n[312]=8592,n[313]=8593,n[337]=9552,n[493]=1039,n[494]=1040,n[672]=1488,n[673]=1489,n[674]=1490,n[675]=1491,n[676]=1492,n[677]=1493,n[678]=1494,n[679]=1495,n[680]=1496,n[681]=1497,n[682]=1498,n[683]=1499,n[684]=1500,n[685]=1501,n[686]=1502,n[687]=1503,n[688]=1504,n[689]=1505,n[690]=1506,n[691]=1507,n[692]=1508,n[693]=1509,n[694]=1510,n[695]=1511,n[696]=1512,n[697]=1513,n[698]=1514,n[705]=1524,n[706]=8362,n[710]=64288,n[711]=64298,n[759]=1617,n[761]=1776,n[763]=1778,n[775]=1652,n[777]=1764,n[778]=1780,n[779]=1781,n[780]=1782,n[782]=771,n[783]=64726,n[786]=8363,n[788]=8532,n[790]=768,n[791]=769,n[792]=768,n[795]=803,n[797]=64336,n[798]=64337,n[799]=64342,n[800]=64343,n[801]=64344,n[802]=64345,n[803]=64362,n[804]=64363,n[805]=64364,n[2424]=7821,n[2425]=7822,n[2426]=7823,n[2427]=7824,n[2428]=7825,n[2429]=7826,n[2430]=7827,n[2433]=7682,n[2678]=8045,n[2679]=8046,n[2830]=1552,n[2838]=686,n[2840]=751,n[2842]=753,n[2843]=754,n[2844]=755,n[2846]=757,n[2856]=767,n[2857]=848,n[2858]=849,n[2862]=853,n[2863]=854,n[2864]=855,n[2865]=861,n[2866]=862,n[2906]=7460,n[2908]=7462,n[2909]=7463,n[2910]=7464,n[2912]=7466,n[2913]=7467,n[2914]=7468,n[2916]=7470,n[2917]=7471,n[2918]=7472,n[2920]=7474,n[2921]=7475,n[2922]=7476,n[2924]=7478,n[2925]=7479,n[2926]=7480,n[2928]=7482,n[2929]=7483,n[2930]=7484,n[2932]=7486,n[2933]=7487,n[2934]=7488,n[2936]=7490,n[2937]=7491,n[2938]=7492,n[2940]=7494,n[2941]=7495,n[2942]=7496,n[2944]=7498,n[2946]=7500,n[2948]=7502,n[2950]=7504,n[2951]=7505,n[2952]=7506,n[2954]=7508,n[2955]=7509,n[2956]=7510,n[2958]=7512,n[2959]=7513,n[2960]=7514,n[2962]=7516,n[2963]=7517,n[2964]=7518,n[2966]=7520,n[2967]=7521,n[2968]=7522,n[2970]=7524,n[2971]=7525,n[2972]=7526,n[2974]=7528,n[2975]=7529,n[2976]=7530,n[2978]=1537,n[2979]=1538,n[2980]=1539,n[2982]=1549,n[2983]=1551,n[2984]=1552,n[2986]=1554,n[2987]=1555,n[2988]=1556,n[2990]=1623,n[2991]=1624,n[2995]=1775,n[2999]=1791,n[3002]=64290,n[3003]=64291,n[3004]=64292,n[3006]=64294,n[3007]=64295,n[3008]=64296,n[3011]=1900,n[3014]=8223,n[3015]=8244,n[3017]=7532,n[3018]=7533,n[3019]=7534,n[3075]=7590,n[3076]=7591,n[3079]=7594,n[3080]=7595,n[3083]=7598,n[3084]=7599,n[3087]=7602,n[3088]=7603,n[3091]=7606,n[3092]=7607,n[3095]=7610,n[3096]=7611,n[3099]=7614,n[3100]=7615,n[3103]=7618,n[3104]=7619,n[3107]=8337,n[3108]=8338,n[3116]=1884,n[3119]=1885,n[3120]=1885,n[3123]=1886,n[3124]=1886,n[3127]=1887,n[3128]=1887,n[3131]=1888,n[3132]=1888,n[3135]=1889,n[3136]=1889,n[3139]=1890,n[3140]=1890,n[3143]=1891,n[3144]=1891,n[3147]=1892,n[3148]=1892,n[3153]=580,n[3154]=581,n[3157]=584,n[3158]=585,n[3161]=588,n[3162]=589,n[3165]=891,n[3166]=892,n[3169]=1274,n[3170]=1275,n[3173]=1278,n[3174]=1279,n[3181]=7622,n[3182]=7623,n[3282]=11799,n[3316]=578,n[3379]=42785,n[3393]=1159,n[3416]=8377});A.getGlyphMapForStandardFonts=T;const E=(0,t.getLookupTableFactory)(function(n){n[227]=322,n[264]=261,n[291]=346});A.getSupplementalGlyphMapForArialBlack=E;const _=(0,t.getLookupTableFactory)(function(n){n[1]=32,n[4]=65,n[6]=193,n[17]=66,n[18]=67,n[21]=268,n[24]=68,n[28]=69,n[30]=201,n[32]=282,n[38]=70,n[39]=71,n[44]=72,n[47]=73,n[49]=205,n[58]=74,n[60]=75,n[62]=76,n[68]=77,n[69]=78,n[75]=79,n[87]=80,n[89]=81,n[90]=82,n[92]=344,n[94]=83,n[97]=352,n[100]=84,n[104]=85,n[115]=86,n[116]=87,n[121]=88,n[122]=89,n[124]=221,n[127]=90,n[129]=381,n[258]=97,n[260]=225,n[268]=261,n[271]=98,n[272]=99,n[273]=263,n[275]=269,n[282]=100,n[286]=101,n[288]=233,n[290]=283,n[295]=281,n[296]=102,n[336]=103,n[346]=104,n[349]=105,n[351]=237,n[361]=106,n[364]=107,n[367]=108,n[371]=322,n[373]=109,n[374]=110,n[381]=111,n[383]=243,n[393]=112,n[395]=113,n[396]=114,n[398]=345,n[400]=115,n[401]=347,n[403]=353,n[410]=116,n[437]=117,n[448]=118,n[449]=119,n[454]=120,n[455]=121,n[457]=253,n[460]=122,n[462]=382,n[463]=380,n[853]=44,n[855]=58,n[856]=46,n[876]=47,n[878]=45,n[882]=45,n[894]=40,n[895]=41,n[896]=91,n[897]=93,n[923]=64,n[1004]=48,n[1005]=49,n[1006]=50,n[1007]=51,n[1008]=52,n[1009]=53,n[1010]=54,n[1011]=55,n[1012]=56,n[1013]=57,n[1081]=37,n[1085]=43,n[1086]=45});A.getSupplementalGlyphMapForCalibri=_;function y(n){const u=(0,m.normalizeFontName)(n);return ie()[u]}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ToUnicodeMap=A.IdentityToUnicodeMap=void 0;var t=se(2);class m{constructor(e=[]){this._map=e}get length(){return this._map.length}forEach(e){for(const j in this._map)e(j,this._map[j].charCodeAt(0))}has(e){return this._map[e]!==void 0}get(e){return this._map[e]}charCodeOf(e){const j=this._map;if(j.length<=65536)return j.indexOf(e);for(const f in j)if(j[f]===e)return f|0;return-1}amend(e){for(const j in e)this._map[j]=e[j]}}A.ToUnicodeMap=m;class ie{constructor(e,j){this.firstChar=e,this.lastChar=j}get length(){return this.lastChar+1-this.firstChar}forEach(e){for(let j=this.firstChar,f=this.lastChar;j<=f;j++)e(j,j)}has(e){return this.firstChar<=e&&e<=this.lastChar}get(e){if(this.firstChar<=e&&e<=this.lastChar)return String.fromCharCode(e)}charCodeOf(e){return Number.isInteger(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1}amend(e){(0,t.unreachable)("Should not call amend()")}}A.IdentityToUnicodeMap=ie},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CFFFont=void 0;var t=se(35),m=se(38),ie=se(2);class z{constructor(j,f){this.properties=f;const T=new t.CFFParser(j,f,m.SEAC_ANALYSIS_ENABLED);this.cff=T.parse(),this.cff.duplicateFirstGlyph();const E=new t.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=E.compile()}catch{(0,ie.warn)("Failed to compile font "+f.loadedName),this.data=j}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const j=this.cff,f=this.properties,T=j.charset.charset;let E,_;if(f.composite){E=Object.create(null);let n;if(j.isCIDFont)for(_=0;_<T.length;_++){const u=T[_];n=f.cMap.charCodeOf(u),E[n]=_}else for(_=0;_<j.charStrings.count;_++)n=f.cMap.charCodeOf(_),E[n]=_;return E}let y=j.encoding?j.encoding.encoding:null;return f.isInternalFont&&(y=f.defaultEncoding),E=(0,m.type1FontGlyphMapping)(f,y,T),E}hasGlyphId(j){return this.cff.hasGlyphId(j)}_createBuiltInEncoding(){const{charset:j,encoding:f}=this.cff;if(!j||!f)return;const T=j.charset,E=f.encoding,_=[];for(const y in E){const n=E[y];if(n>=0){const u=T[n];u&&(_[y]=u)}}_.length>0&&(this.properties.builtInEncoding=_)}}A.CFFFont=z},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.FontRendererFactory=void 0;var t=se(2),m=se(35),ie=se(39),z=se(37),e=se(10);function j(O,w){return(O[w]<<24|O[w+1]<<16|O[w+2]<<8|O[w+3])>>>0}function f(O,w){return O[w]<<8|O[w+1]}function T(O,w){return(O[w]<<24|O[w+1]<<16)>>16}function E(O,w){return O[w]<<24>>24}function _(O,w){return T(O,w)/16384}function y(O){const w=O.length;let R=32768;return w<1240?R=107:w<33900&&(R=1131),R}function n(O,w,R){const o=f(O,w+2)===1?j(O,w+8):j(O,w+16),h=f(O,w+o);let H,L,x;if(h===4){f(O,w+o+2);const v=f(O,w+o+6)>>1;for(L=w+o+14,H=[],x=0;x<v;x++,L+=2)H[x]={end:f(O,L)};for(L+=2,x=0;x<v;x++,L+=2)H[x].start=f(O,L);for(x=0;x<v;x++,L+=2)H[x].idDelta=f(O,L);for(x=0;x<v;x++,L+=2){let F=f(O,L);if(F!==0){H[x].ids=[];for(let k=0,U=H[x].end-H[x].start+1;k<U;k++)H[x].ids[k]=f(O,L+F),F+=2}}return H}else if(h===12){const v=j(O,w+o+12);for(L=w+o+16,H=[],x=0;x<v;x++)w=j(O,L),H.push({start:w,end:j(O,L+4),idDelta:j(O,L+8)-w}),L+=12;return H}throw new t.FormatError(`unsupported cmap: ${h}`)}function u(O,w,R,o){const h={},L=new m.CFFParser(new e.Stream(O,w,R-w),h,o).parse();return{glyphs:L.charStrings.objects,subrs:L.topDict.privateDict&&L.topDict.privateDict.subrsIndex&&L.topDict.privateDict.subrsIndex.objects,gsubrs:L.globalSubrIndex&&L.globalSubrIndex.objects,isCFFCIDFont:L.isCIDFont,fdSelect:L.fdSelect,fdArray:L.fdArray}}function p(O,w,R){let o,h;R?(o=4,h=j):(o=2,h=(x,v)=>2*f(x,v));const H=[];let L=h(w,0);for(let x=o;x<w.length;x+=o){const v=h(w,x);H.push(O.subarray(L,v)),L=v}return H}function s(O,w){const R=w.codePointAt(0);let o=0,h=0,H=O.length-1;for(;h<H;){const L=h+H+1>>1;R<O[L].start?H=L-1:h=L}return O[h].start<=R&&R<=O[h].end&&(o=O[h].idDelta+(O[h].ids?O[h].ids[R-O[h].start]:R)&65535),{charCode:R,glyphId:o}}function r(O,w,R){function o(U,ee){w.push({cmd:"moveTo",args:[U,ee]})}function h(U,ee){w.push({cmd:"lineTo",args:[U,ee]})}function H(U,ee,J,I){w.push({cmd:"quadraticCurveTo",args:[U,ee,J,I]})}let L=0;const x=T(O,L);let v,F=0,k=0;if(L+=10,x<0)do{v=f(O,L);const U=f(O,L+2);L+=4;let ee,J;v&1?(v&2?(ee=T(O,L),J=T(O,L+2)):(ee=f(O,L),J=f(O,L+2)),L+=4):v&2?(ee=E(O,L++),J=E(O,L++)):(ee=O[L++],J=O[L++]),v&2?(F=ee,k=J):(F=0,k=0);let I=1,X=1,ne=0,P=0;v&8?(I=X=_(O,L),L+=2):v&64?(I=_(O,L),X=_(O,L+2),L+=4):v&128&&(I=_(O,L),ne=_(O,L+2),P=_(O,L+4),X=_(O,L+6),L+=8);const V=R.glyphs[U];V&&(w.push({cmd:"save"},{cmd:"transform",args:[I,ne,P,X,F,k]}),r(V,w,R),w.push({cmd:"restore"}))}while(v&32);else{const U=[];let ee,J;for(ee=0;ee<x;ee++)U.push(f(O,L)),L+=2;const I=f(O,L);L+=2+I;const X=U.at(-1)+1,ne=[];for(;ne.length<X;){v=O[L++];let V=1;for(v&8&&(V+=O[L++]);V-- >0;)ne.push({flags:v})}for(ee=0;ee<X;ee++){switch(ne[ee].flags&18){case 0:F+=T(O,L),L+=2;break;case 2:F-=O[L++];break;case 18:F+=O[L++];break}ne[ee].x=F}for(ee=0;ee<X;ee++){switch(ne[ee].flags&36){case 0:k+=T(O,L),L+=2;break;case 4:k-=O[L++];break;case 36:k+=O[L++];break}ne[ee].y=k}let P=0;for(L=0;L<x;L++){const V=U[L],Y=ne.slice(P,V+1);if(Y[0].flags&1)Y.push(Y[0]);else if(Y.at(-1).flags&1)Y.unshift(Y.at(-1));else{const Z={flags:1,x:(Y[0].x+Y.at(-1).x)/2,y:(Y[0].y+Y.at(-1).y)/2};Y.unshift(Z),Y.push(Z)}for(o(Y[0].x,Y[0].y),ee=1,J=Y.length;ee<J;ee++)Y[ee].flags&1?h(Y[ee].x,Y[ee].y):Y[ee+1].flags&1?(H(Y[ee].x,Y[ee].y,Y[ee+1].x,Y[ee+1].y),ee++):H(Y[ee].x,Y[ee].y,(Y[ee].x+Y[ee+1].x)/2,(Y[ee].y+Y[ee+1].y)/2);P=V+1}}}function l(O,w,R,o){function h(ee,J){w.push({cmd:"moveTo",args:[ee,J]})}function H(ee,J){w.push({cmd:"lineTo",args:[ee,J]})}function L(ee,J,I,X,ne,P){w.push({cmd:"bezierCurveTo",args:[ee,J,I,X,ne,P]})}const x=[];let v=0,F=0,k=0;function U(ee){let J=0;for(;J<ee.length;){let I=!1,X=ee[J++],ne,P,V,Y,Z,q,M,te,W;switch(X){case 1:k+=x.length>>1,I=!0;break;case 3:k+=x.length>>1,I=!0;break;case 4:F+=x.pop(),h(v,F),I=!0;break;case 5:for(;x.length>0;)v+=x.shift(),F+=x.shift(),H(v,F);break;case 6:for(;x.length>0&&(v+=x.shift(),H(v,F),x.length!==0);)F+=x.shift(),H(v,F);break;case 7:for(;x.length>0&&(F+=x.shift(),H(v,F),x.length!==0);)v+=x.shift(),H(v,F);break;case 8:for(;x.length>0;)ne=v+x.shift(),V=F+x.shift(),P=ne+x.shift(),Y=V+x.shift(),v=P+x.shift(),F=Y+x.shift(),L(ne,V,P,Y,v,F);break;case 10:if(te=x.pop(),W=null,R.isCFFCIDFont){const ae=R.fdSelect.getFDIndex(o);if(ae>=0&&ae<R.fdArray.length){const fe=R.fdArray[ae];let de;fe.privateDict&&fe.privateDict.subrsIndex&&(de=fe.privateDict.subrsIndex.objects),de&&(te+=y(de),W=de[te])}else(0,t.warn)("Invalid fd index for glyph index.")}else W=R.subrs[te+R.subrsBias];W&&U(W);break;case 11:return;case 12:switch(X=ee[J++],X){case 34:ne=v+x.shift(),P=ne+x.shift(),Z=F+x.shift(),v=P+x.shift(),L(ne,F,P,Z,v,Z),ne=v+x.shift(),P=ne+x.shift(),v=P+x.shift(),L(ne,Z,P,F,v,F);break;case 35:ne=v+x.shift(),V=F+x.shift(),P=ne+x.shift(),Y=V+x.shift(),v=P+x.shift(),F=Y+x.shift(),L(ne,V,P,Y,v,F),ne=v+x.shift(),V=F+x.shift(),P=ne+x.shift(),Y=V+x.shift(),v=P+x.shift(),F=Y+x.shift(),L(ne,V,P,Y,v,F),x.pop();break;case 36:ne=v+x.shift(),Z=F+x.shift(),P=ne+x.shift(),q=Z+x.shift(),v=P+x.shift(),L(ne,Z,P,q,v,q),ne=v+x.shift(),P=ne+x.shift(),M=q+x.shift(),v=P+x.shift(),L(ne,q,P,M,v,F);break;case 37:const ae=v,fe=F;ne=v+x.shift(),V=F+x.shift(),P=ne+x.shift(),Y=V+x.shift(),v=P+x.shift(),F=Y+x.shift(),L(ne,V,P,Y,v,F),ne=v+x.shift(),V=F+x.shift(),P=ne+x.shift(),Y=V+x.shift(),v=P,F=Y,Math.abs(v-ae)>Math.abs(F-fe)?v+=x.shift():F+=x.shift(),L(ne,V,P,Y,v,F);break;default:throw new t.FormatError(`unknown operator: 12 ${X}`)}break;case 14:if(x.length>=4){const ae=x.pop(),fe=x.pop();F=x.pop(),v=x.pop(),w.push({cmd:"save"},{cmd:"translate",args:[v,F]});let de=s(R.cmap,String.fromCharCode(R.glyphNameMap[z.StandardEncoding[ae]]));l(R.glyphs[de.glyphId],w,R,de.glyphId),w.push({cmd:"restore"}),de=s(R.cmap,String.fromCharCode(R.glyphNameMap[z.StandardEncoding[fe]])),l(R.glyphs[de.glyphId],w,R,de.glyphId)}return;case 18:k+=x.length>>1,I=!0;break;case 19:k+=x.length>>1,J+=k+7>>3,I=!0;break;case 20:k+=x.length>>1,J+=k+7>>3,I=!0;break;case 21:F+=x.pop(),v+=x.pop(),h(v,F),I=!0;break;case 22:v+=x.pop(),h(v,F),I=!0;break;case 23:k+=x.length>>1,I=!0;break;case 24:for(;x.length>2;)ne=v+x.shift(),V=F+x.shift(),P=ne+x.shift(),Y=V+x.shift(),v=P+x.shift(),F=Y+x.shift(),L(ne,V,P,Y,v,F);v+=x.shift(),F+=x.shift(),H(v,F);break;case 25:for(;x.length>6;)v+=x.shift(),F+=x.shift(),H(v,F);ne=v+x.shift(),V=F+x.shift(),P=ne+x.shift(),Y=V+x.shift(),v=P+x.shift(),F=Y+x.shift(),L(ne,V,P,Y,v,F);break;case 26:for(x.length%2&&(v+=x.shift());x.length>0;)ne=v,V=F+x.shift(),P=ne+x.shift(),Y=V+x.shift(),v=P,F=Y+x.shift(),L(ne,V,P,Y,v,F);break;case 27:for(x.length%2&&(F+=x.shift());x.length>0;)ne=v+x.shift(),V=F,P=ne+x.shift(),Y=V+x.shift(),v=P+x.shift(),F=Y,L(ne,V,P,Y,v,F);break;case 28:x.push((ee[J]<<24|ee[J+1]<<16)>>16),J+=2;break;case 29:te=x.pop()+R.gsubrsBias,W=R.gsubrs[te],W&&U(W);break;case 30:for(;x.length>0&&(ne=v,V=F+x.shift(),P=ne+x.shift(),Y=V+x.shift(),v=P+x.shift(),F=Y+(x.length===1?x.shift():0),L(ne,V,P,Y,v,F),x.length!==0);)ne=v+x.shift(),V=F,P=ne+x.shift(),Y=V+x.shift(),F=Y+x.shift(),v=P+(x.length===1?x.shift():0),L(ne,V,P,Y,v,F);break;case 31:for(;x.length>0&&(ne=v+x.shift(),V=F,P=ne+x.shift(),Y=V+x.shift(),F=Y+x.shift(),v=P+(x.length===1?x.shift():0),L(ne,V,P,Y,v,F),x.length!==0);)ne=v,V=F+x.shift(),P=ne+x.shift(),Y=V+x.shift(),v=P+x.shift(),F=Y+(x.length===1?x.shift():0),L(ne,V,P,Y,v,F);break;default:if(X<32)throw new t.FormatError(`unknown operator: ${X}`);X<247?x.push(X-139):X<251?x.push((X-247)*256+ee[J++]+108):X<255?x.push(-(X-251)*256-ee[J++]-108):(x.push((ee[J]<<24|ee[J+1]<<16|ee[J+2]<<8|ee[J+3])/65536),J+=4);break}I&&(x.length=0)}}U(O)}const c=[];class d{constructor(w){this.constructor===d&&(0,t.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=w,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(w){const{charCode:R,glyphId:o}=s(this.cmap,w);let h=this.compiledGlyphs[o];if(!h)try{h=this.compileGlyph(this.glyphs[o],o),this.compiledGlyphs[o]=h}catch(H){throw this.compiledGlyphs[o]=c,this.compiledCharCodeToGlyphId[R]===void 0&&(this.compiledCharCodeToGlyphId[R]=o),H}return this.compiledCharCodeToGlyphId[R]===void 0&&(this.compiledCharCodeToGlyphId[R]=o),h}compileGlyph(w,R){if(!w||w.length===0||w[0]===14)return c;let o=this.fontMatrix;if(this.isCFFCIDFont){const H=this.fdSelect.getFDIndex(R);H>=0&&H<this.fdArray.length?o=this.fdArray[H].getByName("FontMatrix")||t.FONT_IDENTITY_MATRIX:(0,t.warn)("Invalid fd index for glyph index.")}const h=[{cmd:"save"},{cmd:"transform",args:o.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(w,h,R),h.push({cmd:"restore"}),h}compileGlyphImpl(){(0,t.unreachable)("Children classes should implement this.")}hasBuiltPath(w){const{charCode:R,glyphId:o}=s(this.cmap,w);return this.compiledGlyphs[o]!==void 0&&this.compiledCharCodeToGlyphId[R]!==void 0}}class K extends d{constructor(w,R,o){super(o||[488e-6,0,0,488e-6,0,0]),this.glyphs=w,this.cmap=R}compileGlyphImpl(w,R){r(w,R,this)}}class g extends d{constructor(w,R,o,h){super(o||[.001,0,0,.001,0,0]),this.glyphs=w.glyphs,this.gsubrs=w.gsubrs||[],this.subrs=w.subrs||[],this.cmap=R,this.glyphNameMap=h||(0,ie.getGlyphsUnicode)(),this.gsubrsBias=y(this.gsubrs),this.subrsBias=y(this.subrs),this.isCFFCIDFont=w.isCFFCIDFont,this.fdSelect=w.fdSelect,this.fdArray=w.fdArray}compileGlyphImpl(w,R,o){l(w,R,this,o)}}class G{static create(w,R){const o=new Uint8Array(w.data);let h,H,L,x,v,F;const k=f(o,4);for(let U=0,ee=12;U<k;U++,ee+=16){const J=(0,t.bytesToString)(o.subarray(ee,ee+4)),I=j(o,ee+8),X=j(o,ee+12);switch(J){case"cmap":h=n(o,I);break;case"glyf":H=o.subarray(I,I+X);break;case"loca":L=o.subarray(I,I+X);break;case"head":F=f(o,I+18),v=f(o,I+50);break;case"CFF ":x=u(o,I,I+X,R);break}}if(H){const U=F?[1/F,0,0,1/F,0,0]:w.fontMatrix;return new K(p(H,L,v),h,U)}return new g(x,h,w.fontMatrix,w.glyphNameMap)}}A.FontRendererFactory=G},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.getMetrics=A.getFontBasicMetrics=void 0;var t=se(6);const m=(0,t.getLookupTableFactory)(function(z){z.Courier=600,z["Courier-Bold"]=600,z["Courier-BoldOblique"]=600,z["Courier-Oblique"]=600,z.Helvetica=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),z["Helvetica-Bold"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),z["Helvetica-BoldOblique"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),z["Helvetica-Oblique"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),z.Symbol=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790}),z["Times-Roman"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),z["Times-Bold"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),z["Times-BoldItalic"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),z["Times-Italic"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),z.ZapfDingbats=(0,t.getLookupTableFactory)(function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918})});A.getMetrics=m;const ie=(0,t.getLookupTableFactory)(function(z){z.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},z["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},z["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},z["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},z.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},z["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},z["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},z["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},z["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},z["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},z["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},z["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},z.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},z.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});A.getFontBasicMetrics=ie},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.GlyfTable=void 0;const se=1,t=2,m=4,ie=8,z=16,e=32,j=64,f=1,T=2,E=8,_=32,y=64,n=128,u=256;class p{constructor({glyfTable:g,isGlyphLocationsLong:G,locaTable:O,numGlyphs:w}){this.glyphs=[];const R=new DataView(O.buffer,O.byteOffset,O.byteLength),o=new DataView(g.buffer,g.byteOffset,g.byteLength),h=G?4:2;let H=G?R.getUint32(0):2*R.getUint16(0),L=0;for(let x=0;x<w;x++){L+=h;const v=G?R.getUint32(L):2*R.getUint16(L);if(v===H){this.glyphs.push(new s({}));continue}const F=s.parse(H,o);this.glyphs.push(F),H=v}}getSize(){return this.glyphs.reduce((g,G)=>{const O=G.getSize();return g+(O+3&-4)},0)}write(){const g=this.getSize(),G=new DataView(new ArrayBuffer(g)),O=g>131070,w=O?4:2,R=new DataView(new ArrayBuffer((this.glyphs.length+1)*w));O?R.setUint32(0,0):R.setUint16(0,0);let o=0,h=0;for(const H of this.glyphs)o+=H.write(o,G),o=o+3&-4,h+=w,O?R.setUint32(h,o):R.setUint16(h,o>>1);return{isLocationLong:O,loca:new Uint8Array(R.buffer),glyf:new Uint8Array(G.buffer)}}scale(g){for(let G=0,O=this.glyphs.length;G<O;G++)this.glyphs[G].scale(g[G])}}A.GlyfTable=p;class s{constructor({header:g=null,simple:G=null,composites:O=null}){this.header=g,this.simple=G,this.composites=O}static parse(g,G){const[O,w]=r.parse(g,G);if(g+=O,w.numberOfContours<0){const o=[];for(;;){const[h,H]=d.parse(g,G);if(g+=h,o.push(H),!(H.flags&_))break}return new s({header:w,composites:o})}const R=c.parse(g,G,w.numberOfContours);return new s({header:w,simple:R})}getSize(){if(!this.header)return 0;const g=this.simple?this.simple.getSize():this.composites.reduce((G,O)=>G+O.getSize(),0);return this.header.getSize()+g}write(g,G){if(!this.header)return 0;const O=g;if(g+=this.header.write(g,G),this.simple)g+=this.simple.write(g,G);else for(const w of this.composites)g+=w.write(g,G);return g-O}scale(g){if(!this.header)return;const G=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(G,g),this.simple)this.simple.scale(G,g);else for(const O of this.composites)O.scale(G,g)}}class r{constructor({numberOfContours:g,xMin:G,yMin:O,xMax:w,yMax:R}){this.numberOfContours=g,this.xMin=G,this.yMin=O,this.xMax=w,this.yMax=R}static parse(g,G){return[10,new r({numberOfContours:G.getInt16(g),xMin:G.getInt16(g+2),yMin:G.getInt16(g+4),xMax:G.getInt16(g+6),yMax:G.getInt16(g+8)})]}getSize(){return 10}write(g,G){return G.setInt16(g,this.numberOfContours),G.setInt16(g+2,this.xMin),G.setInt16(g+4,this.yMin),G.setInt16(g+6,this.xMax),G.setInt16(g+8,this.yMax),10}scale(g,G){this.xMin=Math.round(g+(this.xMin-g)*G),this.xMax=Math.round(g+(this.xMax-g)*G)}}class l{constructor({flags:g,xCoordinates:G,yCoordinates:O}){this.xCoordinates=G,this.yCoordinates=O,this.flags=g}}class c{constructor({contours:g,instructions:G}){this.contours=g,this.instructions=G}static parse(g,G,O){const w=[];for(let J=0;J<O;J++){const I=G.getUint16(g);g+=2,w.push(I)}const R=w[O-1]+1,o=G.getUint16(g);g+=2;const h=new Uint8Array(G).slice(g,g+o);g+=o;const H=[];for(let J=0;J<R;g++,J++){let I=G.getUint8(g);if(H.push(I),I&ie){const X=G.getUint8(++g);I^=ie;for(let ne=0;ne<X;ne++)H.push(I);J+=X}}const L=[];let x=[],v=[],F=[];const k=[];let U=0,ee=0;for(let J=0;J<R;J++){const I=H[J];if(I&t){const X=G.getUint8(g++);ee+=I&z?X:-X,x.push(ee)}else I&z||(ee+=G.getInt16(g),g+=2),x.push(ee);w[U]===J&&(U++,L.push(x),x=[])}ee=0,U=0;for(let J=0;J<R;J++){const I=H[J];if(I&m){const X=G.getUint8(g++);ee+=I&e?X:-X,v.push(ee)}else I&e||(ee+=G.getInt16(g),g+=2),v.push(ee);F.push(I&se|I&j),w[U]===J&&(x=L[U],U++,k.push(new l({flags:F,xCoordinates:x,yCoordinates:v})),v=[],F=[])}return new c({contours:k,instructions:h})}getSize(){let g=this.contours.length*2+2+this.instructions.length,G=0,O=0;for(const w of this.contours){g+=w.flags.length;for(let R=0,o=w.xCoordinates.length;R<o;R++){const h=w.xCoordinates[R],H=w.yCoordinates[R];let L=Math.abs(h-G);L>255?g+=2:L>0&&(g+=1),G=h,L=Math.abs(H-O),L>255?g+=2:L>0&&(g+=1),O=H}}return g}write(g,G){const O=g,w=[],R=[],o=[];let h=0,H=0;for(const L of this.contours){for(let x=0,v=L.xCoordinates.length;x<v;x++){let F=L.flags[x];const k=L.xCoordinates[x];let U=k-h;if(U===0)F|=z,w.push(0);else{const J=Math.abs(U);J<=255?(F|=U>=0?t|z:t,w.push(J)):w.push(U)}h=k;const ee=L.yCoordinates[x];if(U=ee-H,U===0)F|=e,R.push(0);else{const J=Math.abs(U);J<=255?(F|=U>=0?m|e:m,R.push(J)):R.push(U)}H=ee,o.push(F)}G.setUint16(g,w.length-1),g+=2}G.setUint16(g,this.instructions.length),g+=2,this.instructions.length&&(new Uint8Array(G.buffer,0,G.buffer.byteLength).set(this.instructions,g),g+=this.instructions.length);for(const L of o)G.setUint8(g++,L);for(let L=0,x=w.length;L<x;L++){const v=w[L],F=o[L];F&t?G.setUint8(g++,v):F&z||(G.setInt16(g,v),g+=2)}for(let L=0,x=R.length;L<x;L++){const v=R[L],F=o[L];F&m?G.setUint8(g++,v):F&e||(G.setInt16(g,v),g+=2)}return g-O}scale(g,G){for(const O of this.contours)if(O.xCoordinates.length!==0)for(let w=0,R=O.xCoordinates.length;w<R;w++)O.xCoordinates[w]=Math.round(g+(O.xCoordinates[w]-g)*G)}}class d{constructor({flags:g,glyphIndex:G,argument1:O,argument2:w,transf:R,instructions:o}){this.flags=g,this.glyphIndex=G,this.argument1=O,this.argument2=w,this.transf=R,this.instructions=o}static parse(g,G){const O=g,w=[];let R=G.getUint16(g);const o=G.getUint16(g+2);g+=4;let h,H;R&f?(R&T?(h=G.getInt16(g),H=G.getInt16(g+2)):(h=G.getUint16(g),H=G.getUint16(g+2)),g+=4,R^=f):(R&T?(h=G.getInt8(g),H=G.getInt8(g+1)):(h=G.getUint8(g),H=G.getUint8(g+1)),g+=2),R&E?(w.push(G.getUint16(g)),g+=2):R&y?(w.push(G.getUint16(g),G.getUint16(g+2)),g+=4):R&n&&(w.push(G.getUint16(g),G.getUint16(g+2),G.getUint16(g+4),G.getUint16(g+6)),g+=8);let L=null;if(R&u){const x=G.getUint16(g);g+=2,L=new Uint8Array(G).slice(g,g+x),g+=x}return[g-O,new d({flags:R,glyphIndex:o,argument1:h,argument2:H,transf:w,instructions:L})]}getSize(){let g=4+this.transf.length*2;return this.flags&u&&(g+=2+this.instructions.length),g+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(g+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(g+=2),g}write(g,G){const O=g;return this.flags&T?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=f):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=f),G.setUint16(g,this.flags),G.setUint16(g+2,this.glyphIndex),g+=4,this.flags&f?(this.flags&T?(G.setInt16(g,this.argument1),G.setInt16(g+2,this.argument2)):(G.setUint16(g,this.argument1),G.setUint16(g+2,this.argument2)),g+=4):(G.setUint8(g,this.argument1),G.setUint8(g+1,this.argument2),g+=2),this.flags&u&&(G.setUint16(g,this.instructions.length),g+=2,this.instructions.length&&(new Uint8Array(G.buffer,0,G.buffer.byteLength).set(this.instructions,g),g+=this.instructions.length)),g-O}scale(g,G){}}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.OpenTypeFileBuilder=void 0;var t=se(6),m=se(2);function ie(E,_,y){E[_]=y>>8&255,E[_+1]=y&255}function z(E,_,y){E[_]=y>>24&255,E[_+1]=y>>16&255,E[_+2]=y>>8&255,E[_+3]=y&255}function e(E,_,y){if(y instanceof Uint8Array)E.set(y,_);else if(typeof y=="string")for(let n=0,u=y.length;n<u;n++)E[_++]=y.charCodeAt(n)&255;else for(let n=0,u=y.length;n<u;n++)E[_++]=y[n]&255}const j=12,f=16;class T{constructor(_){this.sfnt=_,this.tables=Object.create(null)}static getSearchParams(_,y){let n=1,u=0;for(;(n^_)>n;)n<<=1,u++;const p=n*y;return{range:p,entry:u,rangeShift:y*_-p}}toArray(){let _=this.sfnt;const y=this.tables,n=Object.keys(y);n.sort();const u=n.length;let p,s,r,l,c,d=j+u*f;const K=[d];for(p=0;p<u;p++){l=y[n[p]];const O=(l.length+3&-4)>>>0;d+=O,K.push(d)}const g=new Uint8Array(d);for(p=0;p<u;p++)l=y[n[p]],e(g,K[p],l);_==="true"&&(_=(0,m.string32)(65536)),g[0]=_.charCodeAt(0)&255,g[1]=_.charCodeAt(1)&255,g[2]=_.charCodeAt(2)&255,g[3]=_.charCodeAt(3)&255,ie(g,4,u);const G=T.getSearchParams(u,16);for(ie(g,6,G.range),ie(g,8,G.entry),ie(g,10,G.rangeShift),d=j,p=0;p<u;p++){c=n[p],g[d]=c.charCodeAt(0)&255,g[d+1]=c.charCodeAt(1)&255,g[d+2]=c.charCodeAt(2)&255,g[d+3]=c.charCodeAt(3)&255;let O=0;for(s=K[p],r=K[p+1];s<r;s+=4){const w=(0,t.readUint32)(g,s);O=O+w>>>0}z(g,d+4,O),z(g,d+8,K[p]),z(g,d+12,y[c].length),d+=f}return g}addTable(_,y){if(_ in this.tables)throw new Error("Table "+_+" already exists");this.tables[_]=y}}A.OpenTypeFileBuilder=T},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Type1Font=void 0;var t=se(35),m=se(38),ie=se(6),z=se(10),e=se(49),j=se(2);function f(y,n,u){const p=y.length,s=n.length,r=p-s;let l=u,c=!1;for(;l<r;){let d=0;for(;d<s&&y[l+d]===n[d];)d++;if(d>=s){for(l+=d;l<p&&(0,ie.isWhiteSpace)(y[l]);)l++;c=!0;break}l++}return{found:c,length:l}}function T(y,n){const u=[101,101,120,101,99],p=y.pos;let s,r,l;try{s=y.getBytes(n),r=s.length}catch{}if(r===n&&(l=f(s,u,n-2*u.length),l.found&&l.length===n))return{stream:new z.Stream(s),length:n};(0,j.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),y.pos=p;const c=2048;let d;for(;;){const K=y.peekBytes(c);if(l=f(K,u,0),l.length===0)break;if(y.pos+=l.length,l.found){d=y.pos-p;break}}return y.pos=p,d?{stream:new z.Stream(y.getBytes(d)),length:d}:((0,j.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new z.Stream(y.getBytes(n)),length:n})}function E(y,n){const u=y.getBytes();return{stream:new z.Stream(u),length:u.length}}class _{constructor(n,u,p){let r=p.length1;p.length2;let l=u.peekBytes(6);const c=l[0]===128&&l[1]===1;c&&(u.skip(6),r=l[5]<<24|l[4]<<16|l[3]<<8|l[2]);const d=T(u,r);new e.Type1Parser(d.stream,!1,m.SEAC_ANALYSIS_ENABLED).extractFontHeader(p),c&&(l=u.getBytes(6),l[5]<<24|l[4]<<16|l[3]<<8|l[2]);const g=E(u),O=new e.Type1Parser(g.stream,!0,m.SEAC_ANALYSIS_ENABLED).extractFontProgram(p);for(const h in O.properties)p[h]=O.properties[h];const w=O.charstrings,R=this.getType2Charstrings(w),o=this.getType2Subrs(O.subrs);this.charstrings=w,this.data=this.wrap(n,R,this.charstrings,o,p),this.seacs=this.getSeacs(O.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const n=[".notdef"];for(const{glyphName:u}of this.charstrings)n.push(u);return n}getGlyphMapping(n){const u=this.charstrings;if(n.composite){const c=Object.create(null);for(let d=0,K=u.length;d<K;d++){const g=n.cMap.charCodeOf(d);c[g]=d+1}return c}const p=[".notdef"];let s,r;for(r=0;r<u.length;r++)p.push(u[r].glyphName);const l=n.builtInEncoding;if(l){s=Object.create(null);for(const c in l)r=p.indexOf(l[c]),r>=0&&(s[c]=r)}return(0,m.type1FontGlyphMapping)(n,s,p)}hasGlyphId(n){return n<0||n>=this.numGlyphs?!1:n===0?!0:this.charstrings[n-1].charstring.length>0}getSeacs(n){const u=[];for(let p=0,s=n.length;p<s;p++){const r=n[p];r.seac&&(u[p+1]=r.seac)}return u}getType2Charstrings(n){const u=[];for(let p=0,s=n.length;p<s;p++)u.push(n[p].charstring);return u}getType2Subrs(n){let u=0;const p=n.length;p<1133?u=107:p<33769?u=1131:u=32768;const s=[];let r;for(r=0;r<u;r++)s.push([11]);for(r=0;r<p;r++)s.push(n[r]);return s}wrap(n,u,p,s,r){const l=new t.CFF;l.header=new t.CFFHeader(1,0,4,4),l.names=[n];const c=new t.CFFTopDict;c.setByName("version",391),c.setByName("Notice",392),c.setByName("FullName",393),c.setByName("FamilyName",394),c.setByName("Weight",395),c.setByName("Encoding",null),c.setByName("FontMatrix",r.fontMatrix),c.setByName("FontBBox",r.bbox),c.setByName("charset",null),c.setByName("CharStrings",null),c.setByName("Private",null),l.topDict=c;const d=new t.CFFStrings;d.add("Version 0.11"),d.add("See original notice"),d.add(n),d.add(n),d.add("Medium"),l.strings=d,l.globalSubrIndex=new t.CFFIndex;const K=u.length,g=[".notdef"];let G,O;for(G=0;G<K;G++){const L=p[G].glyphName;t.CFFStandardStrings.indexOf(L)===-1&&d.add(L),g.push(L)}l.charset=new t.CFFCharset(!1,0,g);const w=new t.CFFIndex;for(w.add([139,14]),G=0;G<K;G++)w.add(u[G]);l.charStrings=w;const R=new t.CFFPrivateDict;R.setByName("Subrs",null);const o=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(G=0,O=o.length;G<O;G++){const L=o[G];if(!(L in r.privateData))continue;const x=r.privateData[L];if(Array.isArray(x))for(let v=x.length-1;v>0;v--)x[v]-=x[v-1];R.setByName(L,x)}l.topDict.privateDict=R;const h=new t.CFFIndex;for(G=0,O=s.length;G<O;G++)h.add(s[G]);return R.subrsIndex=h,new t.CFFCompiler(l).compile()}}A.Type1Font=_},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Type1Parser=void 0;var t=se(37),m=se(6),ie=se(10),z=se(2);const e=!1,j={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class f{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(r,l,c){const d=r.length;let K=!1,g,G,O;for(let w=0;w<d;w++){let R=r[w];if(R<32){switch(R===12&&(R=(R<<8)+r[++w]),R){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){K=!0;break}const x=this.stack.pop();this.stack.push(0,x);break}K=this.executeCommand(1,j.vmoveto);break;case 5:K=this.executeCommand(2,j.rlineto);break;case 6:K=this.executeCommand(1,j.hlineto);break;case 7:K=this.executeCommand(1,j.vlineto);break;case 8:K=this.executeCommand(6,j.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){K=!0;break}if(O=this.stack.pop(),!l[O]){K=!0;break}K=this.convert(l[O],l,c);break;case 11:return K;case 13:if(this.stack.length<2){K=!0;break}g=this.stack.pop(),G=this.stack.pop(),this.lsb=G,this.width=g,this.stack.push(g,G),K=this.executeCommand(2,j.hmoveto);break;case 14:this.output.push(j.endchar[0]);break;case 21:if(this.flexing)break;K=this.executeCommand(2,j.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}K=this.executeCommand(1,j.hmoveto);break;case 30:K=this.executeCommand(4,j.vhcurveto);break;case 31:K=this.executeCommand(4,j.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(c){const x=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-x,K=this.executeCommand(0,j.endchar)}else K=this.executeCommand(4,j.endchar);break;case 3079:if(this.stack.length<4){K=!0;break}this.stack.pop(),g=this.stack.pop();const o=this.stack.pop();G=this.stack.pop(),this.lsb=G,this.width=g,this.stack.push(g,G,o),K=this.executeCommand(3,j.rmoveto);break;case 3084:if(this.stack.length<2){K=!0;break}const h=this.stack.pop(),H=this.stack.pop();this.stack.push(H/h);break;case 3088:if(this.stack.length<2){K=!0;break}O=this.stack.pop();const L=this.stack.pop();if(O===0&&L===3){const x=this.stack.splice(this.stack.length-17,17);this.stack.push(x[2]+x[0],x[3]+x[1],x[4],x[5],x[6],x[7],x[8],x[9],x[10],x[11],x[12],x[13],x[14]),K=this.executeCommand(13,j.flex,!0),this.flexing=!1,this.stack.push(x[15],x[16])}else O===1&&L===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,z.warn)('Unknown type 1 charstring command of "'+R+'"');break}if(K)break;continue}else R<=246?R-=139:R<=250?R=(R-247)*256+r[++w]+108:R<=254?R=-((R-251)*256)-r[++w]-108:R=(r[++w]&255)<<24|(r[++w]&255)<<16|(r[++w]&255)<<8|(r[++w]&255)<<0;this.stack.push(R)}return K}executeCommand(r,l,c){const d=this.stack.length;if(r>d)return!0;const K=d-r;for(let g=K;g<d;g++){let G=this.stack[g];Number.isInteger(G)?this.output.push(28,G>>8&255,G&255):(G=65536*G|0,this.output.push(255,G>>24&255,G>>16&255,G>>8&255,G&255))}return this.output.push(...l),c?this.stack.splice(K,r):this.stack.length=0,!1}}const T=55665,E=4330;function _(s){return s>=48&&s<=57||s>=65&&s<=70||s>=97&&s<=102}function y(s,r,l){if(l>=s.length)return new Uint8Array(0);const c=52845,d=22719;let K=r|0,g,G;for(g=0;g<l;g++)K=(s[g]+K)*c+d&65535;const O=s.length-l,w=new Uint8Array(O);for(g=l,G=0;G<O;g++,G++){const R=s[g];w[G]=R^K>>8,K=(R+K)*c+d&65535}return w}function n(s,r,l){let K=r|0;const g=s.length,G=g>>>1,O=new Uint8Array(G);let w,R;for(w=0,R=0;w<g;w++){const o=s[w];if(!_(o))continue;w++;let h;for(;w<g&&!_(h=s[w]);)w++;if(w<g){const H=parseInt(String.fromCharCode(o,h),16);O[R++]=H^K>>8,K=(H+K)*52845+22719&65535}}return O.slice(l,R)}function u(s){return s===47||s===91||s===93||s===123||s===125||s===40||s===41}class p{constructor(r,l,c){if(l){const d=r.getBytes(),K=!((_(d[0])||(0,m.isWhiteSpace)(d[0]))&&_(d[1])&&_(d[2])&&_(d[3])&&_(d[4])&&_(d[5])&&_(d[6])&&_(d[7]));r=new ie.Stream(K?y(d,T,4):n(d,T,4))}this.seacAnalysisEnabled=!!c,this.stream=r,this.nextChar()}readNumberArray(){this.getToken();const r=[];for(;;){const l=this.getToken();if(l===null||l==="]"||l==="}")break;r.push(parseFloat(l||0))}return r}readNumber(){const r=this.getToken();return parseFloat(r||0)}readInt(){const r=this.getToken();return parseInt(r||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let r=!1,l=this.currentChar;for(;;){if(l===-1)return null;if(r)(l===10||l===13)&&(r=!1);else if(l===37)r=!0;else if(!(0,m.isWhiteSpace)(l))break;l=this.nextChar()}if(u(l))return this.nextChar(),String.fromCharCode(l);let c="";do c+=String.fromCharCode(l),l=this.nextChar();while(l>=0&&!(0,m.isWhiteSpace)(l)&&!u(l));return c}readCharStrings(r,l){return l===-1?r:y(r,E,l)}extractFontProgram(r){const l=this.stream,c=[],d=[],K=Object.create(null);K.lenIV=4;const g={subrs:[],charstrings:[],properties:{privateData:K}};let G,O,w,R;for(;(G=this.getToken())!==null;)if(G==="/")switch(G=this.getToken(),G){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();G=this.getToken(),!(G===null||G==="end");){if(G!=="/")continue;const h=this.getToken();O=this.readInt(),this.getToken(),w=O>0?l.getBytes(O):new Uint8Array(0),R=g.properties.privateData.lenIV;const H=this.readCharStrings(w,R);this.nextChar(),G=this.getToken(),G==="noaccess"?this.getToken():G==="/"&&this.prevChar(),d.push({glyph:h,encoded:H})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const h=this.readInt();O=this.readInt(),this.getToken(),w=O>0?l.getBytes(O):new Uint8Array(0),R=g.properties.privateData.lenIV;const H=this.readCharStrings(w,R);this.nextChar(),G=this.getToken(),G==="noaccess"&&this.getToken(),c[h]=H}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const o=this.readNumberArray();o.length>0&&o.length%2===0&&e&&(g.properties.privateData[G]=o);break;case"StemSnapH":case"StemSnapV":g.properties.privateData[G]=this.readNumberArray();break;case"StdHW":case"StdVW":g.properties.privateData[G]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":g.properties.privateData[G]=this.readNumber();break;case"ForceBold":g.properties.privateData[G]=this.readBoolean();break}for(const{encoded:o,glyph:h}of d){const H=new f,L=H.convert(o,c,this.seacAnalysisEnabled);let x=H.output;L&&(x=[14]);const v={glyphName:h,charstring:x,width:H.width,lsb:H.lsb,seac:H.seac};if(h===".notdef"?g.charstrings.unshift(v):g.charstrings.push(v),r.builtInEncoding){const F=r.builtInEncoding.indexOf(h);F>-1&&r.widths[F]===void 0&&F>=r.firstChar&&F<=r.lastChar&&(r.widths[F]=H.width)}}return g}extractFontHeader(r){let l;for(;(l=this.getToken())!==null;)if(l==="/")switch(l=this.getToken(),l){case"FontMatrix":const c=this.readNumberArray();r.fontMatrix=c;break;case"Encoding":const d=this.getToken();let K;if(!/^\d+$/.test(d))K=(0,t.getEncoding)(d);else{K=[];const G=parseInt(d,10)|0;this.getToken();for(let O=0;O<G;O++){for(l=this.getToken();l!=="dup"&&l!=="def";)if(l=this.getToken(),l===null)return;if(l==="def")break;const w=this.readInt();this.getToken();const R=this.getToken();K[w]=R,this.getToken()}}r.builtInEncoding=K;break;case"FontBBox":const g=this.readNumberArray();r.ascent=Math.max(g[3],g[1]),r.descent=Math.min(g[1],g[3]),r.ascentScaled=!0;break}}}A.Type1Parser=p},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Pattern=void 0,A.getTilingPatternIR=u;var t=se(2),m=se(7),ie=se(14),z=se(6);const e={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class j{constructor(){(0,t.unreachable)("Cannot initialize Pattern.")}static parseShading(s,r,l,c,d,K){const g=s instanceof m.BaseStream?s.dict:s,G=g.get("ShadingType");try{switch(G){case e.AXIAL:case e.RADIAL:return new T(g,r,l,d,K);case e.FREE_FORM_MESH:case e.LATTICE_FORM_MESH:case e.COONS_PATCH_MESH:case e.TENSOR_PATCH_MESH:return new y(s,r,l,d,K);default:throw new t.FormatError("Unsupported ShadingType: "+G)}}catch(O){if(O instanceof z.MissingDataException)throw O;return c.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.shadingPattern}),(0,t.warn)(O),new n}}}A.Pattern=j;class f{static get SMALL_NUMBER(){return(0,t.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===f&&(0,t.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,t.unreachable)("Abstract method `getIR` called.")}}class T extends f{constructor(s,r,l,c,d){super(),this.coordsArr=s.getArray("Coords"),this.shadingType=s.get("ShadingType");const K=ie.ColorSpace.parse({cs:s.getRaw("CS")||s.getRaw("ColorSpace"),xref:r,resources:l,pdfFunctionFactory:c,localColorSpaceCache:d}),g=s.getArray("BBox");Array.isArray(g)&&g.length===4?this.bbox=t.Util.normalizeRect(g):this.bbox=null;let G=0,O=1;if(s.has("Domain")){const ee=s.getArray("Domain");G=ee[0],O=ee[1]}let w=!1,R=!1;if(s.has("Extend")){const ee=s.getArray("Extend");w=ee[0],R=ee[1]}if(this.shadingType===e.RADIAL&&(!w||!R)){const[ee,J,I,X,ne,P]=this.coordsArr,V=Math.hypot(ee-X,J-ne);I<=P+V&&P<=I+V&&(0,t.warn)("Unsupported radial gradient.")}this.extendStart=w,this.extendEnd=R;const o=s.getRaw("Function"),h=c.createFromArray(o),H=10,L=(O-G)/H,x=this.colorStops=[];if(G>=O||L<=0){(0,t.info)("Bad shading domain.");return}const v=new Float32Array(K.numComps),F=new Float32Array(1);let k;for(let ee=0;ee<=H;ee++){F[0]=G+ee*L,h(F,0,v,0),k=K.getRgb(v,0);const J=t.Util.makeHexColor(k[0],k[1],k[2]);x.push([ee/H,J])}let U="transparent";s.has("Background")&&(k=K.getRgb(s.get("Background"),0),U=t.Util.makeHexColor(k[0],k[1],k[2])),w||(x.unshift([0,U]),x[1][0]+=f.SMALL_NUMBER),R||(x.at(-1)[0]-=f.SMALL_NUMBER,x.push([1,U])),this.colorStops=x}getIR(){const s=this.coordsArr,r=this.shadingType;let l,c,d,K,g;return r===e.AXIAL?(c=[s[0],s[1]],d=[s[2],s[3]],K=null,g=null,l="axial"):r===e.RADIAL?(c=[s[0],s[1]],d=[s[3],s[4]],K=s[2],g=s[5],l="radial"):(0,t.unreachable)(`getPattern type unknown: ${r}`),["RadialAxial",l,this.bbox,this.colorStops,c,d,K,g]}}class E{constructor(s,r){this.stream=s,this.context=r,this.buffer=0,this.bufferLength=0;const l=r.numComps;this.tmpCompsBuf=new Float32Array(l);const c=r.colorSpace.numComps;this.tmpCsCompsBuf=r.colorFn?new Float32Array(c):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const s=this.stream.getByte();return s<0?!1:(this.buffer=s,this.bufferLength=8,!0)}readBits(s){let r=this.buffer,l=this.bufferLength;if(s===32){if(l===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;r=r<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const c=this.stream.getByte();return this.buffer=c&(1<<l)-1,(r<<8-l|(c&255)>>l)>>>0}if(s===8&&l===0)return this.stream.getByte();for(;l<s;)r=r<<8|this.stream.getByte(),l+=8;return l-=s,this.bufferLength=l,this.buffer=r&(1<<l)-1,r>>l}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const s=this.context.bitsPerCoordinate,r=this.readBits(s),l=this.readBits(s),c=this.context.decode,d=s<32?1/((1<<s)-1):23283064365386963e-26;return[r*d*(c[1]-c[0])+c[0],l*d*(c[3]-c[2])+c[2]]}readComponents(){const s=this.context.numComps,r=this.context.bitsPerComponent,l=r<32?1/((1<<r)-1):23283064365386963e-26,c=this.context.decode,d=this.tmpCompsBuf;for(let g=0,G=4;g<s;g++,G+=2){const O=this.readBits(r);d[g]=O*l*(c[G+1]-c[G])+c[G]}const K=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(d,0,K,0),this.context.colorSpace.getRgb(K,0)}}const _=function(){function s(l){const c=[];for(let d=0;d<=l;d++){const K=d/l,g=1-K;c.push(new Float32Array([g*g*g,3*K*g*g,3*K*K*g,K*K*K]))}return c}const r=[];return function(l){return r[l]||(r[l]=s(l)),r[l]}}();class y extends f{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,t.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,t.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,t.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(s,r,l,c,d){if(super(),!(s instanceof m.BaseStream))throw new t.FormatError("Mesh data is not a stream");const K=s.dict;this.shadingType=K.get("ShadingType");const g=K.getArray("BBox");Array.isArray(g)&&g.length===4?this.bbox=t.Util.normalizeRect(g):this.bbox=null;const G=ie.ColorSpace.parse({cs:K.getRaw("CS")||K.getRaw("ColorSpace"),xref:r,resources:l,pdfFunctionFactory:c,localColorSpaceCache:d});this.background=K.has("Background")?G.getRgb(K.get("Background"),0):null;const O=K.getRaw("Function"),w=O?c.createFromArray(O):null;this.coords=[],this.colors=[],this.figures=[];const R={bitsPerCoordinate:K.get("BitsPerCoordinate"),bitsPerComponent:K.get("BitsPerComponent"),bitsPerFlag:K.get("BitsPerFlag"),decode:K.getArray("Decode"),colorFn:w,colorSpace:G,numComps:w?1:G.numComps},o=new E(s,R);let h=!1;switch(this.shadingType){case e.FREE_FORM_MESH:this._decodeType4Shading(o);break;case e.LATTICE_FORM_MESH:const H=K.get("VerticesPerRow")|0;if(H<2)throw new t.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(o,H);break;case e.COONS_PATCH_MESH:this._decodeType6Shading(o),h=!0;break;case e.TENSOR_PATCH_MESH:this._decodeType7Shading(o),h=!0;break;default:(0,t.unreachable)("Unsupported mesh type.");break}if(h){this._updateBounds();for(let H=0,L=this.figures.length;H<L;H++)this._buildFigureFromPatch(H)}this._updateBounds(),this._packData()}_decodeType4Shading(s){const r=this.coords,l=this.colors,c=[];let d=0;for(;s.hasData;){const K=s.readFlag(),g=s.readCoordinate(),G=s.readComponents();if(d===0){if(!(0<=K&&K<=2))throw new t.FormatError("Unknown type4 flag");switch(K){case 0:d=3;break;case 1:c.push(c.at(-2),c.at(-1)),d=1;break;case 2:c.push(c.at(-3),c.at(-1)),d=1;break}}c.push(r.length),r.push(g),l.push(G),d--,s.align()}this.figures.push({type:"triangles",coords:new Int32Array(c),colors:new Int32Array(c)})}_decodeType5Shading(s,r){const l=this.coords,c=this.colors,d=[];for(;s.hasData;){const K=s.readCoordinate(),g=s.readComponents();d.push(l.length),l.push(K),c.push(g)}this.figures.push({type:"lattice",coords:new Int32Array(d),colors:new Int32Array(d),verticesPerRow:r})}_decodeType6Shading(s){const r=this.coords,l=this.colors,c=new Int32Array(16),d=new Int32Array(4);for(;s.hasData;){const K=s.readFlag();if(!(0<=K&&K<=3))throw new t.FormatError("Unknown type6 flag");const g=r.length;for(let h=0,H=K!==0?8:12;h<H;h++)r.push(s.readCoordinate());const G=l.length;for(let h=0,H=K!==0?2:4;h<H;h++)l.push(s.readComponents());let O,w,R,o;switch(K){case 0:c[12]=g+3,c[13]=g+4,c[14]=g+5,c[15]=g+6,c[8]=g+2,c[11]=g+7,c[4]=g+1,c[7]=g+8,c[0]=g,c[1]=g+11,c[2]=g+10,c[3]=g+9,d[2]=G+1,d[3]=G+2,d[0]=G,d[1]=G+3;break;case 1:O=c[12],w=c[13],R=c[14],o=c[15],c[12]=o,c[13]=g+0,c[14]=g+1,c[15]=g+2,c[8]=R,c[11]=g+3,c[4]=w,c[7]=g+4,c[0]=O,c[1]=g+7,c[2]=g+6,c[3]=g+5,O=d[2],w=d[3],d[2]=w,d[3]=G,d[0]=O,d[1]=G+1;break;case 2:O=c[15],w=c[11],c[12]=c[3],c[13]=g+0,c[14]=g+1,c[15]=g+2,c[8]=c[7],c[11]=g+3,c[4]=w,c[7]=g+4,c[0]=O,c[1]=g+7,c[2]=g+6,c[3]=g+5,O=d[3],d[2]=d[1],d[3]=G,d[0]=O,d[1]=G+1;break;case 3:c[12]=c[0],c[13]=g+0,c[14]=g+1,c[15]=g+2,c[8]=c[1],c[11]=g+3,c[4]=c[2],c[7]=g+4,c[0]=c[3],c[1]=g+7,c[2]=g+6,c[3]=g+5,d[2]=d[0],d[3]=G,d[0]=d[1],d[1]=G+1;break}c[5]=r.length,r.push([(-4*r[c[0]][0]-r[c[15]][0]+6*(r[c[4]][0]+r[c[1]][0])-2*(r[c[12]][0]+r[c[3]][0])+3*(r[c[13]][0]+r[c[7]][0]))/9,(-4*r[c[0]][1]-r[c[15]][1]+6*(r[c[4]][1]+r[c[1]][1])-2*(r[c[12]][1]+r[c[3]][1])+3*(r[c[13]][1]+r[c[7]][1]))/9]),c[6]=r.length,r.push([(-4*r[c[3]][0]-r[c[12]][0]+6*(r[c[2]][0]+r[c[7]][0])-2*(r[c[0]][0]+r[c[15]][0])+3*(r[c[4]][0]+r[c[14]][0]))/9,(-4*r[c[3]][1]-r[c[12]][1]+6*(r[c[2]][1]+r[c[7]][1])-2*(r[c[0]][1]+r[c[15]][1])+3*(r[c[4]][1]+r[c[14]][1]))/9]),c[9]=r.length,r.push([(-4*r[c[12]][0]-r[c[3]][0]+6*(r[c[8]][0]+r[c[13]][0])-2*(r[c[0]][0]+r[c[15]][0])+3*(r[c[11]][0]+r[c[1]][0]))/9,(-4*r[c[12]][1]-r[c[3]][1]+6*(r[c[8]][1]+r[c[13]][1])-2*(r[c[0]][1]+r[c[15]][1])+3*(r[c[11]][1]+r[c[1]][1]))/9]),c[10]=r.length,r.push([(-4*r[c[15]][0]-r[c[0]][0]+6*(r[c[11]][0]+r[c[14]][0])-2*(r[c[12]][0]+r[c[3]][0])+3*(r[c[2]][0]+r[c[8]][0]))/9,(-4*r[c[15]][1]-r[c[0]][1]+6*(r[c[11]][1]+r[c[14]][1])-2*(r[c[12]][1]+r[c[3]][1])+3*(r[c[2]][1]+r[c[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(c),colors:new Int32Array(d)})}}_decodeType7Shading(s){const r=this.coords,l=this.colors,c=new Int32Array(16),d=new Int32Array(4);for(;s.hasData;){const K=s.readFlag();if(!(0<=K&&K<=3))throw new t.FormatError("Unknown type7 flag");const g=r.length;for(let h=0,H=K!==0?12:16;h<H;h++)r.push(s.readCoordinate());const G=l.length;for(let h=0,H=K!==0?2:4;h<H;h++)l.push(s.readComponents());let O,w,R,o;switch(K){case 0:c[12]=g+3,c[13]=g+4,c[14]=g+5,c[15]=g+6,c[8]=g+2,c[9]=g+13,c[10]=g+14,c[11]=g+7,c[4]=g+1,c[5]=g+12,c[6]=g+15,c[7]=g+8,c[0]=g,c[1]=g+11,c[2]=g+10,c[3]=g+9,d[2]=G+1,d[3]=G+2,d[0]=G,d[1]=G+3;break;case 1:O=c[12],w=c[13],R=c[14],o=c[15],c[12]=o,c[13]=g+0,c[14]=g+1,c[15]=g+2,c[8]=R,c[9]=g+9,c[10]=g+10,c[11]=g+3,c[4]=w,c[5]=g+8,c[6]=g+11,c[7]=g+4,c[0]=O,c[1]=g+7,c[2]=g+6,c[3]=g+5,O=d[2],w=d[3],d[2]=w,d[3]=G,d[0]=O,d[1]=G+1;break;case 2:O=c[15],w=c[11],c[12]=c[3],c[13]=g+0,c[14]=g+1,c[15]=g+2,c[8]=c[7],c[9]=g+9,c[10]=g+10,c[11]=g+3,c[4]=w,c[5]=g+8,c[6]=g+11,c[7]=g+4,c[0]=O,c[1]=g+7,c[2]=g+6,c[3]=g+5,O=d[3],d[2]=d[1],d[3]=G,d[0]=O,d[1]=G+1;break;case 3:c[12]=c[0],c[13]=g+0,c[14]=g+1,c[15]=g+2,c[8]=c[1],c[9]=g+9,c[10]=g+10,c[11]=g+3,c[4]=c[2],c[5]=g+8,c[6]=g+11,c[7]=g+4,c[0]=c[3],c[1]=g+7,c[2]=g+6,c[3]=g+5,d[2]=d[0],d[3]=G,d[0]=d[1],d[1]=G+1;break}this.figures.push({type:"patch",coords:new Int32Array(c),colors:new Int32Array(d)})}}_buildFigureFromPatch(s){const r=this.figures[s];(0,t.assert)(r.type==="patch","Unexpected patch mesh figure");const l=this.coords,c=this.colors,d=r.coords,K=r.colors,g=Math.min(l[d[0]][0],l[d[3]][0],l[d[12]][0],l[d[15]][0]),G=Math.min(l[d[0]][1],l[d[3]][1],l[d[12]][1],l[d[15]][1]),O=Math.max(l[d[0]][0],l[d[3]][0],l[d[12]][0],l[d[15]][0]),w=Math.max(l[d[0]][1],l[d[3]][1],l[d[12]][1],l[d[15]][1]);let R=Math.ceil((O-g)*y.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));R=Math.max(y.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(y.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,R));let o=Math.ceil((w-G)*y.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));o=Math.max(y.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(y.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,o));const h=R+1,H=new Int32Array((o+1)*h),L=new Int32Array((o+1)*h);let x=0;const v=new Uint8Array(3),F=new Uint8Array(3),k=c[K[0]],U=c[K[1]],ee=c[K[2]],J=c[K[3]],I=_(o),X=_(R);for(let ne=0;ne<=o;ne++){v[0]=(k[0]*(o-ne)+ee[0]*ne)/o|0,v[1]=(k[1]*(o-ne)+ee[1]*ne)/o|0,v[2]=(k[2]*(o-ne)+ee[2]*ne)/o|0,F[0]=(U[0]*(o-ne)+J[0]*ne)/o|0,F[1]=(U[1]*(o-ne)+J[1]*ne)/o|0,F[2]=(U[2]*(o-ne)+J[2]*ne)/o|0;for(let P=0;P<=R;P++,x++){if((ne===0||ne===o)&&(P===0||P===R))continue;let V=0,Y=0,Z=0;for(let M=0;M<=3;M++)for(let te=0;te<=3;te++,Z++){const W=I[ne][M]*X[P][te];V+=l[d[Z]][0]*W,Y+=l[d[Z]][1]*W}H[x]=l.length,l.push([V,Y]),L[x]=c.length;const q=new Uint8Array(3);q[0]=(v[0]*(R-P)+F[0]*P)/R|0,q[1]=(v[1]*(R-P)+F[1]*P)/R|0,q[2]=(v[2]*(R-P)+F[2]*P)/R|0,c.push(q)}}H[0]=d[0],L[0]=K[0],H[R]=d[3],L[R]=K[1],H[h*o]=d[12],L[h*o]=K[2],H[h*o+R]=d[15],L[h*o+R]=K[3],this.figures[s]={type:"lattice",coords:H,colors:L,verticesPerRow:h}}_updateBounds(){let s=this.coords[0][0],r=this.coords[0][1],l=s,c=r;for(let d=1,K=this.coords.length;d<K;d++){const g=this.coords[d][0],G=this.coords[d][1];s=s>g?g:s,r=r>G?G:r,l=l<g?g:l,c=c<G?G:c}this.bounds=[s,r,l,c]}_packData(){let s,r,l,c;const d=this.coords,K=new Float32Array(d.length*2);for(s=0,l=0,r=d.length;s<r;s++){const w=d[s];K[l++]=w[0],K[l++]=w[1]}this.coords=K;const g=this.colors,G=new Uint8Array(g.length*3);for(s=0,l=0,r=g.length;s<r;s++){const w=g[s];G[l++]=w[0],G[l++]=w[1],G[l++]=w[2]}this.colors=G;const O=this.figures;for(s=0,r=O.length;s<r;s++){const w=O[s],R=w.coords,o=w.colors;for(l=0,c=R.length;l<c;l++)R[l]*=2,o[l]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class n extends f{getIR(){return["Dummy"]}}function u(p,s,r){const l=s.getArray("Matrix"),c=t.Util.normalizeRect(s.getArray("BBox")),d=s.get("XStep"),K=s.get("YStep"),g=s.get("PaintType"),G=s.get("TilingType");if(c[2]-c[0]===0||c[3]-c[1]===0)throw new t.FormatError(`Invalid getTilingPatternIR /BBox array: [${c}].`);return["TilingPattern",r,p,l,c,d,K,g,G]}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.getXfaFontDict=n,A.getXfaFontName=_;var t=se(52),m=se(5),ie=se(53),z=se(54),e=se(55),j=se(56),f=se(6),T=se(38);const E=(0,f.getLookupTableFactory)(function(u){u["MyriadPro-Regular"]=u["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:e.MyriadProRegularFactors,baseWidths:z.LiberationSansRegularWidths,baseMapping:z.LiberationSansRegularMapping,metrics:e.MyriadProRegularMetrics},u["MyriadPro-Bold"]=u["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:e.MyriadProBoldFactors,baseWidths:z.LiberationSansBoldWidths,baseMapping:z.LiberationSansBoldMapping,metrics:e.MyriadProBoldMetrics},u["MyriadPro-It"]=u["MyriadPro-Italic"]=u["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:e.MyriadProItalicFactors,baseWidths:z.LiberationSansItalicWidths,baseMapping:z.LiberationSansItalicMapping,metrics:e.MyriadProItalicMetrics},u["MyriadPro-BoldIt"]=u["MyriadPro-BoldItalic"]=u["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:e.MyriadProBoldItalicFactors,baseWidths:z.LiberationSansBoldItalicWidths,baseMapping:z.LiberationSansBoldItalicMapping,metrics:e.MyriadProBoldItalicMetrics},u.ArialMT=u.Arial=u["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:z.LiberationSansRegularWidths,baseMapping:z.LiberationSansRegularMapping},u["Arial-BoldMT"]=u["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:z.LiberationSansBoldWidths,baseMapping:z.LiberationSansBoldMapping},u["Arial-ItalicMT"]=u["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:z.LiberationSansItalicWidths,baseMapping:z.LiberationSansItalicMapping},u["Arial-BoldItalicMT"]=u["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:z.LiberationSansBoldItalicWidths,baseMapping:z.LiberationSansBoldItalicMapping},u["Calibri-Regular"]={name:"LiberationSans-Regular",factors:t.CalibriRegularFactors,baseWidths:z.LiberationSansRegularWidths,baseMapping:z.LiberationSansRegularMapping,metrics:t.CalibriRegularMetrics},u["Calibri-Bold"]={name:"LiberationSans-Bold",factors:t.CalibriBoldFactors,baseWidths:z.LiberationSansBoldWidths,baseMapping:z.LiberationSansBoldMapping,metrics:t.CalibriBoldMetrics},u["Calibri-Italic"]={name:"LiberationSans-Italic",factors:t.CalibriItalicFactors,baseWidths:z.LiberationSansItalicWidths,baseMapping:z.LiberationSansItalicMapping,metrics:t.CalibriItalicMetrics},u["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.CalibriBoldItalicFactors,baseWidths:z.LiberationSansBoldItalicWidths,baseMapping:z.LiberationSansBoldItalicMapping,metrics:t.CalibriBoldItalicMetrics},u["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:j.SegoeuiRegularFactors,baseWidths:z.LiberationSansRegularWidths,baseMapping:z.LiberationSansRegularMapping,metrics:j.SegoeuiRegularMetrics},u["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:j.SegoeuiBoldFactors,baseWidths:z.LiberationSansBoldWidths,baseMapping:z.LiberationSansBoldMapping,metrics:j.SegoeuiBoldMetrics},u["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:j.SegoeuiItalicFactors,baseWidths:z.LiberationSansItalicWidths,baseMapping:z.LiberationSansItalicMapping,metrics:j.SegoeuiItalicMetrics},u["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:j.SegoeuiBoldItalicFactors,baseWidths:z.LiberationSansBoldItalicWidths,baseMapping:z.LiberationSansBoldItalicMapping,metrics:j.SegoeuiBoldItalicMetrics},u["Helvetica-Regular"]=u.Helvetica={name:"LiberationSans-Regular",factors:ie.HelveticaRegularFactors,baseWidths:z.LiberationSansRegularWidths,baseMapping:z.LiberationSansRegularMapping,metrics:ie.HelveticaRegularMetrics},u["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:ie.HelveticaBoldFactors,baseWidths:z.LiberationSansBoldWidths,baseMapping:z.LiberationSansBoldMapping,metrics:ie.HelveticaBoldMetrics},u["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:ie.HelveticaItalicFactors,baseWidths:z.LiberationSansItalicWidths,baseMapping:z.LiberationSansItalicMapping,metrics:ie.HelveticaItalicMetrics},u["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:ie.HelveticaBoldItalicFactors,baseWidths:z.LiberationSansBoldItalicWidths,baseMapping:z.LiberationSansBoldItalicMapping,metrics:ie.HelveticaBoldItalicMetrics}});function _(u){const p=(0,T.normalizeFontName)(u);return E()[p]}function y(u){const p=_(u);if(!p)return null;const{baseWidths:s,baseMapping:r,factors:l}=p;let c;l?c=s.map((G,O)=>G*l[O]):c=s;let d=-2,K;const g=[];for(const[G,O]of r.map((w,R)=>[w,R]).sort(([w],[R])=>w-R))G!==-1&&(G===d+1?(K.push(c[O]),d+=1):(d=G,K=[c[O]],g.push(G,K)));return g}function n(u){const p=y(u),s=new m.Dict(null);s.set("BaseFont",m.Name.get(u)),s.set("Type",m.Name.get("Font")),s.set("Subtype",m.Name.get("CIDFontType2")),s.set("Encoding",m.Name.get("Identity-H")),s.set("CIDToGIDMap",m.Name.get("Identity")),s.set("W",p),s.set("FirstChar",p[0]),s.set("LastChar",p.at(-2)+p.at(-1).length-1);const r=new m.Dict(null);s.set("FontDescriptor",r);const l=new m.Dict(null);return l.set("Ordering","Identity"),l.set("Registry","Adobe"),l.set("Supplement",0),s.set("CIDSystemInfo",l),s}},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CalibriRegularMetrics=A.CalibriRegularFactors=A.CalibriItalicMetrics=A.CalibriItalicFactors=A.CalibriBoldMetrics=A.CalibriBoldItalicMetrics=A.CalibriBoldItalicFactors=A.CalibriBoldFactors=void 0;const se=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.CalibriBoldFactors=se;const t={lineHeight:1.2207,lineGap:.2207};A.CalibriBoldMetrics=t;const m=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.CalibriBoldItalicFactors=m;const ie={lineHeight:1.2207,lineGap:.2207};A.CalibriBoldItalicMetrics=ie;const z=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.CalibriItalicFactors=z;const e={lineHeight:1.2207,lineGap:.2207};A.CalibriItalicMetrics=e;const j=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];A.CalibriRegularFactors=j;const f={lineHeight:1.2207,lineGap:.2207};A.CalibriRegularMetrics=f},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.HelveticaRegularMetrics=A.HelveticaRegularFactors=A.HelveticaItalicMetrics=A.HelveticaItalicFactors=A.HelveticaBoldMetrics=A.HelveticaBoldItalicMetrics=A.HelveticaBoldItalicFactors=A.HelveticaBoldFactors=void 0;const se=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];A.HelveticaBoldFactors=se;const t={lineHeight:1.2,lineGap:.2};A.HelveticaBoldMetrics=t;const m=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];A.HelveticaBoldItalicFactors=m;const ie={lineHeight:1.35,lineGap:.2};A.HelveticaBoldItalicMetrics=ie;const z=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];A.HelveticaItalicFactors=z;const e={lineHeight:1.35,lineGap:.2};A.HelveticaItalicMetrics=e;const j=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.HelveticaRegularFactors=j;const f={lineHeight:1.2,lineGap:.2};A.HelveticaRegularMetrics=f},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.LiberationSansRegularWidths=A.LiberationSansRegularMapping=A.LiberationSansItalicWidths=A.LiberationSansItalicMapping=A.LiberationSansBoldWidths=A.LiberationSansBoldMapping=A.LiberationSansBoldItalicWidths=A.LiberationSansBoldItalicMapping=void 0;const se=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];A.LiberationSansBoldWidths=se;const t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];A.LiberationSansBoldMapping=t;const m=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];A.LiberationSansBoldItalicWidths=m;const ie=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];A.LiberationSansBoldItalicMapping=ie;const z=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];A.LiberationSansItalicWidths=z;const e=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];A.LiberationSansItalicMapping=e;const j=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];A.LiberationSansRegularWidths=j;const f=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];A.LiberationSansRegularMapping=f},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.MyriadProRegularMetrics=A.MyriadProRegularFactors=A.MyriadProItalicMetrics=A.MyriadProItalicFactors=A.MyriadProBoldMetrics=A.MyriadProBoldItalicMetrics=A.MyriadProBoldItalicFactors=A.MyriadProBoldFactors=void 0;const se=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.MyriadProBoldFactors=se;const t={lineHeight:1.2,lineGap:.2};A.MyriadProBoldMetrics=t;const m=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.MyriadProBoldItalicFactors=m;const ie={lineHeight:1.2,lineGap:.2};A.MyriadProBoldItalicMetrics=ie;const z=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.MyriadProItalicFactors=z;const e={lineHeight:1.2,lineGap:.2};A.MyriadProItalicMetrics=e;const j=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.MyriadProRegularFactors=j;const f={lineHeight:1.2,lineGap:.2};A.MyriadProRegularMetrics=f},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.SegoeuiRegularMetrics=A.SegoeuiRegularFactors=A.SegoeuiItalicMetrics=A.SegoeuiItalicFactors=A.SegoeuiBoldMetrics=A.SegoeuiBoldItalicMetrics=A.SegoeuiBoldItalicFactors=A.SegoeuiBoldFactors=void 0;const se=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.SegoeuiBoldFactors=se;const t={lineHeight:1.33008,lineGap:0};A.SegoeuiBoldMetrics=t;const m=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.SegoeuiBoldItalicFactors=m;const ie={lineHeight:1.33008,lineGap:0};A.SegoeuiBoldItalicMetrics=ie;const z=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];A.SegoeuiItalicFactors=z;const e={lineHeight:1.33008,lineGap:0};A.SegoeuiItalicMetrics=e;const j=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];A.SegoeuiRegularFactors=j;const f={lineHeight:1.33008,lineGap:0};A.SegoeuiRegularMetrics=f},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PostScriptEvaluator=A.PostScriptCompiler=A.PDFFunctionFactory=void 0,A.isPDFFunction=E;var t=se(5),m=se(2),ie=se(58),z=se(7),e=se(59);class j{constructor({xref:o,isEvalSupported:h=!0}){this.xref=o,this.isEvalSupported=h!==!1}create(o){const h=this.getCached(o);if(h)return h;const H=T.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:o instanceof t.Ref?this.xref.fetch(o):o});return this._cache(o,H),H}createFromArray(o){const h=this.getCached(o);if(h)return h;const H=T.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:o instanceof t.Ref?this.xref.fetch(o):o});return this._cache(o,H),H}getCached(o){let h;if(o instanceof t.Ref?h=o:o instanceof t.Dict?h=o.objId:o instanceof z.BaseStream&&(h=o.dict&&o.dict.objId),h){const H=this._localFunctionCache.getByRef(h);if(H)return H}return null}_cache(o,h){if(!h)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let H;o instanceof t.Ref?H=o:o instanceof t.Dict?H=o.objId:o instanceof z.BaseStream&&(H=o.dict&&o.dict.objId),H&&this._localFunctionCache.set(null,H,h)}get _localFunctionCache(){return(0,m.shadow)(this,"_localFunctionCache",new e.LocalFunctionCache)}}A.PDFFunctionFactory=j;function f(R){if(!Array.isArray(R))return null;const o=R.length;for(let h=0;h<o;h++)if(typeof R[h]!="number"){const H=new Array(o);for(let L=0;L<o;L++)H[L]=+R[L];return H}return R}class T{static getSampleArray(o,h,H,L){let x,v,F=1;for(x=0,v=o.length;x<v;x++)F*=o[x];F*=h;const k=new Array(F);let U=0,ee=0;const J=1/(2**H-1),I=L.getBytes((F*H+7)/8);let X=0;for(x=0;x<F;x++){for(;U<H;)ee<<=8,ee|=I[X++],U+=8;U-=H,k[x]=(ee>>U)*J,ee&=(1<<U)-1}return k}static parse({xref:o,isEvalSupported:h,fn:H}){const L=H.dict||H;switch(L.get("FunctionType")){case 0:return this.constructSampled({xref:o,isEvalSupported:h,fn:H,dict:L});case 1:break;case 2:return this.constructInterpolated({xref:o,isEvalSupported:h,dict:L});case 3:return this.constructStiched({xref:o,isEvalSupported:h,dict:L});case 4:return this.constructPostScript({xref:o,isEvalSupported:h,fn:H,dict:L})}throw new m.FormatError("Unknown type of function")}static parseArray({xref:o,isEvalSupported:h,fnObj:H}){if(!Array.isArray(H))return this.parse({xref:o,isEvalSupported:h,fn:H});const L=[];for(let x=0,v=H.length;x<v;x++)L.push(this.parse({xref:o,isEvalSupported:h,fn:o.fetchIfRef(H[x])}));return function(x,v,F,k){for(let U=0,ee=L.length;U<ee;U++)L[U](x,v,F,k+U)}}static constructSampled({xref:o,isEvalSupported:h,fn:H,dict:L}){function x(Y){const Z=Y.length,q=[];let M=0;for(let te=0;te<Z;te+=2)q[M++]=[Y[te],Y[te+1]];return q}function v(Y,Z,q,M,te){return M+(Y-Z)*((te-M)/(q-Z))}let F=f(L.getArray("Domain")),k=f(L.getArray("Range"));if(!F||!k)throw new m.FormatError("No domain or range");const U=F.length/2,ee=k.length/2;F=x(F),k=x(k);const J=f(L.getArray("Size")),I=L.get("BitsPerSample"),X=L.get("Order")||1;X!==1&&(0,m.info)("No support for cubic spline interpolation: "+X);let ne=f(L.getArray("Encode"));if(ne)ne=x(ne);else{ne=[];for(let Y=0;Y<U;++Y)ne.push([0,J[Y]-1])}let P=f(L.getArray("Decode"));P?P=x(P):P=k;const V=this.getSampleArray(J,ee,I,H);return function(Z,q,M,te){const W=1<<U,ae=new Float64Array(W),fe=new Uint32Array(W);let de,ue;for(ue=0;ue<W;ue++)ae[ue]=1;let he=ee,me=1;for(de=0;de<U;++de){const xe=F[de][0],we=F[de][1],Ce=Math.min(Math.max(Z[q+de],xe),we);let Fe=v(Ce,xe,we,ne[de][0],ne[de][1]);const Oe=J[de];Fe=Math.min(Math.max(Fe,0),Oe-1);const Ie=Fe<Oe-1?Math.floor(Fe):Fe-1,Me=Ie+1-Fe,Le=Fe-Ie,qe=Ie*he,Xe=qe+he;for(ue=0;ue<W;ue++)ue&me?(ae[ue]*=Le,fe[ue]+=Xe):(ae[ue]*=Me,fe[ue]+=qe);he*=Oe,me<<=1}for(ue=0;ue<ee;++ue){let xe=0;for(de=0;de<W;de++)xe+=V[fe[de]+ue]*ae[de];xe=v(xe,0,1,P[ue][0],P[ue][1]),M[te+ue]=Math.min(Math.max(xe,k[ue][0]),k[ue][1])}}}static constructInterpolated({xref:o,isEvalSupported:h,dict:H}){const L=f(H.getArray("C0"))||[0],x=f(H.getArray("C1"))||[1],v=H.get("N"),F=[];for(let U=0,ee=L.length;U<ee;++U)F.push(x[U]-L[U]);const k=F.length;return function(ee,J,I,X){const ne=v===1?ee[J]:ee[J]**v;for(let P=0;P<k;++P)I[X+P]=L[P]+ne*F[P]}}static constructStiched({xref:o,isEvalSupported:h,dict:H}){const L=f(H.getArray("Domain"));if(!L)throw new m.FormatError("No domain");if(L.length/2!==1)throw new m.FormatError("Bad domain for stiched function");const v=H.get("Functions"),F=[];for(let J=0,I=v.length;J<I;++J)F.push(this.parse({xref:o,isEvalSupported:h,fn:o.fetchIfRef(v[J])}));const k=f(H.getArray("Bounds")),U=f(H.getArray("Encode")),ee=new Float32Array(1);return function(I,X,ne,P){const Y=function(de,ue,he){return de>he?de=he:de<ue&&(de=ue),de}(I[X],L[0],L[1]),Z=k.length;let q;for(q=0;q<Z&&!(Y<k[q]);++q);let M=L[0];q>0&&(M=k[q-1]);let te=L[1];q<k.length&&(te=k[q]);const W=U[2*q],ae=U[2*q+1];ee[0]=M===te?W:W+(Y-M)*(ae-W)/(te-M),F[q](ee,0,ne,P)}}static constructPostScript({xref:o,isEvalSupported:h,fn:H,dict:L}){const x=f(L.getArray("Domain")),v=f(L.getArray("Range"));if(!x)throw new m.FormatError("No domain.");if(!v)throw new m.FormatError("No range.");const F=new ie.PostScriptLexer(H),U=new ie.PostScriptParser(F).parse();if(h&&m.FeatureTest.isEvalSupported){const Y=new w().compile(U,x,v);if(Y)return new Function("src","srcOffset","dest","destOffset",Y)}(0,m.info)("Unable to compile PS function");const ee=v.length>>1,J=x.length>>1,I=new y(U),X=Object.create(null);let P=2048*4;const V=new Float32Array(J);return function(Z,q,M,te){let W,ae,fe="";const de=V;for(W=0;W<J;W++)ae=Z[q+W],de[W]=ae,fe+=ae+"_";const ue=X[fe];if(ue!==void 0){M.set(ue,te);return}const he=new Float32Array(ee),me=I.execute(de),xe=me.length-ee;for(W=0;W<ee;W++){ae=me[xe+W];let we=v[W*2];ae<we?ae=we:(we=v[W*2+1],ae>we&&(ae=we)),he[W]=ae}P>0&&(P--,X[fe]=he),M.set(he,te)}}}function E(R){let o;if(typeof R!="object")return!1;if(R instanceof t.Dict)o=R;else if(R instanceof z.BaseStream)o=R.dict;else return!1;return o.has("FunctionType")}class _{static get MAX_STACK_SIZE(){return(0,m.shadow)(this,"MAX_STACK_SIZE",100)}constructor(o){this.stack=o?Array.prototype.slice.call(o,0):[]}push(o){if(this.stack.length>=_.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(o)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(o){if(this.stack.length+o>=_.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const h=this.stack;for(let H=h.length-o,L=o-1;L>=0;L--,H++)h.push(h[H])}index(o){this.push(this.stack[this.stack.length-o-1])}roll(o,h){const H=this.stack,L=H.length-o,x=H.length-1,v=L+(h-Math.floor(h/o)*o);for(let F=L,k=x;F<k;F++,k--){const U=H[F];H[F]=H[k],H[k]=U}for(let F=L,k=v-1;F<k;F++,k--){const U=H[F];H[F]=H[k],H[k]=U}for(let F=v,k=x;F<k;F++,k--){const U=H[F];H[F]=H[k],H[k]=U}}}class y{constructor(o){this.operators=o}execute(o){const h=new _(o);let H=0;const L=this.operators,x=L.length;let v,F,k;for(;H<x;){if(v=L[H++],typeof v=="number"){h.push(v);continue}switch(v){case"jz":k=h.pop(),F=h.pop(),F||(H=k);break;case"j":F=h.pop(),H=F;break;case"abs":F=h.pop(),h.push(Math.abs(F));break;case"add":k=h.pop(),F=h.pop(),h.push(F+k);break;case"and":k=h.pop(),F=h.pop(),typeof F=="boolean"&&typeof k=="boolean"?h.push(F&&k):h.push(F&k);break;case"atan":F=h.pop(),h.push(Math.atan(F));break;case"bitshift":k=h.pop(),F=h.pop(),F>0?h.push(F<<k):h.push(F>>k);break;case"ceiling":F=h.pop(),h.push(Math.ceil(F));break;case"copy":F=h.pop(),h.copy(F);break;case"cos":F=h.pop(),h.push(Math.cos(F));break;case"cvi":F=h.pop()|0,h.push(F);break;case"cvr":break;case"div":k=h.pop(),F=h.pop(),h.push(F/k);break;case"dup":h.copy(1);break;case"eq":k=h.pop(),F=h.pop(),h.push(F===k);break;case"exch":h.roll(2,1);break;case"exp":k=h.pop(),F=h.pop(),h.push(F**k);break;case"false":h.push(!1);break;case"floor":F=h.pop(),h.push(Math.floor(F));break;case"ge":k=h.pop(),F=h.pop(),h.push(F>=k);break;case"gt":k=h.pop(),F=h.pop(),h.push(F>k);break;case"idiv":k=h.pop(),F=h.pop(),h.push(F/k|0);break;case"index":F=h.pop(),h.index(F);break;case"le":k=h.pop(),F=h.pop(),h.push(F<=k);break;case"ln":F=h.pop(),h.push(Math.log(F));break;case"log":F=h.pop(),h.push(Math.log(F)/Math.LN10);break;case"lt":k=h.pop(),F=h.pop(),h.push(F<k);break;case"mod":k=h.pop(),F=h.pop(),h.push(F%k);break;case"mul":k=h.pop(),F=h.pop(),h.push(F*k);break;case"ne":k=h.pop(),F=h.pop(),h.push(F!==k);break;case"neg":F=h.pop(),h.push(-F);break;case"not":F=h.pop(),typeof F=="boolean"?h.push(!F):h.push(~F);break;case"or":k=h.pop(),F=h.pop(),typeof F=="boolean"&&typeof k=="boolean"?h.push(F||k):h.push(F|k);break;case"pop":h.pop();break;case"roll":k=h.pop(),F=h.pop(),h.roll(F,k);break;case"round":F=h.pop(),h.push(Math.round(F));break;case"sin":F=h.pop(),h.push(Math.sin(F));break;case"sqrt":F=h.pop(),h.push(Math.sqrt(F));break;case"sub":k=h.pop(),F=h.pop(),h.push(F-k);break;case"true":h.push(!0);break;case"truncate":F=h.pop(),F=F<0?Math.ceil(F):Math.floor(F),h.push(F);break;case"xor":k=h.pop(),F=h.pop(),typeof F=="boolean"&&typeof k=="boolean"?h.push(F!==k):h.push(F^k);break;default:throw new m.FormatError(`Unknown operator ${v}`)}}return h.stack}}A.PostScriptEvaluator=y;class n{constructor(o){this.type=o}visit(o){(0,m.unreachable)("abstract method")}}class u extends n{constructor(o,h,H){super("args"),this.index=o,this.min=h,this.max=H}visit(o){o.visitArgument(this)}}class p extends n{constructor(o){super("literal"),this.number=o,this.min=o,this.max=o}visit(o){o.visitLiteral(this)}}class s extends n{constructor(o,h,H,L,x){super("binary"),this.op=o,this.arg1=h,this.arg2=H,this.min=L,this.max=x}visit(o){o.visitBinaryOperation(this)}}class r extends n{constructor(o,h){super("max"),this.arg=o,this.min=o.min,this.max=h}visit(o){o.visitMin(this)}}class l extends n{constructor(o,h,H){super("var"),this.index=o,this.min=h,this.max=H}visit(o){o.visitVariable(this)}}class c extends n{constructor(o,h){super("definition"),this.variable=o,this.arg=h}visit(o){o.visitVariableDefinition(this)}}class d{constructor(){this.parts=[]}visitArgument(o){this.parts.push("Math.max(",o.min,", Math.min(",o.max,", src[srcOffset + ",o.index,"]))")}visitVariable(o){this.parts.push("v",o.index)}visitLiteral(o){this.parts.push(o.number)}visitBinaryOperation(o){this.parts.push("("),o.arg1.visit(this),this.parts.push(" ",o.op," "),o.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(o){this.parts.push("var "),o.variable.visit(this),this.parts.push(" = "),o.arg.visit(this),this.parts.push(";")}visitMin(o){this.parts.push("Math.min("),o.arg.visit(this),this.parts.push(", ",o.max,")")}toString(){return this.parts.join("")}}function K(R,o){return o.type==="literal"&&o.number===0?R:R.type==="literal"&&R.number===0?o:o.type==="literal"&&R.type==="literal"?new p(R.number+o.number):new s("+",R,o,R.min+o.min,R.max+o.max)}function g(R,o){if(o.type==="literal"){if(o.number===0)return new p(0);if(o.number===1)return R;if(R.type==="literal")return new p(R.number*o.number)}if(R.type==="literal"){if(R.number===0)return new p(0);if(R.number===1)return o}const h=Math.min(R.min*o.min,R.min*o.max,R.max*o.min,R.max*o.max),H=Math.max(R.min*o.min,R.min*o.max,R.max*o.min,R.max*o.max);return new s("*",R,o,h,H)}function G(R,o){if(o.type==="literal"){if(o.number===0)return R;if(R.type==="literal")return new p(R.number-o.number)}return o.type==="binary"&&o.op==="-"&&R.type==="literal"&&R.number===1&&o.arg1.type==="literal"&&o.arg1.number===1?o.arg2:new s("-",R,o,R.min-o.max,R.max-o.min)}function O(R,o){return R.min>=o?new p(o):R.max<=o?R:new r(R,o)}class w{compile(o,h,H){const L=[],x=[],v=h.length>>1,F=H.length>>1;let k=0,U,ee,J,I,X,ne,P,V;for(let Z=0;Z<v;Z++)L.push(new u(Z,h[Z*2],h[Z*2+1]));for(let Z=0,q=o.length;Z<q;Z++){if(V=o[Z],typeof V=="number"){L.push(new p(V));continue}switch(V){case"add":if(L.length<2)return null;I=L.pop(),J=L.pop(),L.push(K(J,I));break;case"cvr":if(L.length<1)return null;break;case"mul":if(L.length<2)return null;I=L.pop(),J=L.pop(),L.push(g(J,I));break;case"sub":if(L.length<2)return null;I=L.pop(),J=L.pop(),L.push(G(J,I));break;case"exch":if(L.length<2)return null;X=L.pop(),ne=L.pop(),L.push(X,ne);break;case"pop":if(L.length<1)return null;L.pop();break;case"index":if(L.length<1||(J=L.pop(),J.type!=="literal")||(U=J.number,U<0||!Number.isInteger(U)||L.length<U))return null;if(X=L[L.length-U-1],X.type==="literal"||X.type==="var"){L.push(X);break}P=new l(k++,X.min,X.max),L[L.length-U-1]=P,L.push(P),x.push(new c(P,X));break;case"dup":if(L.length<1)return null;if(typeof o[Z+1]=="number"&&o[Z+2]==="gt"&&o[Z+3]===Z+7&&o[Z+4]==="jz"&&o[Z+5]==="pop"&&o[Z+6]===o[Z+1]){J=L.pop(),L.push(O(J,o[Z+1])),Z+=6;break}if(X=L.at(-1),X.type==="literal"||X.type==="var"){L.push(X);break}P=new l(k++,X.min,X.max),L[L.length-1]=P,L.push(P),x.push(new c(P,X));break;case"roll":if(L.length<2||(I=L.pop(),J=L.pop(),I.type!=="literal"||J.type!=="literal")||(ee=I.number,U=J.number,U<=0||!Number.isInteger(U)||!Number.isInteger(ee)||L.length<U))return null;if(ee=(ee%U+U)%U,ee===0)break;Array.prototype.push.apply(L,L.splice(L.length-U,U-ee));break;default:return null}}if(L.length!==F)return null;const Y=[];for(const Z of x){const q=new d;Z.visit(q),Y.push(q.toString())}for(let Z=0,q=L.length;Z<q;Z++){const M=L[Z],te=new d;M.visit(te);const W=H[Z*2],ae=H[Z*2+1],fe=[te.toString()];W>M.min&&(fe.unshift("Math.max(",W,", "),fe.push(")")),ae<M.max&&(fe.unshift("Math.min(",ae,", "),fe.push(")")),fe.unshift("dest[destOffset + ",Z,"] = "),fe.push(";"),Y.push(fe.join(""))}return Y.join(`
`)}}A.PostScriptCompiler=w},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PostScriptParser=A.PostScriptLexer=void 0;var t=se(2),m=se(5),ie=se(6);class z{constructor(E){this.lexer=E,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(E){return this.token.type===E?(this.nextToken(),!0):!1}expect(E){if(this.accept(E))return!0;throw new t.FormatError(`Unexpected symbol: found ${this.token.type} expected ${E}.`)}parse(){return this.nextToken(),this.expect(e.LBRACE),this.parseBlock(),this.expect(e.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(e.NUMBER))this.operators.push(this.prev.value);else if(this.accept(e.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(e.LBRACE))this.parseCondition();else return}parseCondition(){const E=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(e.RBRACE),this.accept(e.IF))this.operators[E]=this.operators.length,this.operators[E+1]="jz";else if(this.accept(e.LBRACE)){const _=this.operators.length;this.operators.push(null,null);const y=this.operators.length;this.parseBlock(),this.expect(e.RBRACE),this.expect(e.IFELSE),this.operators[_]=this.operators.length,this.operators[_+1]="j",this.operators[E]=y,this.operators[E+1]="jz"}else throw new t.FormatError("PS Function: error parsing conditional.")}}A.PostScriptParser=z;const e={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class j{static get opCache(){return(0,t.shadow)(this,"opCache",Object.create(null))}constructor(E,_){this.type=E,this.value=_}static getOperator(E){const _=j.opCache[E];return _||(j.opCache[E]=new j(e.OPERATOR,E))}static get LBRACE(){return(0,t.shadow)(this,"LBRACE",new j(e.LBRACE,"{"))}static get RBRACE(){return(0,t.shadow)(this,"RBRACE",new j(e.RBRACE,"}"))}static get IF(){return(0,t.shadow)(this,"IF",new j(e.IF,"IF"))}static get IFELSE(){return(0,t.shadow)(this,"IFELSE",new j(e.IFELSE,"IFELSE"))}}class f{constructor(E){this.stream=E,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let E=!1,_=this.currentChar;for(;;){if(_<0)return m.EOF;if(E)(_===10||_===13)&&(E=!1);else if(_===37)E=!0;else if(!(0,ie.isWhiteSpace)(_))break;_=this.nextChar()}switch(_|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new j(e.NUMBER,this.getNumber());case 123:return this.nextChar(),j.LBRACE;case 125:return this.nextChar(),j.RBRACE}const y=this.strBuf;for(y.length=0,y[0]=String.fromCharCode(_);(_=this.nextChar())>=0&&(_>=65&&_<=90||_>=97&&_<=122);)y.push(String.fromCharCode(_));const n=y.join("");switch(n.toLowerCase()){case"if":return j.IF;case"ifelse":return j.IFELSE;default:return j.getOperator(n)}}getNumber(){let E=this.currentChar;const _=this.strBuf;for(_.length=0,_[0]=String.fromCharCode(E);(E=this.nextChar())>=0&&(E>=48&&E<=57||E===45||E===46);)_.push(String.fromCharCode(E));const y=parseFloat(_.join(""));if(isNaN(y))throw new t.FormatError(`Invalid floating point number: ${y}`);return y}}A.PostScriptLexer=f},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.LocalTilingPatternCache=A.LocalImageCache=A.LocalGStateCache=A.LocalFunctionCache=A.LocalColorSpaceCache=A.GlobalImageCache=void 0;var t=se(2),m=se(5);class ie{constructor(y){this.constructor===ie&&(0,t.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(y&&y.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new m.RefSetCache}getByName(y){this._onlyRefs&&(0,t.unreachable)("Should not call `getByName` method.");const n=this._nameRefMap.get(y);return n?this.getByRef(n):this._imageMap.get(y)||null}getByRef(y){return this._imageCache.get(y)||null}set(y,n,u){(0,t.unreachable)("Abstract method `set` called.")}}class z extends ie{set(y,n=null,u){if(typeof y!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(n){if(this._imageCache.has(n))return;this._nameRefMap.set(y,n),this._imageCache.put(n,u);return}this._imageMap.has(y)||this._imageMap.set(y,u)}}A.LocalImageCache=z;class e extends ie{set(y=null,n=null,u){if(typeof y!="string"&&!n)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(n){if(this._imageCache.has(n))return;y!==null&&this._nameRefMap.set(y,n),this._imageCache.put(n,u);return}this._imageMap.has(y)||this._imageMap.set(y,u)}}A.LocalColorSpaceCache=e;class j extends ie{constructor(y){super({onlyRefs:!0})}set(y=null,n,u){if(!n)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(n)||this._imageCache.put(n,u)}}A.LocalFunctionCache=j;class f extends ie{set(y,n=null,u){if(typeof y!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(n){if(this._imageCache.has(n))return;this._nameRefMap.set(y,n),this._imageCache.put(n,u);return}this._imageMap.has(y)||this._imageMap.set(y,u)}}A.LocalGStateCache=f;class T extends ie{constructor(y){super({onlyRefs:!0})}set(y=null,n,u){if(!n)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(n)||this._imageCache.put(n,u)}}A.LocalTilingPatternCache=T;class E{static get NUM_PAGES_THRESHOLD(){return(0,t.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,t.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,t.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new m.RefSetCache,this._imageCache=new m.RefSetCache}get _byteSize(){let y=0;for(const n of this._imageCache)y+=n.byteSize;return y}get _cacheLimitReached(){return!(this._imageCache.size<E.MIN_IMAGES_TO_CACHE||this._byteSize<E.MAX_BYTE_SIZE)}shouldCache(y,n){const u=this._refCache.get(y);return!((u?u.size+(u.has(n)?0:1):1)<E.NUM_PAGES_THRESHOLD||!this._imageCache.has(y)&&this._cacheLimitReached)}addPageIndex(y,n){let u=this._refCache.get(y);u||(u=new Set,this._refCache.put(y,u)),u.add(n)}addByteSize(y,n){const u=this._imageCache.get(y);u&&(u.byteSize||(u.byteSize=n))}getData(y,n){const u=this._refCache.get(y);if(!u||u.size<E.NUM_PAGES_THRESHOLD)return null;const p=this._imageCache.get(y);return p?(u.add(n),p):null}setData(y,n){if(!this._refCache.has(y))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');if(!this._imageCache.has(y)){if(this._cacheLimitReached){(0,t.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(y,n)}}clear(y=!1){y||this._refCache.clear(),this._imageCache.clear()}}A.GlobalImageCache=E},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.bidi=n;var t=se(2);const m=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],ie=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function z(u){return(u&1)!==0}function e(u){return(u&1)===0}function j(u,p,s){let r,l;for(r=p,l=u.length;r<l;++r)if(u[r]!==s)return r;return r}function f(u,p,s,r){for(let l=p;l<s;++l)u[l]=r}function T(u,p,s){for(let r=p,l=s-1;r<l;++r,--l){const c=u[r];u[r]=u[l],u[l]=c}}function E(u,p,s=!1){let r="ltr";return s?r="ttb":p||(r="rtl"),{str:u,dir:r}}const _=[],y=[];function n(u,p=-1,s=!1){let r=!0;const l=u.length;if(l===0||s)return E(u,r,s);_.length=l,y.length=l;let c=0,d,K;for(d=0;d<l;++d){_[d]=u.charAt(d);const x=u.charCodeAt(d);let v="L";x<=255?v=m[x]:1424<=x&&x<=1524?v="R":1536<=x&&x<=1791?(v=ie[x&255],v||(0,t.warn)("Bidi: invalid Unicode character "+x.toString(16))):1792<=x&&x<=2220&&(v="AL"),(v==="R"||v==="AL"||v==="AN")&&c++,y[d]=v}if(c===0)return r=!0,E(u,r);p===-1&&(c/l<.3&&l>4?(r=!0,p=0):(r=!1,p=1));const g=[];for(d=0;d<l;++d)g[d]=p;const G=z(p)?"R":"L",O=G,w=O;let R=O;for(d=0;d<l;++d)y[d]==="NSM"?y[d]=R:R=y[d];R=O;let o;for(d=0;d<l;++d)o=y[d],o==="EN"?y[d]=R==="AL"?"AN":"EN":(o==="R"||o==="L"||o==="AL")&&(R=o);for(d=0;d<l;++d)o=y[d],o==="AL"&&(y[d]="R");for(d=1;d<l-1;++d)y[d]==="ES"&&y[d-1]==="EN"&&y[d+1]==="EN"&&(y[d]="EN"),y[d]==="CS"&&(y[d-1]==="EN"||y[d-1]==="AN")&&y[d+1]===y[d-1]&&(y[d]=y[d-1]);for(d=0;d<l;++d)if(y[d]==="EN"){for(let x=d-1;x>=0&&y[x]==="ET";--x)y[x]="EN";for(let x=d+1;x<l&&y[x]==="ET";++x)y[x]="EN"}for(d=0;d<l;++d)o=y[d],(o==="WS"||o==="ES"||o==="ET"||o==="CS")&&(y[d]="ON");for(R=O,d=0;d<l;++d)o=y[d],o==="EN"?y[d]=R==="L"?"L":"EN":(o==="R"||o==="L")&&(R=o);for(d=0;d<l;++d)if(y[d]==="ON"){const x=j(y,d+1,"ON");let v=O;d>0&&(v=y[d-1]);let F=w;x+1<l&&(F=y[x+1]),v!=="L"&&(v="R"),F!=="L"&&(F="R"),v===F&&f(y,d,x,v),d=x-1}for(d=0;d<l;++d)y[d]==="ON"&&(y[d]=G);for(d=0;d<l;++d)o=y[d],e(g[d])?o==="R"?g[d]+=1:(o==="AN"||o==="EN")&&(g[d]+=2):(o==="L"||o==="AN"||o==="EN")&&(g[d]+=1);let h=-1,H=99,L;for(d=0,K=g.length;d<K;++d)L=g[d],h<L&&(h=L),H>L&&z(L)&&(H=L);for(L=h;L>=H;--L){let x=-1;for(d=0,K=g.length;d<K;++d)g[d]<L?x>=0&&(T(_,x,d),x=-1):x<0&&(x=d);x>=0&&T(_,x,g.length)}for(d=0,K=_.length;d<K;++d){const x=_[d];(x==="<"||x===">")&&(_[d]="")}return E(_.join(""),r)}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.MurmurHash3_64=void 0;var t=se(2);const m=3285377520,ie=4294901760,z=65535;class e{constructor(f){this.h1=f?f&4294967295:m,this.h2=f?f&4294967295:m}update(f){let T,E;if(typeof f=="string"){T=new Uint8Array(f.length*2),E=0;for(let g=0,G=f.length;g<G;g++){const O=f.charCodeAt(g);O<=255?T[E++]=O:(T[E++]=O>>>8,T[E++]=O&255)}}else if((0,t.isArrayBuffer)(f))T=f.slice(),E=T.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const _=E>>2,y=E-_*4,n=new Uint32Array(T.buffer,0,_);let u=0,p=0,s=this.h1,r=this.h2;const l=3432918353,c=461845907,d=l&z,K=c&z;for(let g=0;g<_;g++)g&1?(u=n[g],u=u*l&ie|u*d&z,u=u<<15|u>>>17,u=u*c&ie|u*K&z,s^=u,s=s<<13|s>>>19,s=s*5+3864292196):(p=n[g],p=p*l&ie|p*d&z,p=p<<15|p>>>17,p=p*c&ie|p*K&z,r^=p,r=r<<13|r>>>19,r=r*5+3864292196);switch(u=0,y){case 3:u^=T[_*4+2]<<16;case 2:u^=T[_*4+1]<<8;case 1:u^=T[_*4],u=u*l&ie|u*d&z,u=u<<15|u>>>17,u=u*c&ie|u*K&z,_&1?s^=u:r^=u}this.h1=s,this.h2=r}hexdigest(){let f=this.h1,T=this.h2;f^=T>>>1,f=f*3981806797&ie|f*36045&z,T=T*4283543511&ie|((T<<16|f>>>16)*2950163797&ie)>>>16,f^=T>>>1,f=f*444984403&ie|f*60499&z,T=T*3301882366&ie|((T<<16|f>>>16)*3120437893&ie)>>>16,f^=T>>>1;const E=(f>>>0).toString(16),_=(T>>>0).toString(16);return E.padStart(8,"0")+_.padStart(8,"0")}}A.MurmurHash3_64=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.OperatorList=void 0;var t=se(2);function m(f,T,E,_,y){let n=f;for(let u=0,p=T.length-1;u<p;u++){const s=T[u];n=n[s]||(n[s]=[])}n[T.at(-1)]={checkFn:E,iterateFn:_,processFn:y}}const ie=[];m(ie,[t.OPS.save,t.OPS.transform,t.OPS.paintInlineImageXObject,t.OPS.restore],null,function(T,E){const _=T.fnArray,y=T.iCurr-3,n=(E-y)%4;switch(n){case 0:return _[E]===t.OPS.save;case 1:return _[E]===t.OPS.transform;case 2:return _[E]===t.OPS.paintInlineImageXObject;case 3:return _[E]===t.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${n}`)},function(T,E){const p=T.fnArray,s=T.argsArray,r=T.iCurr,l=r-3,c=r-2,d=r-1,K=Math.min(Math.floor((E-l)/4),200);if(K<10)return E-(E-l)%4;let g=0;const G=[];let O=0,w=1,R=1;for(let x=0;x<K;x++){const v=s[c+(x<<2)],F=s[d+(x<<2)][0];w+F.width>1e3&&(g=Math.max(g,w),R+=O+2,w=0,O=0),G.push({transform:v,x:w,y:R,w:F.width,h:F.height}),w+=F.width+2,O=Math.max(O,F.height)}const o=Math.max(g,w)+1,h=R+O+1,H=new Uint8Array(o*h*4),L=o<<2;for(let x=0;x<K;x++){const v=s[d+(x<<2)][0].data,F=G[x].w<<2;let k=0,U=G[x].x+G[x].y*o<<2;H.set(v.subarray(0,F),U-L);for(let ee=0,J=G[x].h;ee<J;ee++)H.set(v.subarray(k,k+F),U),k+=F,U+=L;for(H.set(v.subarray(k-F,k),U);U>=0;)v[U-4]=v[U],v[U-3]=v[U+1],v[U-2]=v[U+2],v[U-1]=v[U+3],v[U+F]=v[U+F-4],v[U+F+1]=v[U+F-3],v[U+F+2]=v[U+F-2],v[U+F+3]=v[U+F-1],U-=L}return p.splice(l,K*4,t.OPS.paintInlineImageXObjectGroup),s.splice(l,K*4,[{width:o,height:h,kind:t.ImageKind.RGBA_32BPP,data:H},G]),l+1}),m(ie,[t.OPS.save,t.OPS.transform,t.OPS.paintImageMaskXObject,t.OPS.restore],null,function(T,E){const _=T.fnArray,y=T.iCurr-3,n=(E-y)%4;switch(n){case 0:return _[E]===t.OPS.save;case 1:return _[E]===t.OPS.transform;case 2:return _[E]===t.OPS.paintImageMaskXObject;case 3:return _[E]===t.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${n}`)},function(T,E){const u=T.fnArray,p=T.argsArray,s=T.iCurr,r=s-3,l=s-2,c=s-1;let d=Math.floor((E-r)/4);if(d<10)return E-(E-r)%4;let K=!1,g,G;const O=p[c][0],w=p[l][0],R=p[l][1],o=p[l][2],h=p[l][3];if(R===o){K=!0,g=l+4;let H=c+4;for(let L=1;L<d;L++,g+=4,H+=4)if(G=p[g],p[H][0]!==O||G[0]!==w||G[1]!==R||G[2]!==o||G[3]!==h){L<10?K=!1:d=L;break}}if(K){d=Math.min(d,1e3);const H=new Float32Array(d*2);g=l;for(let L=0;L<d;L++,g+=4)G=p[g],H[L<<1]=G[4],H[(L<<1)+1]=G[5];u.splice(r,d*4,t.OPS.paintImageMaskXObjectRepeat),p.splice(r,d*4,[O,w,R,o,h,H])}else{d=Math.min(d,100);const H=[];for(let L=0;L<d;L++){G=p[l+(L<<2)];const x=p[c+(L<<2)][0];H.push({data:x.data,width:x.width,height:x.height,interpolate:x.interpolate,count:x.count,transform:G})}u.splice(r,d*4,t.OPS.paintImageMaskXObjectGroup),p.splice(r,d*4,[H])}return r+1}),m(ie,[t.OPS.save,t.OPS.transform,t.OPS.paintImageXObject,t.OPS.restore],function(f){const T=f.argsArray,E=f.iCurr-2;return T[E][1]===0&&T[E][2]===0},function(T,E){const _=T.fnArray,y=T.argsArray,n=T.iCurr-3,u=(E-n)%4;switch(u){case 0:return _[E]===t.OPS.save;case 1:if(_[E]!==t.OPS.transform)return!1;const p=T.iCurr-2,s=y[p][0],r=y[p][3];return!(y[E][0]!==s||y[E][1]!==0||y[E][2]!==0||y[E][3]!==r);case 2:if(_[E]!==t.OPS.paintImageXObject)return!1;const l=T.iCurr-1,c=y[l][0];return y[E][0]===c;case 3:return _[E]===t.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${u}`)},function(f,T){const y=f.fnArray,n=f.argsArray,u=f.iCurr,p=u-3,s=u-2,r=u-1,l=n[r][0],c=n[s][0],d=n[s][3],K=Math.min(Math.floor((T-p)/4),1e3);if(K<3)return T-(T-p)%4;const g=new Float32Array(K*2);let G=s;for(let w=0;w<K;w++,G+=4){const R=n[G];g[w<<1]=R[4],g[(w<<1)+1]=R[5]}const O=[l,c,d,g];return y.splice(p,K*4,t.OPS.paintImageXObjectRepeat),n.splice(p,K*4,O),p+1}),m(ie,[t.OPS.beginText,t.OPS.setFont,t.OPS.setTextMatrix,t.OPS.showText,t.OPS.endText],null,function(T,E){const _=T.fnArray,y=T.argsArray,n=T.iCurr-4,u=(E-n)%5;switch(u){case 0:return _[E]===t.OPS.beginText;case 1:return _[E]===t.OPS.setFont;case 2:return _[E]===t.OPS.setTextMatrix;case 3:if(_[E]!==t.OPS.showText)return!1;const p=T.iCurr-3,s=y[p][0],r=y[p][1];return!(y[E][0]!==s||y[E][1]!==r);case 4:return _[E]===t.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${u}`)},function(f,T){const y=f.fnArray,n=f.argsArray,u=f.iCurr,p=u-4,s=u-3,r=u-2,l=u-1,c=u,d=n[s][0],K=n[s][1];let g=Math.min(Math.floor((T-p)/5),1e3);if(g<3)return T-(T-p)%5;let G=p;p>=4&&y[p-4]===y[s]&&y[p-3]===y[r]&&y[p-2]===y[l]&&y[p-1]===y[c]&&n[p-4][0]===d&&n[p-4][1]===K&&(g++,G-=5);let O=G+4;for(let w=1;w<g;w++)y.splice(O,3),n.splice(O,3),O+=2;return O+1});class z{constructor(T){this.queue=T}_optimize(){}push(T,E){this.queue.fnArray.push(T),this.queue.argsArray.push(E),this._optimize()}flush(){}reset(){}}class e extends z{constructor(T){super(T),this.state=null,this.context={iCurr:0,fnArray:T.fnArray,argsArray:T.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const T=this.queue.fnArray;let E=this.lastProcessed,_=T.length,y=this.state,n=this.match;if(!y&&!n&&E+1===_&&!ie[T[E]]){this.lastProcessed=_;return}const u=this.context;for(;E<_;){if(n){if((0,n.iterateFn)(u,E)){E++;continue}if(E=(0,n.processFn)(u,E+1),_=T.length,n=null,y=null,E>=_)break}if(y=(y||ie)[T[E]],!y||Array.isArray(y)){E++;continue}if(u.iCurr=E,E++,y.checkFn&&!(0,y.checkFn)(u)){y=null;continue}n=y,y=null}this.state=y,this.match=n,this.lastProcessed=E}flush(){for(;this.match;){const T=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,T),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class j{static get CHUNK_SIZE(){return(0,t.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,t.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(T=0,E){this._streamSink=E,this.fnArray=[],this.argsArray=[],E&&!(T&t.RenderingIntentFlag.OPLIST)?this.optimizer=new e(this):this.optimizer=new z(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=E?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(T,E){this.optimizer.push(T,E),this.weight++,this._streamSink&&(this.weight>=j.CHUNK_SIZE?this.flush():this.weight>=j.CHUNK_SIZE_ABOUT&&(T===t.OPS.restore||T===t.OPS.endText)&&this.flush())}addImageOps(T,E,_){_!==void 0&&this.addOp(t.OPS.beginMarkedContentProps,["OC",_]),this.addOp(T,E),_!==void 0&&this.addOp(t.OPS.endMarkedContent,[])}addDependency(T){this.dependencies.has(T)||(this.dependencies.add(T),this.addOp(t.OPS.dependency,[T]))}addDependencies(T){for(const E of T)this.addDependency(E)}addOpList(T){if(!(T instanceof j)){(0,t.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const E of T.dependencies)this.dependencies.add(E);for(let E=0,_=T.length;E<_;E++)this.addOp(T.fnArray[E],T.argsArray[E])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const T=[],{fnArray:E,argsArray:_,length:y}=this;for(let n=0;n<y;n++)switch(E[n]){case t.OPS.paintInlineImageXObject:case t.OPS.paintInlineImageXObjectGroup:case t.OPS.paintImageMaskXObject:const u=_[n][0];!u.cached&&u.data&&u.data.buffer instanceof ArrayBuffer&&T.push(u.data.buffer);break}return T}flush(T=!1,E=null){this.optimizer.flush();const _=this.length;this._totalLength+=_,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:T,separateAnnots:E,length:_},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}A.OperatorList=j},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFImage=void 0;var t=se(2),m=se(64),ie=se(7),z=se(14),e=se(19),j=se(27),f=se(30),T=se(5);function E(n,u,p,s){return n=u+n*p,n<0?n=0:n>s&&(n=s),n}function _(n,u,p,s,r,l){const c=r*l;let d;u<=8?d=new Uint8Array(c):u<=16?d=new Uint16Array(c):d=new Uint32Array(c);const K=p/r,g=s/l;let G,O,w,R=0,o;const h=new Uint16Array(r),H=p;for(G=0;G<r;G++)h[G]=Math.floor(G*K);for(G=0;G<l;G++)for(w=Math.floor(G*g)*H,O=0;O<r;O++)o=w+h[O],d[R++]=n[o];return d}class y{constructor({xref:u,res:p,image:s,isInline:r=!1,smask:l=null,mask:c=null,isMask:d=!1,pdfFunctionFactory:K,localColorSpaceCache:g}){this.image=s;const G=s.dict,O=G.get("F","Filter");let w;if(O instanceof T.Name)w=O.name;else if(Array.isArray(O)){const H=u.fetchIfRef(O[0]);H instanceof T.Name&&(w=H.name)}switch(w){case"JPXDecode":const H=new f.JpxImage;H.parseImageProperties(s.stream),s.stream.reset(),s.width=H.width,s.height=H.height,s.bitsPerComponent=H.bitsPerComponent,s.numComps=H.componentsCount;break;case"JBIG2Decode":s.bitsPerComponent=1,s.numComps=1;break}let R=G.get("W","Width"),o=G.get("H","Height");if(Number.isInteger(s.width)&&s.width>0&&Number.isInteger(s.height)&&s.height>0&&(s.width!==R||s.height!==o)&&((0,t.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),R=s.width,o=s.height),R<1||o<1)throw new t.FormatError(`Invalid image width: ${R} or height: ${o}`);this.width=R,this.height=o,this.interpolate=G.get("I","Interpolate"),this.imageMask=G.get("IM","ImageMask")||!1,this.matte=G.get("Matte")||!1;let h=s.bitsPerComponent;if(!h&&(h=G.get("BPC","BitsPerComponent"),!h))if(this.imageMask)h=1;else throw new t.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=h,!this.imageMask){let H=G.getRaw("CS")||G.getRaw("ColorSpace");if(!H)switch((0,t.info)("JPX images (which do not require color spaces)"),s.numComps){case 1:H=T.Name.get("DeviceGray");break;case 3:H=T.Name.get("DeviceRGB");break;case 4:H=T.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${s.numComps} color components not supported.`)}this.colorSpace=z.ColorSpace.parse({cs:H,xref:u,resources:r?p:null,pdfFunctionFactory:K,localColorSpaceCache:g}),this.numComps=this.colorSpace.numComps}if(this.decode=G.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,h)||d&&!z.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const H=(1<<h)-1;this.decodeCoefficients=[],this.decodeAddends=[];const L=this.colorSpace&&this.colorSpace.name==="Indexed";for(let x=0,v=0;x<this.decode.length;x+=2,++v){const F=this.decode[x],k=this.decode[x+1];this.decodeCoefficients[v]=L?(k-F)/H:k-F,this.decodeAddends[v]=L?F:H*F}}l?this.smask=new y({xref:u,res:p,image:l,isInline:r,pdfFunctionFactory:K,localColorSpaceCache:g}):c&&(c instanceof ie.BaseStream?c.dict.get("IM","ImageMask")?this.mask=new y({xref:u,res:p,image:c,isInline:r,isMask:!0,pdfFunctionFactory:K,localColorSpaceCache:g}):(0,t.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=c)}static async buildImage({xref:u,res:p,image:s,isInline:r=!1,pdfFunctionFactory:l,localColorSpaceCache:c}){const d=s;let K=null,g=null;const G=s.dict.get("SMask"),O=s.dict.get("Mask");return G?G instanceof ie.BaseStream?K=G:(0,t.warn)("Unsupported /SMask format."):O&&(O instanceof ie.BaseStream||Array.isArray(O)?g=O:(0,t.warn)("Unsupported /Mask format.")),new y({xref:u,res:p,image:d,isInline:r,smask:K,mask:g,pdfFunctionFactory:l,localColorSpaceCache:c})}static createRawMask({imgArray:u,width:p,height:s,imageIsFromDecodeStream:r,inverseDecode:l,interpolate:c}){const d=(p+7>>3)*s,K=u.byteLength,g=d===K;let G,O;if(r&&(!l||g)?G=u:l?(G=new Uint8Array(d),G.set(u),G.fill(255,K)):G=new Uint8Array(u),l)for(O=0;O<K;O++)G[O]^=255;return{data:G,width:p,height:s,interpolate:c}}static createMask({imgArray:u,width:p,height:s,imageIsFromDecodeStream:r,inverseDecode:l,interpolate:c}){const d=p===1&&s===1&&l===(u.length===0||!!(u[0]&128));if(d)return{isSingleOpaquePixel:d};if(t.FeatureTest.isOffscreenCanvasSupported){const K=new OffscreenCanvas(p,s),g=K.getContext("2d"),G=g.createImageData(p,s);(0,m.applyMaskImageData)({src:u,dest:G.data,width:p,height:s,inverseDecode:l}),g.putImageData(G,0,0);const O=K.transferToImageBitmap();return{data:null,width:p,height:s,interpolate:c,bitmap:O}}return this.createRawMask({imgArray:u,width:p,height:s,inverseDecode:l,imageIsFromDecodeStream:r,interpolate:c})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(u){const p=this.bpc,s=this.numComps,r=this.decodeAddends,l=this.decodeCoefficients,c=(1<<p)-1;let d,K;if(p===1){for(d=0,K=u.length;d<K;d++)u[d]=+!u[d];return}let g=0;for(d=0,K=this.width*this.height;d<K;d++)for(let G=0;G<s;G++)u[g]=E(u[g],r[G],l[G],c),g++}getComponents(u){const p=this.bpc;if(p===8)return u;const s=this.width,r=this.height,l=this.numComps,c=s*r*l;let d=0,K;p<=8?K=new Uint8Array(c):p<=16?K=new Uint16Array(c):K=new Uint32Array(c);const g=s*l,G=(1<<p)-1;let O=0,w,R;if(p===1){let o,h,H;for(let L=0;L<r;L++){for(h=O+(g&-8),H=O+g;O<h;)R=u[d++],K[O]=R>>7&1,K[O+1]=R>>6&1,K[O+2]=R>>5&1,K[O+3]=R>>4&1,K[O+4]=R>>3&1,K[O+5]=R>>2&1,K[O+6]=R>>1&1,K[O+7]=R&1,O+=8;if(O<H)for(R=u[d++],o=128;O<H;)K[O++]=+!!(R&o),o>>=1}}else{let o=0;for(R=0,O=0,w=c;O<w;++O){for(O%g===0&&(R=0,o=0);o<p;)R=R<<8|u[d++],o+=8;const h=o-p;let H=R>>h;H<0?H=0:H>G&&(H=G),K[O]=H,R&=(1<<h)-1,o=h}}return K}fillOpacity(u,p,s,r,l){const c=this.smask,d=this.mask;let K,g,G,O,w,R;if(c)g=c.width,G=c.height,K=new Uint8ClampedArray(g*G),c.fillGrayBuffer(K),(g!==p||G!==s)&&(K=_(K,c.bpc,g,G,p,s));else if(d)if(d instanceof y){for(g=d.width,G=d.height,K=new Uint8ClampedArray(g*G),d.numComps=1,d.fillGrayBuffer(K),O=0,w=g*G;O<w;++O)K[O]=255-K[O];(g!==p||G!==s)&&(K=_(K,d.bpc,g,G,p,s))}else if(Array.isArray(d)){K=new Uint8ClampedArray(p*s);const o=this.numComps;for(O=0,w=p*s;O<w;++O){let h=0;const H=O*o;for(R=0;R<o;++R){const L=l[H+R],x=R*2;if(L<d[x]||L>d[x+1]){h=255;break}}K[O]=h}}else throw new t.FormatError("Unknown mask format.");if(K)for(O=0,R=3,w=p*r;O<w;++O,R+=4)u[R]=K[O];else for(O=0,R=3,w=p*r;O<w;++O,R+=4)u[R]=255}undoPreblend(u,p,s){const r=this.smask&&this.smask.matte;if(!r)return;const l=this.colorSpace.getRgb(r,0),c=l[0],d=l[1],K=l[2],g=p*s*4;for(let G=0;G<g;G+=4){const O=u[G+3];if(O===0){u[G]=255,u[G+1]=255,u[G+2]=255;continue}const w=255/O;u[G]=(u[G]-c)*w+c,u[G+1]=(u[G+1]-d)*w+d,u[G+2]=(u[G+2]-K)*w+K}}createImageData(u=!1){const p=this.drawWidth,s=this.drawHeight,r={width:p,height:s,interpolate:this.interpolate,kind:0,data:null},l=this.numComps,c=this.width,d=this.height,K=this.bpc,g=c*l*K+7>>3;if(!u){let h;if(this.colorSpace.name==="DeviceGray"&&K===1?h=t.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&K===8&&!this.needsDecode&&(h=t.ImageKind.RGB_24BPP),h&&!this.smask&&!this.mask&&p===c&&s===d){if(r.kind=h,r.data=this.getImageBytes(d*g,{}),this.needsDecode){(0,t.assert)(h===t.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const H=r.data;for(let L=0,x=H.length;L<x;L++)H[L]^=255}return r}if(this.image instanceof j.JpegStream&&!this.smask&&!this.mask){let H=d*g;switch(this.colorSpace.name){case"DeviceGray":H*=3;case"DeviceRGB":case"DeviceCMYK":return r.kind=t.ImageKind.RGB_24BPP,r.data=this.getImageBytes(H,{drawWidth:p,drawHeight:s,forceRGB:!0}),r}}}const G=this.getImageBytes(d*g,{internal:!0}),O=0|G.length/g*s/d,w=this.getComponents(G);let R,o;return!u&&!this.smask&&!this.mask?(r.kind=t.ImageKind.RGB_24BPP,r.data=new Uint8ClampedArray(p*s*3),R=0,o=!1):(r.kind=t.ImageKind.RGBA_32BPP,r.data=new Uint8ClampedArray(p*s*4),R=1,o=!0,this.fillOpacity(r.data,p,s,O,w)),this.needsDecode&&this.decodeBuffer(w),this.colorSpace.fillRgb(r.data,c,d,p,s,O,K,w,R),o&&this.undoPreblend(r.data,p,O),r}fillGrayBuffer(u){const p=this.numComps;if(p!==1)throw new t.FormatError(`Reading gray scale from a color image: ${p}`);const s=this.width,r=this.height,l=this.bpc,c=s*p*l+7>>3,d=this.getImageBytes(r*c,{internal:!0}),K=this.getComponents(d);let g,G;if(l===1){if(G=s*r,this.needsDecode)for(g=0;g<G;++g)u[g]=K[g]-1&255;else for(g=0;g<G;++g)u[g]=-K[g]&255;return}this.needsDecode&&this.decodeBuffer(K),G=s*r;const O=255/((1<<l)-1);for(g=0;g<G;++g)u[g]=O*K[g]}getImageBytes(u,{drawWidth:p,drawHeight:s,forceRGB:r=!1,internal:l=!1}){this.image.reset(),this.image.drawWidth=p||this.width,this.image.drawHeight=s||this.height,this.image.forceRGB=!!r;const c=this.image.getBytes(u);return l||this.image instanceof e.DecodeStream?c:((0,t.assert)(c instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(c))}}A.PDFImage=y},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.applyMaskImageData=m;var t=se(2);function m({src:ie,srcPos:z=0,dest:e,destPos:j=0,width:f,height:T,inverseDecode:E=!1}){const _=t.FeatureTest.isLittleEndian?4278190080:255,[y,n]=E?[0,_]:[_,0],u=f>>3,p=f&7,s=ie.length;e=new Uint32Array(e.buffer);for(let r=0;r<T;r++){for(const c=z+u;z<c;z++){const d=z<s?ie[z]:255;e[j++]=d&128?n:y,e[j++]=d&64?n:y,e[j++]=d&32?n:y,e[j++]=d&16?n:y,e[j++]=d&8?n:y,e[j++]=d&4?n:y,e[j++]=d&2?n:y,e[j++]=d&1?n:y}if(p===0)continue;const l=z<s?ie[z++]:255;for(let c=0;c<p;c++)e[j++]=l&1<<7-c?n:y}return{srcPos:z,destPos:j}}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.incrementalUpdate=l,A.writeDict=T,A.writeObject=f;var t=se(2),m=se(5),ie=se(6),z=se(66),e=se(7),j=se(67);function f(c,d,K,g){K.push(`${c.num} ${c.gen} obj
`),d instanceof m.Dict?T(d,K,g):d instanceof e.BaseStream&&E(d,K,g),K.push(`
endobj
`)}function T(c,d,K){d.push("<<");for(const g of c.getKeys())d.push(` /${(0,ie.escapePDFName)(g)} `),y(c.getRaw(g),d,K);d.push(">>")}function E(c,d,K){T(c.dict,d,K),d.push(` stream
`);let g=c.getString();K!==null&&(g=K.encryptString(g)),d.push(g,`
endstream
`)}function _(c,d,K){d.push("[");let g=!0;for(const G of c)g?g=!1:d.push(" "),y(G,d,K);d.push("]")}function y(c,d,K){c instanceof m.Name?d.push(`/${(0,ie.escapePDFName)(c.name)}`):c instanceof m.Ref?d.push(`${c.num} ${c.gen} R`):Array.isArray(c)?_(c,d,K):typeof c=="string"?(K!==null&&(c=K.encryptString(c)),d.push(`(${(0,t.escapeString)(c)})`)):typeof c=="number"?d.push((0,ie.numberToString)(c)):typeof c=="boolean"?d.push(c.toString()):c instanceof m.Dict?T(c,d,K):c instanceof e.BaseStream?E(c,d,K):c===null?d.push("null"):(0,t.warn)(`Unhandled value in writer: ${typeof c}, please file a bug.`)}function n(c,d,K,g){for(let G=d+K-1;G>K-1;G--)g[G]=c&255,c>>=8;return K+d}function u(c,d,K){for(let g=0,G=c.length;g<G;g++)K[d+g]=c.charCodeAt(g)&255}function p(c,d){const K=Math.floor(Date.now()/1e3),g=d.filename||"",G=[K.toString(),g,c.toString()];let O=G.reduce((o,h)=>o+h.length,0);for(const o of Object.values(d.info))G.push(o),O+=o.length;const w=new Uint8Array(O);let R=0;for(const o of G)u(o,R,w),R+=o.length;return(0,t.bytesToString)((0,j.calculateMD5)(w))}function s(c,d){const K=new z.SimpleXMLParser({hasAttributes:!0}).parseFromString(c);for(const{xfa:G}of d){if(!G)continue;const{path:O,value:w}=G;if(!O)continue;const R=K.documentElement.searchNode((0,ie.parseXFAPath)(O),0);R?Array.isArray(w)?R.childNodes=w.map(o=>new z.SimpleDOMNode("value",o)):R.childNodes=[new z.SimpleDOMNode("#text",w)]:(0,t.warn)(`Node not found for path: ${O}`)}const g=[];return K.documentElement.dump(g),g.join("")}function r({xfaData:c,xfaDatasetsRef:d,hasXfaDatasetsEntry:K,acroFormRef:g,acroForm:G,newRefs:O,xref:w,xrefInfo:R}){if(w===null)return;if(!K){if(!g){(0,t.warn)("XFA - Cannot save it");return}const H=G.get("XFA"),L=H.slice();L.splice(2,0,"datasets"),L.splice(3,0,d),G.set("XFA",L);const x=w.encrypt;let v=null;x&&(v=x.createCipherTransform(g.num,g.gen));const F=[`${g.num} ${g.gen} obj
`];T(G,F,v),F.push(`
`),G.set("XFA",H),O.push({ref:g,data:F.join("")})}if(c===null){const H=w.fetchIfRef(d);c=s(H.getString(),O)}const o=w.encrypt;o&&(c=o.createCipherTransform(d.num,d.gen).encryptString(c));const h=`${d.num} ${d.gen} obj
<< /Type /EmbeddedFile /Length ${c.length}>>
stream
`+c+`
endstream
endobj
`;O.push({ref:d,data:h})}function l({originalData:c,xrefInfo:d,newRefs:K,xref:g=null,hasXfa:G=!1,xfaDatasetsRef:O=null,hasXfaDatasetsEntry:w=!1,acroFormRef:R=null,acroForm:o=null,xfaData:h=null}){G&&r({xfaData:h,xfaDatasetsRef:O,hasXfaDatasetsEntry:w,acroFormRef:R,acroForm:o,newRefs:K,xref:g,xrefInfo:d});const H=new m.Dict(null),L=d.newRef;let x,v;const F=c.at(-1);F===10||F===13?(x=[],v=c.length):(x=[`
`],v=c.length+1),H.set("Size",L.num+1),H.set("Prev",d.startXRef),H.set("Type",m.Name.get("XRef")),d.rootRef!==null&&H.set("Root",d.rootRef),d.infoRef!==null&&H.set("Info",d.infoRef),d.encryptRef!==null&&H.set("Encrypt",d.encryptRef),K.push({ref:L,data:""}),K=K.sort((q,M)=>q.ref.num-M.ref.num);const k=[[0,1,65535]],U=[0,1];let ee=0;for(const{ref:q,data:M}of K)ee=Math.max(ee,v),k.push([1,v,Math.min(q.gen,65535)]),v+=M.length,U.push(q.num,1),x.push(M);if(H.set("Index",U),Array.isArray(d.fileIds)&&d.fileIds.length>0){const q=p(v,d);H.set("ID",[d.fileIds[0],q])}const I=[1,Math.ceil(Math.log2(ee)/8),2],ne=(I[0]+I[1]+I[2])*k.length;H.set("W",I),H.set("Length",ne),x.push(`${L.num} ${L.gen} obj
`),T(H,x,null),x.push(` stream
`);const P=x.reduce((q,M)=>q+M.length,0),V=`
endstream
endobj
startxref
${v}
%%EOF
`,Y=new Uint8Array(c.length+P+ne+V.length);Y.set(c);let Z=c.length;for(const q of x)u(q,Z,Y),Z+=q.length;for(const[q,M,te]of k)Z=n(q,I[0],Z,Y),Z=n(M,I[1],Z,Y),Z=n(te,I[2],Z,Y);return u(V,Z,Y),Y}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XMLParserErrorCode=A.XMLParserBase=A.SimpleXMLParser=A.SimpleDOMNode=void 0;var t=se(6);const m={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};A.XMLParserErrorCode=m;function ie(T,E){const _=T[E];return _===" "||_===`
`||_==="\r"||_==="	"}function z(T){for(let E=0,_=T.length;E<_;E++)if(!ie(T,E))return!1;return!0}class e{_resolveEntities(E){return E.replace(/&([^;]+);/g,(_,y)=>{if(y.substring(0,2)==="#x")return String.fromCodePoint(parseInt(y.substring(2),16));if(y.substring(0,1)==="#")return String.fromCodePoint(parseInt(y.substring(1),10));switch(y){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(y)})}_parseContent(E,_){const y=[];let n=_;function u(){for(;n<E.length&&ie(E,n);)++n}for(;n<E.length&&!ie(E,n)&&E[n]!==">"&&E[n]!=="/";)++n;const p=E.substring(_,n);for(u();n<E.length&&E[n]!==">"&&E[n]!=="/"&&E[n]!=="?";){u();let s="",r="";for(;n<E.length&&!ie(E,n)&&E[n]!=="=";)s+=E[n],++n;if(u(),E[n]!=="=")return null;++n,u();const l=E[n];if(l!=='"'&&l!=="'")return null;const c=E.indexOf(l,++n);if(c<0)return null;r=E.substring(n,c),y.push({name:s,value:this._resolveEntities(r)}),n=c+1,u()}return{name:p,attributes:y,parsed:n-_}}_parseProcessingInstruction(E,_){let y=_;function n(){for(;y<E.length&&ie(E,y);)++y}for(;y<E.length&&!ie(E,y)&&E[y]!==">"&&E[y]!=="?"&&E[y]!=="/";)++y;const u=E.substring(_,y);n();const p=y;for(;y<E.length&&(E[y]!=="?"||E[y+1]!==">");)++y;const s=E.substring(p,y);return{name:u,value:s,parsed:y-_}}parseXml(E){let _=0;for(;_<E.length;){const y=E[_];let n=_;if(y==="<"){++n;const u=E[n];let p;switch(u){case"/":if(++n,p=E.indexOf(">",n),p<0){this.onError(m.UnterminatedElement);return}this.onEndElement(E.substring(n,p)),n=p+1;break;case"?":++n;const s=this._parseProcessingInstruction(E,n);if(E.substring(n+s.parsed,n+s.parsed+2)!=="?>"){this.onError(m.UnterminatedXmlDeclaration);return}this.onPi(s.name,s.value),n+=s.parsed+2;break;case"!":if(E.substring(n+1,n+3)==="--"){if(p=E.indexOf("-->",n+3),p<0){this.onError(m.UnterminatedComment);return}this.onComment(E.substring(n+3,p)),n=p+3}else if(E.substring(n+1,n+8)==="[CDATA["){if(p=E.indexOf("]]>",n+8),p<0){this.onError(m.UnterminatedCdat);return}this.onCdata(E.substring(n+8,p)),n=p+3}else if(E.substring(n+1,n+8)==="DOCTYPE"){const c=E.indexOf("[",n+8);let d=!1;if(p=E.indexOf(">",n+8),p<0){this.onError(m.UnterminatedDoctypeDeclaration);return}if(c>0&&p>c){if(p=E.indexOf("]>",n+8),p<0){this.onError(m.UnterminatedDoctypeDeclaration);return}d=!0}const K=E.substring(n+8,p+(d?1:0));this.onDoctype(K),n=p+(d?2:1)}else{this.onError(m.MalformedElement);return}break;default:const r=this._parseContent(E,n);if(r===null){this.onError(m.MalformedElement);return}let l=!1;if(E.substring(n+r.parsed,n+r.parsed+2)==="/>")l=!0;else if(E.substring(n+r.parsed,n+r.parsed+1)!==">"){this.onError(m.UnterminatedElement);return}this.onBeginElement(r.name,r.attributes,l),n+=r.parsed+(l?2:1);break}}else{for(;n<E.length&&E[n]!=="<";)n++;const u=E.substring(_,n);this.onText(this._resolveEntities(u))}_=n}}onResolveEntity(E){return`&${E};`}onPi(E,_){}onComment(E){}onCdata(E){}onDoctype(E){}onText(E){}onBeginElement(E,_,y){}onEndElement(E){}onError(E){}}A.XMLParserBase=e;class j{constructor(E,_){this.nodeName=E,this.nodeValue=_,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const E=this.parentNode.childNodes;if(!E)return;const _=E.indexOf(this);if(_!==-1)return E[_+1]}get textContent(){return this.childNodes?this.childNodes.map(function(E){return E.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(E,_){if(_>=E.length)return this;const y=E[_],n=[];let u=this;for(;;){if(y.name===u.nodeName)if(y.pos===0){const p=u.searchNode(E,_+1);if(p!==null)return p}else{if(n.length===0)return null;{const[p]=n.pop();let s=0;for(const r of p.childNodes)if(y.name===r.nodeName){if(s===y.pos)return r.searchNode(E,_+1);s++}return u.searchNode(E,_+1)}}if(u.childNodes&&u.childNodes.length!==0)n.push([u,0]),u=u.childNodes[0];else{if(n.length===0)return null;for(;n.length!==0;){const[p,s]=n.pop(),r=s+1;if(r<p.childNodes.length){n.push([p,r]),u=p.childNodes[r];break}}if(n.length===0)return null}}}dump(E){if(this.nodeName==="#text"){E.push((0,t.encodeToXmlString)(this.nodeValue));return}if(E.push(`<${this.nodeName}`),this.attributes)for(const _ of this.attributes)E.push(` ${_.name}="${(0,t.encodeToXmlString)(_.value)}"`);if(this.hasChildNodes()){E.push(">");for(const _ of this.childNodes)_.dump(E);E.push(`</${this.nodeName}>`)}else this.nodeValue?E.push(`>${(0,t.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):E.push("/>")}}A.SimpleDOMNode=j;class f extends e{constructor({hasAttributes:E=!1,lowerCaseName:_=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=m.NoError,this._hasAttributes=E,this._lowerCaseName=_}parseFromString(E){if(this._currentFragment=[],this._stack=[],this._errorCode=m.NoError,this.parseXml(E),this._errorCode!==m.NoError)return;const[_]=this._currentFragment;if(_)return{documentElement:_}}onText(E){if(z(E))return;const _=new j("#text",E);this._currentFragment.push(_)}onCdata(E){const _=new j("#text",E);this._currentFragment.push(_)}onBeginElement(E,_,y){this._lowerCaseName&&(E=E.toLowerCase());const n=new j(E);n.childNodes=[],this._hasAttributes&&(n.attributes=_),this._currentFragment.push(n),!y&&(this._stack.push(this._currentFragment),this._currentFragment=n.childNodes)}onEndElement(E){this._currentFragment=this._stack.pop()||[];const _=this._currentFragment.at(-1);if(!_)return null;for(let y=0,n=_.childNodes.length;y<n;y++)_.childNodes[y].parentNode=_;return _}onError(E){this._errorCode=E}}A.SimpleXMLParser=f},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.calculateSHA256=A.calculateMD5=A.PDF20=A.PDF17=A.CipherTransformFactory=A.ARCFourCipher=A.AES256Cipher=A.AES128Cipher=void 0,A.calculateSHA384=E,A.calculateSHA512=void 0;var t=se(2),m=se(5),ie=se(68);class z{constructor(d){this.a=0,this.b=0;const K=new Uint8Array(256),g=d.length;for(let G=0;G<256;++G)K[G]=G;for(let G=0,O=0;G<256;++G){const w=K[G];O=O+w+d[G%g]&255,K[G]=K[O],K[O]=w}this.s=K}encryptBlock(d){let K=this.a,g=this.b;const G=this.s,O=d.length,w=new Uint8Array(O);for(let R=0;R<O;++R){K=K+1&255;const o=G[K];g=g+o&255;const h=G[g];G[K]=h,G[g]=o,w[R]=d[R]^G[o+h&255]}return this.a=K,this.b=g,w}decryptBlock(d){return this.encryptBlock(d)}encrypt(d){return this.encryptBlock(d)}}A.ARCFourCipher=z;const e=function(){const d=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),K=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function g(G,O,w){let R=1732584193,o=-271733879,h=-1732584194,H=271733878;const L=w+72&-64,x=new Uint8Array(L);let v,F;for(v=0;v<w;++v)x[v]=G[O++];x[v++]=128;const k=L-8;for(;v<k;)x[v++]=0;x[v++]=w<<3&255,x[v++]=w>>5&255,x[v++]=w>>13&255,x[v++]=w>>21&255,x[v++]=w>>>29&255,x[v++]=0,x[v++]=0,x[v++]=0;const U=new Int32Array(16);for(v=0;v<L;){for(F=0;F<16;++F,v+=4)U[F]=x[v]|x[v+1]<<8|x[v+2]<<16|x[v+3]<<24;let ee=R,J=o,I=h,X=H,ne,P;for(F=0;F<64;++F){F<16?(ne=J&I|~J&X,P=F):F<32?(ne=X&J|~X&I,P=5*F+1&15):F<48?(ne=J^I^X,P=3*F+5&15):(ne=I^(J|~X),P=7*F&15);const V=X,Y=ee+ne+K[F]+U[P]|0,Z=d[F];X=I,I=J,J=J+(Y<<Z|Y>>>32-Z)|0,ee=V}R=R+ee|0,o=o+J|0,h=h+I|0,H=H+X|0}return new Uint8Array([R&255,R>>8&255,R>>16&255,R>>>24&255,o&255,o>>8&255,o>>16&255,o>>>24&255,h&255,h>>8&255,h>>16&255,h>>>24&255,H&255,H>>8&255,H>>16&255,H>>>24&255])}return g}();A.calculateMD5=e;class j{constructor(d,K){this.high=d|0,this.low=K|0}and(d){this.high&=d.high,this.low&=d.low}xor(d){this.high^=d.high,this.low^=d.low}or(d){this.high|=d.high,this.low|=d.low}shiftRight(d){d>=32?(this.low=this.high>>>d-32|0,this.high=0):(this.low=this.low>>>d|this.high<<32-d,this.high=this.high>>>d|0)}shiftLeft(d){d>=32?(this.high=this.low<<d-32,this.low=0):(this.high=this.high<<d|this.low>>>32-d,this.low<<=d)}rotateRight(d){let K,g;d&32?(g=this.low,K=this.high):(K=this.low,g=this.high),d&=31,this.low=K>>>d|g<<32-d,this.high=g>>>d|K<<32-d}not(){this.high=~this.high,this.low=~this.low}add(d){const K=(this.low>>>0)+(d.low>>>0);let g=(this.high>>>0)+(d.high>>>0);K>4294967295&&(g+=1),this.low=K|0,this.high=g|0}copyTo(d,K){d[K]=this.high>>>24&255,d[K+1]=this.high>>16&255,d[K+2]=this.high>>8&255,d[K+3]=this.high&255,d[K+4]=this.low>>>24&255,d[K+5]=this.low>>16&255,d[K+6]=this.low>>8&255,d[K+7]=this.low&255}assign(d){this.high=d.high,this.low=d.low}}const f=function(){function d(H,L){return H>>>L|H<<32-L}function K(H,L,x){return H&L^~H&x}function g(H,L,x){return H&L^H&x^L&x}function G(H){return d(H,2)^d(H,13)^d(H,22)}function O(H){return d(H,6)^d(H,11)^d(H,25)}function w(H){return d(H,7)^d(H,18)^H>>>3}function R(H){return d(H,17)^d(H,19)^H>>>10}const o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function h(H,L,x){let v=1779033703,F=3144134277,k=1013904242,U=2773480762,ee=1359893119,J=2600822924,I=528734635,X=1541459225;const ne=Math.ceil((x+9)/64)*64,P=new Uint8Array(ne);let V,Y;for(V=0;V<x;++V)P[V]=H[L++];P[V++]=128;const Z=ne-8;for(;V<Z;)P[V++]=0;P[V++]=0,P[V++]=0,P[V++]=0,P[V++]=x>>>29&255,P[V++]=x>>21&255,P[V++]=x>>13&255,P[V++]=x>>5&255,P[V++]=x<<3&255;const q=new Uint32Array(64);for(V=0;V<ne;){for(Y=0;Y<16;++Y)q[Y]=P[V]<<24|P[V+1]<<16|P[V+2]<<8|P[V+3],V+=4;for(Y=16;Y<64;++Y)q[Y]=R(q[Y-2])+q[Y-7]+w(q[Y-15])+q[Y-16]|0;let M=v,te=F,W=k,ae=U,fe=ee,de=J,ue=I,he=X,me,xe;for(Y=0;Y<64;++Y)me=he+O(fe)+K(fe,de,ue)+o[Y]+q[Y],xe=G(M)+g(M,te,W),he=ue,ue=de,de=fe,fe=ae+me|0,ae=W,W=te,te=M,M=me+xe|0;v=v+M|0,F=F+te|0,k=k+W|0,U=U+ae|0,ee=ee+fe|0,J=J+de|0,I=I+ue|0,X=X+he|0}return new Uint8Array([v>>24&255,v>>16&255,v>>8&255,v&255,F>>24&255,F>>16&255,F>>8&255,F&255,k>>24&255,k>>16&255,k>>8&255,k&255,U>>24&255,U>>16&255,U>>8&255,U&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,J>>24&255,J>>16&255,J>>8&255,J&255,I>>24&255,I>>16&255,I>>8&255,I&255,X>>24&255,X>>16&255,X>>8&255,X&255])}return h}();A.calculateSHA256=f;const T=function(){function d(h,H,L,x,v){h.assign(H),h.and(L),v.assign(H),v.not(),v.and(x),h.xor(v)}function K(h,H,L,x,v){h.assign(H),h.and(L),v.assign(H),v.and(x),h.xor(v),v.assign(L),v.and(x),h.xor(v)}function g(h,H,L){h.assign(H),h.rotateRight(28),L.assign(H),L.rotateRight(34),h.xor(L),L.assign(H),L.rotateRight(39),h.xor(L)}function G(h,H,L){h.assign(H),h.rotateRight(14),L.assign(H),L.rotateRight(18),h.xor(L),L.assign(H),L.rotateRight(41),h.xor(L)}function O(h,H,L){h.assign(H),h.rotateRight(1),L.assign(H),L.rotateRight(8),h.xor(L),L.assign(H),L.shiftRight(7),h.xor(L)}function w(h,H,L){h.assign(H),h.rotateRight(19),L.assign(H),L.rotateRight(61),h.xor(L),L.assign(H),L.shiftRight(6),h.xor(L)}const R=[new j(1116352408,3609767458),new j(1899447441,602891725),new j(3049323471,3964484399),new j(3921009573,2173295548),new j(961987163,4081628472),new j(1508970993,3053834265),new j(2453635748,2937671579),new j(2870763221,3664609560),new j(3624381080,2734883394),new j(310598401,1164996542),new j(607225278,1323610764),new j(1426881987,3590304994),new j(1925078388,4068182383),new j(2162078206,991336113),new j(2614888103,633803317),new j(3248222580,3479774868),new j(3835390401,2666613458),new j(4022224774,944711139),new j(264347078,2341262773),new j(604807628,2007800933),new j(770255983,1495990901),new j(1249150122,1856431235),new j(1555081692,3175218132),new j(1996064986,2198950837),new j(2554220882,3999719339),new j(2821834349,766784016),new j(2952996808,2566594879),new j(3210313671,3203337956),new j(3336571891,1034457026),new j(3584528711,2466948901),new j(113926993,3758326383),new j(338241895,168717936),new j(666307205,1188179964),new j(773529912,1546045734),new j(1294757372,1522805485),new j(1396182291,2643833823),new j(1695183700,2343527390),new j(1986661051,1014477480),new j(2177026350,1206759142),new j(2456956037,344077627),new j(2730485921,1290863460),new j(2820302411,3158454273),new j(3259730800,3505952657),new j(3345764771,106217008),new j(3516065817,3606008344),new j(3600352804,1432725776),new j(4094571909,1467031594),new j(275423344,851169720),new j(430227734,3100823752),new j(506948616,1363258195),new j(659060556,3750685593),new j(883997877,3785050280),new j(958139571,3318307427),new j(1322822218,3812723403),new j(1537002063,2003034995),new j(1747873779,3602036899),new j(1955562222,1575990012),new j(2024104815,1125592928),new j(2227730452,2716904306),new j(2361852424,442776044),new j(2428436474,593698344),new j(2756734187,3733110249),new j(3204031479,2999351573),new j(3329325298,3815920427),new j(3391569614,3928383900),new j(3515267271,566280711),new j(3940187606,3454069534),new j(4118630271,4000239992),new j(116418474,1914138554),new j(174292421,2731055270),new j(289380356,3203993006),new j(460393269,320620315),new j(685471733,587496836),new j(852142971,1086792851),new j(1017036298,365543100),new j(1126000580,2618297676),new j(1288033470,3409855158),new j(1501505948,4234509866),new j(1607167915,987167468),new j(1816402316,1246189591)];function o(h,H,L,x=!1){let v,F,k,U,ee,J,I,X;x?(v=new j(3418070365,3238371032),F=new j(1654270250,914150663),k=new j(2438529370,812702999),U=new j(355462360,4144912697),ee=new j(1731405415,4290775857),J=new j(2394180231,1750603025),I=new j(3675008525,1694076839),X=new j(1203062813,3204075428)):(v=new j(1779033703,4089235720),F=new j(3144134277,2227873595),k=new j(1013904242,4271175723),U=new j(2773480762,1595750129),ee=new j(1359893119,2917565137),J=new j(2600822924,725511199),I=new j(528734635,4215389547),X=new j(1541459225,327033209));const ne=Math.ceil((L+17)/128)*128,P=new Uint8Array(ne);let V,Y;for(V=0;V<L;++V)P[V]=h[H++];P[V++]=128;const Z=ne-16;for(;V<Z;)P[V++]=0;P[V++]=0,P[V++]=0,P[V++]=0,P[V++]=0,P[V++]=0,P[V++]=0,P[V++]=0,P[V++]=0,P[V++]=0,P[V++]=0,P[V++]=0,P[V++]=L>>>29&255,P[V++]=L>>21&255,P[V++]=L>>13&255,P[V++]=L>>5&255,P[V++]=L<<3&255;const q=new Array(80);for(V=0;V<80;V++)q[V]=new j(0,0);let M=new j(0,0),te=new j(0,0),W=new j(0,0),ae=new j(0,0),fe=new j(0,0),de=new j(0,0),ue=new j(0,0),he=new j(0,0);const me=new j(0,0),xe=new j(0,0),we=new j(0,0),Ce=new j(0,0);let Fe;for(V=0;V<ne;){for(Y=0;Y<16;++Y)q[Y].high=P[V]<<24|P[V+1]<<16|P[V+2]<<8|P[V+3],q[Y].low=P[V+4]<<24|P[V+5]<<16|P[V+6]<<8|P[V+7],V+=8;for(Y=16;Y<80;++Y)Fe=q[Y],w(Fe,q[Y-2],Ce),Fe.add(q[Y-7]),O(we,q[Y-15],Ce),Fe.add(we),Fe.add(q[Y-16]);for(M.assign(v),te.assign(F),W.assign(k),ae.assign(U),fe.assign(ee),de.assign(J),ue.assign(I),he.assign(X),Y=0;Y<80;++Y)me.assign(he),G(we,fe,Ce),me.add(we),d(we,fe,de,ue,Ce),me.add(we),me.add(R[Y]),me.add(q[Y]),g(xe,M,Ce),K(we,M,te,W,Ce),xe.add(we),Fe=he,he=ue,ue=de,de=fe,ae.add(me),fe=ae,ae=W,W=te,te=M,Fe.assign(me),Fe.add(xe),M=Fe;v.add(M),F.add(te),k.add(W),U.add(ae),ee.add(fe),J.add(de),I.add(ue),X.add(he)}let Oe;return x?(Oe=new Uint8Array(48),v.copyTo(Oe,0),F.copyTo(Oe,8),k.copyTo(Oe,16),U.copyTo(Oe,24),ee.copyTo(Oe,32),J.copyTo(Oe,40)):(Oe=new Uint8Array(64),v.copyTo(Oe,0),F.copyTo(Oe,8),k.copyTo(Oe,16),U.copyTo(Oe,24),ee.copyTo(Oe,32),J.copyTo(Oe,40),I.copyTo(Oe,48),X.copyTo(Oe,56)),Oe}return o}();A.calculateSHA512=T;function E(c,d,K){return T(c,d,K,!0)}class _{decryptBlock(d){return d}encrypt(d){return d}}class y{constructor(){this.constructor===y&&(0,t.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let d=0;d<256;d++)d<128?this._mixCol[d]=d<<1:this._mixCol[d]=d<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(d){(0,t.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(d,K){let g,G,O;const w=new Uint8Array(16);w.set(d);for(let R=0,o=this._keySize;R<16;++R,++o)w[R]^=K[o];for(let R=this._cyclesOfRepetition-1;R>=1;--R){g=w[13],w[13]=w[9],w[9]=w[5],w[5]=w[1],w[1]=g,g=w[14],G=w[10],w[14]=w[6],w[10]=w[2],w[6]=g,w[2]=G,g=w[15],G=w[11],O=w[7],w[15]=w[3],w[11]=g,w[7]=G,w[3]=O;for(let o=0;o<16;++o)w[o]=this._inv_s[w[o]];for(let o=0,h=R*16;o<16;++o,++h)w[o]^=K[h];for(let o=0;o<16;o+=4){const h=this._mix[w[o]],H=this._mix[w[o+1]],L=this._mix[w[o+2]],x=this._mix[w[o+3]];g=h^H>>>8^H<<24^L>>>16^L<<16^x>>>24^x<<8,w[o]=g>>>24&255,w[o+1]=g>>16&255,w[o+2]=g>>8&255,w[o+3]=g&255}}g=w[13],w[13]=w[9],w[9]=w[5],w[5]=w[1],w[1]=g,g=w[14],G=w[10],w[14]=w[6],w[10]=w[2],w[6]=g,w[2]=G,g=w[15],G=w[11],O=w[7],w[15]=w[3],w[11]=g,w[7]=G,w[3]=O;for(let R=0;R<16;++R)w[R]=this._inv_s[w[R]],w[R]^=K[R];return w}_encrypt(d,K){const g=this._s;let G,O,w;const R=new Uint8Array(16);R.set(d);for(let o=0;o<16;++o)R[o]^=K[o];for(let o=1;o<this._cyclesOfRepetition;o++){for(let h=0;h<16;++h)R[h]=g[R[h]];w=R[1],R[1]=R[5],R[5]=R[9],R[9]=R[13],R[13]=w,w=R[2],O=R[6],R[2]=R[10],R[6]=R[14],R[10]=w,R[14]=O,w=R[3],O=R[7],G=R[11],R[3]=R[15],R[7]=w,R[11]=O,R[15]=G;for(let h=0;h<16;h+=4){const H=R[h+0],L=R[h+1],x=R[h+2],v=R[h+3];G=H^L^x^v,R[h+0]^=G^this._mixCol[H^L],R[h+1]^=G^this._mixCol[L^x],R[h+2]^=G^this._mixCol[x^v],R[h+3]^=G^this._mixCol[v^H]}for(let h=0,H=o*16;h<16;++h,++H)R[h]^=K[H]}for(let o=0;o<16;++o)R[o]=g[R[o]];w=R[1],R[1]=R[5],R[5]=R[9],R[9]=R[13],R[13]=w,w=R[2],O=R[6],R[2]=R[10],R[6]=R[14],R[10]=w,R[14]=O,w=R[3],O=R[7],G=R[11],R[3]=R[15],R[7]=w,R[11]=O,R[15]=G;for(let o=0,h=this._keySize;o<16;++o,++h)R[o]^=K[h];return R}_decryptBlock2(d,K){const g=d.length;let G=this.buffer,O=this.bufferPosition;const w=[];let R=this.iv;for(let H=0;H<g;++H){if(G[O]=d[H],++O,O<16)continue;const L=this._decrypt(G,this._key);for(let x=0;x<16;++x)L[x]^=R[x];R=G,w.push(L),G=new Uint8Array(16),O=0}if(this.buffer=G,this.bufferLength=O,this.iv=R,w.length===0)return new Uint8Array(0);let o=16*w.length;if(K){const H=w.at(-1);let L=H[15];if(L<=16){for(let x=15,v=16-L;x>=v;--x)if(H[x]!==L){L=0;break}o-=L,w[w.length-1]=H.subarray(0,16-L)}}const h=new Uint8Array(o);for(let H=0,L=0,x=w.length;H<x;++H,L+=16)h.set(w[H],L);return h}decryptBlock(d,K,g=null){const G=d.length,O=this.buffer;let w=this.bufferPosition;if(g)this.iv=g;else{for(let R=0;w<16&&R<G;++R,++w)O[w]=d[R];if(w<16)return this.bufferLength=w,new Uint8Array(0);this.iv=O,d=d.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(d,K)}encrypt(d,K){const g=d.length;let G=this.buffer,O=this.bufferPosition;const w=[];K||(K=new Uint8Array(16));for(let h=0;h<g;++h){if(G[O]=d[h],++O,O<16)continue;for(let L=0;L<16;++L)G[L]^=K[L];const H=this._encrypt(G,this._key);K=H,w.push(H),G=new Uint8Array(16),O=0}if(this.buffer=G,this.bufferLength=O,this.iv=K,w.length===0)return new Uint8Array(0);const R=16*w.length,o=new Uint8Array(R);for(let h=0,H=0,L=w.length;h<L;++h,H+=16)o.set(w[h],H);return o}}class n extends y{constructor(d){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(d)}_expandKey(d){const g=this._s,G=this._rcon,O=new Uint8Array(176);O.set(d);for(let w=16,R=1;w<176;++R){let o=O[w-3],h=O[w-2],H=O[w-1],L=O[w-4];o=g[o],h=g[h],H=g[H],L=g[L],o^=G[R];for(let x=0;x<4;++x)O[w]=o^=O[w-16],w++,O[w]=h^=O[w-16],w++,O[w]=H^=O[w-16],w++,O[w]=L^=O[w-16],w++}return O}}A.AES128Cipher=n;class u extends y{constructor(d){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(d)}_expandKey(d){const g=this._s,G=new Uint8Array(240);G.set(d);let O=1,w,R,o,h;for(let H=32,L=1;H<240;++L){H%32===16?(w=g[w],R=g[R],o=g[o],h=g[h]):H%32===0&&(w=G[H-3],R=G[H-2],o=G[H-1],h=G[H-4],w=g[w],R=g[R],o=g[o],h=g[h],w^=O,(O<<=1)>=256&&(O=(O^27)&255));for(let x=0;x<4;++x)G[H]=w^=G[H-32],H++,G[H]=R^=G[H-32],H++,G[H]=o^=G[H-32],H++,G[H]=h^=G[H-32],H++}return G}}A.AES256Cipher=u;class p{checkOwnerPassword(d,K,g,G){const O=new Uint8Array(d.length+56);O.set(d,0),O.set(K,d.length),O.set(g,d.length+K.length);const w=f(O,0,O.length);return(0,t.isArrayEqual)(w,G)}checkUserPassword(d,K,g){const G=new Uint8Array(d.length+8);G.set(d,0),G.set(K,d.length);const O=f(G,0,G.length);return(0,t.isArrayEqual)(O,g)}getOwnerKey(d,K,g,G){const O=new Uint8Array(d.length+56);O.set(d,0),O.set(K,d.length),O.set(g,d.length+K.length);const w=f(O,0,O.length);return new u(w).decryptBlock(G,!1,new Uint8Array(16))}getUserKey(d,K,g){const G=new Uint8Array(d.length+8);G.set(d,0),G.set(K,d.length);const O=f(G,0,G.length);return new u(O).decryptBlock(g,!1,new Uint8Array(16))}}A.PDF17=p;const s=function(){function d(g,G,O){let w=f(G,0,G.length).subarray(0,32),R=[0],o=0;for(;o<64||R.at(-1)>o-32;){const h=g.length+w.length+O.length,H=new Uint8Array(h);let L=0;H.set(g,L),L+=g.length,H.set(w,L),L+=w.length,H.set(O,L);const x=new Uint8Array(h*64);for(let k=0,U=0;k<64;k++,U+=h)x.set(H,U);R=new n(w.subarray(0,16)).encrypt(x,w.subarray(16,32));let F=0;for(let k=0;k<16;k++)F*=256%3,F%=3,F+=(R[k]>>>0)%3,F%=3;F===0?w=f(R,0,R.length):F===1?w=E(R,0,R.length):F===2&&(w=T(R,0,R.length)),o++}return w.subarray(0,32)}class K{hash(G,O,w){return d(G,O,w)}checkOwnerPassword(G,O,w,R){const o=new Uint8Array(G.length+56);o.set(G,0),o.set(O,G.length),o.set(w,G.length+O.length);const h=d(G,o,w);return(0,t.isArrayEqual)(h,R)}checkUserPassword(G,O,w){const R=new Uint8Array(G.length+8);R.set(G,0),R.set(O,G.length);const o=d(G,R,[]);return(0,t.isArrayEqual)(o,w)}getOwnerKey(G,O,w,R){const o=new Uint8Array(G.length+56);o.set(G,0),o.set(O,G.length),o.set(w,G.length+O.length);const h=d(G,o,w);return new u(h).decryptBlock(R,!1,new Uint8Array(16))}getUserKey(G,O,w){const R=new Uint8Array(G.length+8);R.set(G,0),R.set(O,G.length);const o=d(G,R,[]);return new u(o).decryptBlock(w,!1,new Uint8Array(16))}}return K}();A.PDF20=s;class r{constructor(d,K){this.StringCipherConstructor=d,this.StreamCipherConstructor=K}createStream(d,K){const g=new this.StreamCipherConstructor;return new ie.DecryptStream(d,K,function(O,w){return g.decryptBlock(O,w)})}decryptString(d){const K=new this.StringCipherConstructor;let g=(0,t.stringToBytes)(d);return g=K.decryptBlock(g,!0),(0,t.bytesToString)(g)}encryptString(d){const K=new this.StringCipherConstructor;if(K instanceof y){const O=16-d.length%16;d+=String.fromCharCode(O).repeat(O);const w=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(w);else for(let h=0;h<16;h++)w[h]=Math.floor(256*Math.random());let R=(0,t.stringToBytes)(d);R=K.encrypt(R,w);const o=new Uint8Array(16+R.length);return o.set(w),o.set(R,16),(0,t.bytesToString)(o)}let g=(0,t.stringToBytes)(d);return g=K.encrypt(g),(0,t.bytesToString)(g)}}const l=function(){const d=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function K(h,H,L,x,v,F,k,U,ee,J,I,X){if(H){const P=Math.min(127,H.length);H=H.subarray(0,P)}else H=[];let ne;return h===6?ne=new s:ne=new p,ne.checkUserPassword(H,U,k)?ne.getUserKey(H,ee,I):H.length&&ne.checkOwnerPassword(H,x,F,L)?ne.getOwnerKey(H,v,F,J):null}function g(h,H,L,x,v,F,k,U){const ee=40+L.length+h.length,J=new Uint8Array(ee);let I=0,X,ne;if(H)for(ne=Math.min(32,H.length);I<ne;++I)J[I]=H[I];for(X=0;I<32;)J[I++]=d[X++];for(X=0,ne=L.length;X<ne;++X)J[I++]=L[X];for(J[I++]=v&255,J[I++]=v>>8&255,J[I++]=v>>16&255,J[I++]=v>>>24&255,X=0,ne=h.length;X<ne;++X)J[I++]=h[X];F>=4&&!U&&(J[I++]=255,J[I++]=255,J[I++]=255,J[I++]=255);let P=e(J,0,I);const V=k>>3;if(F>=3)for(X=0;X<50;++X)P=e(P,0,V);const Y=P.subarray(0,V);let Z,q;if(F>=3){for(I=0;I<32;++I)J[I]=d[I];for(X=0,ne=h.length;X<ne;++X)J[I++]=h[X];Z=new z(Y),q=Z.encryptBlock(e(J,0,I)),ne=Y.length;const M=new Uint8Array(ne);for(X=1;X<=19;++X){for(let te=0;te<ne;++te)M[te]=Y[te]^X;Z=new z(M),q=Z.encryptBlock(q)}for(X=0,ne=q.length;X<ne;++X)if(x[X]!==q[X])return null}else for(Z=new z(Y),q=Z.encryptBlock(d),X=0,ne=q.length;X<ne;++X)if(x[X]!==q[X])return null;return Y}function G(h,H,L,x){const v=new Uint8Array(32);let F=0;const k=Math.min(32,h.length);for(;F<k;++F)v[F]=h[F];let U=0;for(;F<32;)v[F++]=d[U++];let ee=e(v,0,F);const J=x>>3;if(L>=3)for(U=0;U<50;++U)ee=e(ee,0,ee.length);let I,X;if(L>=3){X=H;const ne=new Uint8Array(J);for(U=19;U>=0;U--){for(let P=0;P<J;++P)ne[P]=ee[P]^U;I=new z(ne),X=I.encryptBlock(X)}}else I=new z(ee.subarray(0,J)),X=I.encryptBlock(H);return X}const O=m.Name.get("Identity");function w(h,H,L,x=!1){const v=new Uint8Array(L.length+9),F=L.length;let k;for(k=0;k<F;++k)v[k]=L[k];return v[k++]=h&255,v[k++]=h>>8&255,v[k++]=h>>16&255,v[k++]=H&255,v[k++]=H>>8&255,x&&(v[k++]=115,v[k++]=65,v[k++]=108,v[k++]=84),e(v,0,k).subarray(0,Math.min(L.length+5,16))}function R(h,H,L,x,v){if(!(H instanceof m.Name))throw new t.FormatError("Invalid crypt filter name.");const F=h.get(H.name);let k;if(F!=null&&(k=F.get("CFM")),!k||k.name==="None")return function(){return new _};if(k.name==="V2")return function(){return new z(w(L,x,v,!1))};if(k.name==="AESV2")return function(){return new n(w(L,x,v,!0))};if(k.name==="AESV3")return function(){return new u(v)};throw new t.FormatError("Unknown crypto method")}class o{constructor(H,L,x){const v=H.get("Filter");if(!(0,m.isName)(v,"Standard"))throw new t.FormatError("unknown encryption method");this.filterName=v.name,this.dict=H;const F=H.get("V");if(!Number.isInteger(F)||F!==1&&F!==2&&F!==4&&F!==5)throw new t.FormatError("unsupported encryption algorithm");this.algorithm=F;let k=H.get("Length");if(!k)if(F<=3)k=40;else{const Y=H.get("CF"),Z=H.get("StmF");if(Y instanceof m.Dict&&Z instanceof m.Name){Y.suppressEncryption=!0;const q=Y.get(Z.name);k=q&&q.get("Length")||128,k<40&&(k<<=3)}}if(!Number.isInteger(k)||k<40||k%8!==0)throw new t.FormatError("invalid key length");const U=(0,t.stringToBytes)(H.get("O")).subarray(0,32),ee=(0,t.stringToBytes)(H.get("U")).subarray(0,32),J=H.get("P"),I=H.get("R"),X=(F===4||F===5)&&H.get("EncryptMetadata")!==!1;this.encryptMetadata=X;const ne=(0,t.stringToBytes)(L);let P;if(x){if(I===6)try{x=(0,t.utf8StringToString)(x)}catch{(0,t.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}P=(0,t.stringToBytes)(x)}let V;if(F!==5)V=g(ne,P,U,ee,J,I,k,X);else{const Y=(0,t.stringToBytes)(H.get("O")).subarray(32,40),Z=(0,t.stringToBytes)(H.get("O")).subarray(40,48),q=(0,t.stringToBytes)(H.get("U")).subarray(0,48),M=(0,t.stringToBytes)(H.get("U")).subarray(32,40),te=(0,t.stringToBytes)(H.get("U")).subarray(40,48),W=(0,t.stringToBytes)(H.get("OE")),ae=(0,t.stringToBytes)(H.get("UE"));(0,t.stringToBytes)(H.get("Perms")),V=K(I,P,U,Y,Z,q,ee,M,te,W,ae)}if(!V&&!x)throw new t.PasswordException("No password given",t.PasswordResponses.NEED_PASSWORD);if(!V&&x){const Y=G(P,U,I,k);V=g(ne,Y,U,ee,J,I,k,X)}if(!V)throw new t.PasswordException("Incorrect Password",t.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=V,F>=4){const Y=H.get("CF");Y instanceof m.Dict&&(Y.suppressEncryption=!0),this.cf=Y,this.stmf=H.get("StmF")||O,this.strf=H.get("StrF")||O,this.eff=H.get("EFF")||this.stmf}}createCipherTransform(H,L){if(this.algorithm===4||this.algorithm===5)return new r(R(this.cf,this.strf,H,L,this.encryptionKey),R(this.cf,this.stmf,H,L,this.encryptionKey));const x=w(H,L,this.encryptionKey,!1),v=function(){return new z(x)};return new r(v,v)}}return o}();A.CipherTransformFactory=l},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.DecryptStream=void 0;var t=se(19);const m=512;class ie extends t.DecodeStream{constructor(e,j,f){super(j),this.str=e,this.dict=e.dict,this.decrypt=f,this.nextChunk=null,this.initialized=!1}readBlock(){let e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(m),this.initialized=!0),!e||e.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(m);const j=this.nextChunk&&this.nextChunk.length>0,f=this.decrypt;e=f(e,!j);let T=this.bufferLength;const E=e.length,_=this.ensureBuffer(T+E);for(let y=0;y<E;y++)_[T++]=e[y];this.bufferLength=T}}A.DecryptStream=ie},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Catalog=void 0;var t=se(6),m=se(2),ie=se(5),z=se(70),e=se(7),j=se(71),f=se(14),T=se(72),E=se(59),_=se(73),y=se(74);function n(p){return p instanceof ie.Dict&&(p=p.get("D")),Array.isArray(p)?p:null}class u{constructor(s,r){if(this.pdfManager=s,this.xref=r,this._catDict=r.getCatalogObj(),!(this._catDict instanceof ie.Dict))throw new m.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new ie.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new E.GlobalImageCache,this.pageKidsCountCache=new ie.RefSetCache,this.pageIndexCache=new ie.RefSetCache,this.nonBlendModesSet=new ie.RefSet}get version(){const s=this._catDict.get("Version");return(0,m.shadow)(this,"version",s instanceof ie.Name?s.name:null)}get lang(){const s=this._catDict.get("Lang");return(0,m.shadow)(this,"lang",typeof s=="string"?(0,m.stringToPDFString)(s):null)}get needsRendering(){const s=this._catDict.get("NeedsRendering");return(0,m.shadow)(this,"needsRendering",typeof s=="boolean"?s:!1)}get collection(){let s=null;try{const r=this._catDict.get("Collection");r instanceof ie.Dict&&r.size>0&&(s=r)}catch(r){if(r instanceof t.MissingDataException)throw r;(0,m.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,m.shadow)(this,"collection",s)}get acroForm(){let s=null;try{const r=this._catDict.get("AcroForm");r instanceof ie.Dict&&r.size>0&&(s=r)}catch(r){if(r instanceof t.MissingDataException)throw r;(0,m.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,m.shadow)(this,"acroForm",s)}get acroFormRef(){const s=this._catDict.getRaw("AcroForm");return(0,m.shadow)(this,"acroFormRef",s instanceof ie.Ref?s:null)}get metadata(){const s=this._catDict.getRaw("Metadata");if(!(s instanceof ie.Ref))return(0,m.shadow)(this,"metadata",null);let r=null;try{const l=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),c=this.xref.fetch(s,l);if(c instanceof e.BaseStream&&c.dict instanceof ie.Dict){const d=c.dict.get("Type"),K=c.dict.get("Subtype");if((0,ie.isName)(d,"Metadata")&&(0,ie.isName)(K,"XML")){const g=(0,m.stringToUTF8String)(c.getString());g&&(r=new _.MetadataParser(g).serializable)}}}catch(l){if(l instanceof t.MissingDataException)throw l;(0,m.info)(`Skipping invalid Metadata: "${l}".`)}return(0,m.shadow)(this,"metadata",r)}get markInfo(){let s=null;try{s=this._readMarkInfo()}catch(r){if(r instanceof t.MissingDataException)throw r;(0,m.warn)("Unable to read mark info.")}return(0,m.shadow)(this,"markInfo",s)}_readMarkInfo(){const s=this._catDict.get("MarkInfo");if(!(s instanceof ie.Dict))return null;const r={Marked:!1,UserProperties:!1,Suspects:!1};for(const l in r){const c=s.get(l);typeof c=="boolean"&&(r[l]=c)}return r}get structTreeRoot(){let s=null;try{s=this._readStructTreeRoot()}catch(r){if(r instanceof t.MissingDataException)throw r;(0,m.warn)("Unable read to structTreeRoot info.")}return(0,m.shadow)(this,"structTreeRoot",s)}_readStructTreeRoot(){const s=this._catDict.get("StructTreeRoot");if(!(s instanceof ie.Dict))return null;const r=new y.StructTreeRoot(s);return r.init(),r}get toplevelPagesDict(){const s=this._catDict.get("Pages");if(!(s instanceof ie.Dict))throw new m.FormatError("Invalid top-level pages dictionary.");return(0,m.shadow)(this,"toplevelPagesDict",s)}get documentOutline(){let s=null;try{s=this._readDocumentOutline()}catch(r){if(r instanceof t.MissingDataException)throw r;(0,m.warn)("Unable to read document outline.")}return(0,m.shadow)(this,"documentOutline",s)}_readDocumentOutline(){let s=this._catDict.get("Outlines");if(!(s instanceof ie.Dict)||(s=s.getRaw("First"),!(s instanceof ie.Ref)))return null;const r={items:[]},l=[{obj:s,parent:r}],c=new ie.RefSet;c.put(s);const d=this.xref,K=new Uint8ClampedArray(3);for(;l.length>0;){const g=l.shift(),G=d.fetchIfRef(g.obj);if(G===null)continue;if(!G.has("Title"))throw new m.FormatError("Invalid outline item encountered.");const O={url:null,dest:null};u.parseDestDictionary({destDict:G,resultObj:O,docBaseUrl:this.pdfManager.docBaseUrl});const w=G.get("Title"),R=G.get("F")||0,o=G.getArray("C"),h=G.get("Count");let H=K;Array.isArray(o)&&o.length===3&&(o[0]!==0||o[1]!==0||o[2]!==0)&&(H=f.ColorSpace.singletons.rgb.getRgb(o,0));const L={dest:O.dest,url:O.url,unsafeUrl:O.unsafeUrl,newWindow:O.newWindow,title:(0,m.stringToPDFString)(w),color:H,count:Number.isInteger(h)?h:void 0,bold:!!(R&2),italic:!!(R&1),items:[]};g.parent.items.push(L),s=G.getRaw("First"),s instanceof ie.Ref&&!c.has(s)&&(l.push({obj:s,parent:L}),c.put(s)),s=G.getRaw("Next"),s instanceof ie.Ref&&!c.has(s)&&(l.push({obj:s,parent:g.parent}),c.put(s))}return r.items.length>0?r.items:null}get permissions(){let s=null;try{s=this._readPermissions()}catch(r){if(r instanceof t.MissingDataException)throw r;(0,m.warn)("Unable to read permissions.")}return(0,m.shadow)(this,"permissions",s)}_readPermissions(){const s=this.xref.trailer.get("Encrypt");if(!(s instanceof ie.Dict))return null;let r=s.get("P");if(typeof r!="number")return null;r+=4294967296;const l=[];for(const c in m.PermissionFlag){const d=m.PermissionFlag[c];r&d&&l.push(d)}return l}get optionalContentConfig(){let s=null;try{const r=this._catDict.get("OCProperties");if(!r)return(0,m.shadow)(this,"optionalContentConfig",null);const l=r.get("D");if(!l)return(0,m.shadow)(this,"optionalContentConfig",null);const c=r.get("OCGs");if(!Array.isArray(c))return(0,m.shadow)(this,"optionalContentConfig",null);const d=[],K=[];for(const g of c){if(!(g instanceof ie.Ref))continue;K.push(g);const G=this.xref.fetchIfRef(g);d.push({id:g.toString(),name:typeof G.get("Name")=="string"?(0,m.stringToPDFString)(G.get("Name")):null,intent:typeof G.get("Intent")=="string"?(0,m.stringToPDFString)(G.get("Intent")):null})}s=this._readOptionalContentConfig(l,K),s.groups=d}catch(r){if(r instanceof t.MissingDataException)throw r;(0,m.warn)(`Unable to read optional content config: ${r}`)}return(0,m.shadow)(this,"optionalContentConfig",s)}_readOptionalContentConfig(s,r){function l(O){const w=[];if(Array.isArray(O))for(const R of O)R instanceof ie.Ref&&r.includes(R)&&w.push(R.toString());return w}function c(O,w=0){if(!Array.isArray(O))return null;const R=[];for(const h of O){if(h instanceof ie.Ref&&r.includes(h)){g.put(h),R.push(h.toString());continue}const H=d(h,w);H&&R.push(H)}if(w>0)return R;const o=[];for(const h of r)g.has(h)||o.push(h.toString());return o.length&&R.push({name:null,order:o}),R}function d(O,w){if(++w>G)return(0,m.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const R=K.fetchIfRef(O);if(!Array.isArray(R))return null;const o=K.fetchIfRef(R[0]);if(typeof o!="string")return null;const h=c(R.slice(1),w);return!h||!h.length?null:{name:(0,m.stringToPDFString)(o),order:h}}const K=this.xref,g=new ie.RefSet,G=10;return{name:typeof s.get("Name")=="string"?(0,m.stringToPDFString)(s.get("Name")):null,creator:typeof s.get("Creator")=="string"?(0,m.stringToPDFString)(s.get("Creator")):null,baseState:s.get("BaseState")instanceof ie.Name?s.get("BaseState").name:null,on:l(s.get("ON")),off:l(s.get("OFF")),order:c(s.get("Order")),groups:null}}setActualNumPages(s=null){this._actualNumPages=s}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const s=this.toplevelPagesDict.get("Count");if(!Number.isInteger(s))throw new m.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,m.shadow)(this,"_pagesCount",s)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const s=this._readDests(),r=Object.create(null);if(s instanceof z.NameTree)for(const[l,c]of s.getAll()){const d=n(c);d&&(r[(0,m.stringToPDFString)(l)]=d)}else s instanceof ie.Dict&&s.forEach(function(l,c){const d=n(c);d&&(r[l]=d)});return(0,m.shadow)(this,"destinations",r)}getDestination(s){const r=this._readDests();if(r instanceof z.NameTree){const l=n(r.get(s));if(l)return l;const c=this.destinations[s];if(c)return(0,m.warn)(`Found "${s}" at an incorrect position in the NameTree.`),c}else if(r instanceof ie.Dict){const l=n(r.get(s));if(l)return l}return null}_readDests(){const s=this._catDict.get("Names");if(s&&s.has("Dests"))return new z.NameTree(s.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let s=null;try{s=this._readPageLabels()}catch(r){if(r instanceof t.MissingDataException)throw r;(0,m.warn)("Unable to read page labels.")}return(0,m.shadow)(this,"pageLabels",s)}_readPageLabels(){const s=this._catDict.getRaw("PageLabels");if(!s)return null;const r=new Array(this.numPages);let l=null,c="";const K=new z.NumberTree(s,this.xref).getAll();let g="",G=1;for(let O=0,w=this.numPages;O<w;O++){const R=K.get(O);if(R!==void 0){if(!(R instanceof ie.Dict))throw new m.FormatError("PageLabel is not a dictionary.");if(R.has("Type")&&!(0,ie.isName)(R.get("Type"),"PageLabel"))throw new m.FormatError("Invalid type in PageLabel dictionary.");if(R.has("S")){const o=R.get("S");if(!(o instanceof ie.Name))throw new m.FormatError("Invalid style in PageLabel dictionary.");l=o.name}else l=null;if(R.has("P")){const o=R.get("P");if(typeof o!="string")throw new m.FormatError("Invalid prefix in PageLabel dictionary.");c=(0,m.stringToPDFString)(o)}else c="";if(R.has("St")){const o=R.get("St");if(!(Number.isInteger(o)&&o>=1))throw new m.FormatError("Invalid start in PageLabel dictionary.");G=o}else G=1}switch(l){case"D":g=G;break;case"R":case"r":g=(0,t.toRomanNumerals)(G,l==="r");break;case"A":case"a":const o=26,L=l==="a"?97:65,x=G-1;g=String.fromCharCode(L+x%o).repeat(Math.floor(x/o)+1);break;default:if(l)throw new m.FormatError(`Invalid style "${l}" in PageLabel dictionary.`);g=""}r[O]=c+g,G++}return r}get pageLayout(){const s=this._catDict.get("PageLayout");let r="";if(s instanceof ie.Name)switch(s.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":r=s.name}return(0,m.shadow)(this,"pageLayout",r)}get pageMode(){const s=this._catDict.get("PageMode");let r="UseNone";if(s instanceof ie.Name)switch(s.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":r=s.name}return(0,m.shadow)(this,"pageMode",r)}get viewerPreferences(){const s=this._catDict.get("ViewerPreferences");if(!(s instanceof ie.Dict))return(0,m.shadow)(this,"viewerPreferences",null);let r=null;for(const l of s.getKeys()){const c=s.get(l);let d;switch(l){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof c=="boolean"&&(d=c);break;case"NonFullScreenPageMode":if(c instanceof ie.Name)switch(c.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":d=c.name;break;default:d="UseNone"}break;case"Direction":if(c instanceof ie.Name)switch(c.name){case"L2R":case"R2L":d=c.name;break;default:d="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(c instanceof ie.Name)switch(c.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":d=c.name;break;default:d="CropBox"}break;case"PrintScaling":if(c instanceof ie.Name)switch(c.name){case"None":case"AppDefault":d=c.name;break;default:d="AppDefault"}break;case"Duplex":if(c instanceof ie.Name)switch(c.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":d=c.name;break;default:d="None"}break;case"PrintPageRange":Array.isArray(c)&&c.length%2===0&&c.every((g,G,O)=>Number.isInteger(g)&&g>0&&(G===0||g>=O[G-1])&&g<=this.numPages)&&(d=c);break;case"NumCopies":Number.isInteger(c)&&c>0&&(d=c);break;default:(0,m.warn)(`Ignoring non-standard key in ViewerPreferences: ${l}.`);continue}if(d===void 0){(0,m.warn)(`Bad value, for key "${l}", in ViewerPreferences: ${c}.`);continue}r||(r=Object.create(null)),r[l]=d}return(0,m.shadow)(this,"viewerPreferences",r)}get openAction(){const s=this._catDict.get("OpenAction"),r=Object.create(null);if(s instanceof ie.Dict){const l=new ie.Dict(this.xref);l.set("A",s);const c={url:null,dest:null,action:null};u.parseDestDictionary({destDict:l,resultObj:c}),Array.isArray(c.dest)?r.dest=c.dest:c.action&&(r.action=c.action)}else Array.isArray(s)&&(r.dest=s);return(0,m.shadow)(this,"openAction",(0,m.objectSize)(r)>0?r:null)}get attachments(){const s=this._catDict.get("Names");let r=null;if(s instanceof ie.Dict&&s.has("EmbeddedFiles")){const l=new z.NameTree(s.getRaw("EmbeddedFiles"),this.xref);for(const[c,d]of l.getAll()){const K=new T.FileSpec(d,this.xref);r||(r=Object.create(null)),r[(0,m.stringToPDFString)(c)]=K.serializable}}return(0,m.shadow)(this,"attachments",r)}get xfaImages(){const s=this._catDict.get("Names");let r=null;if(s instanceof ie.Dict&&s.has("XFAImages")){const l=new z.NameTree(s.getRaw("XFAImages"),this.xref);for(const[c,d]of l.getAll())r||(r=new ie.Dict(this.xref)),r.set((0,m.stringToPDFString)(c),d)}return(0,m.shadow)(this,"xfaImages",r)}_collectJavaScript(){const s=this._catDict.get("Names");let r=null;function l(d,K){if(!(K instanceof ie.Dict)||!(0,ie.isName)(K.get("S"),"JavaScript"))return;let g=K.get("JS");if(g instanceof e.BaseStream)g=g.getString();else if(typeof g!="string")return;r===null&&(r=new Map),g=(0,m.stringToPDFString)(g).replace(/\u0000/g,""),r.set(d,g)}if(s instanceof ie.Dict&&s.has("JavaScript")){const d=new z.NameTree(s.getRaw("JavaScript"),this.xref);for(const[K,g]of d.getAll())l((0,m.stringToPDFString)(K),g)}const c=this._catDict.get("OpenAction");return c&&l("OpenAction",c),r}get javaScript(){const s=this._collectJavaScript();return(0,m.shadow)(this,"javaScript",s?[...s.values()]:null)}get jsActions(){const s=this._collectJavaScript();let r=(0,t.collectActions)(this.xref,this._catDict,m.DocumentActionEventType);if(s){r||(r=Object.create(null));for(const[l,c]of s)l in r?r[l].push(c):r[l]=[c]}return(0,m.shadow)(this,"jsActions",r)}async fontFallback(s,r){const l=await Promise.all(this.fontCache);for(const c of l)if(c.loadedName===s){c.fallback(r);return}}async cleanup(s=!1){(0,j.clearGlobalCaches)(),this.globalImageCache.clear(s),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const r=await Promise.all(this.fontCache);for(const{dict:l}of r)delete l.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(s){const r=[this.toplevelPagesDict],l=new ie.RefSet,c=this._catDict.getRaw("Pages");c instanceof ie.Ref&&l.put(c);const d=this.xref,K=this.pageKidsCountCache,g=this.pageIndexCache;let G=0;for(;r.length;){const O=r.pop();if(O instanceof ie.Ref){const h=K.get(O);if(h>=0&&G+h<=s){G+=h;continue}if(l.has(O))throw new m.FormatError("Pages tree contains circular reference.");l.put(O);const H=await d.fetchAsync(O);if(H instanceof ie.Dict){let L=H.getRaw("Type");if(L instanceof ie.Ref&&(L=await d.fetchAsync(L)),(0,ie.isName)(L,"Page")||!H.has("Kids")){if(K.has(O)||K.put(O,1),g.has(O)||g.put(O,G),G===s)return[H,O];G++;continue}}r.push(H);continue}if(!(O instanceof ie.Dict))throw new m.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:w}=O;let R=O.getRaw("Count");if(R instanceof ie.Ref&&(R=await d.fetchAsync(R)),Number.isInteger(R)&&R>=0&&(w&&!K.has(w)&&K.put(w,R),G+R<=s)){G+=R;continue}let o=O.getRaw("Kids");if(o instanceof ie.Ref&&(o=await d.fetchAsync(o)),!Array.isArray(o)){let h=O.getRaw("Type");if(h instanceof ie.Ref&&(h=await d.fetchAsync(h)),(0,ie.isName)(h,"Page")||!O.has("Kids")){if(G===s)return[O,null];G++;continue}throw new m.FormatError("Page dictionary kids object is not an array.")}for(let h=o.length-1;h>=0;h--)r.push(o[h])}throw new Error(`Page index ${s} not found.`)}async getAllPageDicts(s=!1){const r=[{currentNode:this.toplevelPagesDict,posInKids:0}],l=new ie.RefSet,c=this._catDict.getRaw("Pages");c instanceof ie.Ref&&l.put(c);const d=new Map,K=this.xref,g=this.pageIndexCache;let G=0;function O(R,o){o&&!g.has(o)&&g.put(o,G),d.set(G++,[R,o])}function w(R){if(R instanceof t.XRefEntryException&&!s)throw R;d.set(G++,[R,null])}for(;r.length>0;){const R=r.at(-1),{currentNode:o,posInKids:h}=R;let H=o.getRaw("Kids");if(H instanceof ie.Ref)try{H=await K.fetchAsync(H)}catch(F){w(F);break}if(!Array.isArray(H)){w(new m.FormatError("Page dictionary kids object is not an array."));break}if(h>=H.length){r.pop();continue}const L=H[h];let x;if(L instanceof ie.Ref){if(l.has(L)){w(new m.FormatError("Pages tree contains circular reference."));break}l.put(L);try{x=await K.fetchAsync(L)}catch(F){w(F);break}}else x=L;if(!(x instanceof ie.Dict)){w(new m.FormatError("Page dictionary kid reference points to wrong type of object."));break}let v=x.getRaw("Type");if(v instanceof ie.Ref)try{v=await K.fetchAsync(v)}catch(F){w(F);break}(0,ie.isName)(v,"Page")||!x.has("Kids")?O(x,L instanceof ie.Ref?L:null):r.push({currentNode:x,posInKids:0}),R.posInKids++}return d}getPageIndex(s){const r=this.pageIndexCache.get(s);if(r!==void 0)return Promise.resolve(r);const l=this.xref;function c(g){let G=0,O;return l.fetchAsync(g).then(function(w){if((0,ie.isRefsEqual)(g,s)&&!(0,ie.isDict)(w,"Page")&&!(w instanceof ie.Dict&&!w.has("Type")&&w.has("Contents")))throw new m.FormatError("The reference does not point to a /Page dictionary.");if(!w)return null;if(!(w instanceof ie.Dict))throw new m.FormatError("Node must be a dictionary.");return O=w.getRaw("Parent"),w.getAsync("Parent")}).then(function(w){if(!w)return null;if(!(w instanceof ie.Dict))throw new m.FormatError("Parent must be a dictionary.");return w.getAsync("Kids")}).then(function(w){if(!w)return null;const R=[];let o=!1;for(let h=0,H=w.length;h<H;h++){const L=w[h];if(!(L instanceof ie.Ref))throw new m.FormatError("Kid must be a reference.");if((0,ie.isRefsEqual)(L,g)){o=!0;break}R.push(l.fetchAsync(L).then(function(x){if(!(x instanceof ie.Dict))throw new m.FormatError("Kid node must be a dictionary.");x.has("Count")?G+=x.get("Count"):G++}))}if(!o)throw new m.FormatError("Kid reference not found in parent's kids.");return Promise.all(R).then(function(){return[G,O]})})}let d=0;const K=g=>c(g).then(G=>{if(!G)return this.pageIndexCache.put(s,d),d;const[O,w]=G;return d+=O,K(w)});return K(s)}get baseUrl(){const s=this._catDict.get("URI");if(s instanceof ie.Dict){const r=s.get("Base");if(typeof r=="string"){const l=(0,m.createValidAbsoluteUrl)(r,null,{tryConvertEncoding:!0});if(l)return(0,m.shadow)(this,"baseUrl",l.href)}}return(0,m.shadow)(this,"baseUrl",null)}static parseDestDictionary(s){const r=s.destDict;if(!(r instanceof ie.Dict)){(0,m.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}const l=s.resultObj;if(typeof l!="object"){(0,m.warn)("parseDestDictionary: `resultObj` must be an object.");return}const c=s.docBaseUrl||null;let d=r.get("A"),K,g;if(d instanceof ie.Dict||(r.has("Dest")?d=r.get("Dest"):(d=r.get("AA"),d instanceof ie.Dict&&(d.has("D")?d=d.get("D"):d.has("U")&&(d=d.get("U"))))),d instanceof ie.Dict){const G=d.get("S");if(!(G instanceof ie.Name)){(0,m.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const O=G.name;switch(O){case"ResetForm":const w=d.get("Flags"),R=((typeof w=="number"?w:0)&1)===0,o=[],h=[];for(const ee of d.get("Fields")||[])ee instanceof ie.Ref?h.push(ee.toString()):typeof ee=="string"&&o.push((0,m.stringToPDFString)(ee));l.resetForm={fields:o,refs:h,include:R};break;case"URI":K=d.get("URI"),K instanceof ie.Name&&(K="/"+K.name);break;case"GoTo":g=d.get("D");break;case"Launch":case"GoToR":const H=d.get("F");H instanceof ie.Dict?K=H.get("F")||null:typeof H=="string"&&(K=H);let L=d.get("D");if(L&&(L instanceof ie.Name&&(L=L.name),typeof K=="string")){const ee=K.split("#")[0];typeof L=="string"?K=ee+"#"+L:Array.isArray(L)&&(K=ee+"#"+JSON.stringify(L))}const x=d.get("NewWindow");typeof x=="boolean"&&(l.newWindow=x);break;case"Named":const v=d.get("N");v instanceof ie.Name&&(l.action=v.name);break;case"JavaScript":const F=d.get("JS");let k;F instanceof e.BaseStream?k=F.getString():typeof F=="string"&&(k=F);const U=k&&(0,t.recoverJsURL)((0,m.stringToPDFString)(k));if(U){K=U.url,l.newWindow=U.newWindow;break}default:if(O==="JavaScript"||O==="SubmitForm")break;(0,m.warn)(`parseDestDictionary - unsupported action: "${O}".`);break}}else r.has("Dest")&&(g=r.get("Dest"));if(typeof K=="string"){const G=(0,m.createValidAbsoluteUrl)(K,c,{addDefaultProtocol:!0,tryConvertEncoding:!0});G&&(l.url=G.href),l.unsafeUrl=K}g&&(g instanceof ie.Name&&(g=g.name),typeof g=="string"?l.dest=(0,m.stringToPDFString)(g):Array.isArray(g)&&(l.dest=g))}}A.Catalog=u},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.NumberTree=A.NameTree=void 0;var t=se(5),m=se(2);class ie{constructor(f,T,E){this.constructor===ie&&(0,m.unreachable)("Cannot initialize NameOrNumberTree."),this.root=f,this.xref=T,this._type=E}getAll(){const f=new Map;if(!this.root)return f;const T=this.xref,E=new t.RefSet;E.put(this.root);const _=[this.root];for(;_.length>0;){const y=T.fetchIfRef(_.shift());if(!(y instanceof t.Dict))continue;if(y.has("Kids")){const u=y.get("Kids");if(!Array.isArray(u))continue;for(const p of u){if(E.has(p))throw new m.FormatError(`Duplicate entry in "${this._type}" tree.`);_.push(p),E.put(p)}continue}const n=y.get(this._type);if(Array.isArray(n))for(let u=0,p=n.length;u<p;u+=2)f.set(T.fetchIfRef(n[u]),T.fetchIfRef(n[u+1]))}return f}get(f){if(!this.root)return null;const T=this.xref;let E=T.fetchIfRef(this.root),_=0;const y=10;for(;E.has("Kids");){if(++_>y)return(0,m.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const u=E.get("Kids");if(!Array.isArray(u))return null;let p=0,s=u.length-1;for(;p<=s;){const r=p+s>>1,l=T.fetchIfRef(u[r]),c=l.get("Limits");if(f<T.fetchIfRef(c[0]))s=r-1;else if(f>T.fetchIfRef(c[1]))p=r+1;else{E=l;break}}if(p>s)return null}const n=E.get(this._type);if(Array.isArray(n)){let u=0,p=n.length-2;for(;u<=p;){const s=u+p>>1,r=s+(s&1),l=T.fetchIfRef(n[r]);if(f<l)p=r-2;else if(f>l)u=r+2;else return T.fetchIfRef(n[r+1])}}return null}}class z extends ie{constructor(f,T){super(f,T,"Names")}}A.NameTree=z;class e extends ie{constructor(f,T){super(f,T,"Nums")}}A.NumberTree=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.clearGlobalCaches=ie;var t=se(5),m=se(40);function ie(){(0,t.clearPrimitiveCaches)(),(0,m.clearUnicodeCaches)()}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.FileSpec=void 0;var t=se(2),m=se(7),ie=se(5);function z(j){return j.has("UF")?j.get("UF"):j.has("F")?j.get("F"):j.has("Unix")?j.get("Unix"):j.has("Mac")?j.get("Mac"):j.has("DOS")?j.get("DOS"):null}class e{constructor(f,T){f instanceof ie.Dict&&(this.xref=T,this.root=f,f.has("FS")&&(this.fs=f.get("FS")),this.description=f.has("Desc")?(0,t.stringToPDFString)(f.get("Desc")):"",f.has("RF")&&(0,t.warn)("Related file specifications are not supported"),this.contentAvailable=!0,f.has("EF")||(this.contentAvailable=!1,(0,t.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const f=z(this.root)||"unnamed";this._filename=(0,t.stringToPDFString)(f).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=z(this.root.get("EF")));let f=null;if(this.contentRef){const T=this.xref.fetchIfRef(this.contentRef);T instanceof m.BaseStream?f=T.getBytes():(0,t.warn)("Embedded file specification points to non-existing/invalid content")}else(0,t.warn)("Embedded file specification does not have a content");return f}get serializable(){return{filename:this.filename,content:this.content}}}A.FileSpec=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.MetadataParser=void 0;var t=se(66);class m{constructor(z){z=this._repair(z);const j=new t.SimpleXMLParser({lowerCaseName:!0}).parseFromString(z);this._metadataMap=new Map,this._data=z,j&&this._parse(j)}_repair(z){return z.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(e,j){const f=j.replace(/\\([0-3])([0-7])([0-7])/g,function(E,_,y,n){return String.fromCharCode(_*64+y*8+n*1)}).replace(/&(amp|apos|gt|lt|quot);/g,function(E,_){switch(_){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${_} isn't defined.`)}),T=[];for(let E=0,_=f.length;E<_;E+=2){const y=f.charCodeAt(E)*256+f.charCodeAt(E+1);y>=32&&y<127&&y!==60&&y!==62&&y!==38?T.push(String.fromCharCode(y)):T.push("&#x"+(65536+y).toString(16).substring(1)+";")}return">"+T.join("")})}_getSequence(z){const e=z.nodeName;return e!=="rdf:bag"&&e!=="rdf:seq"&&e!=="rdf:alt"?null:z.childNodes.filter(j=>j.nodeName==="rdf:li")}_parseArray(z){if(!z.hasChildNodes())return;const[e]=z.childNodes,j=this._getSequence(e)||[];this._metadataMap.set(z.nodeName,j.map(f=>f.textContent.trim()))}_parse(z){let e=z.documentElement;if(e.nodeName!=="rdf:rdf")for(e=e.firstChild;e&&e.nodeName!=="rdf:rdf";)e=e.nextSibling;if(!(!e||e.nodeName!=="rdf:rdf"||!e.hasChildNodes())){for(const j of e.childNodes)if(j.nodeName==="rdf:description")for(const f of j.childNodes){const T=f.nodeName;switch(T){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(f);continue}this._metadataMap.set(T,f.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}A.MetadataParser=m},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.StructTreeRoot=A.StructTreePage=void 0;var t=se(5),m=se(2),ie=se(70);const z=40,e={PAGE_CONTENT:"PAGE_CONTENT",STREAM_CONTENT:"STREAM_CONTENT",OBJECT:"OBJECT",ELEMENT:"ELEMENT"};class j{constructor(y){this.dict=y,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const y=this.dict.get("RoleMap");y instanceof t.Dict&&y.forEach((n,u)=>{u instanceof t.Name&&this.roleMap.set(n,u.name)})}}A.StructTreeRoot=j;class f{constructor(y,n){this.tree=y,this.dict=n,this.kids=[],this.parseKids()}get role(){const y=this.dict.get("S"),n=y instanceof t.Name?y.name:"",{root:u}=this.tree;return u.roleMap.has(n)?u.roleMap.get(n):n}parseKids(){let y=null;const n=this.dict.getRaw("Pg");n instanceof t.Ref&&(y=n.toString());const u=this.dict.get("K");if(Array.isArray(u))for(const p of u){const s=this.parseKid(y,p);s&&this.kids.push(s)}else{const p=this.parseKid(y,u);p&&this.kids.push(p)}}parseKid(y,n){if(Number.isInteger(n))return this.tree.pageDict.objId!==y?null:new T({type:e.PAGE_CONTENT,mcid:n,pageObjId:y});let u=null;if(n instanceof t.Ref?u=this.dict.xref.fetch(n):n instanceof t.Dict&&(u=n),!u)return null;const p=u.getRaw("Pg");p instanceof t.Ref&&(y=p.toString());const s=u.get("Type")instanceof t.Name?u.get("Type").name:null;return s==="MCR"?this.tree.pageDict.objId!==y?null:new T({type:e.STREAM_CONTENT,refObjId:u.getRaw("Stm")instanceof t.Ref?u.getRaw("Stm").toString():null,pageObjId:y,mcid:u.get("MCID")}):s==="OBJR"?this.tree.pageDict.objId!==y?null:new T({type:e.OBJECT,refObjId:u.getRaw("Obj")instanceof t.Ref?u.getRaw("Obj").toString():null,pageObjId:y}):new T({type:e.ELEMENT,dict:u})}}class T{constructor({type:y,dict:n=null,mcid:u=null,pageObjId:p=null,refObjId:s=null}){this.type=y,this.dict=n,this.mcid=u,this.pageObjId=p,this.refObjId=s,this.parentNode=null}}class E{constructor(y,n){this.root=y,this.rootDict=y?y.dict:null,this.pageDict=n,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const y=this.rootDict.get("ParentTree");if(!y)return;const n=this.pageDict.get("StructParents");if(!Number.isInteger(n))return;const p=new ie.NumberTree(y,this.rootDict.xref).get(n);if(!Array.isArray(p))return;const s=new Map;for(const r of p)r instanceof t.Ref&&this.addNode(this.rootDict.xref.fetch(r),s)}addNode(y,n,u=0){if(u>z)return(0,m.warn)("StructTree MAX_DEPTH reached."),null;if(n.has(y))return n.get(y);const p=new f(this,y);n.set(y,p);const s=y.get("P");if(!s||(0,t.isName)(s.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(y,p)||n.delete(y),p;const r=this.addNode(s,n,u+1);if(!r)return p;let l=!1;for(const c of r.kids)c.type===e.ELEMENT&&c.dict===y&&(c.parentNode=p,l=!0);return l||n.delete(y),p}addTopLevelNode(y,n){const u=this.rootDict.get("K");if(!u)return!1;if(u instanceof t.Dict)return u.objId!==y.objId?!1:(this.nodes[0]=n,!0);if(!Array.isArray(u))return!0;let p=!1;for(let s=0;s<u.length;s++){const r=u[s];r&&r.toString()===y.objId&&(this.nodes[s]=n,p=!0)}return p}get serializable(){function y(u,p,s=0){if(s>z){(0,m.warn)("StructTree too deep to be fully serialized.");return}const r=Object.create(null);r.role=u.role,r.children=[],p.children.push(r);const l=u.dict.get("Alt");typeof l=="string"&&(r.alt=(0,m.stringToPDFString)(l));const c=u.dict.get("Lang");typeof c=="string"&&(r.lang=(0,m.stringToPDFString)(c));for(const d of u.kids){const K=d.type===e.ELEMENT?d.parentNode:null;if(K){y(K,r,s+1);continue}else d.type===e.PAGE_CONTENT||d.type===e.STREAM_CONTENT?r.children.push({type:"content",id:`page${d.pageObjId}_mcid${d.mcid}`}):d.type===e.OBJECT&&r.children.push({type:"object",id:d.refObjId})}}const n=Object.create(null);n.children=[],n.role="Root";for(const u of this.nodes)u&&y(u,n);return n}}A.StructTreePage=E},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ObjectLoader=void 0;var t=se(5),m=se(7),ie=se(6),z=se(2);function e(T){return T instanceof t.Ref||T instanceof t.Dict||T instanceof m.BaseStream||Array.isArray(T)}function j(T,E){if(T instanceof t.Dict)T=T.getRawValues();else if(T instanceof m.BaseStream)T=T.dict.getRawValues();else if(!Array.isArray(T))return;for(const _ of T)e(_)&&E.push(_)}class f{constructor(E,_,y){this.dict=E,this.keys=_,this.xref=y,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:E,dict:_}=this;this.refSet=new t.RefSet;const y=[];for(let n=0,u=E.length;n<u;n++){const p=_.getRaw(E[n]);p!==void 0&&y.push(p)}return this._walk(y)}async _walk(E){const _=[],y=[];for(;E.length;){let n=E.pop();if(n instanceof t.Ref){if(this.refSet.has(n))continue;try{this.refSet.put(n),n=this.xref.fetch(n)}catch(u){if(!(u instanceof ie.MissingDataException)){(0,z.warn)(`ObjectLoader._walk - requesting all data: "${u}".`),this.refSet=null;const{manager:p}=this.xref.stream;return p.requestAllChunks()}_.push(n),y.push({begin:u.begin,end:u.end})}}if(n instanceof m.BaseStream){const u=n.getBaseStreams();if(u){let p=!1;for(const s of u)s.isDataLoaded||(p=!0,y.push({begin:s.start,end:s.end}));p&&_.push(n)}}j(n,E)}if(y.length){await this.xref.stream.manager.requestRanges(y);for(const n of _)n instanceof t.Ref&&this.refSet.remove(n);return this._walk(_)}this.refSet=null}}A.ObjectLoader=f},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XFAFactory=void 0;var t=se(77),m=se(81),ie=se(87),z=se(85),e=se(78),j=se(2),f=se(88),T=se(98);class E{constructor(y){try{this.root=new f.XFAParser().parse(E._createDocument(y));const n=new m.Binder(this.root);this.form=n.bind(),this.dataHandler=new ie.DataHandler(this.root,n.getData()),this.form[t.$globalData].template=this.form}catch(n){(0,j.warn)(`XFA - an error occurred during parsing and binding: ${n}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const y=this.form[t.$toPages]();return new Promise((n,u)=>{const p=()=>{try{const s=y.next();s.done?n(s.value):setTimeout(p,0)}catch(s){u(s)}};setTimeout(p,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(y=>{const{width:n,height:u}=y.attributes.style;return[0,0,parseInt(n),parseInt(u)]})}catch(y){(0,j.warn)(`XFA - an error occurred during layout: ${y}`)}}getBoundingBox(y){return this.dims[y]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(y){this.form[t.$globalData].images=y}setFonts(y){this.form[t.$globalData].fontFinder=new z.FontFinder(y);const n=[];for(let u of this.form[t.$globalData].usedTypefaces)u=(0,e.stripQuotes)(u),this.form[t.$globalData].fontFinder.find(u)||n.push(u);return n.length>0?n:null}appendFonts(y,n){this.form[t.$globalData].fontFinder.add(y,n)}async getPages(){this.pages||await this._createPages();const y=this.pages;return this.pages=null,y}serializeData(y){return this.dataHandler.serialize(y)}static _createDocument(y){return y["/xdp:xdp"]?Object.values(y).join(""):y["xdp:xdp"]}static getRichTextAsHtml(y){if(!y||typeof y!="string")return null;try{let n=new f.XFAParser(T.XhtmlNamespace,!0).parse(y);if(!["body","xhtml"].includes(n[t.$nodeName])){const r=T.XhtmlNamespace.body({});r[t.$appendChild](n),n=r}const u=n[t.$toHTML]();if(!u.success)return null;const{html:p}=u,{attributes:s}=p;return s&&(s.class&&(s.class=s.class.filter(r=>!r.startsWith("xfa"))),s.dir="auto"),{html:p,str:n[t.$text]()}}catch(n){(0,j.warn)(`XFA - an error occurred during parsing of rich text: ${n}`)}return null}}A.XFAFactory=E},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XmlObject=A.XFAObjectArray=A.XFAObject=A.XFAAttribute=A.StringObject=A.OptionObject=A.Option10=A.Option01=A.IntegerObject=A.ContentObject=A.$uid=A.$toStyle=A.$toString=A.$toPages=A.$toHTML=A.$text=A.$tabIndex=A.$setValue=A.$setSetAttributes=A.$setId=A.$searchNode=A.$root=A.$resolvePrototypes=A.$removeChild=A.$pushPara=A.$pushGlyphs=A.$popPara=A.$onText=A.$onChildCheck=A.$onChild=A.$nsAttributes=A.$nodeName=A.$namespaceId=A.$isUsable=A.$isTransparent=A.$isThereMoreWidth=A.$isSplittable=A.$isNsAgnostic=A.$isDescendent=A.$isDataValue=A.$isCDATAXml=A.$isBindable=A.$insertAt=A.$indexOf=A.$ids=A.$hasSettableValue=A.$globalData=A.$getTemplateRoot=A.$getSubformParent=A.$getRealChildrenByNameIt=A.$getParent=A.$getNextPage=A.$getExtra=A.$getDataValue=A.$getContainedChildren=A.$getChildrenByNameIt=A.$getChildrenByName=A.$getChildrenByClass=A.$getChildren=A.$getAvailableSpace=A.$getAttributes=A.$getAttributeIt=A.$flushHTML=A.$finalize=A.$extra=A.$dump=A.$data=A.$content=A.$consumed=A.$clone=A.$cleanup=A.$cleanPage=A.$clean=A.$childrenToHTML=A.$appendChild=A.$addHTML=A.$acceptWhitespace=void 0;var t=se(78),m=se(2),ie=se(6),z=se(79),e=se(80);const j=Symbol();A.$acceptWhitespace=j;const f=Symbol();A.$addHTML=f;const T=Symbol();A.$appendChild=T;const E=Symbol();A.$childrenToHTML=E;const _=Symbol();A.$clean=_;const y=Symbol();A.$cleanPage=y;const n=Symbol();A.$cleanup=n;const u=Symbol();A.$clone=u;const p=Symbol();A.$consumed=p;const s=Symbol("content");A.$content=s;const r=Symbol("data");A.$data=r;const l=Symbol();A.$dump=l;const c=Symbol("extra");A.$extra=c;const d=Symbol();A.$finalize=d;const K=Symbol();A.$flushHTML=K;const g=Symbol();A.$getAttributeIt=g;const G=Symbol();A.$getAttributes=G;const O=Symbol();A.$getAvailableSpace=O;const w=Symbol();A.$getChildrenByClass=w;const R=Symbol();A.$getChildrenByName=R;const o=Symbol();A.$getChildrenByNameIt=o;const h=Symbol();A.$getDataValue=h;const H=Symbol();A.$getExtra=H;const L=Symbol();A.$getRealChildrenByNameIt=L;const x=Symbol();A.$getChildren=x;const v=Symbol();A.$getContainedChildren=v;const F=Symbol();A.$getNextPage=F;const k=Symbol();A.$getSubformParent=k;const U=Symbol();A.$getParent=U;const ee=Symbol();A.$getTemplateRoot=ee;const J=Symbol();A.$globalData=J;const I=Symbol();A.$hasSettableValue=I;const X=Symbol();A.$ids=X;const ne=Symbol();A.$indexOf=ne;const P=Symbol();A.$insertAt=P;const V=Symbol();A.$isCDATAXml=V;const Y=Symbol();A.$isBindable=Y;const Z=Symbol();A.$isDataValue=Z;const q=Symbol();A.$isDescendent=q;const M=Symbol();A.$isNsAgnostic=M;const te=Symbol();A.$isSplittable=te;const W=Symbol();A.$isThereMoreWidth=W;const ae=Symbol();A.$isTransparent=ae;const fe=Symbol();A.$isUsable=fe;const de=Symbol(),ue=Symbol("namespaceId");A.$namespaceId=ue;const he=Symbol("nodeName");A.$nodeName=he;const me=Symbol();A.$nsAttributes=me;const xe=Symbol();A.$onChild=xe;const we=Symbol();A.$onChildCheck=we;const Ce=Symbol();A.$onText=Ce;const Fe=Symbol();A.$pushGlyphs=Fe;const Oe=Symbol();A.$popPara=Oe;const Ie=Symbol();A.$pushPara=Ie;const Me=Symbol();A.$removeChild=Me;const Le=Symbol("root");A.$root=Le;const qe=Symbol();A.$resolvePrototypes=qe;const Xe=Symbol();A.$searchNode=Xe;const Ue=Symbol();A.$setId=Ue;const $e=Symbol();A.$setSetAttributes=$e;const De=Symbol();A.$setValue=De;const Te=Symbol();A.$tabIndex=Te;const Ee=Symbol();A.$text=Ee;const ze=Symbol();A.$toPages=ze;const tt=Symbol();A.$toHTML=tt;const ft=Symbol();A.$toString=ft;const Be=Symbol();A.$toStyle=Be;const Ne=Symbol("uid");A.$uid=Ne;const ke=Symbol(),rt=Symbol(),ot=Symbol(),st=Symbol("_children"),xt=Symbol(),et=Symbol(),ut=Symbol(),kt=Symbol(),Qe=Symbol(),vt=Symbol(),ht=Symbol(),Ut=Symbol(),Ot=Symbol(),It=Symbol("parent"),Ct=Symbol(),Wt=Symbol(),zt=Symbol();let Je=0;const Ve=z.NamespaceIds.datasets.id;class nt{constructor(Re,He,Ze=!1){this[ue]=Re,this[he]=He,this[ht]=Ze,this[It]=null,this[st]=[],this[Ne]=`${He}${Je++}`,this[J]=null}[xe](Re){if(!this[ht]||!this[we](Re))return!1;const He=Re[he],Ze=this[He];if(Ze instanceof it){if(Ze.push(Re))return this[T](Re),!0}else return Ze!==null&&this[Me](Ze),this[He]=Re,this[T](Re),!0;let Ke="";return this.id?Ke=` (id: ${this.id})`:this.name&&(Ke=` (name: ${this.name} ${this.h.value})`),(0,m.warn)(`XFA - node "${this[he]}"${Ke} has already enough "${He}"!`),!1}[we](Re){return this.hasOwnProperty(Re[he])&&Re[ue]===this[ue]}[M](){return!1}[j](){return!1}[V](){return!1}[Y](){return!1}[Oe](){this.para&&this[ee]()[c].paraStack.pop()}[Ie](){this[ee]()[c].paraStack.push(this.para)}[Ue](Re){this.id&&this[ue]===z.NamespaceIds.template.id&&Re.set(this.id,this)}[ee](){return this[J].template}[te](){return!1}[W](){return!1}[T](Re){Re[It]=this,this[st].push(Re),!Re[J]&&this[J]&&(Re[J]=this[J])}[Me](Re){const He=this[st].indexOf(Re);this[st].splice(He,1)}[I](){return this.hasOwnProperty("value")}[De](Re){}[Ce](Re){}[d](){}[_](Re){delete this[ht],this[n]&&(Re.clean(this[n]),delete this[n])}[ne](Re){return this[st].indexOf(Re)}[P](Re,He){He[It]=this,this[st].splice(Re,0,He),!He[J]&&this[J]&&(He[J]=this[J])}[ae](){return!this.name}[de](){return""}[Ee](){return this[st].length===0?this[s]:this[st].map(Re=>Re[Ee]()).join("")}get[ot](){const Re=Object.getPrototypeOf(this);if(!Re._attributes){const He=Re._attributes=new Set;for(const Ze of Object.getOwnPropertyNames(this)){if(this[Ze]===null||this[Ze]instanceof nt||this[Ze]instanceof it)break;He.add(Ze)}}return(0,m.shadow)(this,ot,Re._attributes)}[q](Re){let He=this;for(;He;){if(He===Re)return!0;He=He[U]()}return!1}[U](){return this[It]}[k](){return this[U]()}[x](Re=null){return Re?this[Re]:this[st]}[l](){const Re=Object.create(null);this[s]&&(Re.$content=this[s]);for(const He of Object.getOwnPropertyNames(this)){const Ze=this[He];Ze!==null&&(Ze instanceof nt?Re[He]=Ze[l]():Ze instanceof it?Ze.isEmpty()||(Re[He]=Ze.dump()):Re[He]=Ze)}return Re}[Be](){return null}[tt](){return t.HTMLResult.EMPTY}*[v](){for(const Re of this[x]())yield Re}*[kt](Re,He){for(const Ze of this[v]())if(!Re||He===Re.has(Ze[he])){const Ke=this[O](),gt=Ze[tt](Ke);gt.success||(this[c].failingNode=Ze),yield gt}}[K](){return null}[f](Re,He){this[c].children.push(Re)}[O](){}[E]({filter:Re=null,include:He=!0}){if(!this[c].generator)this[c].generator=this[kt](Re,He);else{const Ze=this[O](),Ke=this[c].failingNode[tt](Ze);if(!Ke.success)return Ke;Ke.html&&this[f](Ke.html,Ke.bbox),delete this[c].failingNode}for(;;){const Ze=this[c].generator.next();if(Ze.done)break;const Ke=Ze.value;if(!Ke.success)return Ke;Ke.html&&this[f](Ke.html,Ke.bbox)}return this[c].generator=null,t.HTMLResult.EMPTY}[$e](Re){this[Wt]=new Set(Object.keys(Re))}[vt](Re){const He=this[ot],Ze=this[Wt];return[...Re].filter(Ke=>He.has(Ke)&&!Ze.has(Ke))}[qe](Re,He=new Set){for(const Ze of this[st])Ze[Ct](Re,He)}[Ct](Re,He){const Ze=this[Qe](Re,He);Ze?this[ke](Ze,Re,He):this[qe](Re,He)}[Qe](Re,He){const{use:Ze,usehref:Ke}=this;if(!Ze&&!Ke)return null;let gt=null,Pt=null,Vt=null,Rt=Ze;if(Ke?(Rt=Ke,Ke.startsWith("#som(")&&Ke.endsWith(")")?Pt=Ke.slice(5,Ke.length-1):Ke.startsWith(".#som(")&&Ke.endsWith(")")?Pt=Ke.slice(6,Ke.length-1):Ke.startsWith("#")?Vt=Ke.slice(1):Ke.startsWith(".#")&&(Vt=Ke.slice(2))):Ze.startsWith("#")?Vt=Ze.slice(1):Pt=Ze,this.use=this.usehref="",Vt?gt=Re.get(Vt):(gt=(0,e.searchNode)(Re.get(Le),this,Pt,!0,!1),gt&&(gt=gt[0])),!gt)return(0,m.warn)(`XFA - Invalid prototype reference: ${Rt}.`),null;if(gt[he]!==this[he])return(0,m.warn)(`XFA - Incompatible prototype: ${gt[he]} !== ${this[he]}.`),null;if(He.has(gt))return(0,m.warn)("XFA - Cycle detected in prototypes use."),null;He.add(gt);const Lt=gt[Qe](Re,He);return Lt&&gt[ke](Lt,Re,He),gt[qe](Re,He),He.delete(gt),gt}[ke](Re,He,Ze){if(Ze.has(Re)){(0,m.warn)("XFA - Cycle detected in prototypes use.");return}!this[s]&&Re[s]&&(this[s]=Re[s]),new Set(Ze).add(Re);for(const gt of this[vt](Re[Wt]))this[gt]=Re[gt],this[Wt]&&this[Wt].add(gt);for(const gt of Object.getOwnPropertyNames(this)){if(this[ot].has(gt))continue;const Pt=this[gt],Vt=Re[gt];if(Pt instanceof it){for(const Rt of Pt[st])Rt[Ct](He,Ze);for(let Rt=Pt[st].length,Lt=Vt[st].length;Rt<Lt;Rt++){const qt=Re[st][Rt][u]();if(Pt.push(qt))qt[It]=this,this[st].push(qt),qt[Ct](He,Ze);else break}continue}if(Pt!==null){Pt[qe](He,Ze),Vt&&Pt[ke](Vt,He,Ze);continue}if(Vt!==null){const Rt=Vt[u]();Rt[It]=this,this[gt]=Rt,this[st].push(Rt),Rt[Ct](He,Ze)}}}static[xt](Re){return Array.isArray(Re)?Re.map(He=>nt[xt](He)):typeof Re=="object"&&Re!==null?Object.assign({},Re):Re}[u](){const Re=Object.create(Object.getPrototypeOf(this));for(const He of Object.getOwnPropertySymbols(this))try{Re[He]=this[He]}catch{(0,m.shadow)(Re,He,this[He])}Re[Ne]=`${Re[he]}${Je++}`,Re[st]=[];for(const He of Object.getOwnPropertyNames(this)){if(this[ot].has(He)){Re[He]=nt[xt](this[He]);continue}const Ze=this[He];Ze instanceof it?Re[He]=new it(Ze[Ut]):Re[He]=null}for(const He of this[st]){const Ze=He[he],Ke=He[u]();Re[st].push(Ke),Ke[It]=Re,Re[Ze]===null?Re[Ze]=Ke:Re[Ze][st].push(Ke)}return Re}[x](Re=null){return Re?this[st].filter(He=>He[he]===Re):this[st]}[w](Re){return this[Re]}[R](Re,He,Ze=!0){return Array.from(this[o](Re,He,Ze))}*[o](Re,He,Ze=!0){if(Re==="parent"){yield this[It];return}for(const Ke of this[st])Ke[he]===Re&&(yield Ke),Ke.name===Re&&(yield Ke),(He||Ke[ae]())&&(yield*Ke[o](Re,He,!1));Ze&&this[ot].has(Re)&&(yield new pt(this,Re,this[Re]))}}A.XFAObject=nt;class it{constructor(Re=1/0){this[Ut]=Re,this[st]=[]}push(Re){return this[st].length<=this[Ut]?(this[st].push(Re),!0):((0,m.warn)(`XFA - node "${Re[he]}" accepts no more than ${this[Ut]} children`),!1)}isEmpty(){return this[st].length===0}dump(){return this[st].length===1?this[st][0][l]():this[st].map(Re=>Re[l]())}[u](){const Re=new it(this[Ut]);return Re[st]=this[st].map(He=>He[u]()),Re}get children(){return this[st]}clear(){this[st].length=0}}A.XFAObjectArray=it;class pt{constructor(Re,He,Ze){this[It]=Re,this[he]=He,this[s]=Ze,this[p]=!1,this[Ne]=`attribute${Je++}`}[U](){return this[It]}[Z](){return!0}[h](){return this[s].trim()}[De](Re){Re=Re.value||"",this[s]=Re.toString()}[Ee](){return this[s]}[q](Re){return this[It]===Re||this[It][q](Re)}}A.XFAAttribute=pt;class Tt extends nt{constructor(Re,He,Ze={}){if(super(Re,He),this[s]="",this[et]=null,He!=="#text"){const Ke=new Map;this[rt]=Ke;for(const[gt,Pt]of Object.entries(Ze))Ke.set(gt,new pt(this,gt,Pt));if(Ze.hasOwnProperty(me)){const gt=Ze[me].xfa.dataNode;gt!==void 0&&(gt==="dataGroup"?this[et]=!1:gt==="dataValue"&&(this[et]=!0))}}this[p]=!1}[ft](Re){const He=this[he];if(He==="#text"){Re.push((0,ie.encodeToXmlString)(this[s]));return}const Ze=(0,m.utf8StringToString)(He),Ke=this[ue]===Ve?"xfa:":"";Re.push(`<${Ke}${Ze}`);for(const[gt,Pt]of this[rt].entries()){const Vt=(0,m.utf8StringToString)(gt);Re.push(` ${Vt}="${(0,ie.encodeToXmlString)(Pt[s])}"`)}if(this[et]!==null&&(this[et]?Re.push(' xfa:dataNode="dataValue"'):Re.push(' xfa:dataNode="dataGroup"')),!this[s]&&this[st].length===0){Re.push("/>");return}if(Re.push(">"),this[s])typeof this[s]=="string"?Re.push((0,ie.encodeToXmlString)(this[s])):this[s][ft](Re);else for(const gt of this[st])gt[ft](Re);Re.push(`</${Ke}${Ze}>`)}[xe](Re){if(this[s]){const He=new Tt(this[ue],"#text");this[T](He),He[s]=this[s],this[s]=""}return this[T](Re),!0}[Ce](Re){this[s]+=Re}[d](){if(this[s]&&this[st].length>0){const Re=new Tt(this[ue],"#text");this[T](Re),Re[s]=this[s],delete this[s]}}[tt](){return this[he]==="#text"?t.HTMLResult.success({name:"#text",value:this[s]}):t.HTMLResult.EMPTY}[x](Re=null){return Re?this[st].filter(He=>He[he]===Re):this[st]}[G](){return this[rt]}[w](Re){const He=this[rt].get(Re);return He!==void 0?He:this[x](Re)}*[o](Re,He){const Ze=this[rt].get(Re);Ze&&(yield Ze);for(const Ke of this[st])Ke[he]===Re&&(yield Ke),He&&(yield*Ke[o](Re,He))}*[g](Re,He){const Ze=this[rt].get(Re);Ze&&(!He||!Ze[p])&&(yield Ze);for(const Ke of this[st])yield*Ke[g](Re,He)}*[L](Re,He,Ze){for(const Ke of this[st])Ke[he]===Re&&(!Ze||!Ke[p])&&(yield Ke),He&&(yield*Ke[L](Re,He,Ze))}[Z](){return this[et]===null?this[st].length===0||this[st][0][ue]===z.NamespaceIds.xhtml.id:this[et]}[h](){return this[et]===null?this[st].length===0?this[s].trim():this[st][0][ue]===z.NamespaceIds.xhtml.id?this[st][0][Ee]().trim():null:this[s].trim()}[De](Re){Re=Re.value||"",this[s]=Re.toString()}[l](Re=!1){const He=Object.create(null);Re&&(He.$ns=this[ue]),this[s]&&(He.$content=this[s]),He.$name=this[he],He.children=[];for(const Ze of this[st])He.children.push(Ze[l](Re));He.attributes=Object.create(null);for(const[Ze,Ke]of this[rt])He.attributes[Ze]=Ke[s];return He}}A.XmlObject=Tt;class mt extends nt{constructor(Re,He){super(Re,He),this[s]=""}[Ce](Re){this[s]+=Re}[d](){}}A.ContentObject=mt;class lt extends mt{constructor(Re,He,Ze){super(Re,He),this[Ot]=Ze}[d](){this[s]=(0,t.getKeyword)({data:this[s],defaultValue:this[Ot][0],validate:Re=>this[Ot].includes(Re)})}[_](Re){super[_](Re),delete this[Ot]}}A.OptionObject=lt;class yt extends mt{[d](){this[s]=this[s].trim()}}A.StringObject=yt;class Ft extends mt{constructor(Re,He,Ze,Ke){super(Re,He),this[ut]=Ze,this[zt]=Ke}[d](){this[s]=(0,t.getInteger)({data:this[s],defaultValue:this[ut],validate:this[zt]})}[_](Re){super[_](Re),delete this[ut],delete this[zt]}}A.IntegerObject=Ft;class Nt extends Ft{constructor(Re,He){super(Re,He,0,Ze=>Ze===1)}}A.Option01=Nt;class Dt extends Ft{constructor(Re,He){super(Re,He,1,Ze=>Ze===0)}}A.Option10=Dt},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.HTMLResult=void 0,A.getBBox=u,A.getColor=n,A.getFloat=j,A.getInteger=e,A.getKeyword=f,A.getMeasurement=E,A.getRatio=_,A.getRelevant=y,A.getStringOption=T,A.stripQuotes=z;var t=se(2);const m={pt:s=>s,cm:s=>s/2.54*72,mm:s=>s/(10*2.54)*72,in:s=>s*72,px:s=>s},ie=/([+-]?\d+\.?\d*)(.*)/;function z(s){return s.startsWith("'")||s.startsWith('"')?s.slice(1,s.length-1):s}function e({data:s,defaultValue:r,validate:l}){if(!s)return r;s=s.trim();const c=parseInt(s,10);return!isNaN(c)&&l(c)?c:r}function j({data:s,defaultValue:r,validate:l}){if(!s)return r;s=s.trim();const c=parseFloat(s);return!isNaN(c)&&l(c)?c:r}function f({data:s,defaultValue:r,validate:l}){return s?(s=s.trim(),l(s)?s:r):r}function T(s,r){return f({data:s,defaultValue:r[0],validate:l=>r.includes(l)})}function E(s,r="0"){if(r=r||"0",!s)return E(r);const l=s.trim().match(ie);if(!l)return E(r);const[,c,d]=l,K=parseFloat(c);if(isNaN(K))return E(r);if(K===0)return 0;const g=m[d];return g?g(K):K}function _(s){if(!s)return{num:1,den:1};const r=s.trim().split(/\s*:\s*/).map(d=>parseFloat(d)).filter(d=>!isNaN(d));if(r.length===1&&r.push(1),r.length===0)return{num:1,den:1};const[l,c]=r;return{num:l,den:c}}function y(s){return s?s.trim().split(/\s+/).map(r=>({excluded:r[0]==="-",viewname:r.substring(1)})):[]}function n(s,r=[0,0,0]){let[l,c,d]=r;if(!s)return{r:l,g:c,b:d};const K=s.trim().split(/\s*,\s*/).map(g=>Math.min(Math.max(0,parseInt(g.trim(),10)),255)).map(g=>isNaN(g)?0:g);return K.length<3?{r:l,g:c,b:d}:([l,c,d]=K,{r:l,g:c,b:d})}function u(s){if(!s)return{x:-1,y:-1,width:-1,height:-1};const l=s.trim().split(/\s*,\s*/).map(G=>E(G,"-1"));if(l.length<4||l[2]<0||l[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[c,d,K,g]=l;return{x:c,y:d,width:K,height:g}}class p{static get FAILURE(){return(0,t.shadow)(this,"FAILURE",new p(!1,null,null,null))}static get EMPTY(){return(0,t.shadow)(this,"EMPTY",new p(!0,null,null,null))}constructor(r,l,c,d){this.success=r,this.html=l,this.bbox=c,this.breakNode=d}isBreak(){return!!this.breakNode}static breakNode(r){return new p(!1,null,null,r)}static success(r,l=null){return new p(!0,r,l,null)}}A.HTMLResult=p},(Ae,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.NamespaceIds=A.$buildXFAObject=void 0;const se=Symbol();A.$buildXFAObject=se;const t={config:{id:0,check:m=>m.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:m=>m.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:m=>m.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:m=>m.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:m=>m.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:m=>m==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:m=>m==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:m=>m.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:m=>m==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:m=>m.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:m=>m.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:m=>m==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:m=>m==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:m=>m==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:m=>m==="http://ns.adobe.com/xmpmeta/"}};A.NamespaceIds=t},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.createDataNode=p,A.searchNode=n;var t=se(77),m=se(79),ie=se(2);const z=/^[^.[]+/,e=/^[^\]]+/,j={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},f=new Map([["$data",(s,r)=>s.datasets?s.datasets.data:s],["$record",(s,r)=>(s.datasets?s.datasets.data:s)[t.$getChildren]()[0]],["$template",(s,r)=>s.template],["$connectionSet",(s,r)=>s.connectionSet],["$form",(s,r)=>s.form],["$layout",(s,r)=>s.layout],["$host",(s,r)=>s.host],["$dataWindow",(s,r)=>s.dataWindow],["$event",(s,r)=>s.event],["!",(s,r)=>s.datasets],["$xfa",(s,r)=>s],["xfa",(s,r)=>s],["$",(s,r)=>r]]),T=new WeakMap,E=m.NamespaceIds.datasets.id;function _(s){return s=s.trim(),s==="*"?1/0:parseInt(s,10)||0}function y(s,r,l=!0){let c=s.match(z);if(!c)return null;let[d]=c;const K=[{name:d,cacheName:"."+d,index:0,js:null,formCalc:null,operator:j.dot}];let g=d.length;for(;g<s.length;){const G=g;if(s.charAt(g++)==="["){if(c=s.slice(g).match(e),!c)return(0,ie.warn)("XFA - Invalid index in SOM expression"),null;K.at(-1).index=_(c[0]),g+=c[0].length+1;continue}let w;switch(s.charAt(g)){case".":if(!r)return null;g++,w=j.dotDot;break;case"#":g++,w=j.dotHash;break;case"[":if(l)return(0,ie.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;w=j.dotBracket;break;case"(":if(l)return(0,ie.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;w=j.dotParen;break;default:w=j.dot;break}if(c=s.slice(g).match(z),!c)break;[d]=c,g+=d.length,K.push({name:d,cacheName:s.slice(G,g),operator:w,index:0,js:null,formCalc:null})}return K}function n(s,r,l,c=!0,d=!0){const K=y(l,c);if(!K)return null;const g=f.get(K[0].name);let G=0,O;g?(O=!0,s=[g(s,r)],G=1):(O=r===null,s=[r||s]);for(let w=K.length;G<w;G++){const{name:R,cacheName:o,operator:h,index:H}=K[G],L=[];for(const x of s){if(!(x instanceof t.XFAObject))continue;let v,F;if(d&&(F=T.get(x),F||(F=new Map,T.set(x,F)),v=F.get(o)),!v){switch(h){case j.dot:v=x[t.$getChildrenByName](R,!1);break;case j.dotDot:v=x[t.$getChildrenByName](R,!0);break;case j.dotHash:v=x[t.$getChildrenByClass](R),v instanceof t.XFAObjectArray?v=v.children:v=[v];break}d&&F.set(o,v)}v.length>0&&L.push(v)}if(L.length===0&&!O&&G===0){if(r=r[t.$getParent](),!r)return null;G=-1,s=[r];continue}isFinite(H)?s=L.filter(x=>H<x.length).map(x=>x[H]):s=L.flat()}return s.length===0?null:s}function u(s,r){let l=null;for(const{name:c,index:d}of r){for(let K=0,g=isFinite(d)?d:0;K<=g;K++){const G=s[t.$namespaceId]===E?-1:s[t.$namespaceId];l=new t.XmlObject(G,c),s[t.$appendChild](l)}s=l}return l}function p(s,r,l){const c=y(l);if(!c||c.some(g=>g.operator===j.dotDot))return null;const d=f.get(c[0].name);let K=0;d?(s=d(s,r),K=1):s=r||s;for(let g=c.length;K<g;K++){const{name:G,operator:O,index:w}=c[K];if(!isFinite(w))return c[K].index=0,u(s,c.slice(K));let R;switch(O){case j.dot:R=s[t.$getChildrenByName](G,!1);break;case j.dotDot:R=s[t.$getChildrenByName](G,!0);break;case j.dotHash:R=s[t.$getChildrenByClass](G),R instanceof t.XFAObjectArray?R=R.children:R=[R];break}if(R.length===0)return u(s,c.slice(K));if(w<R.length){const o=R[w];if(!(o instanceof t.XFAObject))return(0,ie.warn)("XFA - Cannot create a node."),null;s=o}else return c[K].index=w-R.length,u(s,c.slice(K))}return null}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Binder=void 0;var t=se(77),m=se(82),ie=se(80),z=se(79),e=se(2);const j=z.NamespaceIds.datasets.id;function f(E){const _=new m.Text({});return _[t.$content]=E,_}class T{constructor(_){this.root=_,this.datasets=_.datasets,_.datasets&&_.datasets.data?this.data=_.datasets.data:this.data=new t.XmlObject(z.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[t.$getChildren]().length===0,this.root.form=this.form=_.template[t.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(_,y,n){if(_[t.$data]=y,_[t.$hasSettableValue]())if(y[t.$isDataValue]()){const u=y[t.$getDataValue]();_[t.$setValue](f(u))}else if(_ instanceof m.Field&&_.ui&&_.ui.choiceList&&_.ui.choiceList.open==="multiSelect"){const u=y[t.$getChildren]().map(p=>p[t.$content].trim()).join(`
`);_[t.$setValue](f(u))}else this._isConsumeData()&&(0,e.warn)("XFA - Nodes haven't the same type.");else!y[t.$isDataValue]()||this._isMatchTemplate()?this._bindElement(_,y):(0,e.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(_,y,n,u){if(!_)return null;let p,s;for(let r=0;r<3;r++){for(p=n[t.$getRealChildrenByNameIt](_,!1,!0);s=p.next().value,!!s;)if(y===s[t.$isDataValue]())return s;if(n[t.$namespaceId]===z.NamespaceIds.datasets.id&&n[t.$nodeName]==="data")break;n=n[t.$getParent]()}return u?(p=this.data[t.$getRealChildrenByNameIt](_,!0,!1),s=p.next().value,s||(p=this.data[t.$getAttributeIt](_,!0),s=p.next().value,s&&s[t.$isDataValue]())?s:null):null}_setProperties(_,y){if(_.hasOwnProperty("setProperty"))for(const{ref:n,target:u,connection:p}of _.setProperty.children){if(p||!n)continue;const s=(0,ie.searchNode)(this.root,y,n,!1,!1);if(!s){(0,e.warn)(`XFA - Invalid reference: ${n}.`);continue}const[r]=s;if(!r[t.$isDescendent](this.data)){(0,e.warn)("XFA - Invalid node: must be a data node.");continue}const l=(0,ie.searchNode)(this.root,_,u,!1,!1);if(!l){(0,e.warn)(`XFA - Invalid target: ${u}.`);continue}const[c]=l;if(!c[t.$isDescendent](_)){(0,e.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const d=c[t.$getParent]();if(c instanceof m.SetProperty||d instanceof m.SetProperty){(0,e.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(c instanceof m.BindItems||d instanceof m.BindItems){(0,e.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const K=r[t.$text](),g=c[t.$nodeName];if(c instanceof t.XFAAttribute){const G=Object.create(null);G[g]=K;const O=Reflect.construct(Object.getPrototypeOf(d).constructor,[G]);d[g]=O[g];continue}if(!c.hasOwnProperty(t.$content)){(0,e.warn)("XFA - Invalid node to use in setProperty");continue}c[t.$data]=r,c[t.$content]=K,c[t.$finalize]()}}_bindItems(_,y){if(!_.hasOwnProperty("items")||!_.hasOwnProperty("bindItems")||_.bindItems.isEmpty())return;for(const p of _.items.children)_[t.$removeChild](p);_.items.clear();const n=new m.Items({}),u=new m.Items({});_[t.$appendChild](n),_.items.push(n),_[t.$appendChild](u),_.items.push(u);for(const{ref:p,labelRef:s,valueRef:r,connection:l}of _.bindItems.children){if(l||!p)continue;const c=(0,ie.searchNode)(this.root,y,p,!1,!1);if(!c){(0,e.warn)(`XFA - Invalid reference: ${p}.`);continue}for(const d of c){if(!d[t.$isDescendent](this.datasets)){(0,e.warn)(`XFA - Invalid ref (${p}): must be a datasets child.`);continue}const K=(0,ie.searchNode)(this.root,d,s,!0,!1);if(!K){(0,e.warn)(`XFA - Invalid label: ${s}.`);continue}const[g]=K;if(!g[t.$isDescendent](this.datasets)){(0,e.warn)("XFA - Invalid label: must be a datasets child.");continue}const G=(0,ie.searchNode)(this.root,d,r,!0,!1);if(!G){(0,e.warn)(`XFA - Invalid value: ${r}.`);continue}const[O]=G;if(!O[t.$isDescendent](this.datasets)){(0,e.warn)("XFA - Invalid value: must be a datasets child.");continue}const w=f(g[t.$text]()),R=f(O[t.$text]());n[t.$appendChild](w),n.text.push(w),u[t.$appendChild](R),u.text.push(R)}}}_bindOccurrences(_,y,n){let u;if(y.length>1&&(u=_[t.$clone](),u[t.$removeChild](u.occur),u.occur=null),this._bindValue(_,y[0],n),this._setProperties(_,y[0]),this._bindItems(_,y[0]),y.length===1)return;const p=_[t.$getParent](),s=_[t.$nodeName],r=p[t.$indexOf](_);for(let l=1,c=y.length;l<c;l++){const d=y[l],K=u[t.$clone]();p[s].push(K),p[t.$insertAt](r+l,K),this._bindValue(K,d,n),this._setProperties(K,d),this._bindItems(K,d)}}_createOccurrences(_){if(!this.emptyMerge)return;const{occur:y}=_;if(!y||y.initial<=1)return;const n=_[t.$getParent](),u=_[t.$nodeName];if(!(n[u]instanceof t.XFAObjectArray))return;let p;_.name?p=n[u].children.filter(l=>l.name===_.name).length:p=n[u].children.length;const s=n[t.$indexOf](_)+1,r=y.initial-p;if(r){const l=_[t.$clone]();l[t.$removeChild](l.occur),l.occur=null,n[u].push(l),n[t.$insertAt](s,l);for(let c=1;c<r;c++){const d=l[t.$clone]();n[u].push(d),n[t.$insertAt](s+c,d)}}}_getOccurInfo(_){const{name:y,occur:n}=_;if(!n||!y)return[1,1];const u=n.max===-1?1/0:n.max;return[n.min,u]}_setAndBind(_,y){this._setProperties(_,y),this._bindItems(_,y),this._bindElement(_,y)}_bindElement(_,y){const n=[];this._createOccurrences(_);for(const u of _[t.$getChildren]()){if(u[t.$data])continue;if(this._mergeMode===void 0&&u[t.$nodeName]==="subform"){this._mergeMode=u.mergeMode==="consumeData";const K=y[t.$getChildren]();if(K.length>0)this._bindOccurrences(u,[K[0]],null);else if(this.emptyMerge){const g=y[t.$namespaceId]===j?-1:y[t.$namespaceId],G=u[t.$data]=new t.XmlObject(g,u.name||"root");y[t.$appendChild](G),this._bindElement(u,G)}continue}if(!u[t.$isBindable]())continue;let p=!1,s=null,r=null,l=null;if(u.bind){switch(u.bind.match){case"none":this._setAndBind(u,y);continue;case"global":p=!0;break;case"dataRef":if(!u.bind.ref){(0,e.warn)(`XFA - ref is empty in node ${u[t.$nodeName]}.`),this._setAndBind(u,y);continue}r=u.bind.ref;break}u.bind.picture&&(s=u.bind.picture[t.$content])}const[c,d]=this._getOccurInfo(u);if(r)if(l=(0,ie.searchNode)(this.root,y,r,!0,!1),l===null){if(l=(0,ie.createDataNode)(this.data,y,r),!l)continue;this._isConsumeData()&&(l[t.$consumed]=!0),this._setAndBind(u,l);continue}else this._isConsumeData()&&(l=l.filter(K=>!K[t.$consumed])),l.length>d?l=l.slice(0,d):l.length===0&&(l=null),l&&this._isConsumeData()&&l.forEach(K=>{K[t.$consumed]=!0});else{if(!u.name){this._setAndBind(u,y);continue}if(this._isConsumeData()){const K=[];for(;K.length<d;){const g=this._findDataByNameToConsume(u.name,u[t.$hasSettableValue](),y,p);if(!g)break;g[t.$consumed]=!0,K.push(g)}l=K.length>0?K:null}else{if(l=y[t.$getRealChildrenByNameIt](u.name,!1,this.emptyMerge).next().value,!l){if(c===0){n.push(u);continue}const K=y[t.$namespaceId]===j?-1:y[t.$namespaceId];l=u[t.$data]=new t.XmlObject(K,u.name),this.emptyMerge&&(l[t.$consumed]=!0),y[t.$appendChild](l),this._setAndBind(u,l);continue}this.emptyMerge&&(l[t.$consumed]=!0),l=[l]}}l?this._bindOccurrences(u,l,s):c>0?this._setAndBind(u,y):n.push(u)}n.forEach(u=>u[t.$getParent]()[t.$removeChild](u))}}A.Binder=T},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Value=A.Text=A.TemplateNamespace=A.Template=A.SetProperty=A.Items=A.Field=A.BindItems=void 0;var t=se(77),m=se(79),ie=se(83),z=se(84),e=se(78),j=se(2),f=se(85),T=se(6),E=se(80);const _=m.NamespaceIds.template.id,y="http://www.w3.org/2000/svg",n=2,u=3,p=5e3,s=/^H(\d+)$/,r=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),l=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function c(Ge){if(!Ge||!Ge.border)return{w:0,h:0};const a=Ge.border[t.$getExtra]();return a?{w:a.widths[0]+a.widths[2]+a.insets[0]+a.insets[2],h:a.widths[1]+a.widths[3]+a.insets[1]+a.insets[3]}:{w:0,h:0}}function d(Ge){return Ge.margin&&(Ge.margin.topInset||Ge.margin.rightInset||Ge.margin.bottomInset||Ge.margin.leftInset)}function K(Ge,a){if(!Ge.value){const oe=new hn({});Ge[t.$appendChild](oe),Ge.value=oe}Ge.value[t.$setValue](a)}function*g(Ge){for(const a of Ge[t.$getChildren]()){if(a instanceof In){yield*a[t.$getContainedChildren]();continue}yield a}}function G(Ge){return Ge.validate&&Ge.validate.nullTest==="error"}function O(Ge){for(;Ge;){if(!Ge.traversal){Ge[t.$tabIndex]=Ge[t.$getParent]()[t.$tabIndex];return}if(Ge[t.$tabIndex])return;let a=null;for(const We of Ge.traversal[t.$getChildren]())if(We.operation==="next"){a=We;break}if(!a||!a.ref){Ge[t.$tabIndex]=Ge[t.$getParent]()[t.$tabIndex];return}const oe=Ge[t.$getTemplateRoot]();Ge[t.$tabIndex]=++oe[t.$tabIndex];const je=oe[t.$searchNode](a.ref,Ge);if(!je)return;Ge=je[0]}}function w(Ge,a){const oe=Ge.assist;if(oe){const je=oe[t.$toHTML]();je&&(a.title=je);const ct=oe.role.match(s);if(ct){const _t="heading",bt=ct[1];a.role=_t,a["aria-level"]=bt}}if(Ge.layout==="table")a.role="table";else if(Ge.layout==="row")a.role="row";else{const je=Ge[t.$getParent]();je.layout==="row"&&(je.assist&&je.assist.role==="TH"?a.role="columnheader":a.role="cell")}}function R(Ge){if(!Ge.assist)return null;const a=Ge.assist;return a.speak&&a.speak[t.$content]!==""?a.speak[t.$content]:a.toolTip?a.toolTip[t.$content]:null}function o(Ge){return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Ge}]})}function h(Ge){const a=Ge[t.$getTemplateRoot]();a[t.$extra].firstUnsplittable===null&&(a[t.$extra].firstUnsplittable=Ge,a[t.$extra].noLayoutFailure=!0)}function H(Ge){const a=Ge[t.$getTemplateRoot]();a[t.$extra].firstUnsplittable===Ge&&(a[t.$extra].noLayoutFailure=!1)}function L(Ge){if(Ge[t.$extra]||(Ge[t.$extra]=Object.create(null),Ge.targetType==="auto"))return!1;const a=Ge[t.$getTemplateRoot]();let oe=null;if(Ge.target){if(oe=a[t.$searchNode](Ge.target,Ge[t.$getParent]()),!oe)return!1;oe=oe[0]}const{currentPageArea:je,currentContentArea:We}=a[t.$extra];if(Ge.targetType==="pageArea")return oe instanceof Ke||(oe=null),Ge.startNew?(Ge[t.$extra].target=oe||je,!0):oe&&oe!==je?(Ge[t.$extra].target=oe,!0):!1;oe instanceof xe||(oe=null);const ct=oe&&oe[t.$getParent]();let _t,bt=ct;if(Ge.startNew)if(oe){const Mt=ct.contentArea.children,jt=Mt.indexOf(We),Gt=Mt.indexOf(oe);jt!==-1&&jt<Gt&&(bt=null),_t=Gt-1}else _t=je.contentArea.children.indexOf(We);else if(oe&&oe!==We)_t=ct.contentArea.children.indexOf(oe)-1,bt=ct===je?null:ct;else return!1;return Ge[t.$extra].target=bt,Ge[t.$extra].index=_t,!0}function x(Ge,a,oe){const je=Ge[t.$getTemplateRoot](),We=je[t.$extra].noLayoutFailure,ct=a[t.$getSubformParent];a[t.$getSubformParent]=()=>Ge,je[t.$extra].noLayoutFailure=!0;const _t=a[t.$toHTML](oe);Ge[t.$addHTML](_t.html,_t.bbox),je[t.$extra].noLayoutFailure=We,a[t.$getSubformParent]=ct}class v extends t.StringObject{constructor(a){super(_,"appearanceFilter"),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||""}}class F extends t.XFAObject{constructor(a){super(_,"arc",!0),this.circular=(0,e.getInteger)({data:a.circular,defaultValue:0,validate:oe=>oe===1}),this.hand=(0,e.getStringOption)(a.hand,["even","left","right"]),this.id=a.id||"",this.startAngle=(0,e.getFloat)({data:a.startAngle,defaultValue:0,validate:oe=>!0}),this.sweepAngle=(0,e.getFloat)({data:a.sweepAngle,defaultValue:360,validate:oe=>!0}),this.use=a.use||"",this.usehref=a.usehref||"",this.edge=null,this.fill=null}[t.$toHTML](){const a=this.edge||new $e({}),oe=a[t.$toStyle](),je=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(je,this.fill[t.$toStyle]()):je.fill="transparent",je.strokeWidth=(0,z.measureToString)(a.presence==="visible"?a.thickness:0),je.stroke=oe.color;let We;const ct={xmlns:y,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)We={name:"ellipse",attributes:{xmlns:y,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:je}};else{const Mt=this.startAngle*Math.PI/180,jt=this.sweepAngle*Math.PI/180,Gt=this.sweepAngle>180?1:0,[Yt,Kt,Zt,Qt]=[50*(1+Math.cos(Mt)),50*(1-Math.sin(Mt)),50*(1+Math.cos(Mt+jt)),50*(1-Math.sin(Mt+jt))];We={name:"path",attributes:{xmlns:y,d:`M ${Yt} ${Kt} A 50 50 0 ${Gt} 0 ${Zt} ${Qt}`,vectorEffect:"non-scaling-stroke",style:je}},Object.assign(ct,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const _t={name:"svg",children:[We],attributes:ct},bt=this[t.$getParent]()[t.$getParent]();return d(bt)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[_t]}):(_t.attributes.style.position="absolute",e.HTMLResult.success(_t))}}class k extends t.XFAObject{constructor(a){super(_,"area",!0),this.colSpan=(0,e.getInteger)({data:a.colSpan,defaultValue:1,validate:oe=>oe>=1||oe===-1}),this.id=a.id||"",this.name=a.name||"",this.relevant=(0,e.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.x=(0,e.getMeasurement)(a.x,"0pt"),this.y=(0,e.getMeasurement)(a.y,"0pt"),this.desc=null,this.extras=null,this.area=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[t.$getContainedChildren](){yield*g(this)}[t.$isTransparent](){return!0}[t.$isBindable](){return!0}[t.$addHTML](a,oe){const[je,We,ct,_t]=oe;this[t.$extra].width=Math.max(this[t.$extra].width,je+ct),this[t.$extra].height=Math.max(this[t.$extra].height,We+_t),this[t.$extra].children.push(a)}[t.$getAvailableSpace](){return this[t.$extra].availableSpace}[t.$toHTML](a){const oe=(0,z.toStyle)(this,"position"),je={style:oe,id:this[t.$uid],class:["xfaArea"]};(0,z.isPrintOnly)(this)&&je.class.push("xfaPrintOnly"),this.name&&(je.xfaName=this.name);const We=[];this[t.$extra]={children:We,width:0,height:0,availableSpace:a};const ct=this[t.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!ct.success)return ct.isBreak()?ct:(delete this[t.$extra],e.HTMLResult.FAILURE);oe.width=(0,z.measureToString)(this[t.$extra].width),oe.height=(0,z.measureToString)(this[t.$extra].height);const _t={name:"div",attributes:je,children:We},bt=[this.x,this.y,this[t.$extra].width,this[t.$extra].height];return delete this[t.$extra],e.HTMLResult.success(_t,bt)}}class U extends t.XFAObject{constructor(a){super(_,"assist",!0),this.id=a.id||"",this.role=a.role||"",this.use=a.use||"",this.usehref=a.usehref||"",this.speak=null,this.toolTip=null}[t.$toHTML](){return this.toolTip&&this.toolTip[t.$content]?this.toolTip[t.$content]:null}}class ee extends t.XFAObject{constructor(a){super(_,"barcode",!0),this.charEncoding=(0,e.getKeyword)({data:a.charEncoding?a.charEncoding.toLowerCase():"",defaultValue:"",validate:oe=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(oe)||oe.match(/iso-8859-\d{2}/)}),this.checksum=(0,e.getStringOption)(a.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,e.getInteger)({data:a.dataColumnCount,defaultValue:-1,validate:oe=>oe>=0}),this.dataLength=(0,e.getInteger)({data:a.dataLength,defaultValue:-1,validate:oe=>oe>=0}),this.dataPrep=(0,e.getStringOption)(a.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,e.getInteger)({data:a.dataRowCount,defaultValue:-1,validate:oe=>oe>=0}),this.endChar=a.endChar||"",this.errorCorrectionLevel=(0,e.getInteger)({data:a.errorCorrectionLevel,defaultValue:-1,validate:oe=>oe>=0&&oe<=8}),this.id=a.id||"",this.moduleHeight=(0,e.getMeasurement)(a.moduleHeight,"5mm"),this.moduleWidth=(0,e.getMeasurement)(a.moduleWidth,"0.25mm"),this.printCheckDigit=(0,e.getInteger)({data:a.printCheckDigit,defaultValue:0,validate:oe=>oe===1}),this.rowColumnRatio=(0,e.getRatio)(a.rowColumnRatio),this.startChar=a.startChar||"",this.textLocation=(0,e.getStringOption)(a.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,e.getInteger)({data:a.truncate,defaultValue:0,validate:oe=>oe===1}),this.type=(0,e.getStringOption)(a.type?a.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,e.getStringOption)(a.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=a.use||"",this.usehref=a.usehref||"",this.wideNarrowRatio=(0,e.getRatio)(a.wideNarrowRatio),this.encrypt=null,this.extras=null}}class J extends t.XFAObject{constructor(a){super(_,"bind",!0),this.match=(0,e.getStringOption)(a.match,["once","dataRef","global","none"]),this.ref=a.ref||"",this.picture=null}}class I extends t.XFAObject{constructor(a){super(_,"bindItems"),this.connection=a.connection||"",this.labelRef=a.labelRef||"",this.ref=a.ref||"",this.valueRef=a.valueRef||""}}A.BindItems=I;class X extends t.XFAObject{constructor(a){super(_,"bookend"),this.id=a.id||"",this.leader=a.leader||"",this.trailer=a.trailer||"",this.use=a.use||"",this.usehref=a.usehref||""}}class ne extends t.Option01{constructor(a){super(_,"boolean"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[t.$toHTML](a){return o(this[t.$content]===1?"1":"0")}}class P extends t.XFAObject{constructor(a){super(_,"border",!0),this.break=(0,e.getStringOption)(a.break,["close","open"]),this.hand=(0,e.getStringOption)(a.hand,["even","left","right"]),this.id=a.id||"",this.presence=(0,e.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[t.$getExtra](){if(!this[t.$extra]){const a=this.edge.children.slice();if(a.length<4){const We=a.at(-1)||new $e({});for(let ct=a.length;ct<4;ct++)a.push(We)}const oe=a.map(We=>We.thickness),je=[0,0,0,0];this.margin&&(je[0]=this.margin.topInset,je[1]=this.margin.rightInset,je[2]=this.margin.bottomInset,je[3]=this.margin.leftInset),this[t.$extra]={widths:oe,insets:je,edges:a}}return this[t.$extra]}[t.$toStyle](){const{edges:a}=this[t.$getExtra](),oe=a.map(We=>{const ct=We[t.$toStyle]();return ct.color=ct.color||"#000000",ct}),je=Object.create(null);if(this.margin&&Object.assign(je,this.margin[t.$toStyle]()),this.fill&&this.fill.presence==="visible"&&Object.assign(je,this.fill[t.$toStyle]()),this.corner.children.some(We=>We.radius!==0)){const We=this.corner.children.map(ct=>ct[t.$toStyle]());if(We.length===2||We.length===3){const ct=We.at(-1);for(let _t=We.length;_t<4;_t++)We.push(ct)}je.borderRadius=We.map(ct=>ct.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":je.borderStyle="";break;case"inactive":je.borderStyle="none";break;default:je.borderStyle=oe.map(We=>We.style).join(" ");break}return je.borderWidth=oe.map(We=>We.width).join(" "),je.borderColor=oe.map(We=>We.color).join(" "),je}}class V extends t.XFAObject{constructor(a){super(_,"break",!0),this.after=(0,e.getStringOption)(a.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=a.afterTarget||"",this.before=(0,e.getStringOption)(a.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=a.beforeTarget||"",this.bookendLeader=a.bookendLeader||"",this.bookendTrailer=a.bookendTrailer||"",this.id=a.id||"",this.overflowLeader=a.overflowLeader||"",this.overflowTarget=a.overflowTarget||"",this.overflowTrailer=a.overflowTrailer||"",this.startNew=(0,e.getInteger)({data:a.startNew,defaultValue:0,validate:oe=>oe===1}),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}}class Y extends t.XFAObject{constructor(a){super(_,"breakAfter",!0),this.id=a.id||"",this.leader=a.leader||"",this.startNew=(0,e.getInteger)({data:a.startNew,defaultValue:0,validate:oe=>oe===1}),this.target=a.target||"",this.targetType=(0,e.getStringOption)(a.targetType,["auto","contentArea","pageArea"]),this.trailer=a.trailer||"",this.use=a.use||"",this.usehref=a.usehref||"",this.script=null}}class Z extends t.XFAObject{constructor(a){super(_,"breakBefore",!0),this.id=a.id||"",this.leader=a.leader||"",this.startNew=(0,e.getInteger)({data:a.startNew,defaultValue:0,validate:oe=>oe===1}),this.target=a.target||"",this.targetType=(0,e.getStringOption)(a.targetType,["auto","contentArea","pageArea"]),this.trailer=a.trailer||"",this.use=a.use||"",this.usehref=a.usehref||"",this.script=null}[t.$toHTML](a){return this[t.$extra]={},e.HTMLResult.FAILURE}}class q extends t.XFAObject{constructor(a){super(_,"button",!0),this.highlight=(0,e.getStringOption)(a.highlight,["inverted","none","outline","push"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}[t.$toHTML](a){const je=this[t.$getParent]()[t.$getParent](),We={name:"button",attributes:{id:this[t.$uid],class:["xfaButton"],style:{}},children:[]};for(const ct of je.event.children){if(ct.activity!=="click"||!ct.script)continue;const _t=(0,T.recoverJsURL)(ct.script[t.$content]);if(!_t)continue;const bt=(0,z.fixURL)(_t.url);bt&&We.children.push({name:"a",attributes:{id:"link"+this[t.$uid],href:bt,newWindow:_t.newWindow,class:["xfaLink"],style:{}},children:[]})}return e.HTMLResult.success(We)}}class M extends t.XFAObject{constructor(a){super(_,"calculate",!0),this.id=a.id||"",this.override=(0,e.getStringOption)(a.override,["disabled","error","ignore","warning"]),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.message=null,this.script=null}}class te extends t.XFAObject{constructor(a){super(_,"caption",!0),this.id=a.id||"",this.placement=(0,e.getStringOption)(a.placement,["left","bottom","inline","right","top"]),this.presence=(0,e.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,e.getMeasurement)(a.reserve)),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[t.$setValue](a){K(this,a)}[t.$getExtra](a){if(!this[t.$extra]){let{width:oe,height:je}=a;switch(this.placement){case"left":case"right":case"inline":oe=this.reserve<=0?oe:this.reserve;break;case"top":case"bottom":je=this.reserve<=0?je:this.reserve;break}this[t.$extra]=(0,z.layoutNode)(this,{width:oe,height:je})}return this[t.$extra]}[t.$toHTML](a){if(!this.value)return e.HTMLResult.EMPTY;this[t.$pushPara]();const oe=this.value[t.$toHTML](a).html;if(!oe)return this[t.$popPara](),e.HTMLResult.EMPTY;const je=this.reserve;if(this.reserve<=0){const{w:_t,h:bt}=this[t.$getExtra](a);switch(this.placement){case"left":case"right":case"inline":this.reserve=_t;break;case"top":case"bottom":this.reserve=bt;break}}const We=[];typeof oe=="string"?We.push({name:"#text",value:oe}):We.push(oe);const ct=(0,z.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(ct.width=(0,z.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(ct.height=(0,z.measureToString)(this.reserve));break}return(0,z.setPara)(this,null,oe),this[t.$popPara](),this.reserve=je,e.HTMLResult.success({name:"div",attributes:{style:ct,class:["xfaCaption"]},children:We})}}class W extends t.StringObject{constructor(a){super(_,"certificate"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}}class ae extends t.XFAObject{constructor(a){super(_,"certificates",!0),this.credentialServerPolicy=(0,e.getStringOption)(a.credentialServerPolicy,["optional","required"]),this.id=a.id||"",this.url=a.url||"",this.urlPolicy=a.urlPolicy||"",this.use=a.use||"",this.usehref=a.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class fe extends t.XFAObject{constructor(a){super(_,"checkButton",!0),this.id=a.id||"",this.mark=(0,e.getStringOption)(a.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,e.getStringOption)(a.shape,["square","round"]),this.size=(0,e.getMeasurement)(a.size,"10pt"),this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](a){const oe=(0,z.toStyle)("margin"),je=(0,z.measureToString)(this.size);oe.width=oe.height=je;let We,ct,_t;const bt=this[t.$getParent]()[t.$getParent](),Mt=bt.items.children.length&&bt.items.children[0][t.$toHTML]().html||[],jt={on:(Mt[0]!==void 0?Mt[0]:"on").toString(),off:(Mt[1]!==void 0?Mt[1]:"off").toString()},Yt=(bt.value&&bt.value[t.$text]()||"off")===jt.on||void 0,Kt=bt[t.$getSubformParent](),Zt=bt[t.$uid];let Qt;Kt instanceof ot?(_t=Kt[t.$uid],We="radio",ct="xfaRadio",Qt=Kt[t.$data]&&Kt[t.$data][t.$uid]||Kt[t.$uid]):(We="checkbox",ct="xfaCheckbox",Qt=bt[t.$data]&&bt[t.$data][t.$uid]||bt[t.$uid]);const Bt={name:"input",attributes:{class:[ct],style:oe,fieldId:Zt,dataId:Qt,type:We,checked:Yt,xfaOn:jt.on,xfaOff:jt.off,"aria-label":R(bt),"aria-required":!1}};return _t&&(Bt.attributes.name=_t),G(bt)&&(Bt.attributes["aria-required"]=!0,Bt.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Bt]})}}class de extends t.XFAObject{constructor(a){super(_,"choiceList",!0),this.commitOn=(0,e.getStringOption)(a.commitOn,["select","exit"]),this.id=a.id||"",this.open=(0,e.getStringOption)(a.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,e.getInteger)({data:a.textEntry,defaultValue:0,validate:oe=>oe===1}),this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](a){const oe=(0,z.toStyle)(this,"border","margin"),We=this[t.$getParent]()[t.$getParent](),_t={fontSize:`calc(${We.font&&We.font.size||10}px * var(--scale-factor))`},bt=[];if(We.items.children.length>0){const jt=We.items;let Gt=0,Yt=0;jt.children.length===2&&(Gt=jt.children[0].save,Yt=1-Gt);const Kt=jt.children[Gt][t.$toHTML]().html,Zt=jt.children[Yt][t.$toHTML]().html;let Qt=!1;const Bt=We.value&&We.value[t.$text]()||"";for(let sn=0,$t=Kt.length;sn<$t;sn++){const Xt={name:"option",attributes:{value:Zt[sn]||Kt[sn],style:_t},value:Kt[sn]};Zt[sn]===Bt&&(Xt.attributes.selected=Qt=!0),bt.push(Xt)}Qt||bt.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const Mt={class:["xfaSelect"],fieldId:We[t.$uid],dataId:We[t.$data]&&We[t.$data][t.$uid]||We[t.$uid],style:oe,"aria-label":R(We),"aria-required":!1};return G(We)&&(Mt["aria-required"]=!0,Mt.required=!0),this.open==="multiSelect"&&(Mt.multiple=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:bt,attributes:Mt}]})}}class ue extends t.XFAObject{constructor(a){super(_,"color",!0),this.cSpace=(0,e.getStringOption)(a.cSpace,["SRGB"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.value=a.value?(0,e.getColor)(a.value):"",this.extras=null}[t.$hasSettableValue](){return!1}[t.$toStyle](){return this.value?j.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class he extends t.XFAObject{constructor(a){super(_,"comb"),this.id=a.id||"",this.numberOfCells=(0,e.getInteger)({data:a.numberOfCells,defaultValue:0,validate:oe=>oe>=0}),this.use=a.use||"",this.usehref=a.usehref||""}}class me extends t.XFAObject{constructor(a){super(_,"connect",!0),this.connection=a.connection||"",this.id=a.id||"",this.ref=a.ref||"",this.usage=(0,e.getStringOption)(a.usage,["exportAndImport","exportOnly","importOnly"]),this.use=a.use||"",this.usehref=a.usehref||"",this.picture=null}}class xe extends t.XFAObject{constructor(a){super(_,"contentArea",!0),this.h=(0,e.getMeasurement)(a.h),this.id=a.id||"",this.name=a.name||"",this.relevant=(0,e.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.w=(0,e.getMeasurement)(a.w),this.x=(0,e.getMeasurement)(a.x,"0pt"),this.y=(0,e.getMeasurement)(a.y,"0pt"),this.desc=null,this.extras=null}[t.$toHTML](a){const oe=(0,z.measureToString)(this.x),je=(0,z.measureToString)(this.y),We={left:oe,top:je,width:(0,z.measureToString)(this.w),height:(0,z.measureToString)(this.h)},ct=["xfaContentarea"];return(0,z.isPrintOnly)(this)&&ct.push("xfaPrintOnly"),e.HTMLResult.success({name:"div",children:[],attributes:{style:We,class:ct,id:this[t.$uid]}})}}class we extends t.XFAObject{constructor(a){super(_,"corner",!0),this.id=a.id||"",this.inverted=(0,e.getInteger)({data:a.inverted,defaultValue:0,validate:oe=>oe===1}),this.join=(0,e.getStringOption)(a.join,["square","round"]),this.presence=(0,e.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,e.getMeasurement)(a.radius),this.stroke=(0,e.getStringOption)(a.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,e.getMeasurement)(a.thickness,"0.5pt"),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[t.$toStyle](){const a=(0,z.toStyle)(this,"visibility");return a.radius=(0,z.measureToString)(this.join==="square"?0:this.radius),a}}class Ce extends t.ContentObject{constructor(a){super(_,"date"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[t.$finalize](){const a=this[t.$content].trim();this[t.$content]=a?new Date(a):null}[t.$toHTML](a){return o(this[t.$content]?this[t.$content].toString():"")}}class Fe extends t.ContentObject{constructor(a){super(_,"dateTime"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[t.$finalize](){const a=this[t.$content].trim();this[t.$content]=a?new Date(a):null}[t.$toHTML](a){return o(this[t.$content]?this[t.$content].toString():"")}}class Oe extends t.XFAObject{constructor(a){super(_,"dateTimeEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(a.hScrollPolicy,["auto","off","on"]),this.id=a.id||"",this.picker=(0,e.getStringOption)(a.picker,["host","none"]),this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](a){const oe=(0,z.toStyle)(this,"border","font","margin"),je=this[t.$getParent]()[t.$getParent](),We={name:"input",attributes:{type:"text",fieldId:je[t.$uid],dataId:je[t.$data]&&je[t.$data][t.$uid]||je[t.$uid],class:["xfaTextfield"],style:oe,"aria-label":R(je),"aria-required":!1}};return G(je)&&(We.attributes["aria-required"]=!0,We.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[We]})}}class Ie extends t.ContentObject{constructor(a){super(_,"decimal"),this.fracDigits=(0,e.getInteger)({data:a.fracDigits,defaultValue:2,validate:oe=>!0}),this.id=a.id||"",this.leadDigits=(0,e.getInteger)({data:a.leadDigits,defaultValue:-1,validate:oe=>!0}),this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[t.$finalize](){const a=parseFloat(this[t.$content].trim());this[t.$content]=isNaN(a)?null:a}[t.$toHTML](a){return o(this[t.$content]!==null?this[t.$content].toString():"")}}class Me extends t.XFAObject{constructor(a){super(_,"defaultUi",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}}class Le extends t.XFAObject{constructor(a){super(_,"desc",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class qe extends t.OptionObject{constructor(a){super(_,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||""}}class Xe extends t.XFAObject{constructor(a){super(_,"digestMethods",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.digestMethod=new t.XFAObjectArray}}class Ue extends t.XFAObject{constructor(a){super(_,"draw",!0),this.anchorType=(0,e.getStringOption)(a.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:a.colSpan,defaultValue:1,validate:oe=>oe>=1||oe===-1}),this.h=a.h?(0,e.getMeasurement)(a.h):"",this.hAlign=(0,e.getStringOption)(a.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=a.id||"",this.locale=a.locale||"",this.maxH=(0,e.getMeasurement)(a.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(a.maxW,"0pt"),this.minH=(0,e.getMeasurement)(a.minH,"0pt"),this.minW=(0,e.getMeasurement)(a.minW,"0pt"),this.name=a.name||"",this.presence=(0,e.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(a.relevant),this.rotate=(0,e.getInteger)({data:a.rotate,defaultValue:0,validate:oe=>oe%90===0}),this.use=a.use||"",this.usehref=a.usehref||"",this.w=a.w?(0,e.getMeasurement)(a.w):"",this.x=(0,e.getMeasurement)(a.x,"0pt"),this.y=(0,e.getMeasurement)(a.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new t.XFAObjectArray}[t.$setValue](a){K(this,a)}[t.$toHTML](a){if(O(this),this.presence==="hidden"||this.presence==="inactive")return e.HTMLResult.EMPTY;(0,z.fixDimensions)(this),this[t.$pushPara]();const oe=this.w,je=this.h,{w:We,h:ct,isBroken:_t}=(0,z.layoutNode)(this,a);if(We&&this.w===""){if(_t&&this[t.$getSubformParent]()[t.$isThereMoreWidth]())return this[t.$popPara](),e.HTMLResult.FAILURE;this.w=We}if(ct&&this.h===""&&(this.h=ct),h(this),!(0,ie.checkDimensions)(this,a))return this.w=oe,this.h=je,this[t.$popPara](),e.HTMLResult.FAILURE;H(this);const bt=(0,z.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,z.setMinMaxDimensions)(this,bt),bt.margin&&(bt.padding=bt.margin,delete bt.margin);const Mt=["xfaDraw"];this.font&&Mt.push("xfaFont"),(0,z.isPrintOnly)(this)&&Mt.push("xfaPrintOnly");const jt={style:bt,id:this[t.$uid],class:Mt};this.name&&(jt.xfaName=this.name);const Gt={name:"div",attributes:jt,children:[]};w(this,jt);const Yt=(0,z.computeBbox)(this,Gt,a),Kt=this.value?this.value[t.$toHTML](a).html:null;return Kt===null?(this.w=oe,this.h=je,this[t.$popPara](),e.HTMLResult.success((0,z.createWrapper)(this,Gt),Yt)):(Gt.children.push(Kt),(0,z.setPara)(this,bt,Kt),this.w=oe,this.h=je,this[t.$popPara](),e.HTMLResult.success((0,z.createWrapper)(this,Gt),Yt))}}class $e extends t.XFAObject{constructor(a){super(_,"edge",!0),this.cap=(0,e.getStringOption)(a.cap,["square","butt","round"]),this.id=a.id||"",this.presence=(0,e.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,e.getStringOption)(a.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,e.getMeasurement)(a.thickness,"0.5pt"),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[t.$toStyle](){const a=(0,z.toStyle)(this,"visibility");if(Object.assign(a,{linecap:this.cap,width:(0,z.measureToString)(this.thickness),color:this.color?this.color[t.$toStyle]():"#000000",style:""}),this.presence!=="visible")a.style="none";else switch(this.stroke){case"solid":a.style="solid";break;case"dashDot":a.style="dashed";break;case"dashDotDot":a.style="dashed";break;case"dashed":a.style="dashed";break;case"dotted":a.style="dotted";break;case"embossed":a.style="ridge";break;case"etched":a.style="groove";break;case"lowered":a.style="inset";break;case"raised":a.style="outset";break}return a}}class De extends t.OptionObject{constructor(a){super(_,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||""}}class Te extends t.XFAObject{constructor(a){super(_,"encodings",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.encoding=new t.XFAObjectArray}}class Ee extends t.XFAObject{constructor(a){super(_,"encrypt",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.certificate=null}}class ze extends t.XFAObject{constructor(a){super(_,"encryptData",!0),this.id=a.id||"",this.operation=(0,e.getStringOption)(a.operation,["encrypt","decrypt"]),this.target=a.target||"",this.use=a.use||"",this.usehref=a.usehref||"",this.filter=null,this.manifest=null}}class tt extends t.XFAObject{constructor(a){super(_,"encryption",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.certificate=new t.XFAObjectArray}}class ft extends t.OptionObject{constructor(a){super(_,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||""}}class Be extends t.XFAObject{constructor(a){super(_,"encryptionMethods",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.encryptionMethod=new t.XFAObjectArray}}class Ne extends t.XFAObject{constructor(a){super(_,"event",!0),this.activity=(0,e.getStringOption)(a.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=a.id||"",this.listen=(0,e.getStringOption)(a.listen,["refOnly","refAndDescendents"]),this.name=a.name||"",this.ref=a.ref||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class ke extends t.ContentObject{constructor(a){super(_,"exData"),this.contentType=a.contentType||"",this.href=a.href||"",this.id=a.id||"",this.maxLength=(0,e.getInteger)({data:a.maxLength,defaultValue:-1,validate:oe=>oe>=-1}),this.name=a.name||"",this.rid=a.rid||"",this.transferEncoding=(0,e.getStringOption)(a.transferEncoding,["none","base64","package"]),this.use=a.use||"",this.usehref=a.usehref||""}[t.$isCDATAXml](){return this.contentType==="text/html"}[t.$onChild](a){return this.contentType==="text/html"&&a[t.$namespaceId]===m.NamespaceIds.xhtml.id?(this[t.$content]=a,!0):this.contentType==="text/xml"?(this[t.$content]=a,!0):!1}[t.$toHTML](a){return this.contentType!=="text/html"||!this[t.$content]?e.HTMLResult.EMPTY:this[t.$content][t.$toHTML](a)}}class rt extends t.XFAObject{constructor(a){super(_,"exObject",!0),this.archive=a.archive||"",this.classId=a.classId||"",this.codeBase=a.codeBase||"",this.codeType=a.codeType||"",this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class ot extends t.XFAObject{constructor(a){super(_,"exclGroup",!0),this.access=(0,e.getStringOption)(a.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=a.accessKey||"",this.anchorType=(0,e.getStringOption)(a.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:a.colSpan,defaultValue:1,validate:oe=>oe>=1||oe===-1}),this.h=a.h?(0,e.getMeasurement)(a.h):"",this.hAlign=(0,e.getStringOption)(a.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=a.id||"",this.layout=(0,e.getStringOption)(a.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,e.getMeasurement)(a.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(a.maxW,"0pt"),this.minH=(0,e.getMeasurement)(a.minH,"0pt"),this.minW=(0,e.getMeasurement)(a.minW,"0pt"),this.name=a.name||"",this.presence=(0,e.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.w=a.w?(0,e.getMeasurement)(a.w):"",this.x=(0,e.getMeasurement)(a.x,"0pt"),this.y=(0,e.getMeasurement)(a.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[t.$isBindable](){return!0}[t.$hasSettableValue](){return!0}[t.$setValue](a){for(const oe of this.field.children){if(!oe.value){const je=new hn({});oe[t.$appendChild](je),oe.value=je}oe.value[t.$setValue](a)}}[t.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine>0||this[t.$getParent]()[t.$isThereMoreWidth]()}[t.$isSplittable](){const a=this[t.$getSubformParent]();return a[t.$isSplittable]()?this[t.$extra]._isSplittable!==void 0?this[t.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[t.$extra]._isSplittable=!1,!1):a.layout&&a.layout.endsWith("-tb")&&a[t.$extra].numberInLine!==0?!1:(this[t.$extra]._isSplittable=!0,!0):!1}[t.$flushHTML](){return(0,ie.flushHTML)(this)}[t.$addHTML](a,oe){(0,ie.addHTML)(this,a,oe)}[t.$getAvailableSpace](){return(0,ie.getAvailableSpace)(this)}[t.$toHTML](a){if(O(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return e.HTMLResult.EMPTY;(0,z.fixDimensions)(this);const oe=[],je={id:this[t.$uid],class:[]};(0,z.setAccess)(this,je.class),this[t.$extra]||(this[t.$extra]=Object.create(null)),Object.assign(this[t.$extra],{children:oe,attributes:je,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,a.width),height:Math.min(this.h||1/0,a.height)},width:0,height:0,prevHeight:0,currentWidth:0});const We=this[t.$isSplittable]();if(We||h(this),!(0,ie.checkDimensions)(this,a))return e.HTMLResult.FAILURE;const ct=new Set(["field"]);if(this.layout.includes("row")){const $t=this[t.$getSubformParent]().columnWidths;Array.isArray($t)&&$t.length>0&&(this[t.$extra].columnWidths=$t,this[t.$extra].currentColumn=0)}const _t=(0,z.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),bt=["xfaExclgroup"],Mt=(0,z.layoutClass)(this);Mt&&bt.push(Mt),(0,z.isPrintOnly)(this)&&bt.push("xfaPrintOnly"),je.style=_t,je.class=bt,this.name&&(je.xfaName=this.name),this[t.$pushPara]();const jt=this.layout==="lr-tb"||this.layout==="rl-tb",Gt=jt?n:1;for(;this[t.$extra].attempt<Gt;this[t.$extra].attempt++){jt&&this[t.$extra].attempt===n-1&&(this[t.$extra].numberInLine=0);const $t=this[t.$childrenToHTML]({filter:ct,include:!0});if($t.success)break;if($t.isBreak())return this[t.$popPara](),$t;if(jt&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine===0&&!this[t.$getTemplateRoot]()[t.$extra].noLayoutFailure){this[t.$extra].attempt=Gt;break}}if(this[t.$popPara](),We||H(this),this[t.$extra].attempt===Gt)return We||delete this[t.$extra],e.HTMLResult.FAILURE;let Yt=0,Kt=0;this.margin&&(Yt=this.margin.leftInset+this.margin.rightInset,Kt=this.margin.topInset+this.margin.bottomInset);const Zt=Math.max(this[t.$extra].width+Yt,this.w||0),Qt=Math.max(this[t.$extra].height+Kt,this.h||0),Bt=[this.x,this.y,Zt,Qt];this.w===""&&(_t.width=(0,z.measureToString)(Zt)),this.h===""&&(_t.height=(0,z.measureToString)(Qt));const sn={name:"div",attributes:je,children:oe};return w(this,je),delete this[t.$extra],e.HTMLResult.success((0,z.createWrapper)(this,sn),Bt)}}class st extends t.XFAObject{constructor(a){super(_,"execute"),this.connection=a.connection||"",this.executeType=(0,e.getStringOption)(a.executeType,["import","remerge"]),this.id=a.id||"",this.runAt=(0,e.getStringOption)(a.runAt,["client","both","server"]),this.use=a.use||"",this.usehref=a.usehref||""}}class xt extends t.XFAObject{constructor(a){super(_,"extras",!0),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class et extends t.XFAObject{constructor(a){super(_,"field",!0),this.access=(0,e.getStringOption)(a.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=a.accessKey||"",this.anchorType=(0,e.getStringOption)(a.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:a.colSpan,defaultValue:1,validate:oe=>oe>=1||oe===-1}),this.h=a.h?(0,e.getMeasurement)(a.h):"",this.hAlign=(0,e.getStringOption)(a.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=a.id||"",this.locale=a.locale||"",this.maxH=(0,e.getMeasurement)(a.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(a.maxW,"0pt"),this.minH=(0,e.getMeasurement)(a.minH,"0pt"),this.minW=(0,e.getMeasurement)(a.minW,"0pt"),this.name=a.name||"",this.presence=(0,e.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(a.relevant),this.rotate=(0,e.getInteger)({data:a.rotate,defaultValue:0,validate:oe=>oe%90===0}),this.use=a.use||"",this.usehref=a.usehref||"",this.w=a.w?(0,e.getMeasurement)(a.w):"",this.x=(0,e.getMeasurement)(a.x,"0pt"),this.y=(0,e.getMeasurement)(a.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new t.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[t.$isBindable](){return!0}[t.$setValue](a){K(this,a)}[t.$toHTML](a){if(O(this),!this.ui){this.ui=new Dn({}),this.ui[t.$globalData]=this[t.$globalData],this[t.$appendChild](this.ui);let $t;switch(this.items.children.length){case 0:$t=new pn({}),this.ui.textEdit=$t;break;case 1:$t=new fe({}),this.ui.checkButton=$t;break;case 2:$t=new de({}),this.ui.choiceList=$t;break}this.ui[t.$appendChild]($t)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return e.HTMLResult.EMPTY;this.caption&&delete this.caption[t.$extra],this[t.$pushPara]();const oe=this.caption?this.caption[t.$toHTML](a).html:null,je=this.w,We=this.h;let ct=0,_t=0;this.margin&&(ct=this.margin.leftInset+this.margin.rightInset,_t=this.margin.topInset+this.margin.bottomInset);let bt=null;if(this.w===""||this.h===""){let $t=null,Xt=null,on=0,Ht=0;if(this.ui.checkButton)on=Ht=this.ui.checkButton.size;else{const{w:mn,h:fn}=(0,z.layoutNode)(this,a);mn!==null?(on=mn,Ht=fn):Ht=(0,f.getMetrics)(this.font,!0).lineNoGap}if(bt=c(this.ui[t.$getExtra]()),on+=bt.w,Ht+=bt.h,this.caption){const{w:mn,h:fn,isBroken:rn}=this.caption[t.$getExtra](a);if(rn&&this[t.$getSubformParent]()[t.$isThereMoreWidth]())return this[t.$popPara](),e.HTMLResult.FAILURE;switch($t=mn,Xt=fn,this.caption.placement){case"left":case"right":case"inline":$t+=on;break;case"top":case"bottom":Xt+=Ht;break}}else $t=on,Xt=Ht;$t&&this.w===""&&($t+=ct,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<$t?$t:this.minW)),Xt&&this.h===""&&(Xt+=_t,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Xt?Xt:this.minH))}if(this[t.$popPara](),(0,z.fixDimensions)(this),h(this),!(0,ie.checkDimensions)(this,a))return this.w=je,this.h=We,this[t.$popPara](),e.HTMLResult.FAILURE;H(this);const Mt=(0,z.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,z.setMinMaxDimensions)(this,Mt);const jt=["xfaField"];this.font&&jt.push("xfaFont"),(0,z.isPrintOnly)(this)&&jt.push("xfaPrintOnly");const Gt={style:Mt,id:this[t.$uid],class:jt};Mt.margin&&(Mt.padding=Mt.margin,delete Mt.margin),(0,z.setAccess)(this,jt),this.name&&(Gt.xfaName=this.name);const Yt=[],Kt={name:"div",attributes:Gt,children:Yt};w(this,Gt);const Zt=this.border?this.border[t.$toStyle]():null,Qt=(0,z.computeBbox)(this,Kt,a),Bt=this.ui[t.$toHTML]().html;if(!Bt)return Object.assign(Mt,Zt),e.HTMLResult.success((0,z.createWrapper)(this,Kt),Qt);this[t.$tabIndex]&&(Bt.children&&Bt.children[0]?Bt.children[0].attributes.tabindex=this[t.$tabIndex]:Bt.attributes.tabindex=this[t.$tabIndex]),Bt.attributes.style||(Bt.attributes.style=Object.create(null));let sn=null;if(this.ui.button?(Bt.children.length===1&&([sn]=Bt.children.splice(0,1)),Object.assign(Bt.attributes.style,Zt)):Object.assign(Mt,Zt),Yt.push(Bt),this.value){if(this.ui.imageEdit)Bt.children.push(this.value[t.$toHTML]().html);else if(!this.ui.button){let $t="";if(this.value.exData)$t=this.value.exData[t.$text]();else if(this.value.text)$t=this.value.text[t.$getExtra]();else{const Xt=this.value[t.$toHTML]().html;Xt!==null&&($t=Xt.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(Bt.children[0].attributes.maxLength=this.value.text.maxChars),$t&&(this.ui.numericEdit&&($t=parseFloat($t),$t=isNaN($t)?"":$t.toString()),Bt.children[0].name==="textarea"?Bt.children[0].attributes.textContent=$t:Bt.children[0].attributes.value=$t)}}if(!this.ui.imageEdit&&Bt.children&&Bt.children[0]&&this.h){bt=bt||c(this.ui[t.$getExtra]());let $t=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){$t=this.caption.reserve,$t<=0&&($t=this.caption[t.$getExtra](a).h);const Xt=this.h-$t-_t-bt.h;Bt.children[0].attributes.style.height=(0,z.measureToString)(Xt)}else Bt.children[0].attributes.style.height="100%"}if(sn&&Bt.children.push(sn),!oe)return Bt.attributes.class&&Bt.attributes.class.push("xfaLeft"),this.w=je,this.h=We,e.HTMLResult.success((0,z.createWrapper)(this,Kt),Qt);if(this.ui.button)return Mt.padding&&delete Mt.padding,oe.name==="div"&&(oe.name="span"),Bt.children.push(oe),e.HTMLResult.success(Kt,Qt);switch(this.ui.checkButton&&(oe.attributes.class[0]="xfaCaptionForCheckButton"),Bt.attributes.class||(Bt.attributes.class=[]),Bt.children.splice(0,0,oe),this.caption.placement){case"left":Bt.attributes.class.push("xfaLeft");break;case"right":Bt.attributes.class.push("xfaRight");break;case"top":Bt.attributes.class.push("xfaTop");break;case"bottom":Bt.attributes.class.push("xfaBottom");break;case"inline":Bt.attributes.class.push("xfaLeft");break}return this.w=je,this.h=We,e.HTMLResult.success((0,z.createWrapper)(this,Kt),Qt)}}A.Field=et;class ut extends t.XFAObject{constructor(a){super(_,"fill",!0),this.id=a.id||"",this.presence=(0,e.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[t.$toStyle](){const a=this[t.$getParent](),je=a[t.$getParent]()[t.$getParent](),We=Object.create(null);let ct="color",_t=ct;a instanceof P&&(ct="background-color",_t="background",je instanceof Dn&&(We.backgroundColor="white")),(a instanceof Un||a instanceof F)&&(ct=_t="fill",We.fill="white");for(const bt of Object.getOwnPropertyNames(this)){if(bt==="extras"||bt==="color")continue;const Mt=this[bt];if(!(Mt instanceof t.XFAObject))continue;const jt=Mt[t.$toStyle](this.color);return jt&&(We[jt.startsWith("#")?ct:_t]=jt),We}if(this.color&&this.color.value){const bt=this.color[t.$toStyle]();We[bt.startsWith("#")?ct:_t]=bt}return We}}class kt extends t.XFAObject{constructor(a){super(_,"filter",!0),this.addRevocationInfo=(0,e.getStringOption)(a.addRevocationInfo,["","required","optional","none"]),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||"",this.version=(0,e.getInteger)({data:this.version,defaultValue:5,validate:oe=>oe>=1&&oe<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Qe extends t.ContentObject{constructor(a){super(_,"float"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[t.$finalize](){const a=parseFloat(this[t.$content].trim());this[t.$content]=isNaN(a)?null:a}[t.$toHTML](a){return o(this[t.$content]!==null?this[t.$content].toString():"")}}class vt extends t.XFAObject{constructor(a){super(_,"font",!0),this.baselineShift=(0,e.getMeasurement)(a.baselineShift),this.fontHorizontalScale=(0,e.getFloat)({data:a.fontHorizontalScale,defaultValue:100,validate:oe=>oe>=0}),this.fontVerticalScale=(0,e.getFloat)({data:a.fontVerticalScale,defaultValue:100,validate:oe=>oe>=0}),this.id=a.id||"",this.kerningMode=(0,e.getStringOption)(a.kerningMode,["none","pair"]),this.letterSpacing=(0,e.getMeasurement)(a.letterSpacing,"0"),this.lineThrough=(0,e.getInteger)({data:a.lineThrough,defaultValue:0,validate:oe=>oe===1||oe===2}),this.lineThroughPeriod=(0,e.getStringOption)(a.lineThroughPeriod,["all","word"]),this.overline=(0,e.getInteger)({data:a.overline,defaultValue:0,validate:oe=>oe===1||oe===2}),this.overlinePeriod=(0,e.getStringOption)(a.overlinePeriod,["all","word"]),this.posture=(0,e.getStringOption)(a.posture,["normal","italic"]),this.size=(0,e.getMeasurement)(a.size,"10pt"),this.typeface=a.typeface||"Courier",this.underline=(0,e.getInteger)({data:a.underline,defaultValue:0,validate:oe=>oe===1||oe===2}),this.underlinePeriod=(0,e.getStringOption)(a.underlinePeriod,["all","word"]),this.use=a.use||"",this.usehref=a.usehref||"",this.weight=(0,e.getStringOption)(a.weight,["normal","bold"]),this.extras=null,this.fill=null}[t.$clean](a){super[t.$clean](a),this[t.$globalData].usedTypefaces.add(this.typeface)}[t.$toStyle](){const a=(0,z.toStyle)(this,"fill"),oe=a.color;return oe&&(oe==="#000000"?delete a.color:oe.startsWith("#")||(a.background=oe,a.backgroundClip="text",a.color="transparent")),this.baselineShift&&(a.verticalAlign=(0,z.measureToString)(this.baselineShift)),a.fontKerning=this.kerningMode==="none"?"none":"normal",a.letterSpacing=(0,z.measureToString)(this.letterSpacing),this.lineThrough!==0&&(a.textDecoration="line-through",this.lineThrough===2&&(a.textDecorationStyle="double")),this.overline!==0&&(a.textDecoration="overline",this.overline===2&&(a.textDecorationStyle="double")),a.fontStyle=this.posture,a.fontSize=(0,z.measureToString)(.99*this.size),(0,z.setFontFamily)(this,this,this[t.$globalData].fontFinder,a),this.underline!==0&&(a.textDecoration="underline",this.underline===2&&(a.textDecorationStyle="double")),a.fontWeight=this.weight,a}}class ht extends t.XFAObject{constructor(a){super(_,"format",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.picture=null}}class Ut extends t.StringObject{constructor(a){super(_,"handler"),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||""}}class Ot extends t.XFAObject{constructor(a){super(_,"hyphenation"),this.excludeAllCaps=(0,e.getInteger)({data:a.excludeAllCaps,defaultValue:0,validate:oe=>oe===1}),this.excludeInitialCap=(0,e.getInteger)({data:a.excludeInitialCap,defaultValue:0,validate:oe=>oe===1}),this.hyphenate=(0,e.getInteger)({data:a.hyphenate,defaultValue:0,validate:oe=>oe===1}),this.id=a.id||"",this.pushCharacterCount=(0,e.getInteger)({data:a.pushCharacterCount,defaultValue:3,validate:oe=>oe>=0}),this.remainCharacterCount=(0,e.getInteger)({data:a.remainCharacterCount,defaultValue:3,validate:oe=>oe>=0}),this.use=a.use||"",this.usehref=a.usehref||"",this.wordCharacterCount=(0,e.getInteger)({data:a.wordCharacterCount,defaultValue:7,validate:oe=>oe>=0})}}class It extends t.StringObject{constructor(a){super(_,"image"),this.aspect=(0,e.getStringOption)(a.aspect,["fit","actual","height","none","width"]),this.contentType=a.contentType||"",this.href=a.href||"",this.id=a.id||"",this.name=a.name||"",this.transferEncoding=(0,e.getStringOption)(a.transferEncoding,["base64","none","package"]),this.use=a.use||"",this.usehref=a.usehref||""}[t.$toHTML](){if(this.contentType&&!r.has(this.contentType.toLowerCase()))return e.HTMLResult.EMPTY;let a=this[t.$globalData].images&&this[t.$globalData].images.get(this.href);if(!a&&(this.href||!this[t.$content])||(!a&&this.transferEncoding==="base64"&&(a=(0,j.stringToBytes)(atob(this[t.$content]))),!a))return e.HTMLResult.EMPTY;if(!this.contentType){for(const[ct,_t]of l)if(a.length>ct.length&&ct.every((bt,Mt)=>bt===a[Mt])){this.contentType=_t;break}if(!this.contentType)return e.HTMLResult.EMPTY}const oe=new Blob([a],{type:this.contentType});let je;switch(this.aspect){case"fit":case"actual":break;case"height":je={height:"100%",objectFit:"fill"};break;case"none":je={width:"100%",height:"100%",objectFit:"fill"};break;case"width":je={width:"100%",objectFit:"fill"};break}const We=this[t.$getParent]();return e.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:je,src:URL.createObjectURL(oe),alt:We?R(We[t.$getParent]()):null}})}}class Ct extends t.XFAObject{constructor(a){super(_,"imageEdit",!0),this.data=(0,e.getStringOption)(a.data,["link","embed"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](a){return this.data==="embed"?e.HTMLResult.success({name:"div",children:[],attributes:{}}):e.HTMLResult.EMPTY}}class Wt extends t.ContentObject{constructor(a){super(_,"integer"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[t.$finalize](){const a=parseInt(this[t.$content].trim(),10);this[t.$content]=isNaN(a)?null:a}[t.$toHTML](a){return o(this[t.$content]!==null?this[t.$content].toString():"")}}class zt extends t.XFAObject{constructor(a){super(_,"issuers",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.certificate=new t.XFAObjectArray}}class Je extends t.XFAObject{constructor(a){super(_,"items",!0),this.id=a.id||"",this.name=a.name||"",this.presence=(0,e.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.ref=a.ref||"",this.save=(0,e.getInteger)({data:a.save,defaultValue:0,validate:oe=>oe===1}),this.use=a.use||"",this.usehref=a.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[t.$toHTML](){const a=[];for(const oe of this[t.$getChildren]())a.push(oe[t.$text]());return e.HTMLResult.success(a)}}A.Items=Je;class Ve extends t.XFAObject{constructor(a){super(_,"keep",!0),this.id=a.id||"";const oe=["none","contentArea","pageArea"];this.intact=(0,e.getStringOption)(a.intact,oe),this.next=(0,e.getStringOption)(a.next,oe),this.previous=(0,e.getStringOption)(a.previous,oe),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}}class nt extends t.XFAObject{constructor(a){super(_,"keyUsage");const oe=["","yes","no"];this.crlSign=(0,e.getStringOption)(a.crlSign,oe),this.dataEncipherment=(0,e.getStringOption)(a.dataEncipherment,oe),this.decipherOnly=(0,e.getStringOption)(a.decipherOnly,oe),this.digitalSignature=(0,e.getStringOption)(a.digitalSignature,oe),this.encipherOnly=(0,e.getStringOption)(a.encipherOnly,oe),this.id=a.id||"",this.keyAgreement=(0,e.getStringOption)(a.keyAgreement,oe),this.keyCertSign=(0,e.getStringOption)(a.keyCertSign,oe),this.keyEncipherment=(0,e.getStringOption)(a.keyEncipherment,oe),this.nonRepudiation=(0,e.getStringOption)(a.nonRepudiation,oe),this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||""}}class it extends t.XFAObject{constructor(a){super(_,"line",!0),this.hand=(0,e.getStringOption)(a.hand,["even","left","right"]),this.id=a.id||"",this.slope=(0,e.getStringOption)(a.slope,["\\","/"]),this.use=a.use||"",this.usehref=a.usehref||"",this.edge=null}[t.$toHTML](){const a=this[t.$getParent]()[t.$getParent](),oe=this.edge||new $e({}),je=oe[t.$toStyle](),We=Object.create(null),ct=oe.presence==="visible"?oe.thickness:0;We.strokeWidth=(0,z.measureToString)(ct),We.stroke=je.color;let _t,bt,Mt,jt,Gt="100%",Yt="100%";a.w<=ct?([_t,bt,Mt,jt]=["50%",0,"50%","100%"],Gt=We.strokeWidth):a.h<=ct?([_t,bt,Mt,jt]=[0,"50%","100%","50%"],Yt=We.strokeWidth):this.slope==="\\"?[_t,bt,Mt,jt]=[0,0,"100%","100%"]:[_t,bt,Mt,jt]=[0,"100%","100%",0];const Zt={name:"svg",children:[{name:"line",attributes:{xmlns:y,x1:_t,y1:bt,x2:Mt,y2:jt,style:We}}],attributes:{xmlns:y,width:Gt,height:Yt,style:{overflow:"visible"}}};return d(a)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Zt]}):(Zt.attributes.style.position="absolute",e.HTMLResult.success(Zt))}}class pt extends t.XFAObject{constructor(a){super(_,"linear",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["toRight","toBottom","toLeft","toTop"]),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[t.$toStyle](a){a=a?a[t.$toStyle]():"#FFFFFF";const oe=this.type.replace(/([RBLT])/," $1").toLowerCase(),je=this.color?this.color[t.$toStyle]():"#000000";return`linear-gradient(${oe}, ${a}, ${je})`}}class Tt extends t.ContentObject{constructor(a){super(_,"lockDocument"),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||""}[t.$finalize](){this[t.$content]=(0,e.getStringOption)(this[t.$content],["auto","0","1"])}}class mt extends t.XFAObject{constructor(a){super(_,"manifest",!0),this.action=(0,e.getStringOption)(a.action,["include","all","exclude"]),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.ref=new t.XFAObjectArray}}class lt extends t.XFAObject{constructor(a){super(_,"margin",!0),this.bottomInset=(0,e.getMeasurement)(a.bottomInset,"0"),this.id=a.id||"",this.leftInset=(0,e.getMeasurement)(a.leftInset,"0"),this.rightInset=(0,e.getMeasurement)(a.rightInset,"0"),this.topInset=(0,e.getMeasurement)(a.topInset,"0"),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}[t.$toStyle](){return{margin:(0,z.measureToString)(this.topInset)+" "+(0,z.measureToString)(this.rightInset)+" "+(0,z.measureToString)(this.bottomInset)+" "+(0,z.measureToString)(this.leftInset)}}}class yt extends t.XFAObject{constructor(a){super(_,"mdp"),this.id=a.id||"",this.permissions=(0,e.getInteger)({data:a.permissions,defaultValue:2,validate:oe=>oe===1||oe===3}),this.signatureType=(0,e.getStringOption)(a.signatureType,["filler","author"]),this.use=a.use||"",this.usehref=a.usehref||""}}class Ft extends t.XFAObject{constructor(a){super(_,"medium"),this.id=a.id||"",this.imagingBBox=(0,e.getBBox)(a.imagingBBox),this.long=(0,e.getMeasurement)(a.long),this.orientation=(0,e.getStringOption)(a.orientation,["portrait","landscape"]),this.short=(0,e.getMeasurement)(a.short),this.stock=a.stock||"",this.trayIn=(0,e.getStringOption)(a.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,e.getStringOption)(a.trayOut,["auto","delegate"]),this.use=a.use||"",this.usehref=a.usehref||""}}class Nt extends t.XFAObject{constructor(a){super(_,"message",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.text=new t.XFAObjectArray}}class Dt extends t.XFAObject{constructor(a){super(_,"numericEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(a.hScrollPolicy,["auto","off","on"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](a){const oe=(0,z.toStyle)(this,"border","font","margin"),je=this[t.$getParent]()[t.$getParent](),We={name:"input",attributes:{type:"text",fieldId:je[t.$uid],dataId:je[t.$data]&&je[t.$data][t.$uid]||je[t.$uid],class:["xfaTextfield"],style:oe,"aria-label":R(je),"aria-required":!1}};return G(je)&&(We.attributes["aria-required"]=!0,We.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[We]})}}class St extends t.XFAObject{constructor(a){super(_,"occur",!0),this.id=a.id||"",this.initial=a.initial!==""?(0,e.getInteger)({data:a.initial,defaultValue:"",validate:oe=>!0}):"",this.max=a.max!==""?(0,e.getInteger)({data:a.max,defaultValue:1,validate:oe=>!0}):"",this.min=a.min!==""?(0,e.getInteger)({data:a.min,defaultValue:1,validate:oe=>!0}):"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}[t.$clean](){const a=this[t.$getParent](),oe=this.min;this.min===""&&(this.min=a instanceof Ke||a instanceof gt?0:1),this.max===""&&(oe===""?this.max=a instanceof Ke||a instanceof gt?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=a instanceof Pn?1:this.min)}}class Re extends t.StringObject{constructor(a){super(_,"oid"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}}class He extends t.XFAObject{constructor(a){super(_,"oids",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.oid=new t.XFAObjectArray}}class Ze extends t.XFAObject{constructor(a){super(_,"overflow"),this.id=a.id||"",this.leader=a.leader||"",this.target=a.target||"",this.trailer=a.trailer||"",this.use=a.use||"",this.usehref=a.usehref||""}[t.$getExtra](){if(!this[t.$extra]){const a=this[t.$getParent](),oe=this[t.$getTemplateRoot](),je=oe[t.$searchNode](this.target,a),We=oe[t.$searchNode](this.leader,a),ct=oe[t.$searchNode](this.trailer,a);this[t.$extra]={target:je&&je[0]||null,leader:We&&We[0]||null,trailer:ct&&ct[0]||null,addLeader:!1,addTrailer:!1}}return this[t.$extra]}}class Ke extends t.XFAObject{constructor(a){super(_,"pageArea",!0),this.blankOrNotBlank=(0,e.getStringOption)(a.blankOrNotBlank,["any","blank","notBlank"]),this.id=a.id||"",this.initialNumber=(0,e.getInteger)({data:a.initialNumber,defaultValue:1,validate:oe=>!0}),this.name=a.name||"",this.numbered=(0,e.getInteger)({data:a.numbered,defaultValue:1,validate:oe=>!0}),this.oddOrEven=(0,e.getStringOption)(a.oddOrEven,["any","even","odd"]),this.pagePosition=(0,e.getStringOption)(a.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,e.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray}[t.$isUsable](){return this[t.$extra]?!this.occur||this.occur.max===-1||this[t.$extra].numberOfUse<this.occur.max:(this[t.$extra]={numberOfUse:0},!0)}[t.$cleanPage](){delete this[t.$extra]}[t.$getNextPage](){this[t.$extra]||(this[t.$extra]={numberOfUse:0});const a=this[t.$getParent]();return a.relation==="orderedOccurrence"&&this[t.$isUsable]()?(this[t.$extra].numberOfUse+=1,this):a[t.$getNextPage]()}[t.$getAvailableSpace](){return this[t.$extra].space||{width:0,height:0}}[t.$toHTML](){this[t.$extra]||(this[t.$extra]={numberOfUse:1});const a=[];this[t.$extra].children=a;const oe=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(oe.width=(0,z.measureToString)(this.medium.short),oe.height=(0,z.measureToString)(this.medium.long),this[t.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const je=oe.width;oe.width=oe.height,oe.height=je,this[t.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,j.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[t.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[t.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),e.HTMLResult.success({name:"div",children:a,attributes:{class:["xfaPage"],id:this[t.$uid],style:oe,xfaName:this.name}})}}class gt extends t.XFAObject{constructor(a){super(_,"pageSet",!0),this.duplexImposition=(0,e.getStringOption)(a.duplexImposition,["longEdge","shortEdge"]),this.id=a.id||"",this.name=a.name||"",this.relation=(0,e.getStringOption)(a.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,e.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.occur=null,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray}[t.$cleanPage](){for(const a of this.pageArea.children)a[t.$cleanPage]();for(const a of this.pageSet.children)a[t.$cleanPage]()}[t.$isUsable](){return!this.occur||this.occur.max===-1||this[t.$extra].numberOfUse<this.occur.max}[t.$getNextPage](){if(this[t.$extra]||(this[t.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[t.$extra].pageIndex+1<this.pageArea.children.length)return this[t.$extra].pageIndex+=1,this.pageArea.children[this[t.$extra].pageIndex][t.$getNextPage]();if(this[t.$extra].pageSetIndex+1<this.pageSet.children.length)return this[t.$extra].pageSetIndex+=1,this.pageSet.children[this[t.$extra].pageSetIndex][t.$getNextPage]();if(this[t.$isUsable]())return this[t.$extra].numberOfUse+=1,this[t.$extra].pageIndex=-1,this[t.$extra].pageSetIndex=-1,this[t.$getNextPage]();const ct=this[t.$getParent]();return ct instanceof gt?ct[t.$getNextPage]():(this[t.$cleanPage](),this[t.$getNextPage]())}const a=this[t.$getTemplateRoot]()[t.$extra].pageNumber,oe=a%2===0?"even":"odd",je=a===0?"first":"rest";let We=this.pageArea.children.find(ct=>ct.oddOrEven===oe&&ct.pagePosition===je);return We||(We=this.pageArea.children.find(ct=>ct.oddOrEven==="any"&&ct.pagePosition===je),We)||(We=this.pageArea.children.find(ct=>ct.oddOrEven==="any"&&ct.pagePosition==="any"),We)?We:this.pageArea.children[0]}}class Pt extends t.XFAObject{constructor(a){super(_,"para",!0),this.hAlign=(0,e.getStringOption)(a.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=a.id||"",this.lineHeight=a.lineHeight?(0,e.getMeasurement)(a.lineHeight,"0pt"):"",this.marginLeft=a.marginLeft?(0,e.getMeasurement)(a.marginLeft,"0pt"):"",this.marginRight=a.marginRight?(0,e.getMeasurement)(a.marginRight,"0pt"):"",this.orphans=(0,e.getInteger)({data:a.orphans,defaultValue:0,validate:oe=>oe>=0}),this.preserve=a.preserve||"",this.radixOffset=a.radixOffset?(0,e.getMeasurement)(a.radixOffset,"0pt"):"",this.spaceAbove=a.spaceAbove?(0,e.getMeasurement)(a.spaceAbove,"0pt"):"",this.spaceBelow=a.spaceBelow?(0,e.getMeasurement)(a.spaceBelow,"0pt"):"",this.tabDefault=a.tabDefault?(0,e.getMeasurement)(this.tabDefault):"",this.tabStops=(a.tabStops||"").trim().split(/\s+/).map((oe,je)=>je%2===1?(0,e.getMeasurement)(oe):oe),this.textIndent=a.textIndent?(0,e.getMeasurement)(a.textIndent,"0pt"):"",this.use=a.use||"",this.usehref=a.usehref||"",this.vAlign=(0,e.getStringOption)(a.vAlign,["top","bottom","middle"]),this.widows=(0,e.getInteger)({data:a.widows,defaultValue:0,validate:oe=>oe>=0}),this.hyphenation=null}[t.$toStyle](){const a=(0,z.toStyle)(this,"hAlign");return this.marginLeft!==""&&(a.paddingLeft=(0,z.measureToString)(this.marginLeft)),this.marginRight!==""&&(a.paddingight=(0,z.measureToString)(this.marginRight)),this.spaceAbove!==""&&(a.paddingTop=(0,z.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(a.paddingBottom=(0,z.measureToString)(this.spaceBelow)),this.textIndent!==""&&(a.textIndent=(0,z.measureToString)(this.textIndent),(0,z.fixTextIndent)(a)),this.lineHeight>0&&(a.lineHeight=(0,z.measureToString)(this.lineHeight)),this.tabDefault!==""&&(a.tabSize=(0,z.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(a,this.hyphenatation[t.$toStyle]()),a}}class Vt extends t.XFAObject{constructor(a){super(_,"passwordEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(a.hScrollPolicy,["auto","off","on"]),this.id=a.id||"",this.passwordChar=a.passwordChar||"*",this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.extras=null,this.margin=null}}class Rt extends t.XFAObject{constructor(a){super(_,"pattern",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[t.$toStyle](a){a=a?a[t.$toStyle]():"#FFFFFF";const oe=this.color?this.color[t.$toStyle]():"#000000",je=5,We="repeating-linear-gradient",ct=`${a},${a} ${je}px,${oe} ${je}px,${oe} ${2*je}px`;switch(this.type){case"crossHatch":return`${We}(to top,${ct}) ${We}(to right,${ct})`;case"crossDiagonal":return`${We}(45deg,${ct}) ${We}(-45deg,${ct})`;case"diagonalLeft":return`${We}(45deg,${ct})`;case"diagonalRight":return`${We}(-45deg,${ct})`;case"horizontal":return`${We}(to top,${ct})`;case"vertical":return`${We}(to right,${ct})`}return""}}class Lt extends t.StringObject{constructor(a){super(_,"picture"),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||""}}class qt extends t.XFAObject{constructor(a){super(_,"proto",!0),this.appearanceFilter=new t.XFAObjectArray,this.arc=new t.XFAObjectArray,this.area=new t.XFAObjectArray,this.assist=new t.XFAObjectArray,this.barcode=new t.XFAObjectArray,this.bindItems=new t.XFAObjectArray,this.bookend=new t.XFAObjectArray,this.boolean=new t.XFAObjectArray,this.border=new t.XFAObjectArray,this.break=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.button=new t.XFAObjectArray,this.calculate=new t.XFAObjectArray,this.caption=new t.XFAObjectArray,this.certificate=new t.XFAObjectArray,this.certificates=new t.XFAObjectArray,this.checkButton=new t.XFAObjectArray,this.choiceList=new t.XFAObjectArray,this.color=new t.XFAObjectArray,this.comb=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.corner=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.dateTimeEdit=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.defaultUi=new t.XFAObjectArray,this.desc=new t.XFAObjectArray,this.digestMethod=new t.XFAObjectArray,this.digestMethods=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.edge=new t.XFAObjectArray,this.encoding=new t.XFAObjectArray,this.encodings=new t.XFAObjectArray,this.encrypt=new t.XFAObjectArray,this.encryptData=new t.XFAObjectArray,this.encryption=new t.XFAObjectArray,this.encryptionMethod=new t.XFAObjectArray,this.encryptionMethods=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.execute=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.fill=new t.XFAObjectArray,this.filter=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.font=new t.XFAObjectArray,this.format=new t.XFAObjectArray,this.handler=new t.XFAObjectArray,this.hyphenation=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.imageEdit=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.issuers=new t.XFAObjectArray,this.items=new t.XFAObjectArray,this.keep=new t.XFAObjectArray,this.keyUsage=new t.XFAObjectArray,this.line=new t.XFAObjectArray,this.linear=new t.XFAObjectArray,this.lockDocument=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.margin=new t.XFAObjectArray,this.mdp=new t.XFAObjectArray,this.medium=new t.XFAObjectArray,this.message=new t.XFAObjectArray,this.numericEdit=new t.XFAObjectArray,this.occur=new t.XFAObjectArray,this.oid=new t.XFAObjectArray,this.oids=new t.XFAObjectArray,this.overflow=new t.XFAObjectArray,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray,this.para=new t.XFAObjectArray,this.passwordEdit=new t.XFAObjectArray,this.pattern=new t.XFAObjectArray,this.picture=new t.XFAObjectArray,this.radial=new t.XFAObjectArray,this.reason=new t.XFAObjectArray,this.reasons=new t.XFAObjectArray,this.rectangle=new t.XFAObjectArray,this.ref=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.signData=new t.XFAObjectArray,this.signature=new t.XFAObjectArray,this.signing=new t.XFAObjectArray,this.solid=new t.XFAObjectArray,this.speak=new t.XFAObjectArray,this.stipple=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray,this.subjectDN=new t.XFAObjectArray,this.subjectDNs=new t.XFAObjectArray,this.submit=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.textEdit=new t.XFAObjectArray,this.time=new t.XFAObjectArray,this.timeStamp=new t.XFAObjectArray,this.toolTip=new t.XFAObjectArray,this.traversal=new t.XFAObjectArray,this.traverse=new t.XFAObjectArray,this.ui=new t.XFAObjectArray,this.validate=new t.XFAObjectArray,this.value=new t.XFAObjectArray,this.variables=new t.XFAObjectArray}}class nn extends t.XFAObject{constructor(a){super(_,"radial",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["toEdge","toCenter"]),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[t.$toStyle](a){a=a?a[t.$toStyle]():"#FFFFFF";const oe=this.color?this.color[t.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${a},${oe}`:`${oe},${a}`})`}}class dn extends t.StringObject{constructor(a){super(_,"reason"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}}class Bn extends t.XFAObject{constructor(a){super(_,"reasons",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.reason=new t.XFAObjectArray}}class Un extends t.XFAObject{constructor(a){super(_,"rectangle",!0),this.hand=(0,e.getStringOption)(a.hand,["even","left","right"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.fill=null}[t.$toHTML](){const a=this.edge.children.length?this.edge.children[0]:new $e({}),oe=a[t.$toStyle](),je=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(je,this.fill[t.$toStyle]()):je.fill="transparent",je.strokeWidth=(0,z.measureToString)(a.presence==="visible"?a.thickness:0),je.stroke=oe.color;const ct=(this.corner.children.length?this.corner.children[0]:new we({}))[t.$toStyle](),bt={name:"svg",children:[{name:"rect",attributes:{xmlns:y,width:"100%",height:"100%",x:0,y:0,rx:ct.radius,ry:ct.radius,style:je}}],attributes:{xmlns:y,style:{overflow:"visible"},width:"100%",height:"100%"}},Mt=this[t.$getParent]()[t.$getParent]();return d(Mt)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[bt]}):(bt.attributes.style.position="absolute",e.HTMLResult.success(bt))}}class yn extends t.StringObject{constructor(a){super(_,"ref"),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||""}}class gn extends t.StringObject{constructor(a){super(_,"script"),this.binding=a.binding||"",this.contentType=a.contentType||"",this.id=a.id||"",this.name=a.name||"",this.runAt=(0,e.getStringOption)(a.runAt,["client","both","server"]),this.use=a.use||"",this.usehref=a.usehref||""}}class vn extends t.XFAObject{constructor(a){super(_,"setProperty"),this.connection=a.connection||"",this.ref=a.ref||"",this.target=a.target||""}}A.SetProperty=vn;class Tn extends t.XFAObject{constructor(a){super(_,"signData",!0),this.id=a.id||"",this.operation=(0,e.getStringOption)(a.operation,["sign","clear","verify"]),this.ref=a.ref||"",this.target=a.target||"",this.use=a.use||"",this.usehref=a.usehref||"",this.filter=null,this.manifest=null}}class jn extends t.XFAObject{constructor(a){super(_,"signature",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["PDF1.3","PDF1.6"]),this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class en extends t.XFAObject{constructor(a){super(_,"signing",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.certificate=new t.XFAObjectArray}}class _n extends t.XFAObject{constructor(a){super(_,"solid",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}[t.$toStyle](a){return a?a[t.$toStyle]():"#FFFFFF"}}class Fn extends t.StringObject{constructor(a){super(_,"speak"),this.disable=(0,e.getInteger)({data:a.disable,defaultValue:0,validate:oe=>oe===1}),this.id=a.id||"",this.priority=(0,e.getStringOption)(a.priority,["custom","caption","name","toolTip"]),this.rid=a.rid||"",this.use=a.use||"",this.usehref=a.usehref||""}}class En extends t.XFAObject{constructor(a){super(_,"stipple",!0),this.id=a.id||"",this.rate=(0,e.getInteger)({data:a.rate,defaultValue:50,validate:oe=>oe>=0&&oe<=100}),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[t.$toStyle](a){const oe=this.rate/100;return j.Util.makeHexColor(Math.round(a.value.r*(1-oe)+this.value.r*oe),Math.round(a.value.g*(1-oe)+this.value.g*oe),Math.round(a.value.b*(1-oe)+this.value.b*oe))}}class $n extends t.XFAObject{constructor(a){super(_,"subform",!0),this.access=(0,e.getStringOption)(a.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,e.getInteger)({data:a.allowMacro,defaultValue:0,validate:oe=>oe===1}),this.anchorType=(0,e.getStringOption)(a.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:a.colSpan,defaultValue:1,validate:oe=>oe>=1||oe===-1}),this.columnWidths=(a.columnWidths||"").trim().split(/\s+/).map(oe=>oe==="-1"?-1:(0,e.getMeasurement)(oe)),this.h=a.h?(0,e.getMeasurement)(a.h):"",this.hAlign=(0,e.getStringOption)(a.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=a.id||"",this.layout=(0,e.getStringOption)(a.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=a.locale||"",this.maxH=(0,e.getMeasurement)(a.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(a.maxW,"0pt"),this.mergeMode=(0,e.getStringOption)(a.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,e.getMeasurement)(a.minH,"0pt"),this.minW=(0,e.getMeasurement)(a.minW,"0pt"),this.name=a.name||"",this.presence=(0,e.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(a.relevant),this.restoreState=(0,e.getStringOption)(a.restoreState,["manual","auto"]),this.scope=(0,e.getStringOption)(a.scope,["name","none"]),this.use=a.use||"",this.usehref=a.usehref||"",this.w=a.w?(0,e.getMeasurement)(a.w):"",this.x=(0,e.getMeasurement)(a.x,"0pt"),this.y=(0,e.getMeasurement)(a.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.proto=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[t.$getSubformParent](){const a=this[t.$getParent]();return a instanceof In?a[t.$getSubformParent]():a}[t.$isBindable](){return!0}[t.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine>0||this[t.$getParent]()[t.$isThereMoreWidth]()}*[t.$getContainedChildren](){yield*g(this)}[t.$flushHTML](){return(0,ie.flushHTML)(this)}[t.$addHTML](a,oe){(0,ie.addHTML)(this,a,oe)}[t.$getAvailableSpace](){return(0,ie.getAvailableSpace)(this)}[t.$isSplittable](){const a=this[t.$getSubformParent]();return a[t.$isSplittable]()?this[t.$extra]._isSplittable!==void 0?this[t.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[t.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[t.$extra]._isSplittable=!1,!1):a.layout&&a.layout.endsWith("-tb")&&a[t.$extra].numberInLine!==0?!1:(this[t.$extra]._isSplittable=!0,!0):!1}[t.$toHTML](a){if(O(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Ht=new Y({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Ht[t.$globalData]=this[t.$globalData],this[t.$appendChild](Ht),this.breakAfter.push(Ht)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Ht=new Z({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Ht[t.$globalData]=this[t.$globalData],this[t.$appendChild](Ht),this.breakBefore.push(Ht)}if(this.break.overflowTarget!==""){const Ht=new Ze({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Ht[t.$globalData]=this[t.$globalData],this[t.$appendChild](Ht),this.overflow.push(Ht)}this[t.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return e.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,j.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Ht=this.breakBefore.children[0];if(L(Ht))return e.HTMLResult.breakNode(Ht)}if(this[t.$extra]&&this[t.$extra].afterBreakAfter)return e.HTMLResult.EMPTY;(0,z.fixDimensions)(this);const oe=[],je={id:this[t.$uid],class:[]};(0,z.setAccess)(this,je.class),this[t.$extra]||(this[t.$extra]=Object.create(null)),Object.assign(this[t.$extra],{children:oe,line:null,attributes:je,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,a.width),height:Math.min(this.h||1/0,a.height)},width:0,height:0,prevHeight:0,currentWidth:0});const We=this[t.$getTemplateRoot](),ct=We[t.$extra].noLayoutFailure,_t=this[t.$isSplittable]();if(_t||h(this),!(0,ie.checkDimensions)(this,a))return e.HTMLResult.FAILURE;const bt=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Ht=this[t.$getSubformParent]().columnWidths;Array.isArray(Ht)&&Ht.length>0&&(this[t.$extra].columnWidths=Ht,this[t.$extra].currentColumn=0)}const Mt=(0,z.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),jt=["xfaSubform"],Gt=(0,z.layoutClass)(this);if(Gt&&jt.push(Gt),je.style=Mt,je.class=jt,this.name&&(je.xfaName=this.name),this.overflow){const Ht=this.overflow[t.$getExtra]();Ht.addLeader&&(Ht.addLeader=!1,x(this,Ht.leader,a))}this[t.$pushPara]();const Yt=this.layout==="lr-tb"||this.layout==="rl-tb",Kt=Yt?n:1;for(;this[t.$extra].attempt<Kt;this[t.$extra].attempt++){Yt&&this[t.$extra].attempt===n-1&&(this[t.$extra].numberInLine=0);const Ht=this[t.$childrenToHTML]({filter:bt,include:!0});if(Ht.success)break;if(Ht.isBreak())return this[t.$popPara](),Ht;if(Yt&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine===0&&!We[t.$extra].noLayoutFailure){this[t.$extra].attempt=Kt;break}}if(this[t.$popPara](),_t||H(this),We[t.$extra].noLayoutFailure=ct,this[t.$extra].attempt===Kt)return this.overflow&&(this[t.$getTemplateRoot]()[t.$extra].overflowNode=this.overflow),_t||delete this[t.$extra],e.HTMLResult.FAILURE;if(this.overflow){const Ht=this.overflow[t.$getExtra]();Ht.addTrailer&&(Ht.addTrailer=!1,x(this,Ht.trailer,a))}let Zt=0,Qt=0;this.margin&&(Zt=this.margin.leftInset+this.margin.rightInset,Qt=this.margin.topInset+this.margin.bottomInset);const Bt=Math.max(this[t.$extra].width+Zt,this.w||0),sn=Math.max(this[t.$extra].height+Qt,this.h||0),$t=[this.x,this.y,Bt,sn];if(this.w===""&&(Mt.width=(0,z.measureToString)(Bt)),this.h===""&&(Mt.height=(0,z.measureToString)(sn)),(Mt.width==="0px"||Mt.height==="0px")&&oe.length===0)return e.HTMLResult.EMPTY;const Xt={name:"div",attributes:je,children:oe};w(this,je);const on=e.HTMLResult.success((0,z.createWrapper)(this,Xt),$t);if(this.breakAfter.children.length>=1){const Ht=this.breakAfter.children[0];if(L(Ht))return this[t.$extra].afterBreakAfter=on,e.HTMLResult.breakNode(Ht)}return delete this[t.$extra],on}}class In extends t.XFAObject{constructor(a){super(_,"subformSet",!0),this.id=a.id||"",this.name=a.name||"",this.relation=(0,e.getStringOption)(a.relation,["ordered","choice","unordered"]),this.relevant=(0,e.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[t.$getContainedChildren](){yield*g(this)}[t.$getSubformParent](){let a=this[t.$getParent]();for(;!(a instanceof $n);)a=a[t.$getParent]();return a}[t.$isBindable](){return!0}}class Kn extends t.ContentObject{constructor(a){super(_,"subjectDN"),this.delimiter=a.delimiter||",",this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[t.$finalize](){this[t.$content]=new Map(this[t.$content].split(this.delimiter).map(a=>(a=a.split("=",2),a[0]=a[0].trim(),a)))}}class Yn extends t.XFAObject{constructor(a){super(_,"subjectDNs",!0),this.id=a.id||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.subjectDN=new t.XFAObjectArray}}class Jn extends t.XFAObject{constructor(a){super(_,"submit",!0),this.embedPDF=(0,e.getInteger)({data:a.embedPDF,defaultValue:0,validate:oe=>oe===1}),this.format=(0,e.getStringOption)(a.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=a.id||"",this.target=a.target||"",this.textEncoding=(0,e.getKeyword)({data:a.textEncoding?a.textEncoding.toLowerCase():"",defaultValue:"",validate:oe=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(oe)||oe.match(/iso-8859-\d{2}/)}),this.use=a.use||"",this.usehref=a.usehref||"",this.xdpContent=a.xdpContent||"",this.encrypt=null,this.encryptData=new t.XFAObjectArray,this.signData=new t.XFAObjectArray}}class Pn extends t.XFAObject{constructor(a){super(_,"template",!0),this.baseProfile=(0,e.getStringOption)(a.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new t.XFAObjectArray}[t.$finalize](){this.subform.children.length===0&&(0,j.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,j.warn)("XFA - Several subforms in template node: please file a bug."),this[t.$tabIndex]=p}[t.$isSplittable](){return!0}[t.$searchNode](a,oe){return a.startsWith("#")?[this[t.$ids].get(a.slice(1))]:(0,E.searchNode)(this,oe,a,!0,!0)}*[t.$toPages](){if(!this.subform.children.length)return e.HTMLResult.success({name:"div",children:[]});this[t.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const a=this.subform.children[0];a.pageSet[t.$cleanPage]();const oe=a.pageSet.pageArea.children,je={name:"div",children:[]};let We=null,ct=null,_t=null;if(a.breakBefore.children.length>=1?(ct=a.breakBefore.children[0],_t=ct.target):a.subform.children.length>=1&&a.subform.children[0].breakBefore.children.length>=1?(ct=a.subform.children[0].breakBefore.children[0],_t=ct.target):a.break&&a.break.beforeTarget?(ct=a.break,_t=ct.beforeTarget):a.subform.children.length>=1&&a.subform.children[0].break&&a.subform.children[0].break.beforeTarget&&(ct=a.subform.children[0].break,_t=ct.beforeTarget),ct){const Qt=this[t.$searchNode](_t,ct[t.$getParent]());Qt instanceof Ke&&(We=Qt,ct[t.$extra]={})}We||(We=oe[0]),We[t.$extra]={numberOfUse:1};const bt=We[t.$getParent]();bt[t.$extra]={numberOfUse:1,pageIndex:bt.pageArea.children.indexOf(We),pageSetIndex:0};let Mt,jt=null,Gt=null,Yt=!0,Kt=0,Zt=0;for(;;){if(Yt)Kt=0;else if(je.children.pop(),++Kt===u)return(0,j.warn)("XFA - Something goes wrong: please file a bug."),je;Mt=null,this[t.$extra].currentPageArea=We;const Qt=We[t.$toHTML]().html;je.children.push(Qt),jt&&(this[t.$extra].noLayoutFailure=!0,Qt.children.push(jt[t.$toHTML](We[t.$extra].space).html),jt=null),Gt&&(this[t.$extra].noLayoutFailure=!0,Qt.children.push(Gt[t.$toHTML](We[t.$extra].space).html),Gt=null);const Bt=We.contentArea.children,sn=Qt.children.filter(Xt=>Xt.attributes.class.includes("xfaContentarea"));Yt=!1,this[t.$extra].firstUnsplittable=null,this[t.$extra].noLayoutFailure=!1;const $t=Xt=>{const on=a[t.$flushHTML]();on&&(Yt=Yt||on.children&&on.children.length!==0,sn[Xt].children.push(on))};for(let Xt=Zt,on=Bt.length;Xt<on;Xt++){const Ht=this[t.$extra].currentContentArea=Bt[Xt],mn={width:Ht.w,height:Ht.h};Zt=0,jt&&(sn[Xt].children.push(jt[t.$toHTML](mn).html),jt=null),Gt&&(sn[Xt].children.push(Gt[t.$toHTML](mn).html),Gt=null);const fn=a[t.$toHTML](mn);if(fn.success)return fn.html?(Yt=Yt||fn.html.children&&fn.html.children.length!==0,sn[Xt].children.push(fn.html)):!Yt&&je.children.length>1&&je.children.pop(),je;if(fn.isBreak()){const rn=fn.breakNode;if($t(Xt),rn.targetType==="auto")continue;rn.leader&&(jt=this[t.$searchNode](rn.leader,rn[t.$getParent]()),jt=jt?jt[0]:null),rn.trailer&&(Gt=this[t.$searchNode](rn.trailer,rn[t.$getParent]()),Gt=Gt?Gt[0]:null),rn.targetType==="pageArea"?(Mt=rn[t.$extra].target,Xt=1/0):rn[t.$extra].target?(Mt=rn[t.$extra].target,Zt=rn[t.$extra].index+1,Xt=1/0):Xt=rn[t.$extra].index;continue}if(this[t.$extra].overflowNode){const rn=this[t.$extra].overflowNode;this[t.$extra].overflowNode=null;const Mn=rn[t.$getExtra](),kn=Mn.target;Mn.addLeader=Mn.leader!==null,Mn.addTrailer=Mn.trailer!==null,$t(Xt);const Rn=Xt;if(Xt=1/0,kn instanceof Ke)Mt=kn;else if(kn instanceof xe){const Nn=Bt.indexOf(kn);Nn!==-1?Nn>Rn?Xt=Nn-1:Zt=Nn:(Mt=kn[t.$getParent](),Zt=Mt.contentArea.children.indexOf(kn))}continue}$t(Xt)}this[t.$extra].pageNumber+=1,Mt&&(Mt[t.$isUsable]()?Mt[t.$extra].numberOfUse+=1:Mt=null),We=Mt||We[t.$getNextPage](),yield null}}}A.Template=Pn;class wn extends t.ContentObject{constructor(a){super(_,"text"),this.id=a.id||"",this.maxChars=(0,e.getInteger)({data:a.maxChars,defaultValue:0,validate:oe=>oe>=0}),this.name=a.name||"",this.rid=a.rid||"",this.use=a.use||"",this.usehref=a.usehref||""}[t.$acceptWhitespace](){return!0}[t.$onChild](a){return a[t.$namespaceId]===m.NamespaceIds.xhtml.id?(this[t.$content]=a,!0):((0,j.warn)(`XFA - Invalid content in Text: ${a[t.$nodeName]}.`),!1)}[t.$onText](a){this[t.$content]instanceof t.XFAObject||super[t.$onText](a)}[t.$finalize](){typeof this[t.$content]=="string"&&(this[t.$content]=this[t.$content].replace(/\r\n/g,`
`))}[t.$getExtra](){return typeof this[t.$content]=="string"?this[t.$content].split(/[\u2029\u2028\n]/).reduce((a,oe)=>(oe&&a.push(oe),a),[]).join(`
`):this[t.$content][t.$text]()}[t.$toHTML](a){if(typeof this[t.$content]=="string"){const oe=o(this[t.$content]).html;return this[t.$content].includes("\u2029")?(oe.name="div",oe.children=[],this[t.$content].split("\u2029").map(je=>je.split(/[\u2028\n]/).reduce((We,ct)=>(We.push({name:"span",value:ct},{name:"br"}),We),[])).forEach(je=>{oe.children.push({name:"p",children:je})})):/[\u2028\n]/.test(this[t.$content])&&(oe.name="div",oe.children=[],this[t.$content].split(/[\u2028\n]/).forEach(je=>{oe.children.push({name:"span",value:je},{name:"br"})})),e.HTMLResult.success(oe)}return this[t.$content][t.$toHTML](a)}}A.Text=wn;class pn extends t.XFAObject{constructor(a){super(_,"textEdit",!0),this.allowRichText=(0,e.getInteger)({data:a.allowRichText,defaultValue:0,validate:oe=>oe===1}),this.hScrollPolicy=(0,e.getStringOption)(a.hScrollPolicy,["auto","off","on"]),this.id=a.id||"",this.multiLine=(0,e.getInteger)({data:a.multiLine,defaultValue:"",validate:oe=>oe===0||oe===1}),this.use=a.use||"",this.usehref=a.usehref||"",this.vScrollPolicy=(0,e.getStringOption)(a.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](a){const oe=(0,z.toStyle)(this,"border","font","margin");let je;const We=this[t.$getParent]()[t.$getParent]();return this.multiLine===""&&(this.multiLine=We instanceof Ue?1:0),this.multiLine===1?je={name:"textarea",attributes:{dataId:We[t.$data]&&We[t.$data][t.$uid]||We[t.$uid],fieldId:We[t.$uid],class:["xfaTextfield"],style:oe,"aria-label":R(We),"aria-required":!1}}:je={name:"input",attributes:{type:"text",dataId:We[t.$data]&&We[t.$data][t.$uid]||We[t.$uid],fieldId:We[t.$uid],class:["xfaTextfield"],style:oe,"aria-label":R(We),"aria-required":!1}},G(We)&&(je.attributes["aria-required"]=!0,je.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[je]})}}class Hn extends t.StringObject{constructor(a){super(_,"time"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[t.$finalize](){const a=this[t.$content].trim();this[t.$content]=a?new Date(a):null}[t.$toHTML](a){return o(this[t.$content]?this[t.$content].toString():"")}}class Xn extends t.XFAObject{constructor(a){super(_,"timeStamp"),this.id=a.id||"",this.server=a.server||"",this.type=(0,e.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||""}}class Gn extends t.StringObject{constructor(a){super(_,"toolTip"),this.id=a.id||"",this.rid=a.rid||"",this.use=a.use||"",this.usehref=a.usehref||""}}class Sn extends t.XFAObject{constructor(a){super(_,"traversal",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.traverse=new t.XFAObjectArray}}class Zn extends t.XFAObject{constructor(a){super(_,"traverse",!0),this.id=a.id||"",this.operation=(0,e.getStringOption)(a.operation,["next","back","down","first","left","right","up"]),this.ref=a.ref||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[t.$isTransparent](){return!1}}class Dn extends t.XFAObject{constructor(a){super(_,"ui",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[t.$getExtra](){if(this[t.$extra]===void 0){for(const a of Object.getOwnPropertyNames(this)){if(a==="extras"||a==="picture")continue;const oe=this[a];if(oe instanceof t.XFAObject)return this[t.$extra]=oe,oe}this[t.$extra]=null}return this[t.$extra]}[t.$toHTML](a){const oe=this[t.$getExtra]();return oe?oe[t.$toHTML](a):e.HTMLResult.EMPTY}}class Qn extends t.XFAObject{constructor(a){super(_,"validate",!0),this.formatTest=(0,e.getStringOption)(a.formatTest,["warning","disabled","error"]),this.id=a.id||"",this.nullTest=(0,e.getStringOption)(a.nullTest,["disabled","error","warning"]),this.scriptTest=(0,e.getStringOption)(a.scriptTest,["error","disabled","warning"]),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class hn extends t.XFAObject{constructor(a){super(_,"value",!0),this.id=a.id||"",this.override=(0,e.getInteger)({data:a.override,defaultValue:0,validate:oe=>oe===1}),this.relevant=(0,e.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[t.$setValue](a){const oe=this[t.$getParent]();if(oe instanceof et&&oe.ui&&oe.ui.imageEdit){this.image||(this.image=new It({}),this[t.$appendChild](this.image)),this.image[t.$content]=a[t.$content];return}const je=a[t.$nodeName];if(this[je]!==null){this[je][t.$content]=a[t.$content];return}for(const We of Object.getOwnPropertyNames(this)){const ct=this[We];ct instanceof t.XFAObject&&(this[We]=null,this[t.$removeChild](ct))}this[a[t.$nodeName]]=a,this[t.$appendChild](a)}[t.$text](){if(this.exData)return typeof this.exData[t.$content]=="string"?this.exData[t.$content].trim():this.exData[t.$content][t.$text]().trim();for(const a of Object.getOwnPropertyNames(this)){if(a==="image")continue;const oe=this[a];if(oe instanceof t.XFAObject)return(oe[t.$content]||"").toString().trim()}return null}[t.$toHTML](a){for(const oe of Object.getOwnPropertyNames(this)){const je=this[oe];if(je instanceof t.XFAObject)return je[t.$toHTML](a)}return e.HTMLResult.EMPTY}}A.Value=hn;class ei extends t.XFAObject{constructor(a){super(_,"variables",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[t.$isTransparent](){return!0}}class On{static[m.$buildXFAObject](a,oe){if(On.hasOwnProperty(a)){const je=On[a](oe);return je[t.$setSetAttributes](oe),je}}static appearanceFilter(a){return new v(a)}static arc(a){return new F(a)}static area(a){return new k(a)}static assist(a){return new U(a)}static barcode(a){return new ee(a)}static bind(a){return new J(a)}static bindItems(a){return new I(a)}static bookend(a){return new X(a)}static boolean(a){return new ne(a)}static border(a){return new P(a)}static break(a){return new V(a)}static breakAfter(a){return new Y(a)}static breakBefore(a){return new Z(a)}static button(a){return new q(a)}static calculate(a){return new M(a)}static caption(a){return new te(a)}static certificate(a){return new W(a)}static certificates(a){return new ae(a)}static checkButton(a){return new fe(a)}static choiceList(a){return new de(a)}static color(a){return new ue(a)}static comb(a){return new he(a)}static connect(a){return new me(a)}static contentArea(a){return new xe(a)}static corner(a){return new we(a)}static date(a){return new Ce(a)}static dateTime(a){return new Fe(a)}static dateTimeEdit(a){return new Oe(a)}static decimal(a){return new Ie(a)}static defaultUi(a){return new Me(a)}static desc(a){return new Le(a)}static digestMethod(a){return new qe(a)}static digestMethods(a){return new Xe(a)}static draw(a){return new Ue(a)}static edge(a){return new $e(a)}static encoding(a){return new De(a)}static encodings(a){return new Te(a)}static encrypt(a){return new Ee(a)}static encryptData(a){return new ze(a)}static encryption(a){return new tt(a)}static encryptionMethod(a){return new ft(a)}static encryptionMethods(a){return new Be(a)}static event(a){return new Ne(a)}static exData(a){return new ke(a)}static exObject(a){return new rt(a)}static exclGroup(a){return new ot(a)}static execute(a){return new st(a)}static extras(a){return new xt(a)}static field(a){return new et(a)}static fill(a){return new ut(a)}static filter(a){return new kt(a)}static float(a){return new Qe(a)}static font(a){return new vt(a)}static format(a){return new ht(a)}static handler(a){return new Ut(a)}static hyphenation(a){return new Ot(a)}static image(a){return new It(a)}static imageEdit(a){return new Ct(a)}static integer(a){return new Wt(a)}static issuers(a){return new zt(a)}static items(a){return new Je(a)}static keep(a){return new Ve(a)}static keyUsage(a){return new nt(a)}static line(a){return new it(a)}static linear(a){return new pt(a)}static lockDocument(a){return new Tt(a)}static manifest(a){return new mt(a)}static margin(a){return new lt(a)}static mdp(a){return new yt(a)}static medium(a){return new Ft(a)}static message(a){return new Nt(a)}static numericEdit(a){return new Dt(a)}static occur(a){return new St(a)}static oid(a){return new Re(a)}static oids(a){return new He(a)}static overflow(a){return new Ze(a)}static pageArea(a){return new Ke(a)}static pageSet(a){return new gt(a)}static para(a){return new Pt(a)}static passwordEdit(a){return new Vt(a)}static pattern(a){return new Rt(a)}static picture(a){return new Lt(a)}static proto(a){return new qt(a)}static radial(a){return new nn(a)}static reason(a){return new dn(a)}static reasons(a){return new Bn(a)}static rectangle(a){return new Un(a)}static ref(a){return new yn(a)}static script(a){return new gn(a)}static setProperty(a){return new vn(a)}static signData(a){return new Tn(a)}static signature(a){return new jn(a)}static signing(a){return new en(a)}static solid(a){return new _n(a)}static speak(a){return new Fn(a)}static stipple(a){return new En(a)}static subform(a){return new $n(a)}static subformSet(a){return new In(a)}static subjectDN(a){return new Kn(a)}static subjectDNs(a){return new Yn(a)}static submit(a){return new Jn(a)}static template(a){return new Pn(a)}static text(a){return new wn(a)}static textEdit(a){return new pn(a)}static time(a){return new Hn(a)}static timeStamp(a){return new Xn(a)}static toolTip(a){return new Gn(a)}static traversal(a){return new Sn(a)}static traverse(a){return new Zn(a)}static ui(a){return new Dn(a)}static validate(a){return new Qn(a)}static value(a){return new hn(a)}static variables(a){return new ei(a)}}A.TemplateNamespace=On},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.addHTML=e,A.checkDimensions=T,A.flushHTML=z,A.getAvailableSpace=j;var t=se(77),m=se(84);function ie(E,_){return{name:"div",attributes:{class:[E.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:_}}function z(E){if(!E[t.$extra])return null;const y={name:"div",attributes:E[t.$extra].attributes,children:E[t.$extra].children};if(E[t.$extra].failingNode){const n=E[t.$extra].failingNode[t.$flushHTML]();n&&(E.layout.endsWith("-tb")?y.children.push(ie(E,[n])):y.children.push(n))}return y.children.length===0?null:y}function e(E,_,y){const n=E[t.$extra],u=n.availableSpace,[p,s,r,l]=y;switch(E.layout){case"position":{n.width=Math.max(n.width,p+r),n.height=Math.max(n.height,s+l),n.children.push(_);break}case"lr-tb":case"rl-tb":(!n.line||n.attempt===1)&&(n.line=ie(E,[]),n.children.push(n.line),n.numberInLine=0),n.numberInLine+=1,n.line.children.push(_),n.attempt===0?(n.currentWidth+=r,n.height=Math.max(n.height,n.prevHeight+l)):(n.currentWidth=r,n.prevHeight=n.height,n.height+=l,n.attempt=0),n.width=Math.max(n.width,n.currentWidth);break;case"rl-row":case"row":{n.children.push(_),n.width+=r,n.height=Math.max(n.height,l);const c=(0,m.measureToString)(n.height);for(const d of n.children)d.attributes.style.height=c;break}case"table":{n.width=Math.min(u.width,Math.max(n.width,r)),n.height+=l,n.children.push(_);break}case"tb":{n.width=Math.min(u.width,Math.max(n.width,r)),n.height+=l,n.children.push(_);break}}}function j(E){const _=E[t.$extra].availableSpace,y=E.margin?E.margin.topInset+E.margin.bottomInset:0,n=E.margin?E.margin.leftInset+E.margin.rightInset:0;switch(E.layout){case"lr-tb":case"rl-tb":return E[t.$extra].attempt===0?{width:_.width-n-E[t.$extra].currentWidth,height:_.height-y-E[t.$extra].prevHeight}:{width:_.width-n,height:_.height-y-E[t.$extra].height};case"rl-row":case"row":return{width:E[t.$extra].columnWidths.slice(E[t.$extra].currentColumn).reduce((p,s)=>p+s),height:_.height-n};case"table":case"tb":return{width:_.width-n,height:_.height-y-E[t.$extra].height};case"position":default:return _}}function f(E){let _=E.w===""?NaN:E.w,y=E.h===""?NaN:E.h,[n,u]=[0,0];switch(E.anchorType||""){case"bottomCenter":[n,u]=[_/2,y];break;case"bottomLeft":[n,u]=[0,y];break;case"bottomRight":[n,u]=[_,y];break;case"middleCenter":[n,u]=[_/2,y/2];break;case"middleLeft":[n,u]=[0,y/2];break;case"middleRight":[n,u]=[_,y/2];break;case"topCenter":[n,u]=[_/2,0];break;case"topRight":[n,u]=[_,0];break}let p,s;switch(E.rotate||0){case 0:[p,s]=[-n,-u];break;case 90:[p,s]=[-u,n],[_,y]=[y,-_];break;case 180:[p,s]=[n,u],[_,y]=[-_,-y];break;case 270:[p,s]=[u,-n],[_,y]=[-y,_];break}return[E.x+p+Math.min(0,_),E.y+s+Math.min(0,y),Math.abs(_),Math.abs(y)]}function T(E,_){if(E[t.$getTemplateRoot]()[t.$extra].firstUnsplittable===null||E.w===0||E.h===0)return!0;const y=2,n=E[t.$getSubformParent](),u=n[t.$extra]&&n[t.$extra].attempt||0,[,p,s,r]=f(E);switch(n.layout){case"lr-tb":case"rl-tb":return u===0?E[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?E.w!==""?Math.round(s-_.width)<=y:_.width>y:E.h!==""&&Math.round(r-_.height)>y?!1:E.w!==""?Math.round(s-_.width)<=y?!0:n[t.$extra].numberInLine===0?_.height>y:!1:_.width>y:E[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?!0:E.h!==""&&Math.round(r-_.height)>y?!1:E.w===""||Math.round(s-_.width)<=y?_.height>y:n[t.$isThereMoreWidth]()?!1:_.height>y;case"table":case"tb":return E[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?!0:E.h!==""&&!E[t.$isSplittable]()?Math.round(r-_.height)<=y:E.w===""||Math.round(s-_.width)<=y?_.height>y:n[t.$isThereMoreWidth]()?!1:_.height>y;case"position":if(E[t.$getTemplateRoot]()[t.$extra].noLayoutFailure||E.h===""||Math.round(r+p-_.height)<=y)return!0;const l=E[t.$getTemplateRoot]()[t.$extra].currentContentArea;return r+p>l.h;case"rl-row":case"row":return E[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?!0:E.h!==""?Math.round(r-_.height)<=y:!0;default:return!0}}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.computeBbox=y,A.createWrapper=s,A.fixDimensions=n,A.fixTextIndent=r,A.fixURL=G,A.isPrintOnly=c,A.layoutClass=u,A.layoutNode=_,A.measureToString=j,A.setAccess=l,A.setFontFamily=g,A.setMinMaxDimensions=T,A.setPara=K,A.toStyle=p;var t=se(77),m=se(2),ie=se(78),z=se(85),e=se(86);function j(O){return typeof O=="string"?"0px":Number.isInteger(O)?`${O}px`:`${O.toFixed(2)}px`}const f={anchorType(O,w){const R=O[t.$getSubformParent]();if(!(!R||R.layout&&R.layout!=="position"))switch("transform"in w||(w.transform=""),O.anchorType){case"bottomCenter":w.transform+="translate(-50%, -100%)";break;case"bottomLeft":w.transform+="translate(0,-100%)";break;case"bottomRight":w.transform+="translate(-100%,-100%)";break;case"middleCenter":w.transform+="translate(-50%,-50%)";break;case"middleLeft":w.transform+="translate(0,-50%)";break;case"middleRight":w.transform+="translate(-100%,-50%)";break;case"topCenter":w.transform+="translate(-50%,0)";break;case"topRight":w.transform+="translate(-100%,0)";break}},dimensions(O,w){const R=O[t.$getSubformParent]();let o=O.w;const h=O.h;if(R.layout&&R.layout.includes("row")){const H=R[t.$extra],L=O.colSpan;let x;L===-1?(x=H.columnWidths.slice(H.currentColumn).reduce((v,F)=>v+F,0),H.currentColumn=0):(x=H.columnWidths.slice(H.currentColumn,H.currentColumn+L).reduce((v,F)=>v+F,0),H.currentColumn=(H.currentColumn+O.colSpan)%H.columnWidths.length),isNaN(x)||(o=O.w=x)}o!==""?w.width=j(o):w.width="auto",h!==""?w.height=j(h):w.height="auto"},position(O,w){const R=O[t.$getSubformParent]();R&&R.layout&&R.layout!=="position"||(w.position="absolute",w.left=j(O.x),w.top=j(O.y))},rotate(O,w){O.rotate&&("transform"in w||(w.transform=""),w.transform+=`rotate(-${O.rotate}deg)`,w.transformOrigin="top left")},presence(O,w){switch(O.presence){case"invisible":w.visibility="hidden";break;case"hidden":case"inactive":w.display="none";break}},hAlign(O,w){if(O[t.$nodeName]==="para")switch(O.hAlign){case"justifyAll":w.textAlign="justify-all";break;case"radix":w.textAlign="left";break;default:w.textAlign=O.hAlign}else switch(O.hAlign){case"left":w.alignSelf="start";break;case"center":w.alignSelf="center";break;case"right":w.alignSelf="end";break}},margin(O,w){O.margin&&(w.margin=O.margin[t.$toStyle]().margin)}};function T(O,w){O[t.$getSubformParent]().layout==="position"&&(O.minW>0&&(w.minWidth=j(O.minW)),O.maxW>0&&(w.maxWidth=j(O.maxW)),O.minH>0&&(w.minHeight=j(O.minH)),O.maxH>0&&(w.maxHeight=j(O.maxH)))}function E(O,w,R,o,h,H){const L=new e.TextMeasure(w,R,o,h);return typeof O=="string"?L.addString(O):O[t.$pushGlyphs](L),L.compute(H)}function _(O,w){let R=null,o=null,h=!1;if((!O.w||!O.h)&&O.value){let H=0,L=0;O.margin&&(H=O.margin.leftInset+O.margin.rightInset,L=O.margin.topInset+O.margin.bottomInset);let x=null,v=null;O.para&&(v=Object.create(null),x=O.para.lineHeight===""?null:O.para.lineHeight,v.top=O.para.spaceAbove===""?0:O.para.spaceAbove,v.bottom=O.para.spaceBelow===""?0:O.para.spaceBelow,v.left=O.para.marginLeft===""?0:O.para.marginLeft,v.right=O.para.marginRight===""?0:O.para.marginRight);let F=O.font;if(!F){const ee=O[t.$getTemplateRoot]();let J=O[t.$getParent]();for(;J&&J!==ee;){if(J.font){F=J.font;break}J=J[t.$getParent]()}}const k=(O.w||w.width)-H,U=O[t.$globalData].fontFinder;if(O.value.exData&&O.value.exData[t.$content]&&O.value.exData.contentType==="text/html"){const ee=E(O.value.exData[t.$content],F,v,x,U,k);o=ee.width,R=ee.height,h=ee.isBroken}else{const ee=O.value[t.$text]();if(ee){const J=E(ee,F,v,x,U,k);o=J.width,R=J.height,h=J.isBroken}}o!==null&&!O.w&&(o+=H),R!==null&&!O.h&&(R+=L)}return{w:o,h:R,isBroken:h}}function y(O,w,R){let o;if(O.w!==""&&O.h!=="")o=[O.x,O.y,O.w,O.h];else{if(!R)return null;let h=O.w;if(h===""){if(O.maxW===0){const L=O[t.$getSubformParent]();L.layout==="position"&&L.w!==""?h=0:h=O.minW}else h=Math.min(O.maxW,R.width);w.attributes.style.width=j(h)}let H=O.h;if(H===""){if(O.maxH===0){const L=O[t.$getSubformParent]();L.layout==="position"&&L.h!==""?H=0:H=O.minH}else H=Math.min(O.maxH,R.height);w.attributes.style.height=j(H)}o=[O.x,O.y,h,H]}return o}function n(O){const w=O[t.$getSubformParent]();if(w.layout&&w.layout.includes("row")){const R=w[t.$extra],o=O.colSpan;let h;o===-1?h=R.columnWidths.slice(R.currentColumn).reduce((H,L)=>H+L,0):h=R.columnWidths.slice(R.currentColumn,R.currentColumn+o).reduce((H,L)=>H+L,0),isNaN(h)||(O.w=h)}w.layout&&w.layout!=="position"&&(O.x=O.y=0),O.layout==="table"&&O.w===""&&Array.isArray(O.columnWidths)&&(O.w=O.columnWidths.reduce((R,o)=>R+o,0))}function u(O){switch(O.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function p(O,...w){const R=Object.create(null);for(const o of w){const h=O[o];if(h!==null){if(f.hasOwnProperty(o)){f[o](O,R);continue}if(h instanceof t.XFAObject){const H=h[t.$toStyle]();H?Object.assign(R,H):(0,m.warn)(`(DEBUG) - XFA - style for ${o} not implemented yet`)}}}return R}function s(O,w){const{attributes:R}=w,{style:o}=R,h={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(R.class.push("xfaWrapped"),O.border){const{widths:H,insets:L}=O.border[t.$extra];let x,v,F=L[0],k=L[3];const U=L[0]+L[2],ee=L[1]+L[3];switch(O.border.hand){case"even":F-=H[0]/2,k-=H[3]/2,x=`calc(100% + ${(H[1]+H[3])/2-ee}px)`,v=`calc(100% + ${(H[0]+H[2])/2-U}px)`;break;case"left":F-=H[0],k-=H[3],x=`calc(100% + ${H[1]+H[3]-ee}px)`,v=`calc(100% + ${H[0]+H[2]-U}px)`;break;case"right":x=ee?`calc(100% - ${ee}px)`:"100%",v=U?`calc(100% - ${U}px)`:"100%";break}const J=["xfaBorder"];c(O.border)&&J.push("xfaPrintOnly");const I={name:"div",attributes:{class:J,style:{top:`${F}px`,left:`${k}px`,width:x,height:v}},children:[]};for(const X of["border","borderWidth","borderColor","borderRadius","borderStyle"])o[X]!==void 0&&(I.attributes.style[X]=o[X],delete o[X]);h.children.push(I,w)}else h.children.push(w);for(const H of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])o[H]!==void 0&&(h.attributes.style[H]=o[H],delete o[H]);return o.position==="absolute"?h.attributes.style.position="absolute":h.attributes.style.position="relative",delete o.position,o.alignSelf&&(h.attributes.style.alignSelf=o.alignSelf,delete o.alignSelf),h}function r(O){const w=(0,ie.getMeasurement)(O.textIndent,"0px");if(w>=0)return;const o="padding"+((O.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),h=(0,ie.getMeasurement)(O[o],"0px");O[o]=`${h-w}px`}function l(O,w){switch(O.access){case"nonInteractive":w.push("xfaNonInteractive");break;case"readOnly":w.push("xfaReadOnly");break;case"protected":w.push("xfaDisabled");break}}function c(O){return O.relevant.length>0&&!O.relevant[0].excluded&&O.relevant[0].viewname==="print"}function d(O){const w=O[t.$getTemplateRoot]()[t.$extra].paraStack;return w.length?w.at(-1):null}function K(O,w,R){if(R.attributes.class&&R.attributes.class.includes("xfaRich")){w&&(O.h===""&&(w.height="auto"),O.w===""&&(w.width="auto"));const o=d(O);if(o){const h=R.attributes.style;switch(h.display="flex",h.flexDirection="column",o.vAlign){case"top":h.justifyContent="start";break;case"bottom":h.justifyContent="end";break;case"middle":h.justifyContent="center";break}const H=o[t.$toStyle]();for(const[L,x]of Object.entries(H))L in h||(h[L]=x)}}}function g(O,w,R,o){if(!R){delete o.fontFamily;return}const h=(0,ie.stripQuotes)(O.typeface);o.fontFamily=`"${h}"`;const H=R.find(h);if(H){const{fontFamily:L}=H.regular.cssFontInfo;L!==h&&(o.fontFamily=`"${L}"`);const x=d(w);if(x&&x.lineHeight!==""||o.lineHeight)return;const v=(0,z.selectFont)(O,H);v&&(o.lineHeight=Math.max(1.2,v.lineHeight))}}function G(O){const w=(0,m.createValidAbsoluteUrl)(O,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return w?w.href:null}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.FontFinder=void 0,A.getMetrics=j,A.selectFont=e;var t=se(77),m=se(78),ie=se(2);class z{constructor(T){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(T)}add(T,E=null){for(const y of T)this.addPdfFont(y);for(const y of this.fonts.values())y.regular||(y.regular=y.italic||y.bold||y.bolditalic);if(!E||E.size===0)return;const _=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const y of E)this.fonts.set(y,_)}addPdfFont(T){const E=T.cssFontInfo,_=E.fontFamily;let y=this.fonts.get(_);y||(y=Object.create(null),this.fonts.set(_,y),this.defaultFont||(this.defaultFont=y));let n="";const u=parseFloat(E.fontWeight);parseFloat(E.italicAngle)!==0?n=u>=700?"bolditalic":"italic":u>=700&&(n="bold"),n||((T.name.includes("Bold")||T.psName&&T.psName.includes("Bold"))&&(n="bold"),(T.name.includes("Italic")||T.name.endsWith("It")||T.psName&&(T.psName.includes("Italic")||T.psName.endsWith("It")))&&(n+="italic")),n||(n="regular"),y[n]=T}getDefault(){return this.defaultFont}find(T,E=!0){let _=this.fonts.get(T)||this.cache.get(T);if(_)return _;const y=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let n=T.replace(y,"");if(_=this.fonts.get(n),_)return this.cache.set(T,_),_;n=n.toLowerCase();const u=[];for(const[p,s]of this.fonts.entries())p.replace(y,"").toLowerCase().startsWith(n)&&u.push(s);if(u.length===0)for(const[,p]of this.fonts.entries())p.regular.name&&p.regular.name.replace(y,"").toLowerCase().startsWith(n)&&u.push(p);if(u.length===0){n=n.replace(/psmt|mt/gi,"");for(const[p,s]of this.fonts.entries())p.replace(y,"").toLowerCase().startsWith(n)&&u.push(s)}if(u.length===0)for(const p of this.fonts.values())p.regular.name&&p.regular.name.replace(y,"").toLowerCase().startsWith(n)&&u.push(p);return u.length>=1?(u.length!==1&&E&&(0,ie.warn)(`XFA - Too many choices to guess the correct font: ${T}`),this.cache.set(T,u[0]),u[0]):(E&&!this.warned.has(T)&&(this.warned.add(T),(0,ie.warn)(`XFA - Cannot find the font: ${T}`)),null)}}A.FontFinder=z;function e(f,T){return f.posture==="italic"?f.weight==="bold"?T.bolditalic:T.italic:f.weight==="bold"?T.bold:T.regular}function j(f,T=!1){let E=null;if(f){const u=(0,m.stripQuotes)(f.typeface),p=f[t.$globalData].fontFinder.find(u);E=e(f,p)}if(!E)return{lineHeight:12,lineGap:2,lineNoGap:10};const _=f.size||10,y=E.lineHeight?Math.max(T?0:1.2,E.lineHeight):1.2,n=E.lineGap===void 0?.2:E.lineGap;return{lineHeight:y*_,lineGap:n*_,lineNoGap:Math.max(1,y-n)*_}}},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.TextMeasure=void 0;var t=se(85);const m=1.02;class ie{constructor(f,T,E,_){if(this.lineHeight=E,this.paraMargin=T||{top:0,bottom:0,left:0,right:0},!f){[this.pdfFont,this.xfaFont]=this.defaultFont(_);return}this.xfaFont={typeface:f.typeface,posture:f.posture,weight:f.weight,size:f.size,letterSpacing:f.letterSpacing};const y=_.find(f.typeface);if(!y){[this.pdfFont,this.xfaFont]=this.defaultFont(_);return}this.pdfFont=(0,t.selectFont)(f,y),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(_))}defaultFont(f){const T=f.find("Helvetica",!1)||f.find("Myriad Pro",!1)||f.find("Arial",!1)||f.getDefault();if(T&&T.regular){const _=T.regular,n={typeface:_.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[_,n]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class z{constructor(f,T,E,_){this.fontFinder=_,this.stack=[new ie(f,T,E,_)]}pushData(f,T,E){const _=this.stack.at(-1);for(const n of["typeface","posture","weight","size","letterSpacing"])f[n]||(f[n]=_.xfaFont[n]);for(const n of["top","bottom","left","right"])isNaN(T[n])&&(T[n]=_.paraMargin[n]);const y=new ie(f,T,E||_.lineHeight,this.fontFinder);y.pdfFont||(y.pdfFont=_.pdfFont),this.stack.push(y)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class e{constructor(f,T,E,_){this.glyphs=[],this.fontSelector=new z(f,T,E,_),this.extraHeight=0}pushData(f,T,E){this.fontSelector.pushData(f,T,E)}popFont(f){return this.fontSelector.popFont()}addPara(){const f=this.fontSelector.topFont();this.extraHeight+=f.paraMargin.top+f.paraMargin.bottom}addString(f){if(!f)return;const T=this.fontSelector.topFont(),E=T.xfaFont.size;if(T.pdfFont){const _=T.xfaFont.letterSpacing,y=T.pdfFont,n=y.lineHeight||1.2,u=T.lineHeight||Math.max(1.2,n)*E,p=y.lineGap===void 0?.2:y.lineGap,s=n-p,r=Math.max(1,s)*E,l=E/1e3,c=y.defaultWidth||y.charsToGlyphs(" ")[0].width;for(const d of f.split(/[\u2029\n]/)){const K=y.encodeString(d).join(""),g=y.charsToGlyphs(K);for(const G of g){const O=G.width||c;this.glyphs.push([O*l+_,u,r,G.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const _ of f.split(/[\u2029\n]/)){for(const y of _.split(""))this.glyphs.push([E,1.2*E,E,y,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(f){let T=-1,E=0,_=0,y=0,n=0,u=0,p=!1,s=!0;for(let r=0,l=this.glyphs.length;r<l;r++){const[c,d,K,g,G]=this.glyphs[r],O=g===" ",w=s?K:d;if(G){_=Math.max(_,n),n=0,y+=u,u=w,T=-1,E=0,s=!1;continue}if(O){n+c>f?(_=Math.max(_,n),n=0,y+=u,u=w,T=-1,E=0,p=!0,s=!1):(u=Math.max(w,u),E=n,n+=c,T=r);continue}if(n+c>f){y+=u,u=w,T!==-1?(r=T,_=Math.max(_,E),n=0,T=-1,E=0):(_=Math.max(_,n),n=c),p=!0,s=!1;continue}n+=c,u=Math.max(w,u)}return _=Math.max(_,n),y+=u+this.extraHeight,{width:m*_,height:y,isBroken:p}}}A.TextMeasure=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.DataHandler=void 0;var t=se(77);class m{constructor(z,e){this.data=e,this.dataset=z.datasets||null}serialize(z){const e=[[-1,this.data[t.$getChildren]()]];for(;e.length>0;){const f=e.at(-1),[T,E]=f;if(T+1===E.length){e.pop();continue}const _=E[++f[0]],y=z.get(_[t.$uid]);if(y)_[t.$setValue](y);else{const u=_[t.$getAttributes]();for(const p of u.values()){const s=z.get(p[t.$uid]);if(s){p[t.$setValue](s);break}}}const n=_[t.$getChildren]();n.length>0&&e.push([-1,n])}const j=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const f of this.dataset[t.$getChildren]())f[t.$nodeName]!=="data"&&f[t.$toString](j);return this.data[t.$toString](j),j.push("</xfa:datasets>"),j.join("")}}A.DataHandler=m},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XFAParser=void 0;var t=se(77),m=se(66),ie=se(89),z=se(2);class e extends m.XMLParserBase{constructor(f=null,T=!1){super(),this._builder=new ie.Builder(f),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=m.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=T}parse(f){if(this.parseXml(f),this._errorCode===m.XMLParserErrorCode.NoError)return this._current[t.$finalize](),this._current.element}onText(f){if(f=f.replace(this._nbsps,T=>T.slice(1)+" "),this._richText||this._current[t.$acceptWhitespace]()){this._current[t.$onText](f,this._richText);return}this._whiteRegex.test(f)||this._current[t.$onText](f.trim())}onCdata(f){this._current[t.$onText](f)}_mkAttributes(f,T){let E=null,_=null;const y=Object.create({});for(const{name:n,value:u}of f)if(n==="xmlns")E?(0,z.warn)(`XFA - multiple namespace definition in <${T}>`):E=u;else if(n.startsWith("xmlns:")){const p=n.substring(6);_||(_=[]),_.push({prefix:p,value:u})}else{const p=n.indexOf(":");if(p===-1)y[n]=u;else{let s=y[t.$nsAttributes];s||(s=y[t.$nsAttributes]=Object.create(null));const[r,l]=[n.slice(0,p),n.slice(p+1)];let c=s[r];c||(c=s[r]=Object.create(null)),c[l]=u}}return[E,_,y]}_getNameAndPrefix(f,T){const E=f.indexOf(":");return E===-1?[f,null]:[f.substring(E+1),T?"":f.substring(0,E)]}onBeginElement(f,T,E){const[_,y,n]=this._mkAttributes(T,f),[u,p]=this._getNameAndPrefix(f,this._builder.isNsAgnostic()),s=this._builder.build({nsPrefix:p,name:u,attributes:n,namespace:_,prefixes:y});if(s[t.$globalData]=this._globalData,E){s[t.$finalize](),this._current[t.$onChild](s)&&s[t.$setId](this._ids),s[t.$clean](this._builder);return}this._stack.push(this._current),this._current=s}onEndElement(f){const T=this._current;if(T[t.$isCDATAXml]()&&typeof T[t.$content]=="string"){const E=new e;E._globalData=this._globalData;const _=E.parse(T[t.$content]);T[t.$content]=null,T[t.$onChild](_)}T[t.$finalize](),this._current=this._stack.pop(),this._current[t.$onChild](T)&&T[t.$setId](this._ids),T[t.$clean](this._builder)}onError(f){this._errorCode=f}}A.XFAParser=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Builder=void 0;var t=se(79),m=se(77),ie=se(90),z=se(82),e=se(99),j=se(2);class f extends m.XFAObject{constructor(y){super(-1,"root",Object.create(null)),this.element=null,this[m.$ids]=y}[m.$onChild](y){return this.element=y,!0}[m.$finalize](){super[m.$finalize](),this.element.template instanceof z.Template&&(this[m.$ids].set(m.$root,this.element),this.element.template[m.$resolvePrototypes](this[m.$ids]),this.element.template[m.$ids]=this[m.$ids])}}class T extends m.XFAObject{constructor(){super(-1,"",Object.create(null))}[m.$onChild](y){return!1}}class E{constructor(y=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(t.NamespaceIds).map(({id:n})=>n)),this._currentNamespace=y||new e.UnknownNamespace(++this._nextNsId)}buildRoot(y){return new f(y)}build({nsPrefix:y,name:n,attributes:u,namespace:p,prefixes:s}){const r=p!==null;if(r&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(p)),s&&this._addNamespacePrefix(s),u.hasOwnProperty(m.$nsAttributes)){const d=ie.NamespaceSetUp.datasets,K=u[m.$nsAttributes];let g=null;for(const[G,O]of Object.entries(K))if(this._getNamespaceToUse(G)===d){g={xfa:O};break}g?u[m.$nsAttributes]=g:delete u[m.$nsAttributes]}const l=this._getNamespaceToUse(y),c=l&&l[t.$buildXFAObject](n,u)||new T;return c[m.$isNsAgnostic]()&&this._nsAgnosticLevel++,(r||s||c[m.$isNsAgnostic]())&&(c[m.$cleanup]={hasNamespace:r,prefixes:s,nsAgnostic:c[m.$isNsAgnostic]()}),c}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(y){let n=this._namespaces.get(y);if(n)return n;for(const[u,{check:p}]of Object.entries(t.NamespaceIds))if(p(y)){if(n=ie.NamespaceSetUp[u],n)return this._namespaces.set(y,n),n;break}return n=new e.UnknownNamespace(++this._nextNsId),this._namespaces.set(y,n),n}_addNamespacePrefix(y){for(const{prefix:n,value:u}of y){const p=this._searchNamespace(u);let s=this._namespacePrefixes.get(n);s||(s=[],this._namespacePrefixes.set(n,s)),s.push(p)}}_getNamespaceToUse(y){if(!y)return this._currentNamespace;const n=this._namespacePrefixes.get(y);return n&&n.length>0?n.at(-1):((0,j.warn)(`Unknown namespace prefix: ${y}.`),null)}clean(y){const{hasNamespace:n,prefixes:u,nsAgnostic:p}=y;n&&(this._currentNamespace=this._namespaceStack.pop()),u&&u.forEach(({prefix:s})=>{this._namespacePrefixes.get(s).pop()}),p&&this._nsAgnosticLevel--}}A.Builder=E},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.NamespaceSetUp=void 0;var t=se(91),m=se(92),ie=se(93),z=se(94),e=se(95),j=se(96),f=se(82),T=se(97),E=se(98);const _={config:t.ConfigNamespace,connection:m.ConnectionSetNamespace,datasets:ie.DatasetsNamespace,localeSet:z.LocaleSetNamespace,signature:e.SignatureNamespace,stylesheet:j.StylesheetNamespace,template:f.TemplateNamespace,xdp:T.XdpNamespace,xhtml:E.XhtmlNamespace};A.NamespaceSetUp=_},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ConfigNamespace=void 0;var t=se(79),m=se(77),ie=se(78),z=se(2);const e=t.NamespaceIds.config.id;class j extends m.XFAObject{constructor(oe){super(e,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new m.XFAObjectArray}}class f extends m.XFAObject{constructor(oe){super(e,"acrobat7",!0),this.dynamicRender=null}}class T extends m.OptionObject{constructor(oe){super(e,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class E extends m.OptionObject{constructor(oe){super(e,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class _ extends m.Option01{constructor(oe){super(e,"addSilentPrint")}}class y extends m.Option01{constructor(oe){super(e,"addViewerPreferences")}}class n extends m.Option10{constructor(oe){super(e,"adjustData")}}class u extends m.IntegerObject{constructor(oe){super(e,"adobeExtensionLevel",0,je=>je>=1&&je<=8)}}class p extends m.XFAObject{constructor(oe){super(e,"agent",!0),this.name=oe.name?oe.name.trim():"",this.common=new m.XFAObjectArray}}class s extends m.ContentObject{constructor(oe){super(e,"alwaysEmbed")}}class r extends m.StringObject{constructor(oe){super(e,"amd")}}class l extends m.XFAObject{constructor(oe){super(e,"area"),this.level=(0,ie.getInteger)({data:oe.level,defaultValue:0,validate:je=>je>=1&&je<=3}),this.name=(0,ie.getStringOption)(oe.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class c extends m.OptionObject{constructor(oe){super(e,"attributes",["preserve","delegate","ignore"])}}class d extends m.OptionObject{constructor(oe){super(e,"autoSave",["disabled","enabled"])}}class K extends m.StringObject{constructor(oe){super(e,"base")}}class g extends m.XFAObject{constructor(oe){super(e,"batchOutput"),this.format=(0,ie.getStringOption)(oe.format,["none","concat","zip","zipCompress"])}}class G extends m.ContentObject{constructor(oe){super(e,"behaviorOverride")}[m.$finalize](){this[m.$content]=new Map(this[m.$content].trim().split(/\s+/).filter(oe=>oe.includes(":")).map(oe=>oe.split(":",2)))}}class O extends m.XFAObject{constructor(oe){super(e,"cache",!0),this.templateCache=null}}class w extends m.Option01{constructor(oe){super(e,"change")}}class R extends m.XFAObject{constructor(oe){super(e,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new m.XFAObjectArray}}class o extends m.XFAObject{constructor(oe){super(e,"compress"),this.scope=(0,ie.getStringOption)(oe.scope,["imageOnly","document"])}}class h extends m.Option01{constructor(oe){super(e,"compressLogicalStructure")}}class H extends m.Option10{constructor(oe){super(e,"compressObjectStream")}}class L extends m.XFAObject{constructor(oe){super(e,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class x extends m.XFAObject{constructor(oe){super(e,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new m.XFAObjectArray}}class v extends m.OptionObject{constructor(oe){super(e,"conformance",["A","B"])}}class F extends m.Option01{constructor(oe){super(e,"contentCopy")}}class k extends m.IntegerObject{constructor(oe){super(e,"copies",1,je=>je>=1)}}class U extends m.StringObject{constructor(oe){super(e,"creator")}}class ee extends m.IntegerObject{constructor(oe){super(e,"currentPage",0,je=>je>=0)}}class J extends m.XFAObject{constructor(oe){super(e,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new m.XFAObjectArray,this.transform=new m.XFAObjectArray}}class I extends m.XFAObject{constructor(oe){super(e,"debug",!0),this.uri=null}}class X extends m.ContentObject{constructor(oe){super(e,"defaultTypeface"),this.writingScript=(0,ie.getStringOption)(oe.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class ne extends m.OptionObject{constructor(oe){super(e,"destination",["pdf","pcl","ps","webClient","zpl"])}}class P extends m.Option01{constructor(oe){super(e,"documentAssembly")}}class V extends m.XFAObject{constructor(oe){super(e,"driver",!0),this.name=oe.name?oe.name.trim():"",this.fontInfo=null,this.xdc=null}}class Y extends m.OptionObject{constructor(oe){super(e,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Z extends m.OptionObject{constructor(oe){super(e,"dynamicRender",["forbidden","required"])}}class q extends m.Option01{constructor(oe){super(e,"embed")}}class M extends m.Option01{constructor(oe){super(e,"encrypt")}}class te extends m.XFAObject{constructor(oe){super(e,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class W extends m.OptionObject{constructor(oe){super(e,"encryptionLevel",["40bit","128bit"])}}class ae extends m.StringObject{constructor(oe){super(e,"enforce")}}class fe extends m.XFAObject{constructor(oe){super(e,"equate"),this.force=(0,ie.getInteger)({data:oe.force,defaultValue:1,validate:je=>je===0}),this.from=oe.from||"",this.to=oe.to||""}}class de extends m.XFAObject{constructor(oe){super(e,"equateRange"),this.from=oe.from||"",this.to=oe.to||"",this._unicodeRange=oe.unicodeRange||""}get unicodeRange(){const oe=[],je=/U\+([0-9a-fA-F]+)/,We=this._unicodeRange;for(let ct of We.split(",").map(_t=>_t.trim()).filter(_t=>!!_t))ct=ct.split("-",2).map(_t=>{const bt=_t.match(je);return bt?parseInt(bt[1],16):0}),ct.length===1&&ct.push(ct[0]),oe.push(ct);return(0,z.shadow)(this,"unicodeRange",oe)}}class ue extends m.ContentObject{constructor(oe){super(e,"exclude")}[m.$finalize](){this[m.$content]=this[m.$content].trim().split(/\s+/).filter(oe=>oe&&["calculate","close","enter","exit","initialize","ready","validate"].includes(oe))}}class he extends m.StringObject{constructor(oe){super(e,"excludeNS")}}class me extends m.OptionObject{constructor(oe){super(e,"flipLabel",["usePrinterSetting","on","off"])}}class xe extends m.XFAObject{constructor(oe){super(e,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new m.XFAObjectArray,this.defaultTypeface=new m.XFAObjectArray,this.neverEmbed=new m.XFAObjectArray}}class we extends m.Option01{constructor(oe){super(e,"formFieldFilling")}}class Ce extends m.StringObject{constructor(oe){super(e,"groupParent")}}class Fe extends m.OptionObject{constructor(oe){super(e,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class Oe extends m.StringObject{constructor(oe){super(e,"includeXDPContent")}}class Ie extends m.OptionObject{constructor(oe){super(e,"incrementalLoad",["none","forwardOnly"])}}class Me extends m.Option01{constructor(oe){super(e,"incrementalMerge")}}class Le extends m.Option01{constructor(oe){super(e,"interactive")}}class qe extends m.OptionObject{constructor(oe){super(e,"jog",["usePrinterSetting","none","pageSet"])}}class Xe extends m.XFAObject{constructor(oe){super(e,"labelPrinter",!0),this.name=(0,ie.getStringOption)(oe.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Ue extends m.OptionObject{constructor(oe){super(e,"layout",["paginate","panel"])}}class $e extends m.IntegerObject{constructor(oe){super(e,"level",0,je=>je>0)}}class De extends m.Option01{constructor(oe){super(e,"linearized")}}class Te extends m.StringObject{constructor(oe){super(e,"locale")}}class Ee extends m.StringObject{constructor(oe){super(e,"localeSet")}}class ze extends m.XFAObject{constructor(oe){super(e,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class tt extends m.XFAObject{constructor(oe){super(e,"map",!0),this.equate=new m.XFAObjectArray,this.equateRange=new m.XFAObjectArray}}class ft extends m.XFAObject{constructor(oe){super(e,"mediumInfo",!0),this.map=null}}class Be extends m.XFAObject{constructor(oe){super(e,"message",!0),this.msgId=null,this.severity=null}}class Ne extends m.XFAObject{constructor(oe){super(e,"messaging",!0),this.message=new m.XFAObjectArray}}class ke extends m.OptionObject{constructor(oe){super(e,"mode",["append","overwrite"])}}class rt extends m.Option01{constructor(oe){super(e,"modifyAnnots")}}class ot extends m.IntegerObject{constructor(oe){super(e,"msgId",1,je=>je>=1)}}class st extends m.StringObject{constructor(oe){super(e,"nameAttr")}}class xt extends m.ContentObject{constructor(oe){super(e,"neverEmbed")}}class et extends m.IntegerObject{constructor(oe){super(e,"numberOfCopies",null,je=>je>=2&&je<=5)}}class ut extends m.XFAObject{constructor(oe){super(e,"openAction",!0),this.destination=null}}class kt extends m.XFAObject{constructor(oe){super(e,"output",!0),this.to=null,this.type=null,this.uri=null}}class Qe extends m.StringObject{constructor(oe){super(e,"outputBin")}}class vt extends m.XFAObject{constructor(oe){super(e,"outputXSL",!0),this.uri=null}}class ht extends m.OptionObject{constructor(oe){super(e,"overprint",["none","both","draw","field"])}}class Ut extends m.StringObject{constructor(oe){super(e,"packets")}[m.$finalize](){this[m.$content]!=="*"&&(this[m.$content]=this[m.$content].trim().split(/\s+/).filter(oe=>["config","datasets","template","xfdf","xslt"].includes(oe)))}}class Ot extends m.XFAObject{constructor(oe){super(e,"pageOffset"),this.x=(0,ie.getInteger)({data:oe.x,defaultValue:"useXDCSetting",validate:je=>!0}),this.y=(0,ie.getInteger)({data:oe.y,defaultValue:"useXDCSetting",validate:je=>!0})}}class It extends m.StringObject{constructor(oe){super(e,"pageRange")}[m.$finalize](){const oe=this[m.$content].trim().split(/\s+/).map(We=>parseInt(We,10)),je=[];for(let We=0,ct=oe.length;We<ct;We+=2)je.push(oe.slice(We,We+2));this[m.$content]=je}}class Ct extends m.OptionObject{constructor(oe){super(e,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Wt extends m.OptionObject{constructor(oe){super(e,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class zt extends m.IntegerObject{constructor(oe){super(e,"part",1,je=>!1)}}class Je extends m.XFAObject{constructor(oe){super(e,"pcl",!0),this.name=oe.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Ve extends m.XFAObject{constructor(oe){super(e,"pdf",!0),this.name=oe.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class nt extends m.XFAObject{constructor(oe){super(e,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class it extends m.XFAObject{constructor(oe){super(e,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class pt extends m.Option01{constructor(oe){super(e,"pickTrayByPDFSize")}}class Tt extends m.StringObject{constructor(oe){super(e,"picture")}}class mt extends m.Option01{constructor(oe){super(e,"plaintextMetadata")}}class lt extends m.OptionObject{constructor(oe){super(e,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class yt extends m.XFAObject{constructor(oe){super(e,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new m.XFAObjectArray,this.labelPrinter=new m.XFAObjectArray,this.pcl=new m.XFAObjectArray,this.pdf=new m.XFAObjectArray,this.ps=new m.XFAObjectArray,this.submitUrl=new m.XFAObjectArray,this.webClient=new m.XFAObjectArray,this.zpl=new m.XFAObjectArray}}class Ft extends m.Option01{constructor(oe){super(e,"print")}}class Nt extends m.Option01{constructor(oe){super(e,"printHighQuality")}}class Dt extends m.OptionObject{constructor(oe){super(e,"printScaling",["appdefault","noScaling"])}}class St extends m.StringObject{constructor(oe){super(e,"printerName")}}class Re extends m.StringObject{constructor(oe){super(e,"producer")}}class He extends m.XFAObject{constructor(oe){super(e,"ps",!0),this.name=oe.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Ze extends m.ContentObject{constructor(oe){super(e,"range")}[m.$finalize](){this[m.$content]=this[m.$content].trim().split(/\s*,\s*/,2).map(oe=>oe.split("-").map(je=>parseInt(je.trim(),10))).filter(oe=>oe.every(je=>!isNaN(je))).map(oe=>(oe.length===1&&oe.push(oe[0]),oe))}}class Ke extends m.ContentObject{constructor(oe){super(e,"record")}[m.$finalize](){this[m.$content]=this[m.$content].trim();const oe=parseInt(this[m.$content],10);!isNaN(oe)&&oe>=0&&(this[m.$content]=oe)}}class gt extends m.ContentObject{constructor(oe){super(e,"relevant")}[m.$finalize](){this[m.$content]=this[m.$content].trim().split(/\s+/)}}class Pt extends m.ContentObject{constructor(oe){super(e,"rename")}[m.$finalize](){this[m.$content]=this[m.$content].trim(),(this[m.$content].toLowerCase().startsWith("xml")||this[m.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,z.warn)("XFA - Rename: invalid XFA name")}}class Vt extends m.OptionObject{constructor(oe){super(e,"renderPolicy",["server","client"])}}class Rt extends m.OptionObject{constructor(oe){super(e,"runScripts",["both","client","none","server"])}}class Lt extends m.XFAObject{constructor(oe){super(e,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class qt extends m.OptionObject{constructor(oe){super(e,"scriptModel",["XFA","none"])}}class nn extends m.OptionObject{constructor(oe){super(e,"severity",["ignore","error","information","trace","warning"])}}class dn extends m.XFAObject{constructor(oe){super(e,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Bn extends m.XFAObject{constructor(oe){super(e,"staple"),this.mode=(0,ie.getStringOption)(oe.mode,["usePrinterSetting","on","off"])}}class Un extends m.StringObject{constructor(oe){super(e,"startNode")}}class yn extends m.IntegerObject{constructor(oe){super(e,"startPage",0,je=>!0)}}class gn extends m.OptionObject{constructor(oe){super(e,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class vn extends m.StringObject{constructor(oe){super(e,"submitUrl")}}class Tn extends m.IntegerObject{constructor(oe){super(e,"subsetBelow",100,je=>je>=0&&je<=100)}}class jn extends m.Option01{constructor(oe){super(e,"suppressBanner")}}class en extends m.Option01{constructor(oe){super(e,"tagged")}}class _n extends m.XFAObject{constructor(oe){super(e,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Fn extends m.OptionObject{constructor(oe){super(e,"threshold",["trace","error","information","warning"])}}class En extends m.OptionObject{constructor(oe){super(e,"to",["null","memory","stderr","stdout","system","uri"])}}class $n extends m.XFAObject{constructor(oe){super(e,"templateCache"),this.maxEntries=(0,ie.getInteger)({data:oe.maxEntries,defaultValue:5,validate:je=>je>=0})}}class In extends m.XFAObject{constructor(oe){super(e,"trace",!0),this.area=new m.XFAObjectArray}}class Kn extends m.XFAObject{constructor(oe){super(e,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Yn extends m.OptionObject{constructor(oe){super(e,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Jn extends m.StringObject{constructor(oe){super(e,"uri")}}class Pn extends m.OptionObject{constructor(oe){super(e,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class wn extends m.ContentObject{constructor(oe){super(e,"validateApprovalSignatures")}[m.$finalize](){this[m.$content]=this[m.$content].trim().split(/\s+/).filter(oe=>["docReady","postSign"].includes(oe))}}class pn extends m.OptionObject{constructor(oe){super(e,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Hn extends m.OptionObject{constructor(oe){super(e,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class Xn extends m.XFAObject{constructor(oe){super(e,"VersionControl"),this.outputBelow=(0,ie.getStringOption)(oe.outputBelow,["warn","error","update"]),this.sourceAbove=(0,ie.getStringOption)(oe.sourceAbove,["warn","error"]),this.sourceBelow=(0,ie.getStringOption)(oe.sourceBelow,["update","maintain"])}}class Gn extends m.XFAObject{constructor(oe){super(e,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class Sn extends m.XFAObject{constructor(oe){super(e,"webClient",!0),this.name=oe.name?oe.name.trim():"",this.fontInfo=null,this.xdc=null}}class Zn extends m.OptionObject{constructor(oe){super(e,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Dn extends m.ContentObject{constructor(oe){super(e,"window")}[m.$finalize](){const oe=this[m.$content].trim().split(/\s*,\s*/,2).map(je=>parseInt(je,10));if(oe.some(je=>isNaN(je))){this[m.$content]=[0,0];return}oe.length===1&&oe.push(oe[0]),this[m.$content]=oe}}class Qn extends m.XFAObject{constructor(oe){super(e,"xdc",!0),this.uri=new m.XFAObjectArray,this.xsl=new m.XFAObjectArray}}class hn extends m.XFAObject{constructor(oe){super(e,"xdp",!0),this.packets=null}}class ei extends m.XFAObject{constructor(oe){super(e,"xsl",!0),this.debug=null,this.uri=null}}class On extends m.XFAObject{constructor(oe){super(e,"zpl",!0),this.name=oe.name?oe.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Ge{static[t.$buildXFAObject](oe,je){if(Ge.hasOwnProperty(oe))return Ge[oe](je)}static acrobat(oe){return new j(oe)}static acrobat7(oe){return new f(oe)}static ADBE_JSConsole(oe){return new T(oe)}static ADBE_JSDebugger(oe){return new E(oe)}static addSilentPrint(oe){return new _(oe)}static addViewerPreferences(oe){return new y(oe)}static adjustData(oe){return new n(oe)}static adobeExtensionLevel(oe){return new u(oe)}static agent(oe){return new p(oe)}static alwaysEmbed(oe){return new s(oe)}static amd(oe){return new r(oe)}static area(oe){return new l(oe)}static attributes(oe){return new c(oe)}static autoSave(oe){return new d(oe)}static base(oe){return new K(oe)}static batchOutput(oe){return new g(oe)}static behaviorOverride(oe){return new G(oe)}static cache(oe){return new O(oe)}static change(oe){return new w(oe)}static common(oe){return new R(oe)}static compress(oe){return new o(oe)}static compressLogicalStructure(oe){return new h(oe)}static compressObjectStream(oe){return new H(oe)}static compression(oe){return new L(oe)}static config(oe){return new x(oe)}static conformance(oe){return new v(oe)}static contentCopy(oe){return new F(oe)}static copies(oe){return new k(oe)}static creator(oe){return new U(oe)}static currentPage(oe){return new ee(oe)}static data(oe){return new J(oe)}static debug(oe){return new I(oe)}static defaultTypeface(oe){return new X(oe)}static destination(oe){return new ne(oe)}static documentAssembly(oe){return new P(oe)}static driver(oe){return new V(oe)}static duplexOption(oe){return new Y(oe)}static dynamicRender(oe){return new Z(oe)}static embed(oe){return new q(oe)}static encrypt(oe){return new M(oe)}static encryption(oe){return new te(oe)}static encryptionLevel(oe){return new W(oe)}static enforce(oe){return new ae(oe)}static equate(oe){return new fe(oe)}static equateRange(oe){return new de(oe)}static exclude(oe){return new ue(oe)}static excludeNS(oe){return new he(oe)}static flipLabel(oe){return new me(oe)}static fontInfo(oe){return new xe(oe)}static formFieldFilling(oe){return new we(oe)}static groupParent(oe){return new Ce(oe)}static ifEmpty(oe){return new Fe(oe)}static includeXDPContent(oe){return new Oe(oe)}static incrementalLoad(oe){return new Ie(oe)}static incrementalMerge(oe){return new Me(oe)}static interactive(oe){return new Le(oe)}static jog(oe){return new qe(oe)}static labelPrinter(oe){return new Xe(oe)}static layout(oe){return new Ue(oe)}static level(oe){return new $e(oe)}static linearized(oe){return new De(oe)}static locale(oe){return new Te(oe)}static localeSet(oe){return new Ee(oe)}static log(oe){return new ze(oe)}static map(oe){return new tt(oe)}static mediumInfo(oe){return new ft(oe)}static message(oe){return new Be(oe)}static messaging(oe){return new Ne(oe)}static mode(oe){return new ke(oe)}static modifyAnnots(oe){return new rt(oe)}static msgId(oe){return new ot(oe)}static nameAttr(oe){return new st(oe)}static neverEmbed(oe){return new xt(oe)}static numberOfCopies(oe){return new et(oe)}static openAction(oe){return new ut(oe)}static output(oe){return new kt(oe)}static outputBin(oe){return new Qe(oe)}static outputXSL(oe){return new vt(oe)}static overprint(oe){return new ht(oe)}static packets(oe){return new Ut(oe)}static pageOffset(oe){return new Ot(oe)}static pageRange(oe){return new It(oe)}static pagination(oe){return new Ct(oe)}static paginationOverride(oe){return new Wt(oe)}static part(oe){return new zt(oe)}static pcl(oe){return new Je(oe)}static pdf(oe){return new Ve(oe)}static pdfa(oe){return new nt(oe)}static permissions(oe){return new it(oe)}static pickTrayByPDFSize(oe){return new pt(oe)}static picture(oe){return new Tt(oe)}static plaintextMetadata(oe){return new mt(oe)}static presence(oe){return new lt(oe)}static present(oe){return new yt(oe)}static print(oe){return new Ft(oe)}static printHighQuality(oe){return new Nt(oe)}static printScaling(oe){return new Dt(oe)}static printerName(oe){return new St(oe)}static producer(oe){return new Re(oe)}static ps(oe){return new He(oe)}static range(oe){return new Ze(oe)}static record(oe){return new Ke(oe)}static relevant(oe){return new gt(oe)}static rename(oe){return new Pt(oe)}static renderPolicy(oe){return new Vt(oe)}static runScripts(oe){return new Rt(oe)}static script(oe){return new Lt(oe)}static scriptModel(oe){return new qt(oe)}static severity(oe){return new nn(oe)}static silentPrint(oe){return new dn(oe)}static staple(oe){return new Bn(oe)}static startNode(oe){return new Un(oe)}static startPage(oe){return new yn(oe)}static submitFormat(oe){return new gn(oe)}static submitUrl(oe){return new vn(oe)}static subsetBelow(oe){return new Tn(oe)}static suppressBanner(oe){return new jn(oe)}static tagged(oe){return new en(oe)}static template(oe){return new _n(oe)}static templateCache(oe){return new $n(oe)}static threshold(oe){return new Fn(oe)}static to(oe){return new En(oe)}static trace(oe){return new In(oe)}static transform(oe){return new Kn(oe)}static type(oe){return new Yn(oe)}static uri(oe){return new Jn(oe)}static validate(oe){return new Pn(oe)}static validateApprovalSignatures(oe){return new wn(oe)}static validationMessaging(oe){return new pn(oe)}static version(oe){return new Hn(oe)}static versionControl(oe){return new Xn(oe)}static viewerPreferences(oe){return new Gn(oe)}static webClient(oe){return new Sn(oe)}static whitespace(oe){return new Zn(oe)}static window(oe){return new Dn(oe)}static xdc(oe){return new Qn(oe)}static xdp(oe){return new hn(oe)}static xsl(oe){return new ei(oe)}static zpl(oe){return new On(oe)}}A.ConfigNamespace=Ge},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ConnectionSetNamespace=void 0;var t=se(79),m=se(77);const ie=t.NamespaceIds.connectionSet.id;class z extends m.XFAObject{constructor(c){super(ie,"connectionSet",!0),this.wsdlConnection=new m.XFAObjectArray,this.xmlConnection=new m.XFAObjectArray,this.xsdConnection=new m.XFAObjectArray}}class e extends m.XFAObject{constructor(c){super(ie,"effectiveInputPolicy"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class j extends m.XFAObject{constructor(c){super(ie,"effectiveOutputPolicy"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class f extends m.StringObject{constructor(c){super(ie,"operation"),this.id=c.id||"",this.input=c.input||"",this.name=c.name||"",this.output=c.output||"",this.use=c.use||"",this.usehref=c.usehref||""}}class T extends m.StringObject{constructor(c){super(ie,"rootElement"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class E extends m.StringObject{constructor(c){super(ie,"soapAction"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class _ extends m.StringObject{constructor(c){super(ie,"soapAddress"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class y extends m.StringObject{constructor(c){super(ie,"uri"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class n extends m.StringObject{constructor(c){super(ie,"wsdlAddress"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class u extends m.XFAObject{constructor(c){super(ie,"wsdlConnection",!0),this.dataDescription=c.dataDescription||"",this.name=c.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class p extends m.XFAObject{constructor(c){super(ie,"xmlConnection",!0),this.dataDescription=c.dataDescription||"",this.name=c.name||"",this.uri=null}}class s extends m.XFAObject{constructor(c){super(ie,"xsdConnection",!0),this.dataDescription=c.dataDescription||"",this.name=c.name||"",this.rootElement=null,this.uri=null}}class r{static[t.$buildXFAObject](c,d){if(r.hasOwnProperty(c))return r[c](d)}static connectionSet(c){return new z(c)}static effectiveInputPolicy(c){return new e(c)}static effectiveOutputPolicy(c){return new j(c)}static operation(c){return new f(c)}static rootElement(c){return new T(c)}static soapAction(c){return new E(c)}static soapAddress(c){return new _(c)}static uri(c){return new y(c)}static wsdlAddress(c){return new n(c)}static wsdlConnection(c){return new u(c)}static xmlConnection(c){return new p(c)}static xsdConnection(c){return new s(c)}}A.ConnectionSetNamespace=r},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.DatasetsNamespace=void 0;var t=se(77),m=se(79);const ie=m.NamespaceIds.datasets.id;class z extends t.XmlObject{constructor(T){super(ie,"data",T)}[t.$isNsAgnostic](){return!0}}class e extends t.XFAObject{constructor(T){super(ie,"datasets",!0),this.data=null,this.Signature=null}[t.$onChild](T){const E=T[t.$nodeName];(E==="data"&&T[t.$namespaceId]===ie||E==="Signature"&&T[t.$namespaceId]===m.NamespaceIds.signature.id)&&(this[E]=T),this[t.$appendChild](T)}}class j{static[m.$buildXFAObject](T,E){if(j.hasOwnProperty(T))return j[T](E)}static datasets(T){return new e(T)}static data(T){return new z(T)}}A.DatasetsNamespace=j},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.LocaleSetNamespace=void 0;var t=se(79),m=se(77),ie=se(78);const z=t.NamespaceIds.localeSet.id;class e extends m.XFAObject{constructor(v){super(z,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new m.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new m.XFAObjectArray(2)}}class j extends m.StringObject{constructor(v){super(z,"currencySymbol"),this.name=(0,ie.getStringOption)(v.name,["symbol","isoname","decimal"])}}class f extends m.XFAObject{constructor(v){super(z,"currencySymbols",!0),this.currencySymbol=new m.XFAObjectArray(3)}}class T extends m.StringObject{constructor(v){super(z,"datePattern"),this.name=(0,ie.getStringOption)(v.name,["full","long","med","short"])}}class E extends m.XFAObject{constructor(v){super(z,"datePatterns",!0),this.datePattern=new m.XFAObjectArray(4)}}class _ extends m.ContentObject{constructor(v){super(z,"dateTimeSymbols")}}class y extends m.StringObject{constructor(v){super(z,"day")}}class n extends m.XFAObject{constructor(v){super(z,"dayNames",!0),this.abbr=(0,ie.getInteger)({data:v.abbr,defaultValue:0,validate:F=>F===1}),this.day=new m.XFAObjectArray(7)}}class u extends m.StringObject{constructor(v){super(z,"era")}}class p extends m.XFAObject{constructor(v){super(z,"eraNames",!0),this.era=new m.XFAObjectArray(2)}}class s extends m.XFAObject{constructor(v){super(z,"locale",!0),this.desc=v.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class r extends m.XFAObject{constructor(v){super(z,"localeSet",!0),this.locale=new m.XFAObjectArray}}class l extends m.StringObject{constructor(v){super(z,"meridiem")}}class c extends m.XFAObject{constructor(v){super(z,"meridiemNames",!0),this.meridiem=new m.XFAObjectArray(2)}}class d extends m.StringObject{constructor(v){super(z,"month")}}class K extends m.XFAObject{constructor(v){super(z,"monthNames",!0),this.abbr=(0,ie.getInteger)({data:v.abbr,defaultValue:0,validate:F=>F===1}),this.month=new m.XFAObjectArray(12)}}class g extends m.StringObject{constructor(v){super(z,"numberPattern"),this.name=(0,ie.getStringOption)(v.name,["full","long","med","short"])}}class G extends m.XFAObject{constructor(v){super(z,"numberPatterns",!0),this.numberPattern=new m.XFAObjectArray(4)}}class O extends m.StringObject{constructor(v){super(z,"numberSymbol"),this.name=(0,ie.getStringOption)(v.name,["decimal","grouping","percent","minus","zero"])}}class w extends m.XFAObject{constructor(v){super(z,"numberSymbols",!0),this.numberSymbol=new m.XFAObjectArray(5)}}class R extends m.StringObject{constructor(v){super(z,"timePattern"),this.name=(0,ie.getStringOption)(v.name,["full","long","med","short"])}}class o extends m.XFAObject{constructor(v){super(z,"timePatterns",!0),this.timePattern=new m.XFAObjectArray(4)}}class h extends m.XFAObject{constructor(v){super(z,"typeFace",!0),this.name=v.name|""}}class H extends m.XFAObject{constructor(v){super(z,"typeFaces",!0),this.typeFace=new m.XFAObjectArray}}class L{static[t.$buildXFAObject](v,F){if(L.hasOwnProperty(v))return L[v](F)}static calendarSymbols(v){return new e(v)}static currencySymbol(v){return new j(v)}static currencySymbols(v){return new f(v)}static datePattern(v){return new T(v)}static datePatterns(v){return new E(v)}static dateTimeSymbols(v){return new _(v)}static day(v){return new y(v)}static dayNames(v){return new n(v)}static era(v){return new u(v)}static eraNames(v){return new p(v)}static locale(v){return new s(v)}static localeSet(v){return new r(v)}static meridiem(v){return new l(v)}static meridiemNames(v){return new c(v)}static month(v){return new d(v)}static monthNames(v){return new K(v)}static numberPattern(v){return new g(v)}static numberPatterns(v){return new G(v)}static numberSymbol(v){return new O(v)}static numberSymbols(v){return new w(v)}static timePattern(v){return new R(v)}static timePatterns(v){return new o(v)}static typeFace(v){return new h(v)}static typeFaces(v){return new H(v)}}A.LocaleSetNamespace=L},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.SignatureNamespace=void 0;var t=se(79),m=se(77);const ie=t.NamespaceIds.signature.id;class z extends m.XFAObject{constructor(f){super(ie,"signature",!0)}}class e{static[t.$buildXFAObject](f,T){if(e.hasOwnProperty(f))return e[f](T)}static signature(f){return new z(f)}}A.SignatureNamespace=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.StylesheetNamespace=void 0;var t=se(79),m=se(77);const ie=t.NamespaceIds.stylesheet.id;class z extends m.XFAObject{constructor(f){super(ie,"stylesheet",!0)}}class e{static[t.$buildXFAObject](f,T){if(e.hasOwnProperty(f))return e[f](T)}static stylesheet(f){return new z(f)}}A.StylesheetNamespace=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XdpNamespace=void 0;var t=se(79),m=se(77);const ie=t.NamespaceIds.xdp.id;class z extends m.XFAObject{constructor(f){super(ie,"xdp",!0),this.uuid=f.uuid||"",this.timeStamp=f.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new m.XFAObjectArray,this.template=null}[m.$onChildCheck](f){const T=t.NamespaceIds[f[m.$nodeName]];return T&&f[m.$namespaceId]===T.id}}class e{static[t.$buildXFAObject](f,T){if(e.hasOwnProperty(f))return e[f](T)}static xdp(f){return new z(f)}}A.XdpNamespace=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XhtmlNamespace=void 0;var t=se(77),m=se(79),ie=se(84),z=se(78);const e=m.NamespaceIds.xhtml.id,j=Symbol(),f=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),T=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",x=>x==="none"?"none":"normal"],["xfa-font-horizontal-scale",x=>`scaleX(${Math.max(0,Math.min(parseInt(x)/100)).toFixed(2)})`],["xfa-font-vertical-scale",x=>`scaleY(${Math.max(0,Math.min(parseInt(x)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(x,v)=>(x=v.fontSize=(0,z.getMeasurement)(x),(0,ie.measureToString)(.99*x))],["letter-spacing",x=>(0,ie.measureToString)((0,z.getMeasurement)(x))],["line-height",x=>(0,ie.measureToString)((0,z.getMeasurement)(x))],["margin",x=>(0,ie.measureToString)((0,z.getMeasurement)(x))],["margin-bottom",x=>(0,ie.measureToString)((0,z.getMeasurement)(x))],["margin-left",x=>(0,ie.measureToString)((0,z.getMeasurement)(x))],["margin-right",x=>(0,ie.measureToString)((0,z.getMeasurement)(x))],["margin-top",x=>(0,ie.measureToString)((0,z.getMeasurement)(x))],["text-indent",x=>(0,ie.measureToString)((0,z.getMeasurement)(x))],["font-family",x=>x],["vertical-align",x=>(0,ie.measureToString)((0,z.getMeasurement)(x))]]),E=/\s+/g,_=/[\r\n]+/g,y=/\r\n?/g;function n(x,v,F){const k=Object.create(null);if(!x)return k;const U=Object.create(null);for(const[ee,J]of x.split(";").map(I=>I.split(":",2))){const I=T.get(ee);if(I==="")continue;let X=J;I&&(typeof I=="string"?X=I:X=I(J,U)),ee.endsWith("scale")?k.transform?k.transform=`${k[ee]} ${X}`:k.transform=X:k[ee.replaceAll(/-([a-zA-Z])/g,(ne,P)=>P.toUpperCase())]=X}if(k.fontFamily&&(0,ie.setFontFamily)({typeface:k.fontFamily,weight:k.fontWeight||"normal",posture:k.fontStyle||"normal",size:U.fontSize||0},v,v[t.$globalData].fontFinder,k),F&&k.verticalAlign&&k.verticalAlign!=="0px"&&k.fontSize){const I=(0,z.getMeasurement)(k.fontSize);k.fontSize=(0,ie.measureToString)(I*.583),k.verticalAlign=(0,ie.measureToString)(Math.sign((0,z.getMeasurement)(k.verticalAlign))*I*.333)}return F&&k.fontSize&&(k.fontSize=`calc(${k.fontSize} * var(--scale-factor))`),(0,ie.fixTextIndent)(k),k}function u(x){return x.style?x.style.trim().split(/\s*;\s*/).filter(v=>!!v).map(v=>v.split(/\s*:\s*/,2)).filter(([v,F])=>(v==="font-family"&&x[t.$globalData].usedTypefaces.add(F),f.has(v))).map(v=>v.join(":")).join(";"):""}const p=new Set(["body","html"]);class s extends t.XmlObject{constructor(v,F){super(e,F),this[j]=!1,this.style=v.style||""}[t.$clean](v){super[t.$clean](v),this.style=u(this)}[t.$acceptWhitespace](){return!p.has(this[t.$nodeName])}[t.$onText](v,F=!1){F?this[j]=!0:(v=v.replace(_,""),this.style.includes("xfa-spacerun:yes")||(v=v.replace(E," "))),v&&(this[t.$content]+=v)}[t.$pushGlyphs](v,F=!0){const k=Object.create(null),U={top:NaN,bottom:NaN,left:NaN,right:NaN};let ee=null;for(const[J,I]of this.style.split(";").map(X=>X.split(":",2)))switch(J){case"font-family":k.typeface=(0,z.stripQuotes)(I);break;case"font-size":k.size=(0,z.getMeasurement)(I);break;case"font-weight":k.weight=I;break;case"font-style":k.posture=I;break;case"letter-spacing":k.letterSpacing=(0,z.getMeasurement)(I);break;case"margin":const X=I.split(/ \t/).map(ne=>(0,z.getMeasurement)(ne));switch(X.length){case 1:U.top=U.bottom=U.left=U.right=X[0];break;case 2:U.top=U.bottom=X[0],U.left=U.right=X[1];break;case 3:U.top=X[0],U.bottom=X[2],U.left=U.right=X[1];break;case 4:U.top=X[0],U.left=X[1],U.bottom=X[2],U.right=X[3];break}break;case"margin-top":U.top=(0,z.getMeasurement)(I);break;case"margin-bottom":U.bottom=(0,z.getMeasurement)(I);break;case"margin-left":U.left=(0,z.getMeasurement)(I);break;case"margin-right":U.right=(0,z.getMeasurement)(I);break;case"line-height":ee=(0,z.getMeasurement)(I);break}if(v.pushData(k,U,ee),this[t.$content])v.addString(this[t.$content]);else for(const J of this[t.$getChildren]()){if(J[t.$nodeName]==="#text"){v.addString(J[t.$content]);continue}J[t.$pushGlyphs](v)}F&&v.popFont()}[t.$toHTML](v){const F=[];if(this[t.$extra]={children:F},this[t.$childrenToHTML]({}),F.length===0&&!this[t.$content])return z.HTMLResult.EMPTY;let k;return this[j]?k=this[t.$content]?this[t.$content].replace(y,`
`):void 0:k=this[t.$content]||void 0,z.HTMLResult.success({name:this[t.$nodeName],attributes:{href:this.href,style:n(this.style,this,this[j])},children:F,value:k})}}class r extends s{constructor(v){super(v,"a"),this.href=(0,ie.fixURL)(v.href)||""}}class l extends s{constructor(v){super(v,"b")}[t.$pushGlyphs](v){v.pushFont({weight:"bold"}),super[t.$pushGlyphs](v),v.popFont()}}class c extends s{constructor(v){super(v,"body")}[t.$toHTML](v){const F=super[t.$toHTML](v),{html:k}=F;return k?(k.name="div",k.attributes.class=["xfaRich"],F):z.HTMLResult.EMPTY}}class d extends s{constructor(v){super(v,"br")}[t.$text](){return`
`}[t.$pushGlyphs](v){v.addString(`
`)}[t.$toHTML](v){return z.HTMLResult.success({name:"br"})}}class K extends s{constructor(v){super(v,"html")}[t.$toHTML](v){const F=[];if(this[t.$extra]={children:F},this[t.$childrenToHTML]({}),F.length===0)return z.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[t.$content]||""});if(F.length===1){const k=F[0];if(k.attributes&&k.attributes.class.includes("xfaRich"))return z.HTMLResult.success(k)}return z.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:F})}}class g extends s{constructor(v){super(v,"i")}[t.$pushGlyphs](v){v.pushFont({posture:"italic"}),super[t.$pushGlyphs](v),v.popFont()}}class G extends s{constructor(v){super(v,"li")}}class O extends s{constructor(v){super(v,"ol")}}class w extends s{constructor(v){super(v,"p")}[t.$pushGlyphs](v){super[t.$pushGlyphs](v,!1),v.addString(`
`),v.addPara(),v.popFont()}[t.$text](){return this[t.$getParent]()[t.$getChildren]().at(-1)===this?super[t.$text]():super[t.$text]()+`
`}}class R extends s{constructor(v){super(v,"span")}}class o extends s{constructor(v){super(v,"sub")}}class h extends s{constructor(v){super(v,"sup")}}class H extends s{constructor(v){super(v,"ul")}}class L{static[m.$buildXFAObject](v,F){if(L.hasOwnProperty(v))return L[v](F)}static a(v){return new r(v)}static b(v){return new l(v)}static body(v){return new c(v)}static br(v){return new d(v)}static html(v){return new K(v)}static i(v){return new g(v)}static li(v){return new G(v)}static ol(v){return new O(v)}static p(v){return new w(v)}static span(v){return new R(v)}static sub(v){return new o(v)}static sup(v){return new h(v)}static ul(v){return new H(v)}}A.XhtmlNamespace=L},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.UnknownNamespace=void 0;var t=se(79),m=se(77);class ie{constructor(e){this.namespaceId=e}[t.$buildXFAObject](e,j){return new m.XmlObject(this.namespaceId,e,j)}}A.UnknownNamespace=ie},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.DatasetReader=void 0;var t=se(2),m=se(6),ie=se(66);function z(f){try{return(0,t.stringToUTF8String)(f)}catch(T){return(0,t.warn)(`UTF-8 decoding failed: "${T}".`),f}}class e extends ie.SimpleXMLParser{constructor(T){super(T),this.node=null}onEndElement(T){const E=super.onEndElement(T);if(E&&T==="xfa:datasets")throw this.node=E,new Error("Aborting DatasetXMLParser.")}}class j{constructor(T){if(T.datasets)this.node=new ie.SimpleXMLParser({hasAttributes:!0}).parseFromString(T.datasets).documentElement;else{const E=new e({hasAttributes:!0});try{E.parseFromString(T["xdp:xdp"])}catch{}this.node=E.node}}getValue(T){if(!this.node||!T)return"";const E=this.node.searchNode((0,m.parseXFAPath)(T),0);if(!E)return"";const _=E.firstChild;return _&&_.nodeName==="value"?E.children.map(y=>z(y.textContent)):z(E.textContent)}}A.DatasetReader=j},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XRef=void 0;var t=se(2),m=se(5),ie=se(6),z=se(17),e=se(7),j=se(67);class f{constructor(E,_){this.stream=E,this.pdfManager=_,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new m.RefSet,this.stats=new ie.DocStats(_.msgHandler),this._newRefNum=null}getNewRef(){return this._newRefNum===null&&(this._newRefNum=this.entries.length||1),m.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(E){this.startXRefQueue=[E]}parse(E=!1){let _;E?((0,t.warn)("Indexing all PDF objects"),_=this.indexObjects()):_=this.readXRef(),_.assignXref(this),this.trailer=_;let y;try{y=_.get("Encrypt")}catch(u){if(u instanceof ie.MissingDataException)throw u;(0,t.warn)(`XRef.parse - Invalid "Encrypt" reference: "${u}".`)}if(y instanceof m.Dict){const u=_.get("ID"),p=u&&u.length?u[0]:"";y.suppressEncryption=!0,this.encrypt=new j.CipherTransformFactory(y,p,this.pdfManager.password)}let n;try{n=_.get("Root")}catch(u){if(u instanceof ie.MissingDataException)throw u;(0,t.warn)(`XRef.parse - Invalid "Root" reference: "${u}".`)}if(n instanceof m.Dict)try{if(n.get("Pages")instanceof m.Dict){this.root=n;return}}catch(u){if(u instanceof ie.MissingDataException)throw u;(0,t.warn)(`XRef.parse - Invalid "Pages" reference: "${u}".`)}throw E?new t.InvalidPDFException("Invalid Root reference."):new ie.XRefParseException}processXRefTable(E){"tableState"in this||(this.tableState={entryNum:0,streamPos:E.lexer.stream.pos,parserBuf1:E.buf1,parserBuf2:E.buf2});const _=this.readXRefTable(E);if(!(0,m.isCmd)(_,"trailer"))throw new t.FormatError("Invalid XRef table: could not find trailer dictionary");let y=E.getObj();if(!(y instanceof m.Dict)&&y.dict&&(y=y.dict),!(y instanceof m.Dict))throw new t.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,y}readXRefTable(E){const _=E.lexer.stream,y=this.tableState;_.pos=y.streamPos,E.buf1=y.parserBuf1,E.buf2=y.parserBuf2;let n;for(;;){if(!("firstEntryNum"in y)||!("entryCount"in y)){if((0,m.isCmd)(n=E.getObj(),"trailer"))break;y.firstEntryNum=n,y.entryCount=E.getObj()}let u=y.firstEntryNum;const p=y.entryCount;if(!Number.isInteger(u)||!Number.isInteger(p))throw new t.FormatError("Invalid XRef table: wrong types in subsection header");for(let s=y.entryNum;s<p;s++){y.streamPos=_.pos,y.entryNum=s,y.parserBuf1=E.buf1,y.parserBuf2=E.buf2;const r={};r.offset=E.getObj(),r.gen=E.getObj();const l=E.getObj();if(l instanceof m.Cmd)switch(l.cmd){case"f":r.free=!0;break;case"n":r.uncompressed=!0;break}if(!Number.isInteger(r.offset)||!Number.isInteger(r.gen)||!(r.free||r.uncompressed))throw new t.FormatError(`Invalid entry in XRef subsection: ${u}, ${p}`);s===0&&r.free&&u===1&&(u=0),this.entries[s+u]||(this.entries[s+u]=r)}y.entryNum=0,y.streamPos=_.pos,y.parserBuf1=E.buf1,y.parserBuf2=E.buf2,delete y.firstEntryNum,delete y.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new t.FormatError("Invalid XRef table: unexpected first object");return n}processXRefStream(E){if(!("streamState"in this)){const _=E.dict,y=_.get("W");let n=_.get("Index");n||(n=[0,_.get("Size")]),this.streamState={entryRanges:n,byteWidths:y,entryNum:0,streamPos:E.pos}}return this.readXRefStream(E),delete this.streamState,E.dict}readXRefStream(E){const _=this.streamState;E.pos=_.streamPos;const[y,n,u]=_.byteWidths,p=_.entryRanges;for(;p.length>0;){const[s,r]=p;if(!Number.isInteger(s)||!Number.isInteger(r))throw new t.FormatError(`Invalid XRef range fields: ${s}, ${r}`);if(!Number.isInteger(y)||!Number.isInteger(n)||!Number.isInteger(u))throw new t.FormatError(`Invalid XRef entry fields length: ${s}, ${r}`);for(let l=_.entryNum;l<r;++l){_.entryNum=l,_.streamPos=E.pos;let c=0,d=0,K=0;for(let G=0;G<y;++G){const O=E.getByte();if(O===-1)throw new t.FormatError("Invalid XRef byteWidths 'type'.");c=c<<8|O}y===0&&(c=1);for(let G=0;G<n;++G){const O=E.getByte();if(O===-1)throw new t.FormatError("Invalid XRef byteWidths 'offset'.");d=d<<8|O}for(let G=0;G<u;++G){const O=E.getByte();if(O===-1)throw new t.FormatError("Invalid XRef byteWidths 'generation'.");K=K<<8|O}const g={};switch(g.offset=d,g.gen=K,c){case 0:g.free=!0;break;case 1:g.uncompressed=!0;break;case 2:break;default:throw new t.FormatError(`Invalid XRef entry type: ${c}`)}this.entries[s+l]||(this.entries[s+l]=g)}_.entryNum=0,_.streamPos=E.pos,p.splice(0,2)}}indexObjects(){function s(F,k){let U="",ee=F[k];for(;ee!==10&&ee!==13&&ee!==60&&!(++k>=F.length);)U+=String.fromCharCode(ee),ee=F[k];return U}function r(F,k,U){const ee=U.length,J=F.length;let I=0;for(;k<J;){let X=0;for(;X<ee&&F[k+X]===U[X];)++X;if(X>=ee)break;k++,I++}return I}const l=/^(\d+)\s+(\d+)\s+obj\b/,c=/\bendobj[\b\s]$/,d=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,K=25,g=new Uint8Array([116,114,97,105,108,101,114]),G=new Uint8Array([115,116,97,114,116,120,114,101,102]),O=new Uint8Array([111,98,106]),w=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const R=this.stream;R.pos=0;const o=R.getBytes(),h=o.length;let H=R.start;const L=[],x=[];for(;H<h;){let F=o[H];if(F===9||F===10||F===13||F===32){++H;continue}if(F===37){do{if(++H,H>=h)break;F=o[H]}while(F!==10&&F!==13);continue}const k=s(o,H);let U;if(k.startsWith("xref")&&(k.length===4||/\s/.test(k[4])))H+=r(o,H,g),L.push(H),H+=r(o,H,G);else if(U=l.exec(k)){const ee=U[1]|0,J=U[2]|0;let I,X=H+k.length,ne=!1;if(!this.entries[ee])ne=!0;else if(this.entries[ee].gen===J)try{new z.Parser({lexer:new z.Lexer(R.makeSubStream(X))}).getObj(),ne=!0}catch(Y){Y instanceof ie.ParserEOFException?(0,t.warn)(`indexObjects -- checking object (${k}): "${Y}".`):ne=!0}for(ne&&(this.entries[ee]={offset:H-R.start,gen:J,uncompressed:!0});X<o.length;){const Y=X+r(o,X,O)+4;I=Y-H;const Z=Math.max(Y-K,X),q=(0,t.bytesToString)(o.subarray(Z,Y));if(c.test(q))break;{const M=d.exec(q);if(M&&M[1]){(0,t.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),I-=M[1].length;break}}X=Y}const P=o.subarray(H,H+I),V=r(P,0,w);V<I&&P[V+5]<64&&(x.push(H-R.start),this.xrefstms[H-R.start]=1),H+=I}else k.startsWith("trailer")&&(k.length===7||/\s/.test(k[7]))?(L.push(H),H+=r(o,H,G)):H+=k.length+1}for(let F=0,k=x.length;F<k;++F)this.startXRefQueue.push(x[F]),this.readXRef(!0);let v;for(let F=0,k=L.length;F<k;++F){R.pos=L[F];const U=new z.Parser({lexer:new z.Lexer(R),xref:this,allowStreams:!0,recoveryMode:!0}),ee=U.getObj();if(!(0,m.isCmd)(ee,"trailer"))continue;const J=U.getObj();if(J instanceof m.Dict){try{const I=J.get("Root");if(!(I instanceof m.Dict))continue;const X=I.get("Pages");if(!(X instanceof m.Dict))continue;const ne=X.get("Count");if(!Number.isInteger(ne))continue}catch{continue}if(J.has("ID"))return J;v=J}}if(v)return v;if(this.topDict)return this.topDict;throw new t.InvalidPDFException("Invalid PDF structure.")}readXRef(E=!1){const _=this.stream,y=new Set;try{for(;this.startXRefQueue.length;){const n=this.startXRefQueue[0];if(y.has(n)){(0,t.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}y.add(n),_.pos=n+_.start;const u=new z.Parser({lexer:new z.Lexer(_),xref:this,allowStreams:!0});let p=u.getObj(),s;if((0,m.isCmd)(p,"xref")){if(s=this.processXRefTable(u),this.topDict||(this.topDict=s),p=s.get("XRefStm"),Number.isInteger(p)){const r=p;r in this.xrefstms||(this.xrefstms[r]=1,this.startXRefQueue.push(r))}}else if(Number.isInteger(p)){if(!Number.isInteger(u.getObj())||!(0,m.isCmd)(u.getObj(),"obj")||!((p=u.getObj())instanceof e.BaseStream))throw new t.FormatError("Invalid XRef stream");if(s=this.processXRefStream(p),this.topDict||(this.topDict=s),!s)throw new t.FormatError("Failed to read XRef stream")}else throw new t.FormatError("Invalid XRef stream header");p=s.get("Prev"),Number.isInteger(p)?this.startXRefQueue.push(p):p instanceof m.Ref&&this.startXRefQueue.push(p.num),this.startXRefQueue.shift()}return this.topDict}catch(n){if(n instanceof ie.MissingDataException)throw n;(0,t.info)("(while reading XRef): "+n),this.startXRefQueue.shift()}if(!E)throw new ie.XRefParseException}getEntry(E){const _=this.entries[E];return _&&!_.free&&_.offset?_:null}fetchIfRef(E,_=!1){return E instanceof m.Ref?this.fetch(E,_):E}fetch(E,_=!1){if(!(E instanceof m.Ref))throw new Error("ref object is not a reference");const y=E.num,n=this._cacheMap.get(y);if(n!==void 0)return n instanceof m.Dict&&!n.objId&&(n.objId=E.toString()),n;let u=this.getEntry(y);if(u===null)return this._cacheMap.set(y,u),u;if(this._pendingRefs.has(E))return this._pendingRefs.remove(E),(0,t.warn)(`Ignoring circular reference: ${E}.`),m.CIRCULAR_REF;this._pendingRefs.put(E);try{u.uncompressed?u=this.fetchUncompressed(E,u,_):u=this.fetchCompressed(E,u,_),this._pendingRefs.remove(E)}catch(p){throw this._pendingRefs.remove(E),p}return u instanceof m.Dict?u.objId=E.toString():u instanceof e.BaseStream&&(u.dict.objId=E.toString()),u}fetchUncompressed(E,_,y=!1){const n=E.gen;let u=E.num;if(_.gen!==n)throw new ie.XRefEntryException(`Inconsistent generation in XRef: ${E}`);const p=this.stream.makeSubStream(_.offset+this.stream.start),s=new z.Parser({lexer:new z.Lexer(p),xref:this,allowStreams:!0}),r=s.getObj(),l=s.getObj(),c=s.getObj();if(r!==u||l!==n||!(c instanceof m.Cmd))throw new ie.XRefEntryException(`Bad (uncompressed) XRef entry: ${E}`);if(c.cmd!=="obj"){if(c.cmd.startsWith("obj")&&(u=parseInt(c.cmd.substring(3),10),!Number.isNaN(u)))return u;throw new ie.XRefEntryException(`Bad (uncompressed) XRef entry: ${E}`)}return this.encrypt&&!y?_=s.getObj(this.encrypt.createCipherTransform(u,n)):_=s.getObj(),_ instanceof e.BaseStream||this._cacheMap.set(u,_),_}fetchCompressed(E,_,y=!1){const n=_.offset,u=this.fetch(m.Ref.get(n,0));if(!(u instanceof e.BaseStream))throw new t.FormatError("bad ObjStm stream");const p=u.dict.get("First"),s=u.dict.get("N");if(!Number.isInteger(p)||!Number.isInteger(s))throw new t.FormatError("invalid first and n parameters for ObjStm stream");let r=new z.Parser({lexer:new z.Lexer(u),xref:this,allowStreams:!0});const l=new Array(s),c=new Array(s);for(let g=0;g<s;++g){const G=r.getObj();if(!Number.isInteger(G))throw new t.FormatError(`invalid object number in the ObjStm stream: ${G}`);const O=r.getObj();if(!Number.isInteger(O))throw new t.FormatError(`invalid object offset in the ObjStm stream: ${O}`);l[g]=G,c[g]=O}const d=(u.start||0)+p,K=new Array(s);for(let g=0;g<s;++g){const G=g<s-1?c[g+1]-c[g]:void 0;if(G<0)throw new t.FormatError("Invalid offset in the ObjStm stream.");r=new z.Parser({lexer:new z.Lexer(u.makeSubStream(d+c[g],G,u.dict)),xref:this,allowStreams:!0});const O=r.getObj();if(K[g]=O,O instanceof e.BaseStream)continue;const w=l[g],R=this.entries[w];R&&R.offset===n&&R.gen===g&&this._cacheMap.set(w,O)}if(_=K[_.gen],_===void 0)throw new ie.XRefEntryException(`Bad (compressed) XRef entry: ${E}`);return _}async fetchIfRefAsync(E,_){return E instanceof m.Ref?this.fetchAsync(E,_):E}async fetchAsync(E,_){try{return this.fetch(E,_)}catch(y){if(!(y instanceof ie.MissingDataException))throw y;return await this.pdfManager.requestRange(y.begin,y.end),this.fetchAsync(E,_)}}getCatalogObj(){return this.root}}A.XRef=f},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.MessageHandler=void 0;var t=se(2);const m={UNKNOWN:0,DATA:1,ERROR:2},ie={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function z(j){switch(j instanceof Error||typeof j=="object"&&j!==null||(0,t.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),j.name){case"AbortException":return new t.AbortException(j.message);case"MissingPDFException":return new t.MissingPDFException(j.message);case"PasswordException":return new t.PasswordException(j.message,j.code);case"UnexpectedResponseException":return new t.UnexpectedResponseException(j.message,j.status);case"UnknownErrorException":return new t.UnknownErrorException(j.message,j.details);default:return new t.UnknownErrorException(j.message,j.toString())}}class e{constructor(f,T,E){this.sourceName=f,this.targetName=T,this.comObj=E,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=_=>{const y=_.data;if(y.targetName!==this.sourceName)return;if(y.stream){this._processStreamMessage(y);return}if(y.callback){const u=y.callbackId,p=this.callbackCapabilities[u];if(!p)throw new Error(`Cannot resolve callback ${u}`);if(delete this.callbackCapabilities[u],y.callback===m.DATA)p.resolve(y.data);else if(y.callback===m.ERROR)p.reject(z(y.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[y.action];if(!n)throw new Error(`Unknown action from worker: ${y.action}`);if(y.callbackId){const u=this.sourceName,p=y.sourceName;new Promise(function(s){s(n(y.data))}).then(function(s){E.postMessage({sourceName:u,targetName:p,callback:m.DATA,callbackId:y.callbackId,data:s})},function(s){E.postMessage({sourceName:u,targetName:p,callback:m.ERROR,callbackId:y.callbackId,reason:z(s)})});return}if(y.streamId){this._createStreamSink(y);return}n(y.data)},E.addEventListener("message",this._onComObjOnMessage)}on(f,T){const E=this.actionHandler;if(E[f])throw new Error(`There is already an actionName called "${f}"`);E[f]=T}send(f,T,E){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:T},E)}sendWithPromise(f,T,E){const _=this.callbackId++,y=(0,t.createPromiseCapability)();this.callbackCapabilities[_]=y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:_,data:T},E)}catch(n){y.reject(n)}return y.promise}sendWithStream(f,T,E,_){const y=this.streamId++,n=this.sourceName,u=this.targetName,p=this.comObj;return new ReadableStream({start:s=>{const r=(0,t.createPromiseCapability)();return this.streamControllers[y]={controller:s,startCall:r,pullCall:null,cancelCall:null,isClosed:!1},p.postMessage({sourceName:n,targetName:u,action:f,streamId:y,data:T,desiredSize:s.desiredSize},_),r.promise},pull:s=>{const r=(0,t.createPromiseCapability)();return this.streamControllers[y].pullCall=r,p.postMessage({sourceName:n,targetName:u,stream:ie.PULL,streamId:y,desiredSize:s.desiredSize}),r.promise},cancel:s=>{(0,t.assert)(s instanceof Error,"cancel must have a valid reason");const r=(0,t.createPromiseCapability)();return this.streamControllers[y].cancelCall=r,this.streamControllers[y].isClosed=!0,p.postMessage({sourceName:n,targetName:u,stream:ie.CANCEL,streamId:y,reason:z(s)}),r.promise}},E)}_createStreamSink(f){const T=f.streamId,E=this.sourceName,_=f.sourceName,y=this.comObj,n=this,u=this.actionHandler[f.action],p={enqueue(s,r=1,l){if(this.isCancelled)return;const c=this.desiredSize;this.desiredSize-=r,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,t.createPromiseCapability)(),this.ready=this.sinkCapability.promise),y.postMessage({sourceName:E,targetName:_,stream:ie.ENQUEUE,streamId:T,chunk:s},l)},close(){this.isCancelled||(this.isCancelled=!0,y.postMessage({sourceName:E,targetName:_,stream:ie.CLOSE,streamId:T}),delete n.streamSinks[T])},error(s){(0,t.assert)(s instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,y.postMessage({sourceName:E,targetName:_,stream:ie.ERROR,streamId:T,reason:z(s)}))},sinkCapability:(0,t.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[T]=p,new Promise(function(s){s(u(f.data,p))}).then(function(){y.postMessage({sourceName:E,targetName:_,stream:ie.START_COMPLETE,streamId:T,success:!0})},function(s){y.postMessage({sourceName:E,targetName:_,stream:ie.START_COMPLETE,streamId:T,reason:z(s)})})}_processStreamMessage(f){const T=f.streamId,E=this.sourceName,_=f.sourceName,y=this.comObj,n=this.streamControllers[T],u=this.streamSinks[T];switch(f.stream){case ie.START_COMPLETE:f.success?n.startCall.resolve():n.startCall.reject(z(f.reason));break;case ie.PULL_COMPLETE:f.success?n.pullCall.resolve():n.pullCall.reject(z(f.reason));break;case ie.PULL:if(!u){y.postMessage({sourceName:E,targetName:_,stream:ie.PULL_COMPLETE,streamId:T,success:!0});break}u.desiredSize<=0&&f.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=f.desiredSize,new Promise(function(p){p(u.onPull&&u.onPull())}).then(function(){y.postMessage({sourceName:E,targetName:_,stream:ie.PULL_COMPLETE,streamId:T,success:!0})},function(p){y.postMessage({sourceName:E,targetName:_,stream:ie.PULL_COMPLETE,streamId:T,reason:z(p)})});break;case ie.ENQUEUE:if((0,t.assert)(n,"enqueue should have stream controller"),n.isClosed)break;n.controller.enqueue(f.chunk);break;case ie.CLOSE:if((0,t.assert)(n,"close should have stream controller"),n.isClosed)break;n.isClosed=!0,n.controller.close(),this._deleteStreamController(n,T);break;case ie.ERROR:(0,t.assert)(n,"error should have stream controller"),n.controller.error(z(f.reason)),this._deleteStreamController(n,T);break;case ie.CANCEL_COMPLETE:f.success?n.cancelCall.resolve():n.cancelCall.reject(z(f.reason)),this._deleteStreamController(n,T);break;case ie.CANCEL:if(!u)break;new Promise(function(p){p(u.onCancel&&u.onCancel(z(f.reason)))}).then(function(){y.postMessage({sourceName:E,targetName:_,stream:ie.CANCEL_COMPLETE,streamId:T,success:!0})},function(p){y.postMessage({sourceName:E,targetName:_,stream:ie.CANCEL_COMPLETE,streamId:T,reason:z(p)})}),u.sinkCapability.reject(z(f.reason)),u.isCancelled=!0,delete this.streamSinks[T];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(f,T){await Promise.allSettled([f.startCall&&f.startCall.promise,f.pullCall&&f.pullCall.promise,f.cancelCall&&f.cancelCall.promise]),delete this.streamControllers[T]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}A.MessageHandler=e},(Ae,A,se)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFWorkerStream=void 0;var t=se(2);class m{constructor(j){this._msgHandler=j,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new ie(this._msgHandler),this._fullRequestReader}getRangeReader(j,f){const T=new z(j,f,this._msgHandler);return this._rangeRequestReaders.push(T),T}cancelAllRequests(j){this._fullRequestReader&&this._fullRequestReader.cancel(j);for(const f of this._rangeRequestReaders.slice(0))f.cancel(j)}}A.PDFWorkerStream=m;class ie{constructor(j){this._msgHandler=j,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const f=this._msgHandler.sendWithStream("GetReader");this._reader=f.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(T=>{this._isStreamingSupported=T.isStreamingSupported,this._isRangeSupported=T.isRangeSupported,this._contentLength=T.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:j,done:f}=await this._reader.read();return f?{value:void 0,done:!0}:{value:j.buffer,done:!1}}cancel(j){this._reader.cancel(j)}}class z{constructor(j,f,T){this._msgHandler=T,this.onProgress=null;const E=this._msgHandler.sendWithStream("GetRangeReader",{begin:j,end:f});this._reader=E.getReader()}get isStreamingSupported(){return!1}async read(){const{value:j,done:f}=await this._reader.read();return f?{value:void 0,done:!0}:{value:j.buffer,done:!1}}cancel(j){this._reader.cancel(j)}}}],Q={};function re(Ae){var A=Q[Ae];if(A!==void 0)return A.exports;var se=Q[Ae]={exports:{}};return N[Ae](se,se.exports,re),se.exports}re.d=(Ae,A)=>{for(var se in A)re.o(A,se)&&!re.o(Ae,se)&&Object.defineProperty(Ae,se,{enumerable:!0,get:A[se]})},re.o=(Ae,A)=>Object.prototype.hasOwnProperty.call(Ae,A),re.r=Ae=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ae,"__esModule",{value:!0})};var Se={};return(()=>{var Ae=Se;Object.defineProperty(Ae,"__esModule",{value:!0}),Object.defineProperty(Ae,"WorkerMessageHandler",{enumerable:!0,get:function(){return A.WorkerMessageHandler}});var A=re(1)})(),Se})())})(pdf_worker);var pdf_workerExports=pdf_worker.exports;(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function($){const i=[];let N=0;for(let Q=0;Q<$.length;Q++){let re=$.charCodeAt(Q);re<128?i[N++]=re:re<2048?(i[N++]=re>>6|192,i[N++]=re&63|128):(re&64512)===55296&&Q+1<$.length&&($.charCodeAt(Q+1)&64512)===56320?(re=65536+((re&1023)<<10)+($.charCodeAt(++Q)&1023),i[N++]=re>>18|240,i[N++]=re>>12&63|128,i[N++]=re>>6&63|128,i[N++]=re&63|128):(i[N++]=re>>12|224,i[N++]=re>>6&63|128,i[N++]=re&63|128)}return i},byteArrayToString=function($){const i=[];let N=0,Q=0;for(;N<$.length;){const re=$[N++];if(re<128)i[Q++]=String.fromCharCode(re);else if(re>191&&re<224){const Se=$[N++];i[Q++]=String.fromCharCode((re&31)<<6|Se&63)}else if(re>239&&re<365){const Se=$[N++],Ae=$[N++],A=$[N++],se=((re&7)<<18|(Se&63)<<12|(Ae&63)<<6|A&63)-65536;i[Q++]=String.fromCharCode(55296+(se>>10)),i[Q++]=String.fromCharCode(56320+(se&1023))}else{const Se=$[N++],Ae=$[N++];i[Q++]=String.fromCharCode((re&15)<<12|(Se&63)<<6|Ae&63)}}return i.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray($,i){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let re=0;re<$.length;re+=3){const Se=$[re],Ae=re+1<$.length,A=Ae?$[re+1]:0,se=re+2<$.length,t=se?$[re+2]:0,m=Se>>2,ie=(Se&3)<<4|A>>4;let z=(A&15)<<2|t>>6,e=t&63;se||(e=64,Ae||(z=64)),Q.push(N[m],N[ie],N[z],N[e])}return Q.join("")},encodeString($,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa($):this.encodeByteArray(stringToByteArray$1($),i)},decodeString($,i){return this.HAS_NATIVE_SUPPORT&&!i?atob($):byteArrayToString(this.decodeStringToByteArray($,i))},decodeStringToByteArray($,i){this.init_();const N=i?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let re=0;re<$.length;){const Se=N[$.charAt(re++)],A=re<$.length?N[$.charAt(re)]:0;++re;const t=re<$.length?N[$.charAt(re)]:64;++re;const ie=re<$.length?N[$.charAt(re)]:64;if(++re,Se==null||A==null||t==null||ie==null)throw new DecodeBase64StringError;const z=Se<<2|A>>4;if(Q.push(z),t!==64){const e=A<<4&240|t>>2;if(Q.push(e),ie!==64){const j=t<<6&192|ie;Q.push(j)}}}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function($){const i=stringToByteArray$1($);return base64.encodeByteArray(i,!0)},base64urlEncodeWithoutPadding=function($){return base64Encode($).replace(/\./g,"")},base64Decode=function($){try{return base64.decodeString($,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const $=define_process_env_default.__FIREBASE_DEFAULTS__;if($)return JSON.parse($)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=$&&base64Decode($[1]);return i&&JSON.parse(i)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch($){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`);return}},getDefaultEmulatorHost=$=>{var i,N;return(N=(i=getDefaults())===null||i===void 0?void 0:i.emulatorHosts)===null||N===void 0?void 0:N[$]},getDefaultEmulatorHostnameAndPort=$=>{const i=getDefaultEmulatorHost($);if(!i)return;const N=i.lastIndexOf(":");if(N<=0||N+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);const Q=parseInt(i.substring(N+1),10);return i[0]==="["?[i.substring(1,N-1),Q]:[i.substring(0,N),Q]},getDefaultAppConfig=()=>{var $;return($=getDefaults())===null||$===void 0?void 0:$.config},getExperimentalSetting=$=>{var i;return(i=getDefaults())===null||i===void 0?void 0:i[`_${$}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,N)=>{this.resolve=i,this.reject=N})}wrapCallback(i){return(N,Q)=>{N?this.reject(N):this.resolve(Q),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(N):i(N,Q))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken($,i){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N={alg:"none",type:"JWT"},Q=i||"demo-project",re=$.iat||0,Se=$.sub||$.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ae=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:re,exp:re+3600,auth_time:re,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},$);return[base64urlEncodeWithoutPadding(JSON.stringify(N)),base64urlEncodeWithoutPadding(JSON.stringify(Ae)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const $=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof $=="object"&&$.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const $=getUA();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise(($,i)=>{try{let N=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(Q);re.onsuccess=()=>{re.result.close(),N||self.indexedDB.deleteDatabase(Q),$(!0)},re.onupgradeneeded=()=>{N=!1},re.onerror=()=>{var Se;i(((Se=re.error)===null||Se===void 0?void 0:Se.message)||"")}}catch(N){i(N)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(i,N,Q){super(N),this.code=i,this.customData=Q,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(i,N,Q){this.service=i,this.serviceName=N,this.errors=Q}create(i,...N){const Q=N[0]||{},re=`${this.service}/${i}`,Se=this.errors[i],Ae=Se?replaceTemplate(Se,Q):"Error",A=`${this.serviceName}: ${Ae} (${re}).`;return new FirebaseError(re,A,Q)}}function replaceTemplate($,i){return $.replace(PATTERN,(N,Q)=>{const re=i[Q];return re!=null?String(re):`<${Q}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty($){for(const i in $)if(Object.prototype.hasOwnProperty.call($,i))return!1;return!0}function deepEqual($,i){if($===i)return!0;const N=Object.keys($),Q=Object.keys(i);for(const re of N){if(!Q.includes(re))return!1;const Se=$[re],Ae=i[re];if(isObject(Se)&&isObject(Ae)){if(!deepEqual(Se,Ae))return!1}else if(Se!==Ae)return!1}for(const re of Q)if(!N.includes(re))return!1;return!0}function isObject($){return $!==null&&typeof $=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring($){const i=[];for(const[N,Q]of Object.entries($))Array.isArray(Q)?Q.forEach(re=>{i.push(encodeURIComponent(N)+"="+encodeURIComponent(re))}):i.push(encodeURIComponent(N)+"="+encodeURIComponent(Q));return i.length?"&"+i.join("&"):""}function createSubscribe($,i){const N=new ObserverProxy($,i);return N.subscribe.bind(N)}class ObserverProxy{constructor(i,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{i(this)}).catch(Q=>{this.error(Q)})}next(i){this.forEachObserver(N=>{N.next(i)})}error(i){this.forEachObserver(N=>{N.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,N,Q){let re;if(i===void 0&&N===void 0&&Q===void 0)throw new Error("Missing Observer.");implementsAnyMethods(i,["next","error","complete"])?re=i:re={next:i,error:N,complete:Q},re.next===void 0&&(re.next=noop),re.error===void 0&&(re.error=noop),re.complete===void 0&&(re.complete=noop);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),Se}unsubscribeOne(i){this.observers===void 0||this.observers[i]===void 0||(delete this.observers[i],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(i){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,i)}sendOne(i,N){this.task.then(()=>{if(this.observers!==void 0&&this.observers[i]!==void 0)try{N(this.observers[i])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods($,i){if(typeof $!="object"||$===null)return!1;for(const N of i)if(N in $&&typeof $[N]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance($){return $&&$._delegate?$._delegate:$}class Component{constructor(i,N,Q){this.name=i,this.instanceFactory=N,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(i,N){this.name=i,this.container=N,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const N=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(N)){const Q=new Deferred;if(this.instancesDeferred.set(N,Q),this.isInitialized(N)||this.shouldAutoInitialize())try{const re=this.getOrInitializeService({instanceIdentifier:N});re&&Q.resolve(re)}catch{}}return this.instancesDeferred.get(N).promise}getImmediate(i){var N;const Q=this.normalizeInstanceIdentifier(i==null?void 0:i.identifier),re=(N=i==null?void 0:i.optional)!==null&&N!==void 0?N:!1;if(this.isInitialized(Q)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Se){if(re)return null;throw Se}else{if(re)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(isComponentEager(i))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[N,Q]of this.instancesDeferred.entries()){const re=this.normalizeInstanceIdentifier(N);try{const Se=this.getOrInitializeService({instanceIdentifier:re});Q.resolve(Se)}catch{}}}}clearInstance(i=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}async delete(){const i=Array.from(this.instances.values());await Promise.all([...i.filter(N=>"INTERNAL"in N).map(N=>N.INTERNAL.delete()),...i.filter(N=>"_delete"in N).map(N=>N._delete())])}isComponentSet(){return this.component!=null}isInitialized(i=DEFAULT_ENTRY_NAME$1){return this.instances.has(i)}getOptions(i=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:N={}}=i,Q=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const re=this.getOrInitializeService({instanceIdentifier:Q,options:N});for(const[Se,Ae]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(Se);Q===A&&Ae.resolve(re)}return re}onInit(i,N){var Q;const re=this.normalizeInstanceIdentifier(N),Se=(Q=this.onInitCallbacks.get(re))!==null&&Q!==void 0?Q:new Set;Se.add(i),this.onInitCallbacks.set(re,Se);const Ae=this.instances.get(re);return Ae&&i(Ae,re),()=>{Se.delete(i)}}invokeOnInitCallbacks(i,N){const Q=this.onInitCallbacks.get(N);if(Q)for(const re of Q)try{re(i,N)}catch{}}getOrInitializeService({instanceIdentifier:i,options:N={}}){let Q=this.instances.get(i);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(i),options:N}),this.instances.set(i,Q),this.instancesOptions.set(i,N),this.invokeOnInitCallbacks(Q,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,Q)}catch{}return Q||null}normalizeInstanceIdentifier(i=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?i:DEFAULT_ENTRY_NAME$1:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory($){return $===DEFAULT_ENTRY_NAME$1?void 0:$}function isComponentEager($){return $.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const N=this.getProvider(i.name);if(N.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);N.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const N=new Provider(i,this);return this.providers.set(i,N),N}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function($){$[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=($,i,...N)=>{if(i<$.logLevel)return;const Q=new Date().toISOString(),re=ConsoleMethod[i];if(re)console[re](`[${Q}]  ${$.name}:`,...N);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)};class Logger{constructor(i){this.name=i,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in LogLevel))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?levelStringToEnum[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...i),this._logHandler(this,LogLevel.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...i),this._logHandler(this,LogLevel.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...i),this._logHandler(this,LogLevel.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...i),this._logHandler(this,LogLevel.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...i),this._logHandler(this,LogLevel.ERROR,...i)}}const instanceOfAny=($,i)=>i.some(N=>$ instanceof N);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest($){const i=new Promise((N,Q)=>{const re=()=>{$.removeEventListener("success",Se),$.removeEventListener("error",Ae)},Se=()=>{N(wrap($.result)),re()},Ae=()=>{Q($.error),re()};$.addEventListener("success",Se),$.addEventListener("error",Ae)});return i.then(N=>{N instanceof IDBCursor&&cursorRequestMap.set(N,$)}).catch(()=>{}),reverseTransformCache.set(i,$),i}function cacheDonePromiseForTransaction($){if(transactionDoneMap.has($))return;const i=new Promise((N,Q)=>{const re=()=>{$.removeEventListener("complete",Se),$.removeEventListener("error",Ae),$.removeEventListener("abort",Ae)},Se=()=>{N(),re()},Ae=()=>{Q($.error||new DOMException("AbortError","AbortError")),re()};$.addEventListener("complete",Se),$.addEventListener("error",Ae),$.addEventListener("abort",Ae)});transactionDoneMap.set($,i)}let idbProxyTraps={get($,i,N){if($ instanceof IDBTransaction){if(i==="done")return transactionDoneMap.get($);if(i==="objectStoreNames")return $.objectStoreNames||transactionStoreNamesMap.get($);if(i==="store")return N.objectStoreNames[1]?void 0:N.objectStore(N.objectStoreNames[0])}return wrap($[i])},set($,i,N){return $[i]=N,!0},has($,i){return $ instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in $}};function replaceTraps($){idbProxyTraps=$(idbProxyTraps)}function wrapFunction($){return $===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...N){const Q=$.call(unwrap(this),i,...N);return transactionStoreNamesMap.set(Q,i.sort?i.sort():[i]),wrap(Q)}:getCursorAdvanceMethods().includes($)?function(...i){return $.apply(unwrap(this),i),wrap(cursorRequestMap.get(this))}:function(...i){return wrap($.apply(unwrap(this),i))}}function transformCachableValue($){return typeof $=="function"?wrapFunction($):($ instanceof IDBTransaction&&cacheDonePromiseForTransaction($),instanceOfAny($,getIdbProxyableTypes())?new Proxy($,idbProxyTraps):$)}function wrap($){if($ instanceof IDBRequest)return promisifyRequest($);if(transformCache.has($))return transformCache.get($);const i=transformCachableValue($);return i!==$&&(transformCache.set($,i),reverseTransformCache.set(i,$)),i}const unwrap=$=>reverseTransformCache.get($);function openDB($,i,{blocked:N,upgrade:Q,blocking:re,terminated:Se}={}){const Ae=indexedDB.open($,i),A=wrap(Ae);return Q&&Ae.addEventListener("upgradeneeded",se=>{Q(wrap(Ae.result),se.oldVersion,se.newVersion,wrap(Ae.transaction),se)}),N&&Ae.addEventListener("blocked",se=>N(se.oldVersion,se.newVersion,se)),A.then(se=>{Se&&se.addEventListener("close",()=>Se()),re&&se.addEventListener("versionchange",t=>re(t.oldVersion,t.newVersion,t))}).catch(()=>{}),A}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod($,i){if(!($ instanceof IDBDatabase&&!(i in $)&&typeof i=="string"))return;if(cachedMethods.get(i))return cachedMethods.get(i);const N=i.replace(/FromIndex$/,""),Q=i!==N,re=writeMethods.includes(N);if(!(N in(Q?IDBIndex:IDBObjectStore).prototype)||!(re||readMethods.includes(N)))return;const Se=async function(Ae,...A){const se=this.transaction(Ae,re?"readwrite":"readonly");let t=se.store;return Q&&(t=t.index(A.shift())),(await Promise.all([t[N](...A),re&&se.done]))[0]};return cachedMethods.set(i,Se),Se}replaceTraps($=>({...$,get:(i,N,Q)=>getMethod(i,N)||$.get(i,N,Q),has:(i,N)=>!!getMethod(i,N)||$.has(i,N)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(N=>{if(isVersionServiceProvider(N)){const Q=N.getImmediate();return`${Q.library}/${Q.version}`}else return null}).filter(N=>N).join(" ")}}function isVersionServiceProvider($){const i=$.getComponent();return(i==null?void 0:i.type)==="VERSION"}const name$p="@firebase/app",version$1$1="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$o="@firebase/app-compat",name$n="@firebase/analytics-compat",name$m="@firebase/analytics",name$l="@firebase/app-check-compat",name$k="@firebase/app-check",name$j="@firebase/auth",name$i="@firebase/auth-compat",name$h="@firebase/database",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$q="firebase",version$3="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$p]:"fire-core",[name$o]:"fire-core-compat",[name$m]:"fire-analytics",[name$n]:"fire-analytics-compat",[name$k]:"fire-app-check",[name$l]:"fire-app-check-compat",[name$j]:"fire-auth",[name$i]:"fire-auth-compat",[name$h]:"fire-rtdb",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$q]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent($,i){try{$.container.addComponent(i)}catch(N){logger.debug(`Component ${i.name} failed to register with FirebaseApp ${$.name}`,N)}}function _registerComponent($){const i=$.name;if(_components.has(i))return logger.debug(`There were multiple attempts to register component ${i}.`),!1;_components.set(i,$);for(const N of _apps.values())_addComponent(N,$);for(const N of _serverApps.values())_addComponent(N,$);return!0}function _getProvider($,i){const N=$.container.getProvider("heartbeat").getImmediate({optional:!0});return N&&N.triggerHeartbeat(),$.container.getProvider(i)}function _isFirebaseServerApp($){return $.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(i,N,Q){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},N),this._name=N.name,this._automaticDataCollectionEnabled=N.automaticDataCollectionEnabled,this._container=Q,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp($,i={}){let N=$;typeof i!="object"&&(i={name:i});const Q=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},i),re=Q.name;if(typeof re!="string"||!re)throw ERROR_FACTORY.create("bad-app-name",{appName:String(re)});if(N||(N=getDefaultAppConfig()),!N)throw ERROR_FACTORY.create("no-options");const Se=_apps.get(re);if(Se){if(deepEqual(N,Se.options)&&deepEqual(Q,Se.config))return Se;throw ERROR_FACTORY.create("duplicate-app",{appName:re})}const Ae=new ComponentContainer(re);for(const se of _components.values())Ae.addComponent(se);const A=new FirebaseAppImpl(N,Q,Ae);return _apps.set(re,A),A}function getApp($=DEFAULT_ENTRY_NAME){const i=_apps.get($);if(!i&&$===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!i)throw ERROR_FACTORY.create("no-app",{appName:$});return i}function registerVersion($,i,N){var Q;let re=(Q=PLATFORM_LOG_STRING[$])!==null&&Q!==void 0?Q:$;N&&(re+=`-${N}`);const Se=re.match(/\s|\//),Ae=i.match(/\s|\//);if(Se||Ae){const A=[`Unable to register library "${re}" with version "${i}":`];Se&&A.push(`library name "${re}" contains illegal characters (whitespace or "/")`),Se&&Ae&&A.push("and"),Ae&&A.push(`version name "${i}" contains illegal characters (whitespace or "/")`),logger.warn(A.join(" "));return}_registerComponent(new Component(`${re}-version`,()=>({library:re,version:i}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:($,i)=>{switch(i){case 0:try{$.createObjectStore(STORE_NAME)}catch(N){console.warn(N)}}}}).catch($=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:$.message})})),dbPromise}async function readHeartbeatsFromIndexedDB($){try{const N=(await getDbPromise()).transaction(STORE_NAME),Q=await N.objectStore(STORE_NAME).get(computeKey($));return await N.done,Q}catch(i){if(i instanceof FirebaseError)logger.warn(i.message);else{const N=ERROR_FACTORY.create("idb-get",{originalErrorMessage:i==null?void 0:i.message});logger.warn(N.message)}}}async function writeHeartbeatsToIndexedDB($,i){try{const Q=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await Q.objectStore(STORE_NAME).put(i,computeKey($)),await Q.done}catch(N){if(N instanceof FirebaseError)logger.warn(N.message);else{const Q=ERROR_FACTORY.create("idb-set",{originalErrorMessage:N==null?void 0:N.message});logger.warn(Q.message)}}}function computeKey($){return`${$.name}!${$.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(i){this.container=i,this._heartbeatsCache=null;const N=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(N),this._heartbeatsCachePromise=this._storage.read().then(Q=>(this._heartbeatsCache=Q,Q))}async triggerHeartbeat(){var i,N;const re=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Se=getUTCDateString();if(!(((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((N=this._heartbeatsCache)===null||N===void 0?void 0:N.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===Se||this._heartbeatsCache.heartbeats.some(Ae=>Ae.date===Se)))return this._heartbeatsCache.heartbeats.push({date:Se,agent:re}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(Ae=>{const A=new Date(Ae.date).valueOf();return Date.now()-A<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var i;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const N=getUTCDateString(),{heartbeatsToSend:Q,unsentEntries:re}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),Se=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Q}));return this._heartbeatsCache.lastSentHeartbeatDate=N,re.length>0?(this._heartbeatsCache.heartbeats=re,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),Se}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader($,i=MAX_HEADER_BYTES){const N=[];let Q=$.slice();for(const re of $){const Se=N.find(Ae=>Ae.agent===re.agent);if(Se){if(Se.dates.push(re.date),countBytes(N)>i){Se.dates.pop();break}}else if(N.push({agent:re.agent,dates:[re.date]}),countBytes(N)>i){N.pop();break}Q=Q.slice(1)}return{heartbeatsToSend:N,unsentEntries:Q}}class HeartbeatStorageImpl{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const N=await readHeartbeatsFromIndexedDB(this.app);return N!=null&&N.heartbeats?N:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(i){var N;if(await this._canUseIndexedDBPromise){const re=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(N=i.lastSentHeartbeatDate)!==null&&N!==void 0?N:re.lastSentHeartbeatDate,heartbeats:i.heartbeats})}else return}async add(i){var N;if(await this._canUseIndexedDBPromise){const re=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(N=i.lastSentHeartbeatDate)!==null&&N!==void 0?N:re.lastSentHeartbeatDate,heartbeats:[...re.heartbeats,...i.heartbeats]})}else return}}function countBytes($){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:$})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents($){_registerComponent(new Component("platform-logger",i=>new PlatformLoggerServiceImpl(i),"PRIVATE")),_registerComponent(new Component("heartbeat",i=>new HeartbeatServiceImpl(i),"PRIVATE")),registerVersion(name$p,version$1$1,$),registerVersion(name$p,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$2="firebase",version$2="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$2,"app");function __rest($,i){var N={};for(var Q in $)Object.prototype.hasOwnProperty.call($,Q)&&i.indexOf(Q)<0&&(N[Q]=$[Q]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,Q=Object.getOwnPropertySymbols($);re<Q.length;re++)i.indexOf(Q[re])<0&&Object.prototype.propertyIsEnumerable.call($,Q[re])&&(N[Q[re]]=$[Q[re]]);return N}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn($,...i){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${$}`,...i)}function _logError($,...i){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${$}`,...i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail($,...i){throw createErrorInternal($,...i)}function _createError($,...i){return createErrorInternal($,...i)}function _errorWithCustomMessage($,i,N){const Q=Object.assign(Object.assign({},prodErrorMap()),{[i]:N});return new ErrorFactory("auth","Firebase",Q).create(i,{appName:$.name})}function _serverAppCurrentUserOperationNotSupportedError($){return _errorWithCustomMessage($,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal($,...i){if(typeof $!="string"){const N=i[0],Q=[...i.slice(1)];return Q[0]&&(Q[0].appName=$.name),$._errorFactory.create(N,...Q)}return _DEFAULT_AUTH_ERROR_FACTORY.create($,...i)}function _assert($,i,...N){if(!$)throw createErrorInternal(i,...N)}function debugFail($){const i="INTERNAL ASSERTION FAILED: "+$;throw _logError(i),new Error(i)}function debugAssert($,i){$||debugFail(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var $;return typeof self<"u"&&(($=self.location)===null||$===void 0?void 0:$.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var $;return typeof self<"u"&&(($=self.location)===null||$===void 0?void 0:$.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const $=navigator;return $.languages&&$.languages[0]||$.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(i,N){this.shortDelay=i,this.longDelay=N,debugAssert(N>i,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl($,i){debugAssert($.emulator,"Emulator should always be set here");const{url:N}=$.emulator;return i?`${N}${i.startsWith("/")?i.slice(1):i}`:N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(i,N,Q){this.fetchImpl=i,N&&(this.headersImpl=N),Q&&(this.responseImpl=Q)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary($,i){return $.tenantId&&!i.tenantId?Object.assign(Object.assign({},i),{tenantId:$.tenantId}):i}async function _performApiRequest($,i,N,Q,re={}){return _performFetchWithErrorHandling($,re,async()=>{let Se={},Ae={};Q&&(i==="GET"?Ae=Q:Se={body:JSON.stringify(Q)});const A=querystring(Object.assign({key:$.config.apiKey},Ae)).slice(1),se=await $._getAdditionalHeaders();return se["Content-Type"]="application/json",$.languageCode&&(se["X-Firebase-Locale"]=$.languageCode),FetchProvider.fetch()(_getFinalTarget($,$.config.apiHost,N,A),Object.assign({method:i,headers:se,referrerPolicy:"no-referrer"},Se))})}async function _performFetchWithErrorHandling($,i,N){$._canInitEmulator=!1;const Q=Object.assign(Object.assign({},SERVER_ERROR_MAP),i);try{const re=new NetworkTimeout($),Se=await Promise.race([N(),re.promise]);re.clearNetworkTimeout();const Ae=await Se.json();if("needConfirmation"in Ae)throw _makeTaggedError($,"account-exists-with-different-credential",Ae);if(Se.ok&&!("errorMessage"in Ae))return Ae;{const A=Se.ok?Ae.errorMessage:Ae.error.message,[se,t]=A.split(" : ");if(se==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError($,"credential-already-in-use",Ae);if(se==="EMAIL_EXISTS")throw _makeTaggedError($,"email-already-in-use",Ae);if(se==="USER_DISABLED")throw _makeTaggedError($,"user-disabled",Ae);const m=Q[se]||se.toLowerCase().replace(/[_\s]+/g,"-");if(t)throw _errorWithCustomMessage($,m,t);_fail($,m)}}catch(re){if(re instanceof FirebaseError)throw re;_fail($,"network-request-failed",{message:String(re)})}}async function _performSignInRequest($,i,N,Q,re={}){const Se=await _performApiRequest($,i,N,Q,re);return"mfaPendingCredential"in Se&&_fail($,"multi-factor-auth-required",{_serverResponse:Se}),Se}function _getFinalTarget($,i,N,Q){const re=`${i}${N}?${Q}`;return $.config.emulator?_emulatorUrl($.config,re):`${$.config.apiScheme}://${re}`}class NetworkTimeout{constructor(i){this.auth=i,this.timer=null,this.promise=new Promise((N,Q)=>{this.timer=setTimeout(()=>Q(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError($,i,N){const Q={appName:$.name};N.email&&(Q.email=N.email),N.phoneNumber&&(Q.phoneNumber=N.phoneNumber);const re=_createError($,i,Q);return re.customData._tokenResponse=N,re}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount($,i){return _performApiRequest($,"POST","/v1/accounts:delete",i)}async function getAccountInfo($,i){return _performApiRequest($,"POST","/v1/accounts:lookup",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString($){if($)try{const i=new Date(Number($));if(!isNaN(i.getTime()))return i.toUTCString()}catch{}}async function getIdTokenResult($,i=!1){const N=getModularInstance($),Q=await N.getIdToken(i),re=_parseToken(Q);_assert(re&&re.exp&&re.auth_time&&re.iat,N.auth,"internal-error");const Se=typeof re.firebase=="object"?re.firebase:void 0,Ae=Se==null?void 0:Se.sign_in_provider;return{claims:re,token:Q,authTime:utcTimestampToDateString(secondsStringToMilliseconds(re.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(re.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(re.exp)),signInProvider:Ae||null,signInSecondFactor:(Se==null?void 0:Se.sign_in_second_factor)||null}}function secondsStringToMilliseconds($){return Number($)*1e3}function _parseToken($){const[i,N,Q]=$.split(".");if(i===void 0||N===void 0||Q===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const re=base64Decode(N);return re?JSON.parse(re):(_logError("Failed to decode base64 JWT payload"),null)}catch(re){return _logError("Caught error parsing JWT payload as JSON",re==null?void 0:re.toString()),null}}function _tokenExpiresIn($){const i=_parseToken($);return _assert(i,"internal-error"),_assert(typeof i.exp<"u","internal-error"),_assert(typeof i.iat<"u","internal-error"),Number(i.exp)-Number(i.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated($,i,N=!1){if(N)return i;try{return await i}catch(Q){throw Q instanceof FirebaseError&&isUserInvalidated(Q)&&$.auth.currentUser===$&&await $.auth.signOut(),Q}}function isUserInvalidated({code:$}){return $==="auth/user-disabled"||$==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(i){this.user=i,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(i){var N;if(i){const Q=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),Q}else{this.errorBackoff=3e4;const re=((N=this.user.stsTokenManager.expirationTime)!==null&&N!==void 0?N:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(i=!1){if(!this.isRunning)return;const N=this.getInterval(i);this.timerId=setTimeout(async()=>{await this.iteration()},N)}async iteration(){try{await this.user.getIdToken(!0)}catch(i){(i==null?void 0:i.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(i,N){this.createdAt=i,this.lastLoginAt=N,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(i){this.createdAt=i.createdAt,this.lastLoginAt=i.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving($){var i;const N=$.auth,Q=await $.getIdToken(),re=await _logoutIfInvalidated($,getAccountInfo(N,{idToken:Q}));_assert(re==null?void 0:re.users.length,N,"internal-error");const Se=re.users[0];$._notifyReloadListener(Se);const Ae=!((i=Se.providerUserInfo)===null||i===void 0)&&i.length?extractProviderData(Se.providerUserInfo):[],A=mergeProviderData($.providerData,Ae),se=$.isAnonymous,t=!($.email&&Se.passwordHash)&&!(A!=null&&A.length),m=se?t:!1,ie={uid:Se.localId,displayName:Se.displayName||null,photoURL:Se.photoUrl||null,email:Se.email||null,emailVerified:Se.emailVerified||!1,phoneNumber:Se.phoneNumber||null,tenantId:Se.tenantId||null,providerData:A,metadata:new UserMetadata(Se.createdAt,Se.lastLoginAt),isAnonymous:m};Object.assign($,ie)}async function reload($){const i=getModularInstance($);await _reloadWithoutSaving(i),await i.auth._persistUserIfCurrent(i),i.auth._notifyListenersIfCurrent(i)}function mergeProviderData($,i){return[...$.filter(Q=>!i.some(re=>re.providerId===Q.providerId)),...i]}function extractProviderData($){return $.map(i=>{var{providerId:N}=i,Q=__rest(i,["providerId"]);return{providerId:N,uid:Q.rawId||"",displayName:Q.displayName||null,email:Q.email||null,phoneNumber:Q.phoneNumber||null,photoURL:Q.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken($,i){const N=await _performFetchWithErrorHandling($,{},async()=>{const Q=querystring({grant_type:"refresh_token",refresh_token:i}).slice(1),{tokenApiHost:re,apiKey:Se}=$.config,Ae=_getFinalTarget($,re,"/v1/token",`key=${Se}`),A=await $._getAdditionalHeaders();return A["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(Ae,{method:"POST",headers:A,body:Q})});return{accessToken:N.access_token,expiresIn:N.expires_in,refreshToken:N.refresh_token}}async function revokeToken($,i){return _performApiRequest($,"POST","/v2/accounts:revokeToken",_addTidIfNecessary($,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(i){_assert(i.idToken,"internal-error"),_assert(typeof i.idToken<"u","internal-error"),_assert(typeof i.refreshToken<"u","internal-error");const N="expiresIn"in i&&typeof i.expiresIn<"u"?Number(i.expiresIn):_tokenExpiresIn(i.idToken);this.updateTokensAndExpiration(i.idToken,i.refreshToken,N)}updateFromIdToken(i){_assert(i.length!==0,"internal-error");const N=_tokenExpiresIn(i);this.updateTokensAndExpiration(i,null,N)}async getToken(i,N=!1){return!N&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,i,"user-token-expired"),this.refreshToken?(await this.refresh(i,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(i,N){const{accessToken:Q,refreshToken:re,expiresIn:Se}=await requestStsToken(i,N);this.updateTokensAndExpiration(Q,re,Number(Se))}updateTokensAndExpiration(i,N,Q){this.refreshToken=N||null,this.accessToken=i||null,this.expirationTime=Date.now()+Q*1e3}static fromJSON(i,N){const{refreshToken:Q,accessToken:re,expirationTime:Se}=N,Ae=new StsTokenManager;return Q&&(_assert(typeof Q=="string","internal-error",{appName:i}),Ae.refreshToken=Q),re&&(_assert(typeof re=="string","internal-error",{appName:i}),Ae.accessToken=re),Se&&(_assert(typeof Se=="number","internal-error",{appName:i}),Ae.expirationTime=Se),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(i){this.accessToken=i.accessToken,this.refreshToken=i.refreshToken,this.expirationTime=i.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined($,i){_assert(typeof $=="string"||typeof $>"u","internal-error",{appName:i})}class UserImpl{constructor(i){var{uid:N,auth:Q,stsTokenManager:re}=i,Se=__rest(i,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=N,this.auth=Q,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=Se.displayName||null,this.email=Se.email||null,this.emailVerified=Se.emailVerified||!1,this.phoneNumber=Se.phoneNumber||null,this.photoURL=Se.photoURL||null,this.isAnonymous=Se.isAnonymous||!1,this.tenantId=Se.tenantId||null,this.providerData=Se.providerData?[...Se.providerData]:[],this.metadata=new UserMetadata(Se.createdAt||void 0,Se.lastLoginAt||void 0)}async getIdToken(i){const N=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,i));return _assert(N,this.auth,"internal-error"),this.accessToken!==N&&(this.accessToken=N,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),N}getIdTokenResult(i){return getIdTokenResult(this,i)}reload(){return reload(this)}_assign(i){this!==i&&(_assert(this.uid===i.uid,this.auth,"internal-error"),this.displayName=i.displayName,this.photoURL=i.photoURL,this.email=i.email,this.emailVerified=i.emailVerified,this.phoneNumber=i.phoneNumber,this.isAnonymous=i.isAnonymous,this.tenantId=i.tenantId,this.providerData=i.providerData.map(N=>Object.assign({},N)),this.metadata._copy(i.metadata),this.stsTokenManager._assign(i.stsTokenManager))}_clone(i){const N=new UserImpl(Object.assign(Object.assign({},this),{auth:i,stsTokenManager:this.stsTokenManager._clone()}));return N.metadata._copy(this.metadata),N}_onReload(i){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=i,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(i){this.reloadListener?this.reloadListener(i):this.reloadUserInfo=i}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(i,N=!1){let Q=!1;i.idToken&&i.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(i),Q=!0),N&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),Q&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const i=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:i})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(i=>Object.assign({},i)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(i,N){var Q,re,Se,Ae,A,se,t,m;const ie=(Q=N.displayName)!==null&&Q!==void 0?Q:void 0,z=(re=N.email)!==null&&re!==void 0?re:void 0,e=(Se=N.phoneNumber)!==null&&Se!==void 0?Se:void 0,j=(Ae=N.photoURL)!==null&&Ae!==void 0?Ae:void 0,f=(A=N.tenantId)!==null&&A!==void 0?A:void 0,T=(se=N._redirectEventId)!==null&&se!==void 0?se:void 0,E=(t=N.createdAt)!==null&&t!==void 0?t:void 0,_=(m=N.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:y,emailVerified:n,isAnonymous:u,providerData:p,stsTokenManager:s}=N;_assert(y&&s,i,"internal-error");const r=StsTokenManager.fromJSON(this.name,s);_assert(typeof y=="string",i,"internal-error"),assertStringOrUndefined(ie,i.name),assertStringOrUndefined(z,i.name),_assert(typeof n=="boolean",i,"internal-error"),_assert(typeof u=="boolean",i,"internal-error"),assertStringOrUndefined(e,i.name),assertStringOrUndefined(j,i.name),assertStringOrUndefined(f,i.name),assertStringOrUndefined(T,i.name),assertStringOrUndefined(E,i.name),assertStringOrUndefined(_,i.name);const l=new UserImpl({uid:y,auth:i,email:z,emailVerified:n,displayName:ie,isAnonymous:u,photoURL:j,phoneNumber:e,tenantId:f,stsTokenManager:r,createdAt:E,lastLoginAt:_});return p&&Array.isArray(p)&&(l.providerData=p.map(c=>Object.assign({},c))),T&&(l._redirectEventId=T),l}static async _fromIdTokenResponse(i,N,Q=!1){const re=new StsTokenManager;re.updateFromServerResponse(N);const Se=new UserImpl({uid:N.localId,auth:i,stsTokenManager:re,isAnonymous:Q});return await _reloadWithoutSaving(Se),Se}static async _fromGetAccountInfoResponse(i,N,Q){const re=N.users[0];_assert(re.localId!==void 0,"internal-error");const Se=re.providerUserInfo!==void 0?extractProviderData(re.providerUserInfo):[],Ae=!(re.email&&re.passwordHash)&&!(Se!=null&&Se.length),A=new StsTokenManager;A.updateFromIdToken(Q);const se=new UserImpl({uid:re.localId,auth:i,stsTokenManager:A,isAnonymous:Ae}),t={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:Se,metadata:new UserMetadata(re.createdAt,re.lastLoginAt),isAnonymous:!(re.email&&re.passwordHash)&&!(Se!=null&&Se.length)};return Object.assign(se,t),se}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance($){debugAssert($ instanceof Function,"Expected a class definition");let i=instanceCache.get($);return i?(debugAssert(i instanceof $,"Instance stored in cache mismatched with class"),i):(i=new $,instanceCache.set($,i),i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(i,N){this.storage[i]=N}async _get(i){const N=this.storage[i];return N===void 0?null:N}async _remove(i){delete this.storage[i]}_addListener(i,N){}_removeListener(i,N){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName($,i,N){return`firebase:${$}:${i}:${N}`}class PersistenceUserManager{constructor(i,N,Q){this.persistence=i,this.auth=N,this.userKey=Q;const{config:re,name:Se}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,re.apiKey,Se),this.fullPersistenceKey=_persistenceKeyName("persistence",re.apiKey,Se),this.boundEventHandler=N._onStorageEvent.bind(N),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(i){return this.persistence._set(this.fullUserKey,i.toJSON())}async getCurrentUser(){const i=await this.persistence._get(this.fullUserKey);return i?UserImpl._fromJSON(this.auth,i):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(i){if(this.persistence===i)return;const N=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=i,N)return this.setCurrentUser(N)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(i,N,Q="authUser"){if(!N.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),i,Q);const re=(await Promise.all(N.map(async t=>{if(await t._isAvailable())return t}))).filter(t=>t);let Se=re[0]||_getInstance(inMemoryPersistence);const Ae=_persistenceKeyName(Q,i.config.apiKey,i.name);let A=null;for(const t of N)try{const m=await t._get(Ae);if(m){const ie=UserImpl._fromJSON(i,m);t!==Se&&(A=ie),Se=t;break}}catch{}const se=re.filter(t=>t._shouldAllowMigration);return!Se._shouldAllowMigration||!se.length?new PersistenceUserManager(Se,i,Q):(Se=se[0],A&&await Se._set(Ae,A.toJSON()),await Promise.all(N.map(async t=>{if(t!==Se)try{await t._remove(Ae)}catch{}})),new PersistenceUserManager(Se,i,Q))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName($){const i=$.toLowerCase();if(i.includes("opera/")||i.includes("opr/")||i.includes("opios/"))return"Opera";if(_isIEMobile(i))return"IEMobile";if(i.includes("msie")||i.includes("trident/"))return"IE";if(i.includes("edge/"))return"Edge";if(_isFirefox(i))return"Firefox";if(i.includes("silk/"))return"Silk";if(_isBlackBerry(i))return"Blackberry";if(_isWebOS(i))return"Webos";if(_isSafari(i))return"Safari";if((i.includes("chrome/")||_isChromeIOS(i))&&!i.includes("edge/"))return"Chrome";if(_isAndroid(i))return"Android";{const N=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,Q=$.match(N);if((Q==null?void 0:Q.length)===2)return Q[1]}return"Other"}function _isFirefox($=getUA()){return/firefox\//i.test($)}function _isSafari($=getUA()){const i=$.toLowerCase();return i.includes("safari/")&&!i.includes("chrome/")&&!i.includes("crios/")&&!i.includes("android")}function _isChromeIOS($=getUA()){return/crios\//i.test($)}function _isIEMobile($=getUA()){return/iemobile/i.test($)}function _isAndroid($=getUA()){return/android/i.test($)}function _isBlackBerry($=getUA()){return/blackberry/i.test($)}function _isWebOS($=getUA()){return/webos/i.test($)}function _isIOS($=getUA()){return/iphone|ipad|ipod/i.test($)||/macintosh/i.test($)&&/mobile/i.test($)}function _isIOSStandalone($=getUA()){var i;return _isIOS($)&&!!(!((i=window.navigator)===null||i===void 0)&&i.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser($=getUA()){return _isIOS($)||_isAndroid($)||_isWebOS($)||_isBlackBerry($)||/windows phone/i.test($)||_isIEMobile($)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion($,i=[]){let N;switch($){case"Browser":N=_getBrowserName(getUA());break;case"Worker":N=`${_getBrowserName(getUA())}-${$}`;break;default:N=$}const Q=i.length?i.join(","):"FirebaseCore-web";return`${N}/JsCore/${SDK_VERSION}/${Q}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(i){this.auth=i,this.queue=[]}pushCallback(i,N){const Q=Se=>new Promise((Ae,A)=>{try{const se=i(Se);Ae(se)}catch(se){A(se)}});Q.onAbort=N,this.queue.push(Q);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}async runMiddleware(i){if(this.auth.currentUser===i)return;const N=[];try{for(const Q of this.queue)await Q(i),Q.onAbort&&N.push(Q.onAbort)}catch(Q){N.reverse();for(const re of N)try{re()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:Q==null?void 0:Q.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy($,i={}){return _performApiRequest($,"GET","/v2/passwordPolicy",_addTidIfNecessary($,i))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(i){var N,Q,re,Se;const Ae=i.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(N=Ae.minPasswordLength)!==null&&N!==void 0?N:MINIMUM_MIN_PASSWORD_LENGTH,Ae.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ae.maxPasswordLength),Ae.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=Ae.containsLowercaseCharacter),Ae.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=Ae.containsUppercaseCharacter),Ae.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=Ae.containsNumericCharacter),Ae.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ae.containsNonAlphanumericCharacter),this.enforcementState=i.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(re=(Q=i.allowedNonAlphanumericCharacters)===null||Q===void 0?void 0:Q.join(""))!==null&&re!==void 0?re:"",this.forceUpgradeOnSignin=(Se=i.forceUpgradeOnSignin)!==null&&Se!==void 0?Se:!1,this.schemaVersion=i.schemaVersion}validatePassword(i){var N,Q,re,Se,Ae,A;const se={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(i,se),this.validatePasswordCharacterOptions(i,se),se.isValid&&(se.isValid=(N=se.meetsMinPasswordLength)!==null&&N!==void 0?N:!0),se.isValid&&(se.isValid=(Q=se.meetsMaxPasswordLength)!==null&&Q!==void 0?Q:!0),se.isValid&&(se.isValid=(re=se.containsLowercaseLetter)!==null&&re!==void 0?re:!0),se.isValid&&(se.isValid=(Se=se.containsUppercaseLetter)!==null&&Se!==void 0?Se:!0),se.isValid&&(se.isValid=(Ae=se.containsNumericCharacter)!==null&&Ae!==void 0?Ae:!0),se.isValid&&(se.isValid=(A=se.containsNonAlphanumericCharacter)!==null&&A!==void 0?A:!0),se}validatePasswordLengthOptions(i,N){const Q=this.customStrengthOptions.minPasswordLength,re=this.customStrengthOptions.maxPasswordLength;Q&&(N.meetsMinPasswordLength=i.length>=Q),re&&(N.meetsMaxPasswordLength=i.length<=re)}validatePasswordCharacterOptions(i,N){this.updatePasswordCharacterOptionsStatuses(N,!1,!1,!1,!1);let Q;for(let re=0;re<i.length;re++)Q=i.charAt(re),this.updatePasswordCharacterOptionsStatuses(N,Q>="a"&&Q<="z",Q>="A"&&Q<="Z",Q>="0"&&Q<="9",this.allowedNonAlphanumericCharacters.includes(Q))}updatePasswordCharacterOptionsStatuses(i,N,Q,re,Se){this.customStrengthOptions.containsLowercaseLetter&&(i.containsLowercaseLetter||(i.containsLowercaseLetter=N)),this.customStrengthOptions.containsUppercaseLetter&&(i.containsUppercaseLetter||(i.containsUppercaseLetter=Q)),this.customStrengthOptions.containsNumericCharacter&&(i.containsNumericCharacter||(i.containsNumericCharacter=re)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(i.containsNonAlphanumericCharacter||(i.containsNonAlphanumericCharacter=Se))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(i,N,Q,re){this.app=i,this.heartbeatServiceProvider=N,this.appCheckServiceProvider=Q,this.config=re,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=i.name,this.clientVersion=re.sdkClientVersion}_initializeWithPersistence(i,N){return N&&(this._popupRedirectResolver=_getInstance(N)),this._initializationPromise=this.queue(async()=>{var Q,re;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,i),!this._deleted)){if(!((Q=this._popupRedirectResolver)===null||Q===void 0)&&Q._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(N),this.lastNotifiedUid=((re=this.currentUser)===null||re===void 0?void 0:re.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const i=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!i)){if(this.currentUser&&i&&this.currentUser.uid===i.uid){this._currentUser._assign(i),await this.currentUser.getIdToken();return}await this._updateCurrentUser(i,!0)}}async initializeCurrentUserFromIdToken(i){try{const N=await getAccountInfo(this,{idToken:i}),Q=await UserImpl._fromGetAccountInfoResponse(this,N,i);await this.directlySetCurrentUser(Q)}catch(N){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",N),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(i){var N;if(_isFirebaseServerApp(this.app)){const Ae=this.app.settings.authIdToken;return Ae?new Promise(A=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(Ae).then(A,A))}):this.directlySetCurrentUser(null)}const Q=await this.assertedPersistence.getCurrentUser();let re=Q,Se=!1;if(i&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const Ae=(N=this.redirectUser)===null||N===void 0?void 0:N._redirectEventId,A=re==null?void 0:re._redirectEventId,se=await this.tryRedirectSignIn(i);(!Ae||Ae===A)&&(se!=null&&se.user)&&(re=se.user,Se=!0)}if(!re)return this.directlySetCurrentUser(null);if(!re._redirectEventId){if(Se)try{await this.beforeStateQueue.runMiddleware(re)}catch(Ae){re=Q,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Ae))}return re?this.reloadAndSetCurrentUserOrClear(re):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===re._redirectEventId?this.directlySetCurrentUser(re):this.reloadAndSetCurrentUserOrClear(re)}async tryRedirectSignIn(i){let N=null;try{N=await this._popupRedirectResolver._completeRedirectFn(this,i,!0)}catch{await this._setRedirectUser(null)}return N}async reloadAndSetCurrentUserOrClear(i){try{await _reloadWithoutSaving(i)}catch(N){if((N==null?void 0:N.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(i)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(i){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const N=i?getModularInstance(i):null;return N&&_assert(N.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(N&&N._clone(this))}async _updateCurrentUser(i,N=!1){if(!this._deleted)return i&&_assert(this.tenantId===i.tenantId,this,"tenant-id-mismatch"),N||await this.beforeStateQueue.runMiddleware(i),this.queue(async()=>{await this.directlySetCurrentUser(i),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(i){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(i))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(i){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const N=this._getPasswordPolicyInternal();return N.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):N.validatePassword(i)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const i=await _getPasswordPolicy(this),N=new PasswordPolicyImpl(i);this.tenantId===null?this._projectPasswordPolicy=N:this._tenantPasswordPolicies[this.tenantId]=N}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(i){this._errorFactory=new ErrorFactory("auth","Firebase",i())}onAuthStateChanged(i,N,Q){return this.registerStateListener(this.authStateSubscription,i,N,Q)}beforeAuthStateChanged(i,N){return this.beforeStateQueue.pushCallback(i,N)}onIdTokenChanged(i,N,Q){return this.registerStateListener(this.idTokenSubscription,i,N,Q)}authStateReady(){return new Promise((i,N)=>{if(this.currentUser)i();else{const Q=this.onAuthStateChanged(()=>{Q(),i()},N)}})}async revokeAccessToken(i){if(this.currentUser){const N=await this.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:i,idToken:N};this.tenantId!=null&&(Q.tenantId=this.tenantId),await revokeToken(this,Q)}}toJSON(){var i;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(i=this._currentUser)===null||i===void 0?void 0:i.toJSON()}}async _setRedirectUser(i,N){const Q=await this.getOrInitRedirectPersistenceManager(N);return i===null?Q.removeCurrentUser():Q.setCurrentUser(i)}async getOrInitRedirectPersistenceManager(i){if(!this.redirectPersistenceManager){const N=i&&_getInstance(i)||this._popupRedirectResolver;_assert(N,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(N._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(i){var N,Q;return this._isInitialized&&await this.queue(async()=>{}),((N=this._currentUser)===null||N===void 0?void 0:N._redirectEventId)===i?this._currentUser:((Q=this.redirectUser)===null||Q===void 0?void 0:Q._redirectEventId)===i?this.redirectUser:null}async _persistUserIfCurrent(i){if(i===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(i))}_notifyListenersIfCurrent(i){i===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i,N;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Q=(N=(i=this.currentUser)===null||i===void 0?void 0:i.uid)!==null&&N!==void 0?N:null;this.lastNotifiedUid!==Q&&(this.lastNotifiedUid=Q,this.authStateSubscription.next(this.currentUser))}registerStateListener(i,N,Q,re){if(this._deleted)return()=>{};const Se=typeof N=="function"?N:N.next.bind(N);let Ae=!1;const A=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(A,this,"internal-error"),A.then(()=>{Ae||Se(this.currentUser)}),typeof N=="function"){const se=i.addObserver(N,Q,re);return()=>{Ae=!0,se()}}else{const se=i.addObserver(N);return()=>{Ae=!0,se()}}}async directlySetCurrentUser(i){this.currentUser&&this.currentUser!==i&&this._currentUser._stopProactiveRefresh(),i&&this.isProactiveRefreshEnabled&&i._startProactiveRefresh(),this.currentUser=i,i?await this.assertedPersistence.setCurrentUser(i):await this.assertedPersistence.removeCurrentUser()}queue(i){return this.operations=this.operations.then(i,i),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(i){!i||this.frameworks.includes(i)||(this.frameworks.push(i),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const N={"X-Client-Version":this.clientVersion};this.app.options.appId&&(N["X-Firebase-gmpid"]=this.app.options.appId);const Q=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getHeartbeatsHeader());Q&&(N["X-Firebase-Client"]=Q);const re=await this._getAppCheckToken();return re&&(N["X-Firebase-AppCheck"]=re),N}async _getAppCheckToken(){var i;const N=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getToken());return N!=null&&N.error&&_logWarn(`Error while retrieving App Check token: ${N.error}`),N==null?void 0:N.token}}function _castAuth($){return getModularInstance($)}class Subscription{constructor(i){this.auth=i,this.observer=null,this.addObserver=createSubscribe(N=>this.observer=N)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider($){externalJSProvider=$}function _loadJS($){return externalJSProvider.loadJS($)}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName($){return`__${$}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth($,i){const N=_getProvider($,"auth");if(N.isInitialized()){const re=N.getImmediate(),Se=N.getOptions();if(deepEqual(Se,i??{}))return re;_fail(re,"already-initialized")}return N.initialize({options:i})}function _initializeAuthInstance($,i){const N=(i==null?void 0:i.persistence)||[],Q=(Array.isArray(N)?N:[N]).map(_getInstance);i!=null&&i.errorMap&&$._updateErrorMap(i.errorMap),$._initializeWithPersistence(Q,i==null?void 0:i.popupRedirectResolver)}function connectAuthEmulator($,i,N){const Q=_castAuth($);_assert(Q._canInitEmulator,Q,"emulator-config-failed"),_assert(/^https?:\/\//.test(i),Q,"invalid-emulator-scheme");const re=!1,Se=extractProtocol(i),{host:Ae,port:A}=extractHostAndPort(i),se=A===null?"":`:${A}`;Q.config.emulator={url:`${Se}//${Ae}${se}/`},Q.settings.appVerificationDisabledForTesting=!0,Q.emulatorConfig=Object.freeze({host:Ae,port:A,protocol:Se.replace(":",""),options:Object.freeze({disableWarnings:re})}),emitEmulatorWarning()}function extractProtocol($){const i=$.indexOf(":");return i<0?"":$.substr(0,i+1)}function extractHostAndPort($){const i=extractProtocol($),N=/(\/\/)?([^?#/]+)/.exec($.substr(i.length));if(!N)return{host:"",port:null};const Q=N[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(Q);if(re){const Se=re[1];return{host:Se,port:parsePort(Q.substr(Se.length+1))}}else{const[Se,Ae]=Q.split(":");return{host:Se,port:parsePort(Ae)}}}function parsePort($){if(!$)return null;const i=Number($);return isNaN(i)?null:i}function emitEmulatorWarning(){function $(){const i=document.createElement("p"),N=i.style;i.innerText="Running in emulator mode. Do not use with production credentials.",N.position="fixed",N.width="100%",N.backgroundColor="#ffffff",N.border=".1em solid #000000",N.color="#b50000",N.bottom="0px",N.left="0px",N.margin="0px",N.zIndex="10000",N.textAlign="center",i.classList.add("firebase-emulator-warning"),document.body.appendChild(i)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",$):$())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(i,N){this.providerId=i,this.signInMethod=N}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(i){return debugFail("not implemented")}_linkToIdToken(i,N){return debugFail("not implemented")}_getReauthenticationResolver(i){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp($,i){return _performSignInRequest($,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary($,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(i){const N=new OAuthCredential(i.providerId,i.signInMethod);return i.idToken||i.accessToken?(i.idToken&&(N.idToken=i.idToken),i.accessToken&&(N.accessToken=i.accessToken),i.nonce&&!i.pendingToken&&(N.nonce=i.nonce),i.pendingToken&&(N.pendingToken=i.pendingToken)):i.oauthToken&&i.oauthTokenSecret?(N.accessToken=i.oauthToken,N.secret=i.oauthTokenSecret):_fail("argument-error"),N}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(i){const N=typeof i=="string"?JSON.parse(i):i,{providerId:Q,signInMethod:re}=N,Se=__rest(N,["providerId","signInMethod"]);if(!Q||!re)return null;const Ae=new OAuthCredential(Q,re);return Ae.idToken=Se.idToken||void 0,Ae.accessToken=Se.accessToken||void 0,Ae.secret=Se.secret,Ae.nonce=Se.nonce,Ae.pendingToken=Se.pendingToken||null,Ae}_getIdTokenResponse(i){const N=this.buildRequest();return signInWithIdp(i,N)}_linkToIdToken(i,N){const Q=this.buildRequest();return Q.idToken=N,signInWithIdp(i,Q)}_getReauthenticationResolver(i){const N=this.buildRequest();return N.autoCreate=!1,signInWithIdp(i,N)}buildRequest(){const i={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)i.pendingToken=this.pendingToken;else{const N={};this.idToken&&(N.id_token=this.idToken),this.accessToken&&(N.access_token=this.accessToken),this.secret&&(N.oauth_token_secret=this.secret),N.providerId=this.providerId,this.nonce&&!this.pendingToken&&(N.nonce=this.nonce),i.postBody=querystring(N)}return i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(i){this.providerId=i,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(i){this.defaultLanguageCode=i}setCustomParameters(i){return this.customParameters=i,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(i){return this.scopes.includes(i)||this.scopes.push(i),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(i){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:i})}static credentialFromResult(i){return FacebookAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return FacebookAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i||!("oauthAccessToken"in i)||!i.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(i.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(i,N){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:i,accessToken:N})}static credentialFromResult(i){return GoogleAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return GoogleAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthIdToken:N,oauthAccessToken:Q}=i;if(!N&&!Q)return null;try{return GoogleAuthProvider.credential(N,Q)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(i){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:i})}static credentialFromResult(i){return GithubAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return GithubAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i||!("oauthAccessToken"in i)||!i.oauthAccessToken)return null;try{return GithubAuthProvider.credential(i.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(i,N){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:i,oauthTokenSecret:N})}static credentialFromResult(i){return TwitterAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return TwitterAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthAccessToken:N,oauthTokenSecret:Q}=i;if(!N||!Q)return null;try{return TwitterAuthProvider.credential(N,Q)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(i){this.user=i.user,this.providerId=i.providerId,this._tokenResponse=i._tokenResponse,this.operationType=i.operationType}static async _fromIdTokenResponse(i,N,Q,re=!1){const Se=await UserImpl._fromIdTokenResponse(i,Q,re),Ae=providerIdForResponse(Q);return new UserCredentialImpl({user:Se,providerId:Ae,_tokenResponse:Q,operationType:N})}static async _forOperation(i,N,Q){await i._updateTokensIfNecessary(Q,!0);const re=providerIdForResponse(Q);return new UserCredentialImpl({user:i,providerId:re,_tokenResponse:Q,operationType:N})}}function providerIdForResponse($){return $.providerId?$.providerId:"phoneNumber"in $?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(i,N,Q,re){var Se;super(N.code,N.message),this.operationType=Q,this.user=re,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:i.name,tenantId:(Se=i.tenantId)!==null&&Se!==void 0?Se:void 0,_serverResponse:N.customData._serverResponse,operationType:Q}}static _fromErrorAndOperation(i,N,Q,re){return new MultiFactorError(i,N,Q,re)}}function _processCredentialSavingMfaContextIfNecessary($,i,N,Q){return(i==="reauthenticate"?N._getReauthenticationResolver($):N._getIdTokenResponse($)).catch(Se=>{throw Se.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation($,Se,i,Q):Se})}async function _link$1($,i,N=!1){const Q=await _logoutIfInvalidated($,i._linkToIdToken($.auth,await $.getIdToken()),N);return UserCredentialImpl._forOperation($,"link",Q)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate($,i,N=!1){const{auth:Q}=$;if(_isFirebaseServerApp(Q.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Q));const re="reauthenticate";try{const Se=await _logoutIfInvalidated($,_processCredentialSavingMfaContextIfNecessary(Q,re,i,$),N);_assert(Se.idToken,Q,"internal-error");const Ae=_parseToken(Se.idToken);_assert(Ae,Q,"internal-error");const{sub:A}=Ae;return _assert($.uid===A,Q,"user-mismatch"),UserCredentialImpl._forOperation($,re,Se)}catch(Se){throw(Se==null?void 0:Se.code)==="auth/user-not-found"&&_fail(Q,"user-mismatch"),Se}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential($,i,N=!1){if(_isFirebaseServerApp($.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError($));const Q="signIn",re=await _processCredentialSavingMfaContextIfNecessary($,Q,i),Se=await UserCredentialImpl._fromIdTokenResponse($,Q,re);return N||await $._updateCurrentUser(Se.user),Se}function onIdTokenChanged($,i,N,Q){return getModularInstance($).onIdTokenChanged(i,N,Q)}function beforeAuthStateChanged($,i,N){return getModularInstance($).beforeAuthStateChanged(i,N)}function onAuthStateChanged($,i,N,Q){return getModularInstance($).onAuthStateChanged(i,N,Q)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(i,N){this.storageRetriever=i,this.type=N}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(i,N){return this.storage.setItem(i,JSON.stringify(N)),Promise.resolve()}_get(i){const N=this.storage.getItem(i);return Promise.resolve(N?JSON.parse(N):null)}_remove(i){return this.storage.removeItem(i),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const $=getUA();return _isSafari($)||_isIOS($)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(i,N)=>this.onStorageEvent(i,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(i){for(const N of Object.keys(this.listeners)){const Q=this.storage.getItem(N),re=this.localCache[N];Q!==re&&i(N,re,Q)}}onStorageEvent(i,N=!1){if(!i.key){this.forAllChangedKeys((Ae,A,se)=>{this.notifyListeners(Ae,se)});return}const Q=i.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(Q);if(i.newValue!==Ae)i.newValue!==null?this.storage.setItem(Q,i.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===i.newValue&&!N)return}const re=()=>{const Ae=this.storage.getItem(Q);!N&&this.localCache[Q]===Ae||this.notifyListeners(Q,Ae)},Se=this.storage.getItem(Q);_isIE10()&&Se!==i.newValue&&i.newValue!==i.oldValue?setTimeout(re,IE10_LOCAL_STORAGE_SYNC_DELAY):re()}notifyListeners(i,N){this.localCache[i]=N;const Q=this.listeners[i];if(Q)for(const re of Array.from(Q))re(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((i,N,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:N,newValue:Q}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(i,N){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[i]||(this.listeners[i]=new Set,this.localCache[i]=this.storage.getItem(i)),this.listeners[i].add(N)}_removeListener(i,N){this.listeners[i]&&(this.listeners[i].delete(N),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(i,N){await super._set(i,N),this.localCache[i]=JSON.stringify(N)}async _get(i){const N=await super._get(i);return this.localCache[i]=JSON.stringify(N),N}async _remove(i){await super._remove(i),delete this.localCache[i]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(i,N){}_removeListener(i,N){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled($){return Promise.all($.map(async i=>{try{return{fulfilled:!0,value:await i}}catch(N){return{fulfilled:!1,reason:N}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(i){this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(i){const N=this.receivers.find(re=>re.isListeningto(i));if(N)return N;const Q=new Receiver(i);return this.receivers.push(Q),Q}isListeningto(i){return this.eventTarget===i}async handleEvent(i){const N=i,{eventId:Q,eventType:re,data:Se}=N.data,Ae=this.handlersMap[re];if(!(Ae!=null&&Ae.size))return;N.ports[0].postMessage({status:"ack",eventId:Q,eventType:re});const A=Array.from(Ae).map(async t=>t(N.origin,Se)),se=await _allSettled(A);N.ports[0].postMessage({status:"done",eventId:Q,eventType:re,response:se})}_subscribe(i,N){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[i]||(this.handlersMap[i]=new Set),this.handlersMap[i].add(N)}_unsubscribe(i,N){this.handlersMap[i]&&N&&this.handlersMap[i].delete(N),(!N||this.handlersMap[i].size===0)&&delete this.handlersMap[i],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId($="",i=10){let N="";for(let Q=0;Q<i;Q++)N+=Math.floor(Math.random()*10);return $+N}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(i){this.target=i,this.handlers=new Set}removeMessageHandler(i){i.messageChannel&&(i.messageChannel.port1.removeEventListener("message",i.onMessage),i.messageChannel.port1.close()),this.handlers.delete(i)}async _send(i,N,Q=50){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let Se,Ae;return new Promise((A,se)=>{const t=_generateEventId("",20);re.port1.start();const m=setTimeout(()=>{se(new Error("unsupported_event"))},Q);Ae={messageChannel:re,onMessage(ie){const z=ie;if(z.data.eventId===t)switch(z.data.status){case"ack":clearTimeout(m),Se=setTimeout(()=>{se(new Error("timeout"))},3e3);break;case"done":clearTimeout(Se),A(z.data.response);break;default:clearTimeout(m),clearTimeout(Se),se(new Error("invalid_response"));break}}},this.handlers.add(Ae),re.port1.addEventListener("message",Ae.onMessage),this.target.postMessage({eventType:i,eventId:t,data:N},[re.port2])}).finally(()=>{Ae&&this.removeMessageHandler(Ae)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation($){_window().location.href=$}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var $;return(($=navigator==null?void 0:navigator.serviceWorker)===null||$===void 0?void 0:$.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(i){this.request=i}toPromise(){return new Promise((i,N)=>{this.request.addEventListener("success",()=>{i(this.request.result)}),this.request.addEventListener("error",()=>{N(this.request.error)})})}}function getObjectStore($,i){return $.transaction([DB_OBJECTSTORE_NAME],i?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const $=indexedDB.deleteDatabase(DB_NAME);return new DBPromise($).toPromise()}function _openDatabase(){const $=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((i,N)=>{$.addEventListener("error",()=>{N($.error)}),$.addEventListener("upgradeneeded",()=>{const Q=$.result;try{Q.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(re){N(re)}}),$.addEventListener("success",async()=>{const Q=$.result;Q.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?i(Q):(Q.close(),await _deleteDatabase(),i(await _openDatabase()))})})}async function _putObject($,i,N){const Q=getObjectStore($,!0).put({[DB_DATA_KEYPATH]:i,value:N});return new DBPromise(Q).toPromise()}async function getObject($,i){const N=getObjectStore($,!1).get(i),Q=await new DBPromise(N).toPromise();return Q===void 0?null:Q.value}function _deleteObject($,i){const N=getObjectStore($,!0).delete(i);return new DBPromise(N).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(i){let N=0;for(;;)try{const Q=await this._openDb();return await i(Q)}catch(Q){if(N++>_TRANSACTION_RETRY_COUNT)throw Q;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(i,N)=>({keyProcessed:(await this._poll()).includes(N.key)})),this.receiver._subscribe("ping",async(i,N)=>["keyChanged"])}async initializeSender(){var i,N;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const Q=await this.sender._send("ping",{},800);Q&&!((i=Q[0])===null||i===void 0)&&i.fulfilled&&!((N=Q[0])===null||N===void 0)&&N.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(i){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const i=await _openDatabase();return await _putObject(i,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(i,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(i){this.pendingWrites++;try{await i()}finally{this.pendingWrites--}}async _set(i,N){return this._withPendingWrite(async()=>(await this._withRetries(Q=>_putObject(Q,i,N)),this.localCache[i]=N,this.notifyServiceWorker(i)))}async _get(i){const N=await this._withRetries(Q=>getObject(Q,i));return this.localCache[i]=N,N}async _remove(i){return this._withPendingWrite(async()=>(await this._withRetries(N=>_deleteObject(N,i)),delete this.localCache[i],this.notifyServiceWorker(i)))}async _poll(){const i=await this._withRetries(re=>{const Se=getObjectStore(re,!1).getAll();return new DBPromise(Se).toPromise()});if(!i)return[];if(this.pendingWrites!==0)return[];const N=[],Q=new Set;if(i.length!==0)for(const{fbase_key:re,value:Se}of i)Q.add(re),JSON.stringify(this.localCache[re])!==JSON.stringify(Se)&&(this.notifyListeners(re,Se),N.push(re));for(const re of Object.keys(this.localCache))this.localCache[re]&&!Q.has(re)&&(this.notifyListeners(re,null),N.push(re));return N}notifyListeners(i,N){this.localCache[i]=N;const Q=this.listeners[i];if(Q)for(const re of Array.from(Q))re(N)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(i,N){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[i]||(this.listeners[i]=new Set,this._get(i)),this.listeners[i].add(N)}_removeListener(i,N){this.listeners[i]&&(this.listeners[i].delete(N),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver($,i){return i?_getInstance(i):(_assert($._popupRedirectResolver,$,"argument-error"),$._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(i){super("custom","custom"),this.params=i}_getIdTokenResponse(i){return signInWithIdp(i,this._buildIdpRequest())}_linkToIdToken(i,N){return signInWithIdp(i,this._buildIdpRequest(N))}_getReauthenticationResolver(i){return signInWithIdp(i,this._buildIdpRequest())}_buildIdpRequest(i){const N={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return i&&(N.idToken=i),N}}function _signIn($){return _signInWithCredential($.auth,new IdpCredential($),$.bypassAuthState)}function _reauth($){const{auth:i,user:N}=$;return _assert(N,i,"internal-error"),_reauthenticate(N,new IdpCredential($),$.bypassAuthState)}async function _link($){const{auth:i,user:N}=$;return _assert(N,i,"internal-error"),_link$1(N,new IdpCredential($),$.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(i,N,Q,re,Se=!1){this.auth=i,this.resolver=Q,this.user=re,this.bypassAuthState=Se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(N)?N:[N]}execute(){return new Promise(async(i,N)=>{this.pendingPromise={resolve:i,reject:N};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Q){this.reject(Q)}})}async onAuthEvent(i){const{urlResponse:N,sessionId:Q,postBody:re,tenantId:Se,error:Ae,type:A}=i;if(Ae){this.reject(Ae);return}const se={auth:this.auth,requestUri:N,sessionId:Q,tenantId:Se||void 0,postBody:re||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(A)(se))}catch(t){this.reject(t)}}onError(i){this.reject(i)}getIdpTask(i){switch(i){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(i){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(i),this.unregisterAndCleanUp()}reject(i){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(i),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(i,N,Q,re,Se){super(i,N,re,Se),this.provider=Q,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const i=await this.execute();return _assert(i,this.auth,"internal-error"),i}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const i=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],i),this.authWindow.associatedEvent=i,this.resolver._originValidation(this.auth).catch(N=>{this.reject(N)}),this.resolver._isIframeWebStorageSupported(this.auth,N=>{N||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var i;return((i=this.authWindow)===null||i===void 0?void 0:i.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const i=()=>{var N,Q;if(!((Q=(N=this.authWindow)===null||N===void 0?void 0:N.window)===null||Q===void 0)&&Q.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(i,_POLL_WINDOW_CLOSE_TIMEOUT.get())};i()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(i,N,Q=!1){super(i,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],N,void 0,Q),this.eventId=null}async execute(){let i=redirectOutcomeMap.get(this.auth._key());if(!i){try{const Q=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;i=()=>Promise.resolve(Q)}catch(N){i=()=>Promise.reject(N)}redirectOutcomeMap.set(this.auth._key(),i)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),i()}async onAuthEvent(i){if(i.type==="signInViaRedirect")return super.onAuthEvent(i);if(i.type==="unknown"){this.resolve(null);return}if(i.eventId){const N=await this.auth._redirectUserForId(i.eventId);if(N)return this.user=N,super.onAuthEvent(i);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus($,i){const N=pendingRedirectKey(i),Q=resolverPersistence($);if(!await Q._isAvailable())return!1;const re=await Q._get(N)==="true";return await Q._remove(N),re}function _overrideRedirectResult($,i){redirectOutcomeMap.set($._key(),i)}function resolverPersistence($){return _getInstance($._redirectPersistence)}function pendingRedirectKey($){return _persistenceKeyName(PENDING_REDIRECT_KEY,$.config.apiKey,$.name)}async function _getRedirectResult($,i,N=!1){if(_isFirebaseServerApp($.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError($));const Q=_castAuth($),re=_withDefaultResolver(Q,i),Ae=await new RedirectAction(Q,re,N).execute();return Ae&&!N&&(delete Ae.user._redirectEventId,await Q._persistUserIfCurrent(Ae.user),await Q._setRedirectUser(null,i)),Ae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(i){this.auth=i,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(i){this.consumers.add(i),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,i)&&(this.sendToConsumer(this.queuedRedirectEvent,i),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(i){this.consumers.delete(i)}onEvent(i){if(this.hasEventBeenHandled(i))return!1;let N=!1;return this.consumers.forEach(Q=>{this.isEventForConsumer(i,Q)&&(N=!0,this.sendToConsumer(i,Q),this.saveEventToCache(i))}),this.hasHandledPotentialRedirect||!isRedirectEvent(i)||(this.hasHandledPotentialRedirect=!0,N||(this.queuedRedirectEvent=i,N=!0)),N}sendToConsumer(i,N){var Q;if(i.error&&!isNullRedirectEvent(i)){const re=((Q=i.error.code)===null||Q===void 0?void 0:Q.split("auth/")[1])||"internal-error";N.onError(_createError(this.auth,re))}else N.onAuthEvent(i)}isEventForConsumer(i,N){const Q=N.eventId===null||!!i.eventId&&i.eventId===N.eventId;return N.filter.includes(i.type)&&Q}hasEventBeenHandled(i){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(i))}saveEventToCache(i){this.cachedEventUids.add(eventUid(i)),this.lastProcessedEventTime=Date.now()}}function eventUid($){return[$.type,$.eventId,$.sessionId,$.tenantId].filter(i=>i).join("-")}function isNullRedirectEvent({type:$,error:i}){return $==="unknown"&&(i==null?void 0:i.code)==="auth/no-auth-event"}function isRedirectEvent($){switch($.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent($);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig($,i={}){return _performApiRequest($,"GET","/v1/projects",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin($){if($.config.emulator)return;const{authorizedDomains:i}=await _getProjectConfig($);for(const N of i)try{if(matchDomain(N))return}catch{}_fail($,"unauthorized-domain")}function matchDomain($){const i=_getCurrentUrl(),{protocol:N,hostname:Q}=new URL(i);if($.startsWith("chrome-extension://")){const Ae=new URL($);return Ae.hostname===""&&Q===""?N==="chrome-extension:"&&$.replace("chrome-extension://","")===i.replace("chrome-extension://",""):N==="chrome-extension:"&&Ae.hostname===Q}if(!HTTP_REGEX.test(N))return!1;if(IP_ADDRESS_REGEX.test($))return Q===$;const re=$.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(Q)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const $=_window().___jsl;if($!=null&&$.H){for(const i of Object.keys($.H))if($.H[i].r=$.H[i].r||[],$.H[i].L=$.H[i].L||[],$.H[i].r=[...$.H[i].L],$.CP)for(let N=0;N<$.CP.length;N++)$.CP[N]=null}}function loadGapi($){return new Promise((i,N)=>{var Q,re,Se;function Ae(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{i(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),N(_createError($,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((re=(Q=_window().gapi)===null||Q===void 0?void 0:Q.iframes)===null||re===void 0)&&re.Iframe)i(gapi.iframes.getContext());else if(!((Se=_window().gapi)===null||Se===void 0)&&Se.load)Ae();else{const A=_generateCallbackName("iframefcb");return _window()[A]=()=>{gapi.load?Ae():N(_createError($,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${A}`).catch(se=>N(se))}}).catch(i=>{throw cachedGApiLoader=null,i})}let cachedGApiLoader=null;function _loadGapi($){return cachedGApiLoader=cachedGApiLoader||loadGapi($),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl($){const i=$.config;_assert(i.authDomain,$,"auth-domain-config-required");const N=i.emulator?_emulatorUrl(i,EMULATED_IFRAME_PATH):`https://${$.config.authDomain}/${IFRAME_PATH}`,Q={apiKey:i.apiKey,appName:$.name,v:SDK_VERSION},re=EID_FROM_APIHOST.get($.config.apiHost);re&&(Q.eid=re);const Se=$._getFrameworks();return Se.length&&(Q.fw=Se.join(",")),`${N}?${querystring(Q).slice(1)}`}async function _openIframe($){const i=await _loadGapi($),N=_window().gapi;return _assert(N,$,"internal-error"),i.open({where:document.body,url:getIframeUrl($),messageHandlersFilter:N.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},Q=>new Promise(async(re,Se)=>{await Q.restyle({setHideOnLeave:!1});const Ae=_createError($,"network-request-failed"),A=_window().setTimeout(()=>{Se(Ae)},PING_TIMEOUT.get());function se(){_window().clearTimeout(A),re(Q)}Q.ping(se).then(se,()=>{Se(Ae)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(i){this.window=i,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open($,i,N,Q=DEFAULT_WIDTH,re=DEFAULT_HEIGHT){const Se=Math.max((window.screen.availHeight-re)/2,0).toString(),Ae=Math.max((window.screen.availWidth-Q)/2,0).toString();let A="";const se=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:Q.toString(),height:re.toString(),top:Se,left:Ae}),t=getUA().toLowerCase();N&&(A=_isChromeIOS(t)?TARGET_BLANK:N),_isFirefox(t)&&(i=i||FIREFOX_EMPTY_URL,se.scrollbars="yes");const m=Object.entries(se).reduce((z,[e,j])=>`${z}${e}=${j},`,"");if(_isIOSStandalone(t)&&A!=="_self")return openAsNewWindowIOS(i||"",A),new AuthPopup(null);const ie=window.open(i||"",A,m);_assert(ie,$,"popup-blocked");try{ie.focus()}catch{}return new AuthPopup(ie)}function openAsNewWindowIOS($,i){const N=document.createElement("a");N.href=$,N.target=i;const Q=document.createEvent("MouseEvent");Q.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),N.dispatchEvent(Q)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl($,i,N,Q,re,Se){_assert($.config.authDomain,$,"auth-domain-config-required"),_assert($.config.apiKey,$,"invalid-api-key");const Ae={apiKey:$.config.apiKey,appName:$.name,authType:N,redirectUrl:Q,v:SDK_VERSION,eventId:re};if(i instanceof FederatedAuthProvider){i.setDefaultLanguage($.languageCode),Ae.providerId=i.providerId||"",isEmpty(i.getCustomParameters())||(Ae.customParameters=JSON.stringify(i.getCustomParameters()));for(const[m,ie]of Object.entries({}))Ae[m]=ie}if(i instanceof BaseOAuthProvider){const m=i.getScopes().filter(ie=>ie!=="");m.length>0&&(Ae.scopes=m.join(","))}$.tenantId&&(Ae.tid=$.tenantId);const A=Ae;for(const m of Object.keys(A))A[m]===void 0&&delete A[m];const se=await $._getAppCheckToken(),t=se?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(se)}`:"";return`${getHandlerBase($)}?${querystring(A).slice(1)}${t}`}function getHandlerBase({config:$}){return $.emulator?_emulatorUrl($,EMULATOR_WIDGET_PATH):`https://${$.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(i,N,Q,re){var Se;debugAssert((Se=this.eventManagers[i._key()])===null||Se===void 0?void 0:Se.manager,"_initialize() not called before _openPopup()");const Ae=await _getRedirectUrl(i,N,Q,_getCurrentUrl(),re);return _open(i,Ae,_generateEventId())}async _openRedirect(i,N,Q,re){await this._originValidation(i);const Se=await _getRedirectUrl(i,N,Q,_getCurrentUrl(),re);return _setWindowLocation(Se),new Promise(()=>{})}_initialize(i){const N=i._key();if(this.eventManagers[N]){const{manager:re,promise:Se}=this.eventManagers[N];return re?Promise.resolve(re):(debugAssert(Se,"If manager is not set, promise should be"),Se)}const Q=this.initAndGetManager(i);return this.eventManagers[N]={promise:Q},Q.catch(()=>{delete this.eventManagers[N]}),Q}async initAndGetManager(i){const N=await _openIframe(i),Q=new AuthEventManager(i);return N.register("authEvent",re=>(_assert(re==null?void 0:re.authEvent,i,"invalid-auth-event"),{status:Q.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[i._key()]={manager:Q},this.iframes[i._key()]=N,Q}_isIframeWebStorageSupported(i,N){this.iframes[i._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},re=>{var Se;const Ae=(Se=re==null?void 0:re[0])===null||Se===void 0?void 0:Se[WEB_STORAGE_SUPPORT_KEY];Ae!==void 0&&N(!!Ae),_fail(i,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(i){const N=i._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=_validateOrigin(i)),this.originValidationPromises[N]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$1="@firebase/auth",version$1="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(i){this.auth=i,this.internalListeners=new Map}getUid(){var i;return this.assertAuthConfigured(),((i=this.auth.currentUser)===null||i===void 0?void 0:i.uid)||null}async getToken(i){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(i)}:null}addAuthTokenListener(i){if(this.assertAuthConfigured(),this.internalListeners.has(i))return;const N=this.auth.onIdTokenChanged(Q=>{i((Q==null?void 0:Q.stsTokenManager.accessToken)||null)});this.internalListeners.set(i,N),this.updateProactiveRefresh()}removeAuthTokenListener(i){this.assertAuthConfigured();const N=this.internalListeners.get(i);N&&(this.internalListeners.delete(i),N(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform($){switch($){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth($){_registerComponent(new Component("auth",(i,{options:N})=>{const Q=i.getProvider("app").getImmediate(),re=i.getProvider("heartbeat"),Se=i.getProvider("app-check-internal"),{apiKey:Ae,authDomain:A}=Q.options;_assert(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:Q.name});const se={apiKey:Ae,authDomain:A,clientPlatform:$,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion($)},t=new AuthImpl(Q,re,Se,se);return _initializeAuthInstance(t,N),t},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,N,Q)=>{i.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",i=>{const N=_castAuth(i.getProvider("auth").getImmediate());return(Q=>new AuthInterop(Q))(N)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$1,version$1,getVersionForPlatform($)),registerVersion(name$1,version$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=$=>async i=>{const N=i&&await i.getIdTokenResult(),Q=N&&(new Date().getTime()-Date.parse(N.issuedAtTime))/1e3;if(Q&&Q>authIdTokenMaxAge)return;const re=N==null?void 0:N.token;lastPostedIdToken!==re&&(lastPostedIdToken=re,await fetch($,{method:re?"POST":"DELETE",headers:re?{Authorization:`Bearer ${re}`}:{}}))};function getAuth($=getApp()){const i=_getProvider($,"auth");if(i.isInitialized())return i.getImmediate();const N=initializeAuth($,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),Q=getExperimentalSetting("authTokenSyncURL");if(Q&&typeof isSecureContext=="boolean"&&isSecureContext){const Se=new URL(Q,location.origin);if(location.origin===Se.origin){const Ae=mintCookieFactory(Se.toString());beforeAuthStateChanged(N,Ae,()=>Ae(N.currentUser)),onIdTokenChanged(N,A=>Ae(A))}}const re=getDefaultEmulatorHost("auth");return re&&connectAuthEmulator(N,`http://${re}`),N}function getScriptParentElement(){var $,i;return(i=($=document.getElementsByTagName("head"))===null||$===void 0?void 0:$[0])!==null&&i!==void 0?i:document}_setExternalJSProvider({loadJS($){return new Promise((i,N)=>{const Q=document.createElement("script");Q.setAttribute("src",$),Q.onload=i,Q.onerror=re=>{const Se=_createError("internal-error");Se.customData=re,N(Se)},Q.type="text/javascript",Q.charset="UTF-8",getScriptParentElement().appendChild(Q)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer;(function(){var $;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function i(s,r){function l(){}l.prototype=r.prototype,s.D=r.prototype,s.prototype=new l,s.prototype.constructor=s,s.C=function(c,d,K){for(var g=Array(arguments.length-2),G=2;G<arguments.length;G++)g[G-2]=arguments[G];return r.prototype[d].apply(c,g)}}function N(){this.blockSize=-1}function Q(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}i(Q,N),Q.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function re(s,r,l){l||(l=0);var c=Array(16);if(typeof r=="string")for(var d=0;16>d;++d)c[d]=r.charCodeAt(l++)|r.charCodeAt(l++)<<8|r.charCodeAt(l++)<<16|r.charCodeAt(l++)<<24;else for(d=0;16>d;++d)c[d]=r[l++]|r[l++]<<8|r[l++]<<16|r[l++]<<24;r=s.g[0],l=s.g[1],d=s.g[2];var K=s.g[3],g=r+(K^l&(d^K))+c[0]+3614090360&4294967295;r=l+(g<<7&4294967295|g>>>25),g=K+(d^r&(l^d))+c[1]+3905402710&4294967295,K=r+(g<<12&4294967295|g>>>20),g=d+(l^K&(r^l))+c[2]+606105819&4294967295,d=K+(g<<17&4294967295|g>>>15),g=l+(r^d&(K^r))+c[3]+3250441966&4294967295,l=d+(g<<22&4294967295|g>>>10),g=r+(K^l&(d^K))+c[4]+4118548399&4294967295,r=l+(g<<7&4294967295|g>>>25),g=K+(d^r&(l^d))+c[5]+1200080426&4294967295,K=r+(g<<12&4294967295|g>>>20),g=d+(l^K&(r^l))+c[6]+2821735955&4294967295,d=K+(g<<17&4294967295|g>>>15),g=l+(r^d&(K^r))+c[7]+4249261313&4294967295,l=d+(g<<22&4294967295|g>>>10),g=r+(K^l&(d^K))+c[8]+1770035416&4294967295,r=l+(g<<7&4294967295|g>>>25),g=K+(d^r&(l^d))+c[9]+2336552879&4294967295,K=r+(g<<12&4294967295|g>>>20),g=d+(l^K&(r^l))+c[10]+4294925233&4294967295,d=K+(g<<17&4294967295|g>>>15),g=l+(r^d&(K^r))+c[11]+2304563134&4294967295,l=d+(g<<22&4294967295|g>>>10),g=r+(K^l&(d^K))+c[12]+1804603682&4294967295,r=l+(g<<7&4294967295|g>>>25),g=K+(d^r&(l^d))+c[13]+4254626195&4294967295,K=r+(g<<12&4294967295|g>>>20),g=d+(l^K&(r^l))+c[14]+2792965006&4294967295,d=K+(g<<17&4294967295|g>>>15),g=l+(r^d&(K^r))+c[15]+1236535329&4294967295,l=d+(g<<22&4294967295|g>>>10),g=r+(d^K&(l^d))+c[1]+4129170786&4294967295,r=l+(g<<5&4294967295|g>>>27),g=K+(l^d&(r^l))+c[6]+3225465664&4294967295,K=r+(g<<9&4294967295|g>>>23),g=d+(r^l&(K^r))+c[11]+643717713&4294967295,d=K+(g<<14&4294967295|g>>>18),g=l+(K^r&(d^K))+c[0]+3921069994&4294967295,l=d+(g<<20&4294967295|g>>>12),g=r+(d^K&(l^d))+c[5]+3593408605&4294967295,r=l+(g<<5&4294967295|g>>>27),g=K+(l^d&(r^l))+c[10]+38016083&4294967295,K=r+(g<<9&4294967295|g>>>23),g=d+(r^l&(K^r))+c[15]+3634488961&4294967295,d=K+(g<<14&4294967295|g>>>18),g=l+(K^r&(d^K))+c[4]+3889429448&4294967295,l=d+(g<<20&4294967295|g>>>12),g=r+(d^K&(l^d))+c[9]+568446438&4294967295,r=l+(g<<5&4294967295|g>>>27),g=K+(l^d&(r^l))+c[14]+3275163606&4294967295,K=r+(g<<9&4294967295|g>>>23),g=d+(r^l&(K^r))+c[3]+4107603335&4294967295,d=K+(g<<14&4294967295|g>>>18),g=l+(K^r&(d^K))+c[8]+1163531501&4294967295,l=d+(g<<20&4294967295|g>>>12),g=r+(d^K&(l^d))+c[13]+2850285829&4294967295,r=l+(g<<5&4294967295|g>>>27),g=K+(l^d&(r^l))+c[2]+4243563512&4294967295,K=r+(g<<9&4294967295|g>>>23),g=d+(r^l&(K^r))+c[7]+1735328473&4294967295,d=K+(g<<14&4294967295|g>>>18),g=l+(K^r&(d^K))+c[12]+2368359562&4294967295,l=d+(g<<20&4294967295|g>>>12),g=r+(l^d^K)+c[5]+4294588738&4294967295,r=l+(g<<4&4294967295|g>>>28),g=K+(r^l^d)+c[8]+2272392833&4294967295,K=r+(g<<11&4294967295|g>>>21),g=d+(K^r^l)+c[11]+1839030562&4294967295,d=K+(g<<16&4294967295|g>>>16),g=l+(d^K^r)+c[14]+4259657740&4294967295,l=d+(g<<23&4294967295|g>>>9),g=r+(l^d^K)+c[1]+2763975236&4294967295,r=l+(g<<4&4294967295|g>>>28),g=K+(r^l^d)+c[4]+1272893353&4294967295,K=r+(g<<11&4294967295|g>>>21),g=d+(K^r^l)+c[7]+4139469664&4294967295,d=K+(g<<16&4294967295|g>>>16),g=l+(d^K^r)+c[10]+3200236656&4294967295,l=d+(g<<23&4294967295|g>>>9),g=r+(l^d^K)+c[13]+681279174&4294967295,r=l+(g<<4&4294967295|g>>>28),g=K+(r^l^d)+c[0]+3936430074&4294967295,K=r+(g<<11&4294967295|g>>>21),g=d+(K^r^l)+c[3]+3572445317&4294967295,d=K+(g<<16&4294967295|g>>>16),g=l+(d^K^r)+c[6]+76029189&4294967295,l=d+(g<<23&4294967295|g>>>9),g=r+(l^d^K)+c[9]+3654602809&4294967295,r=l+(g<<4&4294967295|g>>>28),g=K+(r^l^d)+c[12]+3873151461&4294967295,K=r+(g<<11&4294967295|g>>>21),g=d+(K^r^l)+c[15]+530742520&4294967295,d=K+(g<<16&4294967295|g>>>16),g=l+(d^K^r)+c[2]+3299628645&4294967295,l=d+(g<<23&4294967295|g>>>9),g=r+(d^(l|~K))+c[0]+4096336452&4294967295,r=l+(g<<6&4294967295|g>>>26),g=K+(l^(r|~d))+c[7]+1126891415&4294967295,K=r+(g<<10&4294967295|g>>>22),g=d+(r^(K|~l))+c[14]+2878612391&4294967295,d=K+(g<<15&4294967295|g>>>17),g=l+(K^(d|~r))+c[5]+4237533241&4294967295,l=d+(g<<21&4294967295|g>>>11),g=r+(d^(l|~K))+c[12]+1700485571&4294967295,r=l+(g<<6&4294967295|g>>>26),g=K+(l^(r|~d))+c[3]+2399980690&4294967295,K=r+(g<<10&4294967295|g>>>22),g=d+(r^(K|~l))+c[10]+4293915773&4294967295,d=K+(g<<15&4294967295|g>>>17),g=l+(K^(d|~r))+c[1]+2240044497&4294967295,l=d+(g<<21&4294967295|g>>>11),g=r+(d^(l|~K))+c[8]+1873313359&4294967295,r=l+(g<<6&4294967295|g>>>26),g=K+(l^(r|~d))+c[15]+4264355552&4294967295,K=r+(g<<10&4294967295|g>>>22),g=d+(r^(K|~l))+c[6]+2734768916&4294967295,d=K+(g<<15&4294967295|g>>>17),g=l+(K^(d|~r))+c[13]+1309151649&4294967295,l=d+(g<<21&4294967295|g>>>11),g=r+(d^(l|~K))+c[4]+4149444226&4294967295,r=l+(g<<6&4294967295|g>>>26),g=K+(l^(r|~d))+c[11]+3174756917&4294967295,K=r+(g<<10&4294967295|g>>>22),g=d+(r^(K|~l))+c[2]+718787259&4294967295,d=K+(g<<15&4294967295|g>>>17),g=l+(K^(d|~r))+c[9]+3951481745&4294967295,s.g[0]=s.g[0]+r&4294967295,s.g[1]=s.g[1]+(d+(g<<21&4294967295|g>>>11))&4294967295,s.g[2]=s.g[2]+d&4294967295,s.g[3]=s.g[3]+K&4294967295}Q.prototype.u=function(s,r){r===void 0&&(r=s.length);for(var l=r-this.blockSize,c=this.B,d=this.h,K=0;K<r;){if(d==0)for(;K<=l;)re(this,s,K),K+=this.blockSize;if(typeof s=="string"){for(;K<r;)if(c[d++]=s.charCodeAt(K++),d==this.blockSize){re(this,c),d=0;break}}else for(;K<r;)if(c[d++]=s[K++],d==this.blockSize){re(this,c),d=0;break}}this.h=d,this.o+=r},Q.prototype.v=function(){var s=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);s[0]=128;for(var r=1;r<s.length-8;++r)s[r]=0;var l=8*this.o;for(r=s.length-8;r<s.length;++r)s[r]=l&255,l/=256;for(this.u(s),s=Array(16),r=l=0;4>r;++r)for(var c=0;32>c;c+=8)s[l++]=this.g[r]>>>c&255;return s};function Se(s,r){var l=A;return Object.prototype.hasOwnProperty.call(l,s)?l[s]:l[s]=r(s)}function Ae(s,r){this.h=r;for(var l=[],c=!0,d=s.length-1;0<=d;d--){var K=s[d]|0;c&&K==r||(l[d]=K,c=!1)}this.g=l}var A={};function se(s){return-128<=s&&128>s?Se(s,function(r){return new Ae([r|0],0>r?-1:0)}):new Ae([s|0],0>s?-1:0)}function t(s){if(isNaN(s)||!isFinite(s))return ie;if(0>s)return T(t(-s));for(var r=[],l=1,c=0;s>=l;c++)r[c]=s/l|0,l*=4294967296;return new Ae(r,0)}function m(s,r){if(s.length==0)throw Error("number format error: empty string");if(r=r||10,2>r||36<r)throw Error("radix out of range: "+r);if(s.charAt(0)=="-")return T(m(s.substring(1),r));if(0<=s.indexOf("-"))throw Error('number format error: interior "-" character');for(var l=t(Math.pow(r,8)),c=ie,d=0;d<s.length;d+=8){var K=Math.min(8,s.length-d),g=parseInt(s.substring(d,d+K),r);8>K?(K=t(Math.pow(r,K)),c=c.j(K).add(t(g))):(c=c.j(l),c=c.add(t(g)))}return c}var ie=se(0),z=se(1),e=se(16777216);$=Ae.prototype,$.m=function(){if(f(this))return-T(this).m();for(var s=0,r=1,l=0;l<this.g.length;l++){var c=this.i(l);s+=(0<=c?c:4294967296+c)*r,r*=4294967296}return s},$.toString=function(s){if(s=s||10,2>s||36<s)throw Error("radix out of range: "+s);if(j(this))return"0";if(f(this))return"-"+T(this).toString(s);for(var r=t(Math.pow(s,6)),l=this,c="";;){var d=n(l,r).g;l=E(l,d.j(r));var K=((0<l.g.length?l.g[0]:l.h)>>>0).toString(s);if(l=d,j(l))return K+c;for(;6>K.length;)K="0"+K;c=K+c}},$.i=function(s){return 0>s?0:s<this.g.length?this.g[s]:this.h};function j(s){if(s.h!=0)return!1;for(var r=0;r<s.g.length;r++)if(s.g[r]!=0)return!1;return!0}function f(s){return s.h==-1}$.l=function(s){return s=E(this,s),f(s)?-1:j(s)?0:1};function T(s){for(var r=s.g.length,l=[],c=0;c<r;c++)l[c]=~s.g[c];return new Ae(l,~s.h).add(z)}$.abs=function(){return f(this)?T(this):this},$.add=function(s){for(var r=Math.max(this.g.length,s.g.length),l=[],c=0,d=0;d<=r;d++){var K=c+(this.i(d)&65535)+(s.i(d)&65535),g=(K>>>16)+(this.i(d)>>>16)+(s.i(d)>>>16);c=g>>>16,K&=65535,g&=65535,l[d]=g<<16|K}return new Ae(l,l[l.length-1]&-2147483648?-1:0)};function E(s,r){return s.add(T(r))}$.j=function(s){if(j(this)||j(s))return ie;if(f(this))return f(s)?T(this).j(T(s)):T(T(this).j(s));if(f(s))return T(this.j(T(s)));if(0>this.l(e)&&0>s.l(e))return t(this.m()*s.m());for(var r=this.g.length+s.g.length,l=[],c=0;c<2*r;c++)l[c]=0;for(c=0;c<this.g.length;c++)for(var d=0;d<s.g.length;d++){var K=this.i(c)>>>16,g=this.i(c)&65535,G=s.i(d)>>>16,O=s.i(d)&65535;l[2*c+2*d]+=g*O,_(l,2*c+2*d),l[2*c+2*d+1]+=K*O,_(l,2*c+2*d+1),l[2*c+2*d+1]+=g*G,_(l,2*c+2*d+1),l[2*c+2*d+2]+=K*G,_(l,2*c+2*d+2)}for(c=0;c<r;c++)l[c]=l[2*c+1]<<16|l[2*c];for(c=r;c<2*r;c++)l[c]=0;return new Ae(l,0)};function _(s,r){for(;(s[r]&65535)!=s[r];)s[r+1]+=s[r]>>>16,s[r]&=65535,r++}function y(s,r){this.g=s,this.h=r}function n(s,r){if(j(r))throw Error("division by zero");if(j(s))return new y(ie,ie);if(f(s))return r=n(T(s),r),new y(T(r.g),T(r.h));if(f(r))return r=n(s,T(r)),new y(T(r.g),r.h);if(30<s.g.length){if(f(s)||f(r))throw Error("slowDivide_ only works with positive integers.");for(var l=z,c=r;0>=c.l(s);)l=u(l),c=u(c);var d=p(l,1),K=p(c,1);for(c=p(c,2),l=p(l,2);!j(c);){var g=K.add(c);0>=g.l(s)&&(d=d.add(l),K=g),c=p(c,1),l=p(l,1)}return r=E(s,d.j(r)),new y(d,r)}for(d=ie;0<=s.l(r);){for(l=Math.max(1,Math.floor(s.m()/r.m())),c=Math.ceil(Math.log(l)/Math.LN2),c=48>=c?1:Math.pow(2,c-48),K=t(l),g=K.j(r);f(g)||0<g.l(s);)l-=c,K=t(l),g=K.j(r);j(K)&&(K=z),d=d.add(K),s=E(s,g)}return new y(d,s)}$.A=function(s){return n(this,s).h},$.and=function(s){for(var r=Math.max(this.g.length,s.g.length),l=[],c=0;c<r;c++)l[c]=this.i(c)&s.i(c);return new Ae(l,this.h&s.h)},$.or=function(s){for(var r=Math.max(this.g.length,s.g.length),l=[],c=0;c<r;c++)l[c]=this.i(c)|s.i(c);return new Ae(l,this.h|s.h)},$.xor=function(s){for(var r=Math.max(this.g.length,s.g.length),l=[],c=0;c<r;c++)l[c]=this.i(c)^s.i(c);return new Ae(l,this.h^s.h)};function u(s){for(var r=s.g.length+1,l=[],c=0;c<r;c++)l[c]=s.i(c)<<1|s.i(c-1)>>>31;return new Ae(l,s.h)}function p(s,r){var l=r>>5;r%=32;for(var c=s.g.length-l,d=[],K=0;K<c;K++)d[K]=0<r?s.i(K+l)>>>r|s.i(K+l+1)<<32-r:s.i(K+l);return new Ae(d,s.h)}Q.prototype.digest=Q.prototype.v,Q.prototype.reset=Q.prototype.s,Q.prototype.update=Q.prototype.u,Ae.prototype.add=Ae.prototype.add,Ae.prototype.multiply=Ae.prototype.j,Ae.prototype.modulo=Ae.prototype.A,Ae.prototype.compare=Ae.prototype.l,Ae.prototype.toNumber=Ae.prototype.m,Ae.prototype.toString=Ae.prototype.toString,Ae.prototype.getBits=Ae.prototype.i,Ae.fromNumber=t,Ae.fromString=m,Integer=Ae}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var $,i=typeof Object.defineProperties=="function"?Object.defineProperty:function(B,be,ve){return B==Array.prototype||B==Object.prototype||(B[be]=ve.value),B};function N(B){B=[typeof globalThis=="object"&&globalThis,B,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var be=0;be<B.length;++be){var ve=B[be];if(ve&&ve.Math==Math)return ve}throw Error("Cannot find global object")}var Q=N(this);function re(B,be){if(be)e:{var ve=Q;B=B.split(".");for(var _e=0;_e<B.length-1;_e++){var Ye=B[_e];if(!(Ye in ve))break e;ve=ve[Ye]}B=B[B.length-1],_e=ve[B],be=be(_e),be!=_e&&be!=null&&i(ve,B,{configurable:!0,writable:!0,value:be})}}function Se(B,be){B instanceof String&&(B+="");var ve=0,_e=!1,Ye={next:function(){if(!_e&&ve<B.length){var at=ve++;return{value:be(at,B[at]),done:!1}}return _e=!0,{done:!0,value:void 0}}};return Ye[Symbol.iterator]=function(){return Ye},Ye}re("Array.prototype.values",function(B){return B||function(){return Se(this,function(be,ve){return ve})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var Ae=Ae||{},A=this||self;function se(B){var be=typeof B;return be=be!="object"?be:B?Array.isArray(B)?"array":be:"null",be=="array"||be=="object"&&typeof B.length=="number"}function t(B){var be=typeof B;return be=="object"&&B!=null||be=="function"}function m(B,be,ve){return B.call.apply(B.bind,arguments)}function ie(B,be,ve){if(!B)throw Error();if(2<arguments.length){var _e=Array.prototype.slice.call(arguments,2);return function(){var Ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ye,_e),B.apply(be,Ye)}}return function(){return B.apply(be,arguments)}}function z(B,be,ve){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:ie,z.apply(null,arguments)}function e(B,be){var ve=Array.prototype.slice.call(arguments,1);return function(){var _e=ve.slice();return _e.push.apply(_e,arguments),B.apply(this,_e)}}function j(B,be){function ve(){}ve.prototype=be.prototype,B.aa=be.prototype,B.prototype=new ve,B.prototype.constructor=B,B.Qb=function(_e,Ye,at){for(var Et=Array(arguments.length-2),tn=2;tn<arguments.length;tn++)Et[tn-2]=arguments[tn];return be.prototype[Ye].apply(_e,Et)}}function f(B){const be=B.length;if(0<be){const ve=Array(be);for(let _e=0;_e<be;_e++)ve[_e]=B[_e];return ve}return[]}function T(B,be){for(let ve=1;ve<arguments.length;ve++){const _e=arguments[ve];if(se(_e)){const Ye=B.length||0,at=_e.length||0;B.length=Ye+at;for(let Et=0;Et<at;Et++)B[Ye+Et]=_e[Et]}else B.push(_e)}}class E{constructor(be,ve){this.i=be,this.j=ve,this.h=0,this.g=null}get(){let be;return 0<this.h?(this.h--,be=this.g,this.g=be.next,be.next=null):be=this.i(),be}}function _(B){return/^[\s\xa0]*$/.test(B)}function y(){var B=A.navigator;return B&&(B=B.userAgent)?B:""}function n(B){return n[" "](B),B}n[" "]=function(){};var u=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function p(B,be,ve){for(const _e in B)be.call(ve,B[_e],_e,B)}function s(B,be){for(const ve in B)be.call(void 0,B[ve],ve,B)}function r(B){const be={};for(const ve in B)be[ve]=B[ve];return be}const l="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c(B,be){let ve,_e;for(let Ye=1;Ye<arguments.length;Ye++){_e=arguments[Ye];for(ve in _e)B[ve]=_e[ve];for(let at=0;at<l.length;at++)ve=l[at],Object.prototype.hasOwnProperty.call(_e,ve)&&(B[ve]=_e[ve])}}function d(B){var be=1;B=B.split(":");const ve=[];for(;0<be&&B.length;)ve.push(B.shift()),be--;return B.length&&ve.push(B.join(":")),ve}function K(B){A.setTimeout(()=>{throw B},0)}function g(){var B=h;let be=null;return B.g&&(be=B.g,B.g=B.g.next,B.g||(B.h=null),be.next=null),be}class G{constructor(){this.h=this.g=null}add(be,ve){const _e=O.get();_e.set(be,ve),this.h?this.h.next=_e:this.g=_e,this.h=_e}}var O=new E(()=>new w,B=>B.reset());class w{constructor(){this.next=this.g=this.h=null}set(be,ve){this.h=be,this.g=ve,this.next=null}reset(){this.next=this.g=this.h=null}}let R,o=!1,h=new G,H=()=>{const B=A.Promise.resolve(void 0);R=()=>{B.then(L)}};var L=()=>{for(var B;B=g();){try{B.h.call(B.g)}catch(ve){K(ve)}var be=O;be.j(B),100>be.h&&(be.h++,B.next=be.g,be.g=B)}o=!1};function x(){this.s=this.s,this.C=this.C}x.prototype.s=!1,x.prototype.ma=function(){this.s||(this.s=!0,this.N())},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function v(B,be){this.type=B,this.g=this.target=be,this.defaultPrevented=!1}v.prototype.h=function(){this.defaultPrevented=!0};var F=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var B=!1,be=Object.defineProperty({},"passive",{get:function(){B=!0}});try{const ve=()=>{};A.addEventListener("test",ve,be),A.removeEventListener("test",ve,be)}catch{}return B}();function k(B,be){if(v.call(this,B?B.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,B){var ve=this.type=B.type,_e=B.changedTouches&&B.changedTouches.length?B.changedTouches[0]:null;if(this.target=B.target||B.srcElement,this.g=be,be=B.relatedTarget){if(u){e:{try{n(be.nodeName);var Ye=!0;break e}catch{}Ye=!1}Ye||(be=null)}}else ve=="mouseover"?be=B.fromElement:ve=="mouseout"&&(be=B.toElement);this.relatedTarget=be,_e?(this.clientX=_e.clientX!==void 0?_e.clientX:_e.pageX,this.clientY=_e.clientY!==void 0?_e.clientY:_e.pageY,this.screenX=_e.screenX||0,this.screenY=_e.screenY||0):(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0),this.button=B.button,this.key=B.key||"",this.ctrlKey=B.ctrlKey,this.altKey=B.altKey,this.shiftKey=B.shiftKey,this.metaKey=B.metaKey,this.pointerId=B.pointerId||0,this.pointerType=typeof B.pointerType=="string"?B.pointerType:U[B.pointerType]||"",this.state=B.state,this.i=B,B.defaultPrevented&&k.aa.h.call(this)}}j(k,v);var U={2:"touch",3:"pen",4:"mouse"};k.prototype.h=function(){k.aa.h.call(this);var B=this.i;B.preventDefault?B.preventDefault():B.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),J=0;function I(B,be,ve,_e,Ye){this.listener=B,this.proxy=null,this.src=be,this.type=ve,this.capture=!!_e,this.ha=Ye,this.key=++J,this.da=this.fa=!1}function X(B){B.da=!0,B.listener=null,B.proxy=null,B.src=null,B.ha=null}function ne(B){this.src=B,this.g={},this.h=0}ne.prototype.add=function(B,be,ve,_e,Ye){var at=B.toString();B=this.g[at],B||(B=this.g[at]=[],this.h++);var Et=V(B,be,_e,Ye);return-1<Et?(be=B[Et],ve||(be.fa=!1)):(be=new I(be,this.src,at,!!_e,Ye),be.fa=ve,B.push(be)),be};function P(B,be){var ve=be.type;if(ve in B.g){var _e=B.g[ve],Ye=Array.prototype.indexOf.call(_e,be,void 0),at;(at=0<=Ye)&&Array.prototype.splice.call(_e,Ye,1),at&&(X(be),B.g[ve].length==0&&(delete B.g[ve],B.h--))}}function V(B,be,ve,_e){for(var Ye=0;Ye<B.length;++Ye){var at=B[Ye];if(!at.da&&at.listener==be&&at.capture==!!ve&&at.ha==_e)return Ye}return-1}var Y="closure_lm_"+(1e6*Math.random()|0),Z={};function q(B,be,ve,_e,Ye){if(Array.isArray(be)){for(var at=0;at<be.length;at++)q(B,be[at],ve,_e,Ye);return null}return ve=me(ve),B&&B[ee]?B.K(be,ve,t(_e)?!!_e.capture:!!_e,Ye):M(B,be,ve,!1,_e,Ye)}function M(B,be,ve,_e,Ye,at){if(!be)throw Error("Invalid event type");var Et=t(Ye)?!!Ye.capture:!!Ye,tn=ue(B);if(tn||(B[Y]=tn=new ne(B)),ve=tn.add(be,ve,_e,Et,at),ve.proxy)return ve;if(_e=te(),ve.proxy=_e,_e.src=B,_e.listener=ve,B.addEventListener)F||(Ye=Et),Ye===void 0&&(Ye=!1),B.addEventListener(be.toString(),_e,Ye);else if(B.attachEvent)B.attachEvent(fe(be.toString()),_e);else if(B.addListener&&B.removeListener)B.addListener(_e);else throw Error("addEventListener and attachEvent are unavailable.");return ve}function te(){function B(ve){return be.call(B.src,B.listener,ve)}const be=de;return B}function W(B,be,ve,_e,Ye){if(Array.isArray(be))for(var at=0;at<be.length;at++)W(B,be[at],ve,_e,Ye);else _e=t(_e)?!!_e.capture:!!_e,ve=me(ve),B&&B[ee]?(B=B.i,be=String(be).toString(),be in B.g&&(at=B.g[be],ve=V(at,ve,_e,Ye),-1<ve&&(X(at[ve]),Array.prototype.splice.call(at,ve,1),at.length==0&&(delete B.g[be],B.h--)))):B&&(B=ue(B))&&(be=B.g[be.toString()],B=-1,be&&(B=V(be,ve,_e,Ye)),(ve=-1<B?be[B]:null)&&ae(ve))}function ae(B){if(typeof B!="number"&&B&&!B.da){var be=B.src;if(be&&be[ee])P(be.i,B);else{var ve=B.type,_e=B.proxy;be.removeEventListener?be.removeEventListener(ve,_e,B.capture):be.detachEvent?be.detachEvent(fe(ve),_e):be.addListener&&be.removeListener&&be.removeListener(_e),(ve=ue(be))?(P(ve,B),ve.h==0&&(ve.src=null,be[Y]=null)):X(B)}}}function fe(B){return B in Z?Z[B]:Z[B]="on"+B}function de(B,be){if(B.da)B=!0;else{be=new k(be,this);var ve=B.listener,_e=B.ha||B.src;B.fa&&ae(B),B=ve.call(_e,be)}return B}function ue(B){return B=B[Y],B instanceof ne?B:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(B){return typeof B=="function"?B:(B[he]||(B[he]=function(be){return B.handleEvent(be)}),B[he])}function xe(){x.call(this),this.i=new ne(this),this.M=this,this.F=null}j(xe,x),xe.prototype[ee]=!0,xe.prototype.removeEventListener=function(B,be,ve,_e){W(this,B,be,ve,_e)};function we(B,be){var ve,_e=B.F;if(_e)for(ve=[];_e;_e=_e.F)ve.push(_e);if(B=B.M,_e=be.type||be,typeof be=="string")be=new v(be,B);else if(be instanceof v)be.target=be.target||B;else{var Ye=be;be=new v(_e,B),c(be,Ye)}if(Ye=!0,ve)for(var at=ve.length-1;0<=at;at--){var Et=be.g=ve[at];Ye=Ce(Et,_e,!0,be)&&Ye}if(Et=be.g=B,Ye=Ce(Et,_e,!0,be)&&Ye,Ye=Ce(Et,_e,!1,be)&&Ye,ve)for(at=0;at<ve.length;at++)Et=be.g=ve[at],Ye=Ce(Et,_e,!1,be)&&Ye}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var B=this.i,be;for(be in B.g){for(var ve=B.g[be],_e=0;_e<ve.length;_e++)X(ve[_e]);delete B.g[be],B.h--}}this.F=null},xe.prototype.K=function(B,be,ve,_e){return this.i.add(String(B),be,!1,ve,_e)},xe.prototype.L=function(B,be,ve,_e){return this.i.add(String(B),be,!0,ve,_e)};function Ce(B,be,ve,_e){if(be=B.i.g[String(be)],!be)return!0;be=be.concat();for(var Ye=!0,at=0;at<be.length;++at){var Et=be[at];if(Et&&!Et.da&&Et.capture==ve){var tn=Et.listener,cn=Et.ha||Et.src;Et.fa&&P(B.i,Et),Ye=tn.call(cn,_e)!==!1&&Ye}}return Ye&&!_e.defaultPrevented}function Fe(B,be,ve){if(typeof B=="function")ve&&(B=z(B,ve));else if(B&&typeof B.handleEvent=="function")B=z(B.handleEvent,B);else throw Error("Invalid listener argument");return 2147483647<Number(be)?-1:A.setTimeout(B,be||0)}function Oe(B){B.g=Fe(()=>{B.g=null,B.i&&(B.i=!1,Oe(B))},B.l);const be=B.h;B.h=null,B.m.apply(null,be)}class Ie extends x{constructor(be,ve){super(),this.m=be,this.l=ve,this.h=null,this.i=!1,this.g=null}j(be){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(B){x.call(this),this.h=B,this.g={}}j(Me,x);var Le=[];function qe(B){p(B.g,function(be,ve){this.g.hasOwnProperty(ve)&&ae(be)},B),B.g={}}Me.prototype.N=function(){Me.aa.N.call(this),qe(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=A.JSON.stringify,Ue=A.JSON.parse,$e=class{stringify(B){return A.JSON.stringify(B,void 0)}parse(B){return A.JSON.parse(B,void 0)}};function De(){}De.prototype.h=null;function Te(B){return B.h||(B.h=B.i())}function Ee(){}var ze={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tt(){v.call(this,"d")}j(tt,v);function ft(){v.call(this,"c")}j(ft,v);var Be={},Ne=null;function ke(){return Ne=Ne||new xe}Be.La="serverreachability";function rt(B){v.call(this,Be.La,B)}j(rt,v);function ot(B){const be=ke();we(be,new rt(be))}Be.STAT_EVENT="statevent";function st(B,be){v.call(this,Be.STAT_EVENT,B),this.stat=be}j(st,v);function xt(B){const be=ke();we(be,new st(be,B))}Be.Ma="timingevent";function et(B,be){v.call(this,Be.Ma,B),this.size=be}j(et,v);function ut(B,be){if(typeof B!="function")throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){B()},be)}function kt(){this.g=!0}kt.prototype.xa=function(){this.g=!1};function Qe(B,be,ve,_e,Ye,at){B.info(function(){if(B.g)if(at)for(var Et="",tn=at.split("&"),cn=0;cn<tn.length;cn++){var Jt=tn[cn].split("=");if(1<Jt.length){var ln=Jt[0];Jt=Jt[1];var un=ln.split("_");Et=2<=un.length&&un[1]=="type"?Et+(ln+"="+Jt+"&"):Et+(ln+"=redacted&")}}else Et=null;else Et=at;return"XMLHTTP REQ ("+_e+") [attempt "+Ye+"]: "+be+`
`+ve+`
`+Et})}function vt(B,be,ve,_e,Ye,at,Et){B.info(function(){return"XMLHTTP RESP ("+_e+") [ attempt "+Ye+"]: "+be+`
`+ve+`
`+at+" "+Et})}function ht(B,be,ve,_e){B.info(function(){return"XMLHTTP TEXT ("+be+"): "+Ot(B,ve)+(_e?" "+_e:"")})}function Ut(B,be){B.info(function(){return"TIMEOUT: "+be})}kt.prototype.info=function(){};function Ot(B,be){if(!B.g)return be;if(!be)return null;try{var ve=JSON.parse(be);if(ve){for(B=0;B<ve.length;B++)if(Array.isArray(ve[B])){var _e=ve[B];if(!(2>_e.length)){var Ye=_e[1];if(Array.isArray(Ye)&&!(1>Ye.length)){var at=Ye[0];if(at!="noop"&&at!="stop"&&at!="close")for(var Et=1;Et<Ye.length;Et++)Ye[Et]=""}}}}return Xe(ve)}catch{return be}}var It={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ct={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wt;function zt(){}j(zt,De),zt.prototype.g=function(){return new XMLHttpRequest},zt.prototype.i=function(){return{}},Wt=new zt;function Je(B,be,ve,_e){this.j=B,this.i=be,this.l=ve,this.R=_e||1,this.U=new Me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}var nt={},it={};function pt(B,be,ve){B.L=1,B.v=_n(gn(be)),B.m=ve,B.P=!0,Tt(B,null)}function Tt(B,be){B.F=Date.now(),yt(B),B.A=gn(B.v);var ve=B.A,_e=B.R;Array.isArray(_e)||(_e=[String(_e)]),Gn(ve.i,"t",_e),B.C=0,ve=B.j.J,B.h=new Ve,B.g=Bi(B.j,ve?be:null,!B.m),0<B.O&&(B.M=new Ie(z(B.Y,B,B.g),B.O)),be=B.U,ve=B.g,_e=B.ca;var Ye="readystatechange";Array.isArray(Ye)||(Ye&&(Le[0]=Ye.toString()),Ye=Le);for(var at=0;at<Ye.length;at++){var Et=q(ve,Ye[at],_e||be.handleEvent,!1,be.h||be);if(!Et)break;be.g[Et.key]=Et}be=B.H?r(B.H):{},B.m?(B.u||(B.u="POST"),be["Content-Type"]="application/x-www-form-urlencoded",B.g.ea(B.A,B.u,B.m,be)):(B.u="GET",B.g.ea(B.A,B.u,null,be)),ot(),Qe(B.i,B.u,B.A,B.l,B.R,B.m)}Je.prototype.ca=function(B){B=B.target;const be=this.M;be&&Bt(B)==3?be.j():this.Y(B)},Je.prototype.Y=function(B){try{if(B==this.g)e:{const un=Bt(this.g);var be=this.g.Ba();const Vn=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||sn(this.g)))){this.J||un!=4||be==7||(be==8||0>=Vn?ot(3):ot(2)),Nt(this);var ve=this.g.Z();this.X=ve;t:if(mt(this)){var _e=sn(this.g);B="";var Ye=_e.length,at=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){St(this),Dt(this);var Et="";break t}this.h.i=new A.TextDecoder}for(be=0;be<Ye;be++)this.h.h=!0,B+=this.h.i.decode(_e[be],{stream:!(at&&be==Ye-1)});_e.length=0,this.h.g+=B,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=ve==200,vt(this.i,this.u,this.A,this.l,this.R,un,ve),this.o){if(this.T&&!this.K){t:{if(this.g){var tn,cn=this.g;if((tn=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(tn)){var Jt=tn;break t}}Jt=null}if(ve=Jt)ht(this.i,this.l,ve,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Re(this,ve);else{this.o=!1,this.s=3,xt(12),St(this),Dt(this);break e}}if(this.P){ve=!0;let An;for(;!this.J&&this.C<Et.length;)if(An=lt(this,Et),An==it){un==4&&(this.s=4,xt(14),ve=!1),ht(this.i,this.l,null,"[Incomplete Response]");break}else if(An==nt){this.s=4,xt(15),ht(this.i,this.l,Et,"[Invalid Chunk]"),ve=!1;break}else ht(this.i,this.l,An,null),Re(this,An);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||Et.length!=0||this.h.h||(this.s=1,xt(16),ve=!1),this.o=this.o&&ve,!ve)ht(this.i,this.l,Et,"[Invalid Chunked Response]"),St(this),Dt(this);else if(0<Et.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),hi(ln),ln.M=!0,xt(11))}}else ht(this.i,this.l,Et,null),Re(this,Et);un==4&&St(this),this.o&&!this.J&&(un==4?Mi(this.j,this):(this.o=!1,yt(this)))}else $t(this.g),ve==400&&0<Et.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),St(this),Dt(this)}}}catch{}finally{}};function mt(B){return B.g?B.u=="GET"&&B.L!=2&&B.j.Ca:!1}function lt(B,be){var ve=B.C,_e=be.indexOf(`
`,ve);return _e==-1?it:(ve=Number(be.substring(ve,_e)),isNaN(ve)?nt:(_e+=1,_e+ve>be.length?it:(be=be.slice(_e,_e+ve),B.C=_e+ve,be)))}Je.prototype.cancel=function(){this.J=!0,St(this)};function yt(B){B.S=Date.now()+B.I,Ft(B,B.I)}function Ft(B,be){if(B.B!=null)throw Error("WatchDog timer not null");B.B=ut(z(B.ba,B),be)}function Nt(B){B.B&&(A.clearTimeout(B.B),B.B=null)}Je.prototype.ba=function(){this.B=null;const B=Date.now();0<=B-this.S?(Ut(this.i,this.A),this.L!=2&&(ot(),xt(17)),St(this),this.s=2,Dt(this)):Ft(this,this.S-B)};function Dt(B){B.j.G==0||B.J||Mi(B.j,B)}function St(B){Nt(B);var be=B.M;be&&typeof be.ma=="function"&&be.ma(),B.M=null,qe(B.U),B.g&&(be=B.g,B.g=null,be.abort(),be.ma())}function Re(B,be){try{var ve=B.j;if(ve.G!=0&&(ve.g==B||Pt(ve.h,B))){if(!B.K&&Pt(ve.h,B)&&ve.G==3){try{var _e=ve.Da.g.parse(be)}catch{_e=null}if(Array.isArray(_e)&&_e.length==3){var Ye=_e;if(Ye[0]==0){e:if(!ve.u){if(ve.g)if(ve.g.F+3e3<B.F)ii(ve),mn(ve);else break e;ui(ve),xt(18)}}else ve.za=Ye[1],0<ve.za-ve.T&&37500>Ye[2]&&ve.F&&ve.v==0&&!ve.C&&(ve.C=ut(z(ve.Za,ve),6e3));if(1>=gt(ve.h)&&ve.ca){try{ve.ca()}catch{}ve.ca=void 0}}else Ln(ve,11)}else if((B.K||ve.g==B)&&ii(ve),!_(be))for(Ye=ve.Da.g.parse(be),be=0;be<Ye.length;be++){let Jt=Ye[be];if(ve.T=Jt[0],Jt=Jt[1],ve.G==2)if(Jt[0]=="c"){ve.K=Jt[1],ve.ia=Jt[2];const ln=Jt[3];ln!=null&&(ve.la=ln,ve.j.info("VER="+ve.la));const un=Jt[4];un!=null&&(ve.Aa=un,ve.j.info("SVER="+ve.Aa));const Vn=Jt[5];Vn!=null&&typeof Vn=="number"&&0<Vn&&(_e=1.5*Vn,ve.L=_e,ve.j.info("backChannelRequestTimeoutMs_="+_e)),_e=ve;const An=B.g;if(An){const si=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var at=_e.h;at.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(at.j=at.l,at.g=new Set,at.h&&(Vt(at,at.h),at.h=null))}if(_e.D){const di=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;di&&(_e.ya=di,en(_e.I,_e.D,di))}}ve.G=3,ve.l&&ve.l.ua(),ve.ba&&(ve.R=Date.now()-B.F,ve.j.info("Handshake RTT: "+ve.R+"ms")),_e=ve;var Et=B;if(_e.qa=Li(_e,_e.J?_e.ia:null,_e.W),Et.K){Rt(_e.h,Et);var tn=Et,cn=_e.L;cn&&(tn.I=cn),tn.B&&(Nt(tn),yt(tn)),_e.g=Et}else Pi(_e);0<ve.i.length&&rn(ve)}else Jt[0]!="stop"&&Jt[0]!="close"||Ln(ve,7);else ve.G==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Ln(ve,7):Ht(ve):Jt[0]!="noop"&&ve.l&&ve.l.ta(Jt),ve.v=0)}}ot(4)}catch{}}var He=class{constructor(B,be){this.g=B,this.map=be}};function Ze(B){this.l=B||10,A.PerformanceNavigationTiming?(B=A.performance.getEntriesByType("navigation"),B=0<B.length&&(B[0].nextHopProtocol=="hq"||B[0].nextHopProtocol=="h2")):B=!!(A.chrome&&A.chrome.loadTimes&&A.chrome.loadTimes()&&A.chrome.loadTimes().wasFetchedViaSpdy),this.j=B?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ke(B){return B.h?!0:B.g?B.g.size>=B.j:!1}function gt(B){return B.h?1:B.g?B.g.size:0}function Pt(B,be){return B.h?B.h==be:B.g?B.g.has(be):!1}function Vt(B,be){B.g?B.g.add(be):B.h=be}function Rt(B,be){B.h&&B.h==be?B.h=null:B.g&&B.g.has(be)&&B.g.delete(be)}Ze.prototype.cancel=function(){if(this.i=Lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const B of this.g.values())B.cancel();this.g.clear()}};function Lt(B){if(B.h!=null)return B.i.concat(B.h.D);if(B.g!=null&&B.g.size!==0){let be=B.i;for(const ve of B.g.values())be=be.concat(ve.D);return be}return f(B.i)}function qt(B){if(B.V&&typeof B.V=="function")return B.V();if(typeof Map<"u"&&B instanceof Map||typeof Set<"u"&&B instanceof Set)return Array.from(B.values());if(typeof B=="string")return B.split("");if(se(B)){for(var be=[],ve=B.length,_e=0;_e<ve;_e++)be.push(B[_e]);return be}be=[],ve=0;for(_e in B)be[ve++]=B[_e];return be}function nn(B){if(B.na&&typeof B.na=="function")return B.na();if(!B.V||typeof B.V!="function"){if(typeof Map<"u"&&B instanceof Map)return Array.from(B.keys());if(!(typeof Set<"u"&&B instanceof Set)){if(se(B)||typeof B=="string"){var be=[];B=B.length;for(var ve=0;ve<B;ve++)be.push(ve);return be}be=[],ve=0;for(const _e in B)be[ve++]=_e;return be}}}function dn(B,be){if(B.forEach&&typeof B.forEach=="function")B.forEach(be,void 0);else if(se(B)||typeof B=="string")Array.prototype.forEach.call(B,be,void 0);else for(var ve=nn(B),_e=qt(B),Ye=_e.length,at=0;at<Ye;at++)be.call(void 0,_e[at],ve&&ve[at],B)}var Bn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Un(B,be){if(B){B=B.split("&");for(var ve=0;ve<B.length;ve++){var _e=B[ve].indexOf("="),Ye=null;if(0<=_e){var at=B[ve].substring(0,_e);Ye=B[ve].substring(_e+1)}else at=B[ve];be(at,Ye?decodeURIComponent(Ye.replace(/\+/g," ")):"")}}}function yn(B){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,B instanceof yn){this.h=B.h,vn(this,B.j),this.o=B.o,this.g=B.g,Tn(this,B.s),this.l=B.l;var be=B.i,ve=new wn;ve.i=be.i,be.g&&(ve.g=new Map(be.g),ve.h=be.h),jn(this,ve),this.m=B.m}else B&&(be=String(B).match(Bn))?(this.h=!1,vn(this,be[1]||"",!0),this.o=Fn(be[2]||""),this.g=Fn(be[3]||"",!0),Tn(this,be[4]),this.l=Fn(be[5]||"",!0),jn(this,be[6]||"",!0),this.m=Fn(be[7]||"")):(this.h=!1,this.i=new wn(null,this.h))}yn.prototype.toString=function(){var B=[],be=this.j;be&&B.push(En(be,In,!0),":");var ve=this.g;return(ve||be=="file")&&(B.push("//"),(be=this.o)&&B.push(En(be,In,!0),"@"),B.push(encodeURIComponent(String(ve)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ve=this.s,ve!=null&&B.push(":",String(ve))),(ve=this.l)&&(this.g&&ve.charAt(0)!="/"&&B.push("/"),B.push(En(ve,ve.charAt(0)=="/"?Yn:Kn,!0))),(ve=this.i.toString())&&B.push("?",ve),(ve=this.m)&&B.push("#",En(ve,Pn)),B.join("")};function gn(B){return new yn(B)}function vn(B,be,ve){B.j=ve?Fn(be,!0):be,B.j&&(B.j=B.j.replace(/:$/,""))}function Tn(B,be){if(be){if(be=Number(be),isNaN(be)||0>be)throw Error("Bad port number "+be);B.s=be}else B.s=null}function jn(B,be,ve){be instanceof wn?(B.i=be,Zn(B.i,B.h)):(ve||(be=En(be,Jn)),B.i=new wn(be,B.h))}function en(B,be,ve){B.i.set(be,ve)}function _n(B){return en(B,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),B}function Fn(B,be){return B?be?decodeURI(B.replace(/%25/g,"%2525")):decodeURIComponent(B):""}function En(B,be,ve){return typeof B=="string"?(B=encodeURI(B).replace(be,$n),ve&&(B=B.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B):null}function $n(B){return B=B.charCodeAt(0),"%"+(B>>4&15).toString(16)+(B&15).toString(16)}var In=/[#\/\?@]/g,Kn=/[#\?:]/g,Yn=/[#\?]/g,Jn=/[#\?@]/g,Pn=/#/g;function wn(B,be){this.h=this.g=null,this.i=B||null,this.j=!!be}function pn(B){B.g||(B.g=new Map,B.h=0,B.i&&Un(B.i,function(be,ve){B.add(decodeURIComponent(be.replace(/\+/g," ")),ve)}))}$=wn.prototype,$.add=function(B,be){pn(this),this.i=null,B=Sn(this,B);var ve=this.g.get(B);return ve||this.g.set(B,ve=[]),ve.push(be),this.h+=1,this};function Hn(B,be){pn(B),be=Sn(B,be),B.g.has(be)&&(B.i=null,B.h-=B.g.get(be).length,B.g.delete(be))}function Xn(B,be){return pn(B),be=Sn(B,be),B.g.has(be)}$.forEach=function(B,be){pn(this),this.g.forEach(function(ve,_e){ve.forEach(function(Ye){B.call(be,Ye,_e,this)},this)},this)},$.na=function(){pn(this);const B=Array.from(this.g.values()),be=Array.from(this.g.keys()),ve=[];for(let _e=0;_e<be.length;_e++){const Ye=B[_e];for(let at=0;at<Ye.length;at++)ve.push(be[_e])}return ve},$.V=function(B){pn(this);let be=[];if(typeof B=="string")Xn(this,B)&&(be=be.concat(this.g.get(Sn(this,B))));else{B=Array.from(this.g.values());for(let ve=0;ve<B.length;ve++)be=be.concat(B[ve])}return be},$.set=function(B,be){return pn(this),this.i=null,B=Sn(this,B),Xn(this,B)&&(this.h-=this.g.get(B).length),this.g.set(B,[be]),this.h+=1,this},$.get=function(B,be){return B?(B=this.V(B),0<B.length?String(B[0]):be):be};function Gn(B,be,ve){Hn(B,be),0<ve.length&&(B.i=null,B.g.set(Sn(B,be),f(ve)),B.h+=ve.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const B=[],be=Array.from(this.g.keys());for(var ve=0;ve<be.length;ve++){var _e=be[ve];const at=encodeURIComponent(String(_e)),Et=this.V(_e);for(_e=0;_e<Et.length;_e++){var Ye=at;Et[_e]!==""&&(Ye+="="+encodeURIComponent(String(Et[_e]))),B.push(Ye)}}return this.i=B.join("&")};function Sn(B,be){return be=String(be),B.j&&(be=be.toLowerCase()),be}function Zn(B,be){be&&!B.j&&(pn(B),B.i=null,B.g.forEach(function(ve,_e){var Ye=_e.toLowerCase();_e!=Ye&&(Hn(this,_e),Gn(this,Ye,ve))},B)),B.j=be}function Dn(B,be){const ve=new kt;if(A.Image){const _e=new Image;_e.onload=e(hn,ve,"TestLoadImage: loaded",!0,be,_e),_e.onerror=e(hn,ve,"TestLoadImage: error",!1,be,_e),_e.onabort=e(hn,ve,"TestLoadImage: abort",!1,be,_e),_e.ontimeout=e(hn,ve,"TestLoadImage: timeout",!1,be,_e),A.setTimeout(function(){_e.ontimeout&&_e.ontimeout()},1e4),_e.src=B}else be(!1)}function Qn(B,be){const ve=new kt,_e=new AbortController,Ye=setTimeout(()=>{_e.abort(),hn(ve,"TestPingServer: timeout",!1,be)},1e4);fetch(B,{signal:_e.signal}).then(at=>{clearTimeout(Ye),at.ok?hn(ve,"TestPingServer: ok",!0,be):hn(ve,"TestPingServer: server error",!1,be)}).catch(()=>{clearTimeout(Ye),hn(ve,"TestPingServer: error",!1,be)})}function hn(B,be,ve,_e,Ye){try{Ye&&(Ye.onload=null,Ye.onerror=null,Ye.onabort=null,Ye.ontimeout=null),_e(ve)}catch{}}function ei(){this.g=new $e}function On(B,be,ve){const _e=ve||"";try{dn(B,function(Ye,at){let Et=Ye;t(Ye)&&(Et=Xe(Ye)),be.push(_e+at+"="+encodeURIComponent(Et))})}catch(Ye){throw be.push(_e+"type="+encodeURIComponent("_badmap")),Ye}}function Ge(B){this.l=B.Ub||null,this.j=B.eb||!1}j(Ge,De),Ge.prototype.g=function(){return new a(this.l,this.j)},Ge.prototype.i=function(B){return function(){return B}}({});function a(B,be){xe.call(this),this.D=B,this.o=be,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(a,xe),$=a.prototype,$.open=function(B,be){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=B,this.A=be,this.readyState=1,We(this)},$.send=function(B){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const be={headers:this.u,method:this.B,credentials:this.m,cache:void 0};B&&(be.body=B),(this.D||A).fetch(new Request(this.A,be)).then(this.Sa.bind(this),this.ga.bind(this))},$.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,je(this)),this.readyState=0},$.Sa=function(B){if(this.g&&(this.l=B,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=B.headers,this.readyState=2,We(this)),this.g&&(this.readyState=3,We(this),this.g)))if(this.responseType==="arraybuffer")B.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in B){if(this.j=B.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oe(this)}else B.text().then(this.Ra.bind(this),this.ga.bind(this))};function oe(B){B.j.read().then(B.Pa.bind(B)).catch(B.ga.bind(B))}$.Pa=function(B){if(this.g){if(this.o&&B.value)this.response.push(B.value);else if(!this.o){var be=B.value?B.value:new Uint8Array(0);(be=this.v.decode(be,{stream:!B.done}))&&(this.response=this.responseText+=be)}B.done?je(this):We(this),this.readyState==3&&oe(this)}},$.Ra=function(B){this.g&&(this.response=this.responseText=B,je(this))},$.Qa=function(B){this.g&&(this.response=B,je(this))},$.ga=function(){this.g&&je(this)};function je(B){B.readyState=4,B.l=null,B.j=null,B.v=null,We(B)}$.setRequestHeader=function(B,be){this.u.append(B,be)},$.getResponseHeader=function(B){return this.h&&this.h.get(B.toLowerCase())||""},$.getAllResponseHeaders=function(){if(!this.h)return"";const B=[],be=this.h.entries();for(var ve=be.next();!ve.done;)ve=ve.value,B.push(ve[0]+": "+ve[1]),ve=be.next();return B.join(`\r
`)};function We(B){B.onreadystatechange&&B.onreadystatechange.call(B)}Object.defineProperty(a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(B){this.m=B?"include":"same-origin"}});function ct(B){let be="";return p(B,function(ve,_e){be+=_e,be+=":",be+=ve,be+=`\r
`}),be}function _t(B,be,ve){e:{for(_e in ve){var _e=!1;break e}_e=!0}_e||(ve=ct(ve),typeof B=="string"?ve!=null&&encodeURIComponent(String(ve)):en(B,be,ve))}function bt(B){xe.call(this),this.headers=new Map,this.o=B||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(bt,xe);var Mt=/^https?$/i,jt=["POST","PUT"];$=bt.prototype,$.Ha=function(B){this.J=B},$.ea=function(B,be,ve,_e){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+B);be=be?be.toUpperCase():"GET",this.D=B,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wt.g(),this.v=this.o?Te(this.o):Te(Wt),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(be,String(B),!0),this.B=!1}catch(at){Gt(this,at);return}if(B=ve||"",ve=new Map(this.headers),_e)if(Object.getPrototypeOf(_e)===Object.prototype)for(var Ye in _e)ve.set(Ye,_e[Ye]);else if(typeof _e.keys=="function"&&typeof _e.get=="function")for(const at of _e.keys())ve.set(at,_e.get(at));else throw Error("Unknown input type for opt_headers: "+String(_e));_e=Array.from(ve.keys()).find(at=>at.toLowerCase()=="content-type"),Ye=A.FormData&&B instanceof A.FormData,!(0<=Array.prototype.indexOf.call(jt,be,void 0))||_e||Ye||ve.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[at,Et]of ve)this.g.setRequestHeader(at,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qt(this),this.u=!0,this.g.send(B),this.u=!1}catch(at){Gt(this,at)}};function Gt(B,be){B.h=!1,B.g&&(B.j=!0,B.g.abort(),B.j=!1),B.l=be,B.m=5,Yt(B),Zt(B)}function Yt(B){B.A||(B.A=!0,we(B,"complete"),we(B,"error"))}$.abort=function(B){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=B||7,we(this,"complete"),we(this,"abort"),Zt(this))},$.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),bt.aa.N.call(this)},$.Ea=function(){this.s||(this.B||this.u||this.j?Kt(this):this.bb())},$.bb=function(){Kt(this)};function Kt(B){if(B.h&&typeof Ae<"u"&&(!B.v[1]||Bt(B)!=4||B.Z()!=2)){if(B.u&&Bt(B)==4)Fe(B.Ea,0,B);else if(we(B,"readystatechange"),Bt(B)==4){B.h=!1;try{const Et=B.Z();e:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var be=!0;break e;default:be=!1}var ve;if(!(ve=be)){var _e;if(_e=Et===0){var Ye=String(B.D).match(Bn)[1]||null;!Ye&&A.self&&A.self.location&&(Ye=A.self.location.protocol.slice(0,-1)),_e=!Mt.test(Ye?Ye.toLowerCase():"")}ve=_e}if(ve)we(B,"complete"),we(B,"success");else{B.m=6;try{var at=2<Bt(B)?B.g.statusText:""}catch{at=""}B.l=at+" ["+B.Z()+"]",Yt(B)}}finally{Zt(B)}}}}function Zt(B,be){if(B.g){Qt(B);const ve=B.g,_e=B.v[0]?()=>{}:null;B.g=null,B.v=null,be||we(B,"ready");try{ve.onreadystatechange=_e}catch{}}}function Qt(B){B.I&&(A.clearTimeout(B.I),B.I=null)}$.isActive=function(){return!!this.g};function Bt(B){return B.g?B.g.readyState:0}$.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},$.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},$.Oa=function(B){if(this.g){var be=this.g.responseText;return B&&be.indexOf(B)==0&&(be=be.substring(B.length)),Ue(be)}};function sn(B){try{if(!B.g)return null;if("response"in B.g)return B.g.response;switch(B.H){case"":case"text":return B.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in B.g)return B.g.mozResponseArrayBuffer}return null}catch{return null}}function $t(B){const be={};B=(B.g&&2<=Bt(B)&&B.g.getAllResponseHeaders()||"").split(`\r
`);for(let _e=0;_e<B.length;_e++){if(_(B[_e]))continue;var ve=d(B[_e]);const Ye=ve[0];if(ve=ve[1],typeof ve!="string")continue;ve=ve.trim();const at=be[Ye]||[];be[Ye]=at,at.push(ve)}s(be,function(_e){return _e.join(", ")})}$.Ba=function(){return this.m},$.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xt(B,be,ve){return ve&&ve.internalChannelParams&&ve.internalChannelParams[B]||be}function on(B){this.Aa=0,this.i=[],this.j=new kt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xt("failFast",!1,B),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xt("baseRetryDelayMs",5e3,B),this.cb=Xt("retryDelaySeedMs",1e4,B),this.Wa=Xt("forwardChannelMaxRetries",2,B),this.wa=Xt("forwardChannelRequestTimeoutMs",2e4,B),this.pa=B&&B.xmlHttpFactory||void 0,this.Xa=B&&B.Tb||void 0,this.Ca=B&&B.useFetchStreams||!1,this.L=void 0,this.J=B&&B.supportsCrossDomainXhr||!1,this.K="",this.h=new Ze(B&&B.concurrentRequestLimit),this.Da=new ei,this.P=B&&B.fastHandshake||!1,this.O=B&&B.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=B&&B.Rb||!1,B&&B.xa&&this.j.xa(),B&&B.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&B&&B.detectBufferingProxy||!1,this.ja=void 0,B&&B.longPollingTimeout&&0<B.longPollingTimeout&&(this.ja=B.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}$=on.prototype,$.la=8,$.G=1,$.connect=function(B,be,ve,_e){xt(0),this.W=B,this.H=be||{},ve&&_e!==void 0&&(this.H.OSID=ve,this.H.OAID=_e),this.F=this.X,this.I=Li(this,null,this.W),rn(this)};function Ht(B){if(fn(B),B.G==3){var be=B.U++,ve=gn(B.I);if(en(ve,"SID",B.K),en(ve,"RID",be),en(ve,"TYPE","terminate"),Rn(B,ve),be=new Je(B,B.j,be),be.L=2,be.v=_n(gn(ve)),ve=!1,A.navigator&&A.navigator.sendBeacon)try{ve=A.navigator.sendBeacon(be.v.toString(),"")}catch{}!ve&&A.Image&&(new Image().src=be.v,ve=!0),ve||(be.g=Bi(be.j,null),be.g.ea(be.v)),be.F=Date.now(),yt(be)}Ni(B)}function mn(B){B.g&&(hi(B),B.g.cancel(),B.g=null)}function fn(B){mn(B),B.u&&(A.clearTimeout(B.u),B.u=null),ii(B),B.h.cancel(),B.s&&(typeof B.s=="number"&&A.clearTimeout(B.s),B.s=null)}function rn(B){if(!Ke(B.h)&&!B.s){B.s=!0;var be=B.Ga;R||H(),o||(R(),o=!0),h.add(be,B),B.B=0}}function Mn(B,be){return gt(B.h)>=B.h.j-(B.s?1:0)?!1:B.s?(B.i=be.D.concat(B.i),!0):B.G==1||B.G==2||B.B>=(B.Va?0:B.Wa)?!1:(B.s=ut(z(B.Ga,B,be),Ri(B,B.B)),B.B++,!0)}$.Ga=function(B){if(this.s)if(this.s=null,this.G==1){if(!B){this.U=Math.floor(1e5*Math.random()),B=this.U++;const Ye=new Je(this,this.j,B);let at=this.o;if(this.S&&(at?(at=r(at),c(at,this.S)):at=this.S),this.m!==null||this.O||(Ye.H=at,at=null),this.P)e:{for(var be=0,ve=0;ve<this.i.length;ve++){t:{var _e=this.i[ve];if("__data__"in _e.map&&(_e=_e.map.__data__,typeof _e=="string")){_e=_e.length;break t}_e=void 0}if(_e===void 0)break;if(be+=_e,4096<be){be=ve;break e}if(be===4096||ve===this.i.length-1){be=ve+1;break e}}be=1e3}else be=1e3;be=Nn(this,Ye,be),ve=gn(this.I),en(ve,"RID",B),en(ve,"CVER",22),this.D&&en(ve,"X-HTTP-Session-Id",this.D),Rn(this,ve),at&&(this.O?be="headers="+encodeURIComponent(String(ct(at)))+"&"+be:this.m&&_t(ve,this.m,at)),Vt(this.h,Ye),this.Ua&&en(ve,"TYPE","init"),this.P?(en(ve,"$req",be),en(ve,"SID","null"),Ye.T=!0,pt(Ye,ve,null)):pt(Ye,ve,be),this.G=2}}else this.G==3&&(B?kn(this,B):this.i.length==0||Ke(this.h)||kn(this))};function kn(B,be){var ve;be?ve=be.l:ve=B.U++;const _e=gn(B.I);en(_e,"SID",B.K),en(_e,"RID",ve),en(_e,"AID",B.T),Rn(B,_e),B.m&&B.o&&_t(_e,B.m,B.o),ve=new Je(B,B.j,ve,B.B+1),B.m===null&&(ve.H=B.o),be&&(B.i=be.D.concat(B.i)),be=Nn(B,ve,1e3),ve.I=Math.round(.5*B.wa)+Math.round(.5*B.wa*Math.random()),Vt(B.h,ve),pt(ve,_e,be)}function Rn(B,be){B.H&&p(B.H,function(ve,_e){en(be,_e,ve)}),B.l&&dn({},function(ve,_e){en(be,_e,ve)})}function Nn(B,be,ve){ve=Math.min(B.i.length,ve);var _e=B.l?z(B.l.Na,B.l,B):null;e:{var Ye=B.i;let at=-1;for(;;){const Et=["count="+ve];at==-1?0<ve?(at=Ye[0].g,Et.push("ofs="+at)):at=0:Et.push("ofs="+at);let tn=!0;for(let cn=0;cn<ve;cn++){let Jt=Ye[cn].g;const ln=Ye[cn].map;if(Jt-=at,0>Jt)at=Math.max(0,Ye[cn].g-100),tn=!1;else try{On(ln,Et,"req"+Jt+"_")}catch{_e&&_e(ln)}}if(tn){_e=Et.join("&");break e}}}return B=B.i.splice(0,ve),be.D=B,_e}function Pi(B){if(!B.g&&!B.u){B.Y=1;var be=B.Fa;R||H(),o||(R(),o=!0),h.add(be,B),B.v=0}}function ui(B){return B.g||B.u||3<=B.v?!1:(B.Y++,B.u=ut(z(B.Fa,B),Ri(B,B.v)),B.v++,!0)}$.Fa=function(){if(this.u=null,Di(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var B=2*this.R;this.j.info("BP detection timer enabled: "+B),this.A=ut(z(this.ab,this),B)}},$.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),mn(this),Di(this))};function hi(B){B.A!=null&&(A.clearTimeout(B.A),B.A=null)}function Di(B){B.g=new Je(B,B.j,"rpc",B.Y),B.m===null&&(B.g.H=B.o),B.g.O=0;var be=gn(B.qa);en(be,"RID","rpc"),en(be,"SID",B.K),en(be,"AID",B.T),en(be,"CI",B.F?"0":"1"),!B.F&&B.ja&&en(be,"TO",B.ja),en(be,"TYPE","xmlhttp"),Rn(B,be),B.m&&B.o&&_t(be,B.m,B.o),B.L&&(B.g.I=B.L);var ve=B.g;B=B.ia,ve.L=1,ve.v=_n(gn(be)),ve.m=null,ve.P=!0,Tt(ve,B)}$.Za=function(){this.C!=null&&(this.C=null,mn(this),ui(this),xt(19))};function ii(B){B.C!=null&&(A.clearTimeout(B.C),B.C=null)}function Mi(B,be){var ve=null;if(B.g==be){ii(B),hi(B),B.g=null;var _e=2}else if(Pt(B.h,be))ve=be.D,Rt(B.h,be),_e=1;else return;if(B.G!=0){if(be.o)if(_e==1){ve=be.m?be.m.length:0,be=Date.now()-be.F;var Ye=B.B;_e=ke(),we(_e,new et(_e,ve)),rn(B)}else Pi(B);else if(Ye=be.s,Ye==3||Ye==0&&0<be.X||!(_e==1&&Mn(B,be)||_e==2&&ui(B)))switch(ve&&0<ve.length&&(be=B.h,be.i=be.i.concat(ve)),Ye){case 1:Ln(B,5);break;case 4:Ln(B,10);break;case 3:Ln(B,6);break;default:Ln(B,2)}}}function Ri(B,be){let ve=B.Ta+Math.floor(Math.random()*B.cb);return B.isActive()||(ve*=2),ve*be}function Ln(B,be){if(B.j.info("Error code "+be),be==2){var ve=z(B.fb,B),_e=B.Xa;const Ye=!_e;_e=new yn(_e||"//www.google.com/images/cleardot.gif"),A.location&&A.location.protocol=="http"||vn(_e,"https"),_n(_e),Ye?Dn(_e.toString(),ve):Qn(_e.toString(),ve)}else xt(2);B.G=0,B.l&&B.l.sa(be),Ni(B),fn(B)}$.fb=function(B){B?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Ni(B){if(B.G=0,B.ka=[],B.l){const be=Lt(B.h);(be.length!=0||B.i.length!=0)&&(T(B.ka,be),T(B.ka,B.i),B.h.i.length=0,f(B.i),B.i.length=0),B.l.ra()}}function Li(B,be,ve){var _e=ve instanceof yn?gn(ve):new yn(ve);if(_e.g!="")be&&(_e.g=be+"."+_e.g),Tn(_e,_e.s);else{var Ye=A.location;_e=Ye.protocol,be=be?be+"."+Ye.hostname:Ye.hostname,Ye=+Ye.port;var at=new yn(null);_e&&vn(at,_e),be&&(at.g=be),Ye&&Tn(at,Ye),ve&&(at.l=ve),_e=at}return ve=B.D,be=B.ya,ve&&be&&en(_e,ve,be),en(_e,"VER",B.la),Rn(B,_e),_e}function Bi(B,be,ve){if(be&&!B.J)throw Error("Can't create secondary domain capable XhrIo object.");return be=B.Ca&&!B.pa?new bt(new Ge({eb:ve})):new bt(B.pa),be.Ha(B.J),be}$.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ui(){}$=Ui.prototype,$.ua=function(){},$.ta=function(){},$.sa=function(){},$.ra=function(){},$.isActive=function(){return!0},$.Na=function(){};function bn(B,be){xe.call(this),this.g=new on(be),this.l=B,this.h=be&&be.messageUrlParams||null,B=be&&be.messageHeaders||null,be&&be.clientProtocolHeaderRequired&&(B?B["X-Client-Protocol"]="webchannel":B={"X-Client-Protocol":"webchannel"}),this.g.o=B,B=be&&be.initMessageHeaders||null,be&&be.messageContentType&&(B?B["X-WebChannel-Content-Type"]=be.messageContentType:B={"X-WebChannel-Content-Type":be.messageContentType}),be&&be.va&&(B?B["X-WebChannel-Client-Profile"]=be.va:B={"X-WebChannel-Client-Profile":be.va}),this.g.S=B,(B=be&&be.Sb)&&!_(B)&&(this.g.m=B),this.v=be&&be.supportsCrossDomainXhr||!1,this.u=be&&be.sendRawJson||!1,(be=be&&be.httpSessionIdParam)&&!_(be)&&(this.g.D=be,B=this.h,B!==null&&be in B&&(B=this.h,be in B&&delete B[be])),this.j=new zn(this)}j(bn,xe),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Ht(this.g)},bn.prototype.o=function(B){var be=this.g;if(typeof B=="string"){var ve={};ve.__data__=B,B=ve}else this.u&&(ve={},ve.__data__=Xe(B),B=ve);be.i.push(new He(be.Ya++,B)),be.G==3&&rn(be)},bn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,bn.aa.N.call(this)};function ji(B){tt.call(this),B.__headers__&&(this.headers=B.__headers__,this.statusCode=B.__status__,delete B.__headers__,delete B.__status__);var be=B.__sm__;if(be){e:{for(const ve in be){B=ve;break e}B=void 0}(this.i=B)&&(B=this.i,be=be!==null&&B in be?be[B]:void 0),this.data=be}else this.data=B}j(ji,tt);function $i(){ft.call(this),this.status=1}j($i,ft);function zn(B){this.g=B}j(zn,Ui),zn.prototype.ua=function(){we(this.g,"a")},zn.prototype.ta=function(B){we(this.g,new ji(B))},zn.prototype.sa=function(B){we(this.g,new $i)},zn.prototype.ra=function(){we(this.g,"b")},bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,It.NO_ERROR=0,It.TIMEOUT=8,It.HTTP_ERROR=6,Ct.COMPLETE="complete",Ee.EventType=ze,ze.OPEN="a",ze.CLOSE="b",ze.ERROR="c",ze.MESSAGE="d",xe.prototype.listen=xe.prototype.K,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const S="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(i){this.uid=i}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=new Logger("@firebase/firestore");function __PRIVATE_logDebug($,...i){if(D.logLevel<=LogLevel.DEBUG){const N=i.map(__PRIVATE_argToString);D.debug(`Firestore (${b}): ${$}`,...N)}}function __PRIVATE_logError($,...i){if(D.logLevel<=LogLevel.ERROR){const N=i.map(__PRIVATE_argToString);D.error(`Firestore (${b}): ${$}`,...N)}}function __PRIVATE_logWarn($,...i){if(D.logLevel<=LogLevel.WARN){const N=i.map(__PRIVATE_argToString);D.warn(`Firestore (${b}): ${$}`,...N)}}function __PRIVATE_argToString($){if(typeof $=="string")return $;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(N){return JSON.stringify(N)}($)}catch{return $}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail($="Unexpected state"){const i=`FIRESTORE (${b}) INTERNAL ASSERTION FAILED: `+$;throw __PRIVATE_logError(i),new Error(i)}function __PRIVATE_hardAssert($,i){$||fail()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(i,N){super(i,N),this.code=i,this.message=N,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((i,N)=>{this.resolve=i,this.reject=N})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(i,N){this.user=N,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,N){i.enqueueRetryable(()=>N(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,N){this.changeListener=N,i.enqueueRetryable(()=>N(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(i){this.t=i,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,N){let Q=this.i;const re=se=>this.i!==Q?(Q=this.i,N(se)):Promise.resolve();let Se=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),Se.resolve(),Se=new __PRIVATE_Deferred,i.enqueueRetryable(()=>re(this.currentUser))};const Ae=()=>{const se=Se;i.enqueueRetryable(async()=>{await se.promise,await re(this.currentUser)})},A=se=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=se,this.auth.addAuthTokenListener(this.o),Ae()};this.t.onInit(se=>A(se)),setTimeout(()=>{if(!this.auth){const se=this.t.getImmediate({optional:!0});se?A(se):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),Se.resolve(),Se=new __PRIVATE_Deferred)}},0),Ae()}getToken(){const i=this.i,N=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(N).then(Q=>this.i!==i?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):Q?(__PRIVATE_hardAssert(typeof Q.accessToken=="string"),new __PRIVATE_OAuthToken(Q.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(i===null||typeof i=="string"),new User(i)}}class __PRIVATE_FirstPartyToken{constructor(i,N,Q){this.l=i,this.h=N,this.P=Q,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const i=this.T();return i&&this.I.set("Authorization",i),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(i,N,Q){this.l=i,this.h=N,this.P=Q}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(i,N){i.enqueueRetryable(()=>N(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(i,N){const Q=Se=>{Se.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${Se.error.message}`);const Ae=Se.token!==this.R;return this.R=Se.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${Ae?"new":"existing"} token.`),Ae?N(Se.token):Promise.resolve()};this.o=Se=>{i.enqueueRetryable(()=>Q(Se))};const re=Se=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=Se,this.appCheck.addTokenListener(this.o)};this.A.onInit(Se=>re(Se)),setTimeout(()=>{if(!this.appCheck){const Se=this.A.getImmediate({optional:!0});Se?re(Se):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(N=>N?(__PRIVATE_hardAssert(typeof N.token=="string"),this.R=N.token,new AppCheckToken(N.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes($){const i=typeof self<"u"&&(self.crypto||self.msCrypto),N=new Uint8Array($);if(i&&typeof i.getRandomValues=="function")i.getRandomValues(N);else for(let Q=0;Q<$;Q++)N[Q]=Math.floor(256*Math.random());return N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",N=Math.floor(256/i.length)*i.length;let Q="";for(;Q.length<20;){const re=__PRIVATE_randomBytes(40);for(let Se=0;Se<re.length;++Se)Q.length<20&&re[Se]<N&&(Q+=i.charAt(re[Se]%i.length))}return Q}}function __PRIVATE_isIndexedDbTransactionError($){return $.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(i,N,Q,re,Se,Ae,A,se,t){this.databaseId=i,this.appId=N,this.persistenceKey=Q,this.host=re,this.ssl=Se,this.forceLongPolling=Ae,this.autoDetectLongPolling=A,this.longPollingOptions=se,this.useFetchStreams=t}}class DatabaseId{constructor(i,N){this.projectId=i,this.database=N||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(i){return i instanceof DatabaseId&&i.projectId===this.projectId&&i.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce,le;(le=ce||(ce={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Integer([4294967295,4294967295],0);function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(i,N,Q=1e3,re=1.5,Se=6e4){this.oi=i,this.timerId=N,this.No=Q,this.Lo=re,this.Bo=Se,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(i){this.cancel();const N=Math.floor(this.ko+this.Uo()),Q=Math.max(0,Date.now()-this.Qo),re=Math.max(0,N-Q);re>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${re} ms (base delay: ${this.ko} ms, delay with jitter: ${N} ms, last attempt: ${Q} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,re,()=>(this.Qo=Date.now(),i())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(i,N,Q,re,Se){this.asyncQueue=i,this.timerId=N,this.targetTimeMs=Q,this.op=re,this.removalCallback=Se,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(Ae=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,N,Q,re,Se){const Ae=Date.now()+Q,A=new DelayedOperation(i,N,Ae,re,Se);return A.start(Q),A}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(C.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable($,i){if(__PRIVATE_logError("AsyncQueue",`${i}: ${$}`),__PRIVATE_isIndexedDbTransactionError($))return new FirestoreError(C.UNAVAILABLE,`${i}: ${$}`);throw $}var ge,pe;(pe=ge||(ge={})).J_="default",pe.Cache="cache";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(i,N,Q,re){this.authCredentials=i,this.appCheckCredentials=N,this.asyncQueue=Q,this.databaseInfo=re,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(Q,async Se=>{__PRIVATE_logDebug("FirestoreClient","Received user=",Se.uid),await this.authCredentialListener(Se),this.user=Se}),this.appCheckCredentials.start(Q,Se=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",Se),this.appCheckCredentialListener(Se,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const i=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),i.resolve()}catch(N){const Q=__PRIVATE_wrapInUserErrorIfRecoverable(N,"Failed to shutdown persistence");i.reject(Q)}}),i.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions($){const i={};return $.timeoutSeconds!==void 0&&(i.timeoutSeconds=$.timeoutSeconds),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=new Map;function __PRIVATE_validateIsNotUsedTogether($,i,N,Q){if(i===!0&&Q===!0)throw new FirestoreError(C.INVALID_ARGUMENT,`${$} and ${N} cannot be used together.`)}function __PRIVATE_valueDescription($){if($===void 0)return"undefined";if($===null)return"null";if(typeof $=="string")return $.length>20&&($=`${$.substring(0,20)}...`),JSON.stringify($);if(typeof $=="number"||typeof $=="boolean")return""+$;if(typeof $=="object"){if($ instanceof Array)return"an array";{const i=function(Q){return Q.constructor?Q.constructor.name:null}($);return i?`a custom ${i} object`:"an object"}}return typeof $=="function"?"a function":fail()}function __PRIVATE_cast($,i){if("_delegate"in $&&($=$._delegate),!($ instanceof i)){if(i.name===$.constructor.name)throw new FirestoreError(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const N=__PRIVATE_valueDescription($);throw new FirestoreError(C.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${N}`)}}return $}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(i){var N,Q;if(i.host===void 0){if(i.ssl!==void 0)throw new FirestoreError(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=(N=i.ssl)===null||N===void 0||N;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,i.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(i.cacheSizeBytes!==-1&&i.cacheSizeBytes<1048576)throw new FirestoreError(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:i.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((Q=i.experimentalLongPollingOptions)!==null&&Q!==void 0?Q:{}),function(Se){if(Se.timeoutSeconds!==void 0){if(isNaN(Se.timeoutSeconds))throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${Se.timeoutSeconds} (must not be NaN)`);if(Se.timeoutSeconds<5)throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${Se.timeoutSeconds} (minimum allowed value is 5)`);if(Se.timeoutSeconds>30)throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${Se.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&function(Q,re){return Q.timeoutSeconds===re.timeoutSeconds}(this.experimentalLongPollingOptions,i.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Firestore$1{constructor(i,N,Q,re){this._authCredentials=i,this._appCheckCredentials=N,this._databaseId=Q,this._app=re,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(i){if(this._settingsFrozen)throw new FirestoreError(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(i),i.credentials!==void 0&&(this._authCredentials=function(Q){if(!Q)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(Q.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(Q.sessionIndex||"0",Q.iamToken||null,Q.authTokenFactory||null);case"provider":return Q.client;default:throw new FirestoreError(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(N){const Q=ye.get(N);Q&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),ye.delete(N),Q.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator($,i,N,Q={}){var re;const Se=($=__PRIVATE_cast($,Firestore$1))._getSettings(),Ae=`${i}:${N}`;if(Se.host!=="firestore.googleapis.com"&&Se.host!==Ae&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),$._setSettings(Object.assign(Object.assign({},Se),{host:Ae,ssl:!1})),Q.mockUserToken){let A,se;if(typeof Q.mockUserToken=="string")A=Q.mockUserToken,se=User.MOCK_USER;else{A=createMockUserToken(Q.mockUserToken,(re=$._app)===null||re===void 0?void 0:re.options.projectId);const t=Q.mockUserToken.sub||Q.mockUserToken.user_id;if(!t)throw new FirestoreError(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");se=new User(t)}$._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(A,se))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.hu=()=>{const N=getDocument();N&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+N.visibilityState),this.Yo.Wo()};const i=getDocument();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Pu(),this.Iu(i)}enterRestrictedMode(i){if(!this.ou){this.ou=!0,this.cu=i||!1;const N=getDocument();N&&typeof N.removeEventListener=="function"&&N.removeEventListener("visibilitychange",this.hu)}}enqueue(i){if(this.Pu(),this.ou)return new Promise(()=>{});const N=new __PRIVATE_Deferred;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(i().then(N.resolve,N.reject),N.promise)).then(()=>N.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.su.push(i),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(i){if(!__PRIVATE_isIndexedDbTransactionError(i))throw i;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+i)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(i){const N=this.iu.then(()=>(this.uu=!0,i().catch(Q=>{this.au=Q,this.uu=!1;const re=function(Ae){let A=Ae.message||"";return Ae.stack&&(A=Ae.stack.includes(Ae.message)?Ae.stack:Ae.message+`
`+Ae.stack),A}(Q);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",re),Q}).then(Q=>(this.uu=!1,Q))));return this.iu=N,N}enqueueAfterDelay(i,N,Q){this.Pu(),this.lu.indexOf(i)>-1&&(N=0);const re=DelayedOperation.createAndSchedule(this,i,N,Q,Se=>this.Eu(Se));return this._u.push(re),re}Pu(){this.au&&fail()}verifyOperationInProgress(){}async du(){let i;do i=this.iu,await i;while(i!==this.iu)}Au(i){for(const N of this._u)if(N.timerId===i)return!0;return!1}Ru(i){return this.du().then(()=>{this._u.sort((N,Q)=>N.targetTimeMs-Q.targetTimeMs);for(const N of this._u)if(N.skipDelay(),i!=="all"&&N.timerId===i)break;return this.du()})}Vu(i){this.lu.push(i)}Eu(i){const N=this._u.indexOf(i);this._u.splice(N,1)}}class Firestore extends Firestore$1{constructor(i,N,Q,re){super(i,N,Q,re),this.type="firestore",this._queue=function(){return new __PRIVATE_AsyncQueueImpl}(),this._persistenceKey=(re==null?void 0:re.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}}function getFirestore($,i){const N=typeof $=="object"?$:getApp(),Q=typeof $=="string"?$:"(default)",re=_getProvider(N,"firestore").getImmediate({identifier:Q});if(!re._initialized){const Se=getDefaultEmulatorHostnameAndPort("firestore");Se&&connectFirestoreEmulator(re,...Se)}return re}function __PRIVATE_configureFirestore($){var i,N,Q;const re=$._freezeSettings(),Se=function(A,se,t,m){return new DatabaseInfo(A,se,t,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(m.experimentalLongPollingOptions),m.useFetchStreams)}($._databaseId,((i=$._app)===null||i===void 0?void 0:i.options.appId)||"",$._persistenceKey,re);$._firestoreClient=new FirestoreClient($._authCredentials,$._appCheckCredentials,$._queue,Se),!((N=re.localCache)===null||N===void 0)&&N._offlineComponentProvider&&(!((Q=re.localCache)===null||Q===void 0)&&Q._onlineComponentProvider)&&($._firestoreClient._uninitializedComponentsProvider={_offlineKind:re.localCache.kind,_offline:re.localCache._offlineComponentProvider,_online:re.localCache._onlineComponentProvider})}(function $(i,N=!0){(function(re){b=re})(SDK_VERSION),_registerComponent(new Component("firestore",(Q,{instanceIdentifier:re,options:Se})=>{const Ae=Q.getProvider("app").getImmediate(),A=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(Q.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(Q.getProvider("app-check-internal")),function(t,m){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new FirestoreError(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(t.options.projectId,m)}(Ae,re),Ae);return Se=Object.assign({useFetchStreams:N},Se),A._setSettings(Se),A},"PUBLIC").setMultipleInstances(!0)),registerVersion(S,"4.6.3",i),registerVersion(S,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(i,N,Q=0){super(prependCode(i),`Firebase Storage: ${N} (${prependCode(i)})`),this.status_=Q,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return prependCode(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function($){$.UNKNOWN="unknown",$.OBJECT_NOT_FOUND="object-not-found",$.BUCKET_NOT_FOUND="bucket-not-found",$.PROJECT_NOT_FOUND="project-not-found",$.QUOTA_EXCEEDED="quota-exceeded",$.UNAUTHENTICATED="unauthenticated",$.UNAUTHORIZED="unauthorized",$.UNAUTHORIZED_APP="unauthorized-app",$.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",$.INVALID_CHECKSUM="invalid-checksum",$.CANCELED="canceled",$.INVALID_EVENT_NAME="invalid-event-name",$.INVALID_URL="invalid-url",$.INVALID_DEFAULT_BUCKET="invalid-default-bucket",$.NO_DEFAULT_BUCKET="no-default-bucket",$.CANNOT_SLICE_BLOB="cannot-slice-blob",$.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",$.NO_DOWNLOAD_URL="no-download-url",$.INVALID_ARGUMENT="invalid-argument",$.INVALID_ARGUMENT_COUNT="invalid-argument-count",$.APP_DELETED="app-deleted",$.INVALID_ROOT_OPERATION="invalid-root-operation",$.INVALID_FORMAT="invalid-format",$.INTERNAL_ERROR="internal-error",$.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode($){return"storage/"+$}function unknown(){const $="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,$)}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl($){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+$+"'.")}function invalidDefaultBucket($){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+$+"'.")}function invalidArgument($){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,$)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation($){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+$+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(i,N){this.bucket=i,this.path_=N}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,N){let Q;try{Q=Location.makeFromUrl(i,N)}catch{return new Location(i,"")}if(Q.path==="")return Q;throw invalidDefaultBucket(i)}static makeFromUrl(i,N){let Q=null;const re="([A-Za-z0-9.\\-_]+)";function Se(n){n.path.charAt(n.path.length-1)==="/"&&(n.path_=n.path_.slice(0,-1))}const Ae="(/(.*))?$",A=new RegExp("^gs://"+re+Ae,"i"),se={bucket:1,path:3};function t(n){n.path_=decodeURIComponent(n.path)}const m="v[A-Za-z0-9_]+",ie=N.replace(/[.]/g,"\\."),z="(/([^?#]*).*)?$",e=new RegExp(`^https?://${ie}/${m}/b/${re}/o${z}`,"i"),j={bucket:1,path:3},f=N===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":N,T="([^?#]*)",E=new RegExp(`^https?://${f}/${re}/${T}`,"i"),y=[{regex:A,indices:se,postModify:Se},{regex:e,indices:j,postModify:t},{regex:E,indices:{bucket:1,path:2},postModify:t}];for(let n=0;n<y.length;n++){const u=y[n],p=u.regex.exec(i);if(p){const s=p[u.indices.bucket];let r=p[u.indices.path];r||(r=""),Q=new Location(s,r),u.postModify(Q);break}}if(Q==null)throw invalidUrl(i);return Q}}class FailRequest{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start($,i,N){let Q=1,re=null,Se=null,Ae=!1,A=0;function se(){return A===2}let t=!1;function m(...T){t||(t=!0,i.apply(null,T))}function ie(T){re=setTimeout(()=>{re=null,$(e,se())},T)}function z(){Se&&clearTimeout(Se)}function e(T,...E){if(t){z();return}if(T){z(),m.call(null,T,...E);return}if(se()||Ae){z(),m.call(null,T,...E);return}Q<64&&(Q*=2);let y;A===1?(A=2,y=0):y=(Q+Math.random())*1e3,ie(y)}let j=!1;function f(T){j||(j=!0,z(),!t&&(re!==null?(T||(A=2),clearTimeout(re),ie(0)):T||(A=1)))}return ie(0),Se=setTimeout(()=>{Ae=!0,f(!0)},N),f}function stop($){$(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef($){return $!==void 0}function validateNumber($,i,N,Q){if(Q<i)throw invalidArgument(`Invalid value for '${$}'. Expected ${i} or greater.`);if(Q>N)throw invalidArgument(`Invalid value for '${$}'. Expected ${N} or less.`)}function makeQueryString($){const i=encodeURIComponent;let N="?";for(const Q in $)if($.hasOwnProperty(Q)){const re=i(Q)+"="+i($[Q]);N=N+re+"&"}return N=N.slice(0,-1),N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function($){$[$.NO_ERROR=0]="NO_ERROR",$[$.NETWORK_ERROR=1]="NETWORK_ERROR",$[$.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode($,i){const N=$>=500&&$<600,re=[408,429].indexOf($)!==-1,Se=i.indexOf($)!==-1;return N||re||Se}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(i,N,Q,re,Se,Ae,A,se,t,m,ie,z=!0){this.url_=i,this.method_=N,this.headers_=Q,this.body_=re,this.successCodes_=Se,this.additionalRetryCodes_=Ae,this.callback_=A,this.errorCallback_=se,this.timeout_=t,this.progressCallback_=m,this.connectionFactory_=ie,this.retry=z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,j)=>{this.resolve_=e,this.reject_=j,this.start_()})}start_(){const i=(Q,re)=>{if(re){Q(!1,new RequestEndStatus(!1,null,!0));return}const Se=this.connectionFactory_();this.pendingConnection_=Se;const Ae=A=>{const se=A.loaded,t=A.lengthComputable?A.total:-1;this.progressCallback_!==null&&this.progressCallback_(se,t)};this.progressCallback_!==null&&Se.addUploadProgressListener(Ae),Se.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&Se.removeUploadProgressListener(Ae),this.pendingConnection_=null;const A=Se.getErrorCode()===ErrorCode.NO_ERROR,se=Se.getStatus();if(!A||isRetryStatusCode(se,this.additionalRetryCodes_)&&this.retry){const m=Se.getErrorCode()===ErrorCode.ABORT;Q(!1,new RequestEndStatus(!1,null,m));return}const t=this.successCodes_.indexOf(se)!==-1;Q(!0,new RequestEndStatus(t,Se))})},N=(Q,re)=>{const Se=this.resolve_,Ae=this.reject_,A=re.connection;if(re.wasSuccessCode)try{const se=this.callback_(A,A.getResponse());isJustDef(se)?Se(se):Se()}catch(se){Ae(se)}else if(A!==null){const se=unknown();se.serverResponse=A.getErrorText(),this.errorCallback_?Ae(this.errorCallback_(A,se)):Ae(se)}else if(re.canceled){const se=this.appDelete_?appDeleted():canceled();Ae(se)}else{const se=retryLimitExceeded();Ae(se)}};this.canceled_?N(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(i,N,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(i,N,Q){this.wasSuccessCode=i,this.connection=N,this.canceled=!!Q}}function addAuthHeader_($,i){i!==null&&i.length>0&&($.Authorization="Firebase "+i)}function addVersionHeader_($,i){$["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}function addGmpidHeader_($,i){i&&($["X-Firebase-GMPID"]=i)}function addAppCheckHeader_($,i){i!==null&&($["X-Firebase-AppCheck"]=i)}function makeRequest($,i,N,Q,re,Se,Ae=!0){const A=makeQueryString($.urlParams),se=$.url+A,t=Object.assign({},$.headers);return addGmpidHeader_(t,i),addAuthHeader_(t,N),addVersionHeader_(t,Se),addAppCheckHeader_(t,Q),new NetworkRequest(se,$.method,t,$.body,$.successCodes,$.additionalRetryCodes,$.handler,$.errorHandler,$.timeout,$.progressCallback,re,Ae)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent($){if($.length===0)return null;const i=$.lastIndexOf("/");return i===-1?"":$.slice(0,i)}function lastComponent($){const i=$.lastIndexOf("/",$.length-2);return i===-1?$:$.slice(i+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(i,N){this._service=i,N instanceof Location?this._location=N:this._location=Location.makeFromUrl(N,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,N){return new Reference(i,N)}get root(){const i=new Location(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const i=parent(this._location.path);if(i===null)return null;const N=new Location(this._location.bucket,i);return new Reference(this._service,N)}_throwIfRoot(i){if(this._location.path==="")throw invalidRootOperation(i)}}function extractBucket($,i){const N=i==null?void 0:i[CONFIG_STORAGE_BUCKET_KEY];return N==null?null:Location.makeFromBucketSpec(N,$)}function connectStorageEmulator$1($,i,N,Q={}){$.host=`${i}:${N}`,$._protocol="http";const{mockUserToken:re}=Q;re&&($._overrideAuthToken=typeof re=="string"?re:createMockUserToken(re,$.app.options.projectId))}class FirebaseStorageImpl{constructor(i,N,Q,re,Se){this.app=i,this._authProvider=N,this._appCheckProvider=Q,this._url=re,this._firebaseVersion=Se,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,re!=null?this._bucket=Location.makeFromBucketSpec(re,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,i):this._bucket=extractBucket(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){validateNumber("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){validateNumber("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const i=this._authProvider.getImmediate({optional:!0});if(i){const N=await i.getToken();if(N!==null)return N.accessToken}return null}async _getAppCheckToken(){const i=this._appCheckProvider.getImmediate({optional:!0});return i?(await i.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Reference(this,i)}_makeRequest(i,N,Q,re,Se=!0){if(this._deleted)return new FailRequest(appDeleted());{const Ae=makeRequest(i,this._appId,Q,re,N,this._firebaseVersion,Se);return this._requests.add(Ae),Ae.getPromise().then(()=>this._requests.delete(Ae),()=>this._requests.delete(Ae)),Ae}}async makeRequestWithTokens(i,N){const[Q,re]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(i,N,Q,re).getPromise()}}const name="@firebase/storage",version="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function getStorage($=getApp(),i){$=getModularInstance($);const Q=_getProvider($,STORAGE_TYPE).getImmediate({identifier:i}),re=getDefaultEmulatorHostnameAndPort("storage");return re&&connectStorageEmulator(Q,...re),Q}function connectStorageEmulator($,i,N,Q={}){connectStorageEmulator$1($,i,N,Q)}function factory($,{instanceIdentifier:i}){const N=$.getProvider("app").getImmediate(),Q=$.getProvider("auth-internal"),re=$.getProvider("app-check-internal");return new FirebaseStorageImpl(N,Q,re,i,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const firebaseConfig={apiKey:"AIzaSyAeNQArkMxjKXM3TSW8KhKegQrS9_ppK9U",authDomain:"visualtest-37643.firebaseapp.com",projectId:"visualtest-37643",storageBucket:"visualtest-37643.appspot.com",messagingSenderId:"1068660642079",appId:"1:1068660642079:web:340d894f930c88256c202a",measurementId:"G-16RRJPYM0Z"},app=initializeApp(firebaseConfig),auth=getAuth(app);getFirestore(app);getStorage(app);const _sfc_main={data(){return{pdf1Images:[],pdf2Images:[],currentUser:null,isAdmin:!1,comparisonIndex:null,differences:[],threshold:0,baseline:null,actualDifference:null}},computed:{assessmentPassed(){if(this.comparisonIndex===null)return null;if(this.differences.length===0)return!0;const $=this.pdf1Images[this.comparisonIndex];if(!$)return console.error("Current image is undefined."),!1;const i=new Image;i.src=$,i.onload=()=>{const N=i.width*i.height;if(N===0)return console.error("Total pixels are zero."),!1;const re=this.differences.length/N*100;return this.actualDifference=re,console.log("Actual Difference:",this.actualDifference),this.baseline!==null&&this.baseline!==void 0?re<=this.baseline:re<=this.threshold},i.onerror=()=>(console.error("Failed to load the image for comparison."),!1)}},async mounted(){this.getCurrentUser()},methods:{async handleFileUpload($,i){const N=$.target.files[0];if(N){const Q=await N.arrayBuffer(),re=await pdfExports.getDocument({data:Q}).promise,Se=[];for(let Ae=0;Ae<re.numPages;Ae++){const A=await re.getPage(Ae+1),se=A.getViewport({scale:2}),t=document.createElement("canvas"),m=t.getContext("2d");t.height=se.height,t.width=se.width;const ie={canvasContext:m,viewport:se};await A.render(ie).promise,Se.push(t.toDataURL("image/png"))}i==="pdf1"?this.pdf1Images=Se:i==="pdf2"&&(this.pdf2Images=Se)}},async toggleComparison($){this.comparisonIndex===$?(this.comparisonIndex=null,this.differences=[],this.actualDifference=null):(this.comparisonIndex=$,await nextTick(),this.highlightDifferences())},getCurrentUser(){onAuthStateChanged(auth,$=>{$&&(this.currentUser={id:$.uid,email:$.email},this.isAdmin=$.email==="jhen@gmail.com"||"visualtestqalstv@gmail.com",console.log(this.isAdmin))})},highlightDifferences(){if(this.comparisonIndex!==null){const $=this.$refs.highlightCanvas[this.comparisonIndex],i=$.getContext("2d"),N=new Image,Q=new Image;N.src=this.pdf1Images[this.comparisonIndex],Q.src=this.pdf2Images[this.comparisonIndex],N.onload=()=>{$.width=N.width,$.height=N.height,i.drawImage(N,0,0);const re=i.getImageData(0,0,$.width,$.height);i.drawImage(Q,0,0);const Se=i.getImageData(0,0,$.width,$.height),Ae=[];for(let m=0;m<re.height;m++)for(let ie=0;ie<re.width;ie++){const z=(m*re.width+ie)*4;(re.data[z]!==Se.data[z]||re.data[z+1]!==Se.data[z+1]||re.data[z+2]!==Se.data[z+2])&&(Ae.push({x:ie,y:m,summary:`Difference at (${ie}, ${m}) detected.`}),Se.data[z]=255,Se.data[z+1]=0,Se.data[z+2]=0,Se.data[z+3]=255)}i.putImageData(Se,0,0),this.differences=Ae;const A=N.width*N.height,t=Ae.length/A*100;this.actualDifference=t,this.baseline!==null&&this.baseline!==void 0?Math.abs(t-this.baseline)<=.2?(i.clearRect(0,0,$.width,$.height),i.drawImage(N,0,0)):console.log("Beyond acceptable range"):t<=this.threshold?(i.clearRect(0,0,$.width,$.height),i.drawImage(N,0,0)):console.log("Beyond threshold")}}},generateReport(){let $=`
    <html>
      <head>
        <title>PDF Comparison Report</title>
        <style>
          body {
            font-family: Arial, sans-serif;
            padding: 20px;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
          }
          .report-header {
            text-align: center;
            margin-bottom: 20px;
          }
          .report-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            justify-items: center;
          }
          .report-item {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
            max-width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
          }
          .report-image img {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
          }
        </style>
      </head>
      <body>
        <div class="report-header">
          <h2>PDF Comparison Report</h2>
          <p>Generated on: ${new Date().toLocaleString()}</p>
        </div>
        <div class="report-grid">
  `;this.pdf1Images.forEach((Q,re)=>{const Se=this.pdf2Images[re]||"",Ae=this.$refs.highlightCanvas[re],A=Ae?Ae.toDataURL("image/png"):"",se=document.querySelectorAll("span.passed-text")[0],m=`<p><span style="color: green; font-weight: bold;"> NEW ${se&&se.innerText?se.innerText:"N/A"}</span></p>`,ie=this.assessmentPassed!==null?this.assessmentPassed:null;let z="";ie!==null&&(z=ie?"color: green;":"color: red;");const e=`<p>Original Result: <span style="${z}">${ie!==null?ie?"Passed":"Failed due to the actual difference is  "+this.actualDifference.toFixed(2)+"%":"N/A"}</span></p>`;$+=`
      <div class="report-item">
        <h3>Page ${re+1}</h3>
        <div class="report-image">
          <h2>RESULTS:</h2>
          <p>${e}</p>
          <p>${m}</p>
          <img src="${A}" alt="Highlighted Differences - Page ${re+1}" />

          <h2>BASELINE</h2>
          <img src="${Q}" alt="PDF 1 - Page ${re+1}" />
          <h2>ACTUAL</h2>
          <img src="${Se}" alt="PDF 2 - Page ${re+1}" />
      
        </div>
      </div>
    `}),$+=`
        </div>
      </body>
    </html>
  `;const i=new Blob([$],{type:"text/html"}),N=document.createElement("a");N.href=URL.createObjectURL(i),N.download="PDF_Comparison_Report.html",document.body.appendChild(N),N.click(),document.body.removeChild(N)}}},_withScopeId=$=>(pushScopeId("data-v-54dc9bab"),$=$(),popScopeId(),$),_hoisted_1={class:"pdf-to-image"},_hoisted_2=createStaticVNode('<h2 data-v-54dc9bab>Visual Testing</h2><div class="cypress-info" data-v-54dc9bab><h2 data-v-54dc9bab> PDF Image Diff Tool </h2><p data-v-54dc9bab>&quot; PDF Image Diff &quot; is a powerful web tool for visual regression testing. It allows you to:</p><ul data-v-54dc9bab><li data-v-54dc9bab>Convert PDF to Image and can detect visual changes.</li><li data-v-54dc9bab>Automatically compare images to ensure consistent UI across releases.</li><li data-v-54dc9bab>Easy to set a Baseline threshold to match the actual difference results</li><li data-v-54dc9bab>With a Capability to Generate HTML report with the baseline and actual Images results</li></ul><p data-v-54dc9bab>By <a href="https://www.fiverr.com/jhenylynbutawan?source=gig_page" target="_blank" rel="noopener noreferrer" data-v-54dc9bab>Jhenylyn Butawan</a></p></div><br data-v-54dc9bab>',3),_hoisted_5={class:"upload-section"},_hoisted_6={class:"file-upload"},_hoisted_7=_withScopeId(()=>createBaseVNode("h3",null,"Upload Baseline PDF",-1)),_hoisted_8={class:"file-upload"},_hoisted_9=_withScopeId(()=>createBaseVNode("h3",null,"Upload Actual PDF ",-1)),_hoisted_10={key:0,class:"baseline-section"},_hoisted_11=_withScopeId(()=>createBaseVNode("label",{for:"baseline"},"Baseline for Comparison (%)",-1)),_hoisted_12={key:1,class:"assessment-result"},_hoisted_13={key:0,class:"assessment-pending"},_hoisted_14={key:1,class:"assessment-passed"},_hoisted_15=_withScopeId(()=>createBaseVNode("strong",null,"RESULT: PASSED",-1)),_hoisted_16={key:2,class:"assessment-failed"},_hoisted_17=_withScopeId(()=>createBaseVNode("strong",null,"RESULT: FAILED",-1)),_hoisted_18={key:3},_hoisted_19=_withScopeId(()=>createBaseVNode("br",null,null,-1)),_hoisted_20={key:0,class:"passed-text"},_hoisted_21=_withScopeId(()=>createBaseVNode("strong",null,"RESULT: PASSED",-1)),_hoisted_22=[_hoisted_21],_hoisted_23={key:1},_hoisted_24={key:1},_hoisted_25=_withScopeId(()=>createBaseVNode("br",null,null,-1)),_hoisted_26={class:"pdf-to-image"},_hoisted_27={class:"images-section"},_hoisted_28={key:0},_hoisted_29={class:"pdf1-section"},_hoisted_30=_withScopeId(()=>createBaseVNode("h3",null,"Baseline Image",-1)),_hoisted_31={class:"image-container"},_hoisted_32=["src","alt"],_hoisted_33=["onClick"],_hoisted_34={class:"pdf2-section"},_hoisted_35=_withScopeId(()=>createBaseVNode("h3",null,"Actual Image",-1)),_hoisted_36={class:"image-container"},_hoisted_37=["src","alt"],_hoisted_38={class:"pdf2-section"},_hoisted_39=_withScopeId(()=>createBaseVNode("h3",null,"Result:",-1)),_hoisted_40={class:"image-container"};function _sfc_render($,i,N,Q,re,Se){return openBlock(),createElementBlock("div",_hoisted_1,[_hoisted_2,createBaseVNode("div",_hoisted_5,[createBaseVNode("div",_hoisted_6,[_hoisted_7,createBaseVNode("input",{type:"file",accept:".pdf",onChange:i[0]||(i[0]=Ae=>Se.handleFileUpload(Ae,"pdf1"))},null,32)]),createBaseVNode("div",_hoisted_8,[_hoisted_9,createBaseVNode("input",{type:"file",accept:".pdf",onChange:i[1]||(i[1]=Ae=>Se.handleFileUpload(Ae,"pdf2"))},null,32)])]),re.comparisonIndex!==null?(openBlock(),createElementBlock("div",_hoisted_10,[_hoisted_11,withDirectives(createBaseVNode("input",{type:"number",id:"baseline","onUpdate:modelValue":i[2]||(i[2]=Ae=>re.baseline=Ae)},null,512),[[vModelText,re.baseline,void 0,{number:!0}]])])):createCommentVNode("",!0),re.comparisonIndex!==null?(openBlock(),createElementBlock("div",_hoisted_12,[Se.assessmentPassed===null?(openBlock(),createElementBlock("p",_hoisted_13,"Select a comparison to assess.")):Se.assessmentPassed?(openBlock(),createElementBlock("p",_hoisted_14,[createTextVNode(" Images are similar within the Baseline threshold. "),_hoisted_15])):(openBlock(),createElementBlock("p",_hoisted_16,[createTextVNode(" Images differ beyond the Baseline threshold. Actual Difference: "+toDisplayString(re.actualDifference!==null?re.actualDifference.toFixed(2):"-")+"% ",1),_hoisted_17])),re.baseline!==null?(openBlock(),createElementBlock("p",_hoisted_18,[createTextVNode(" Adjusted Baseline Threshold: "+toDisplayString(re.baseline)+"% ",1),_hoisted_19,re.actualDifference!==null?(openBlock(),createElementBlock(Fragment,{key:0},[Math.abs(re.actualDifference-re.baseline).toFixed(2)==="0.00"?(openBlock(),createElementBlock("span",_hoisted_20,_hoisted_22)):(openBlock(),createElementBlock("span",_hoisted_23,"Difference: "+toDisplayString(Math.abs(re.actualDifference-re.baseline).toFixed(2))+"%",1))],64)):(openBlock(),createElementBlock("span",_hoisted_24,"-"))])):createCommentVNode("",!0),_hoisted_25,createBaseVNode("div",_hoisted_26,[createBaseVNode("button",{onClick:i[3]||(i[3]=(...Ae)=>Se.generateReport&&Se.generateReport(...Ae))},"Generate Report")])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_27,[re.pdf1Images.length>0&&re.pdf2Images.length>0?(openBlock(),createElementBlock("div",_hoisted_28,[createBaseVNode("div",_hoisted_29,[_hoisted_30,(openBlock(!0),createElementBlock(Fragment,null,renderList(re.pdf1Images,(Ae,A)=>(openBlock(),createElementBlock("div",{class:"image-comparison",key:"pdf1-"+A},[createBaseVNode("div",_hoisted_31,[createBaseVNode("img",{src:Ae,alt:"PDF 1 - Page "+(A+1)},null,8,_hoisted_32),createBaseVNode("div",{class:"compare-overlay",onClick:se=>Se.toggleComparison(A)}," Compare ",8,_hoisted_33)])]))),128))]),createBaseVNode("div",_hoisted_34,[_hoisted_35,(openBlock(!0),createElementBlock(Fragment,null,renderList(re.pdf2Images,(Ae,A)=>(openBlock(),createElementBlock("div",{class:"image-comparison",key:"pdf2-"+A},[createBaseVNode("div",_hoisted_36,[createBaseVNode("img",{src:Ae,alt:"PDF 2 - Page "+(A+1)},null,8,_hoisted_37)])]))),128))]),createBaseVNode("div",_hoisted_38,[_hoisted_39,(openBlock(!0),createElementBlock(Fragment,null,renderList(re.pdf2Images,(Ae,A)=>(openBlock(),createElementBlock("div",{class:"image-comparison",key:"pdf2-"+A},[createBaseVNode("div",_hoisted_40,[re.comparisonIndex===A?(openBlock(),createElementBlock("canvas",{key:0,ref_for:!0,ref:"highlightCanvas",class:"highlight-canvas"},null,512)):createCommentVNode("",!0)])]))),128))])])):createCommentVNode("",!0)])])}const pdfToImage=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-54dc9bab"]]);export{pdfToImage as default};
